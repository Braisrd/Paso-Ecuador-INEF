var eT=Object.defineProperty,tT=Object.defineProperties;var nT=Object.getOwnPropertyDescriptors;var Uc=Object.getOwnPropertySymbols;var xv=Object.prototype.hasOwnProperty,wv=Object.prototype.propertyIsEnumerable;var bv=(a,e,i)=>e in a?eT(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,oe=(a,e)=>{for(var i in e||(e={}))xv.call(e,i)&&bv(a,i,e[i]);if(Uc)for(var i of Uc(e))wv.call(e,i)&&bv(a,i,e[i]);return a},Ee=(a,e)=>tT(a,nT(e));var ss=(a,e)=>{var i={};for(var s in a)xv.call(a,s)&&e.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&Uc)for(var s of Uc(a))e.indexOf(s)<0&&wv.call(a,s)&&(i[s]=a[s]);return i};var iT=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var K=(a,e,i)=>new Promise((s,l)=>{var u=g=>{try{p(i.next(g))}catch(y){l(y)}},f=g=>{try{p(i.throw(g))}catch(y){l(y)}},p=g=>g.done?s(g.value):Promise.resolve(g.value).then(u,f);p((i=i.apply(a,e)).next())});var qj=iT(Qt=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function aT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Yd={exports:{}},Eo={};var Ev;function sT(){if(Ev)return Eo;Ev=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Eo.Fragment=e,Eo.jsx=i,Eo.jsxs=i,Eo}var Tv;function rT(){return Tv||(Tv=1,Yd.exports=sT()),Yd.exports}var m=rT(),Xd={exports:{}},Ce={};var Sv;function lT(){if(Sv)return Ce;Sv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,L={};function ne(O,J,ue){this.props=O,this.context=J,this.refs=L,this.updater=ue||z}ne.prototype.isReactComponent={},ne.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},ne.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ae(){}ae.prototype=ne.prototype;function X(O,J,ue){this.props=O,this.context=J,this.refs=L,this.updater=ue||z}var ce=X.prototype=new ae;ce.constructor=X,G(ce,ne.prototype),ce.isPureReactComponent=!0;var fe=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(O,J,ue){var se=ue.ref;return{$$typeof:a,type:O,key:J,ref:se!==void 0?se:null,props:ue}}function V(O,J){return D(O.type,J,O.props)}function w(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function R(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return J[ue]})}var S=/\/+/g;function ge(O,J){return typeof O=="object"&&O!==null&&O.key!=null?R(""+O.key):J.toString(36)}function Ae(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ye,ye):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,J,ue,se,be){var Te=typeof O;(Te==="undefined"||Te==="boolean")&&(O=null);var Ie=!1;if(O===null)Ie=!0;else switch(Te){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(O.$$typeof){case a:case e:Ie=!0;break;case b:return Ie=O._init,Y(Ie(O._payload),J,ue,se,be)}}if(Ie)return be=be(O),Ie=se===""?"."+ge(O,0):se,fe(be)?(ue="",Ie!=null&&(ue=Ie.replace(S,"$&/")+"/"),Y(be,J,ue,"",function(Mn){return Mn})):be!=null&&(w(be)&&(be=V(be,ue+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(S,"$&/")+"/")+Ie)),J.push(be)),1;Ie=0;var me=se===""?".":se+":";if(fe(O))for(var Qe=0;Qe<O.length;Qe++)se=O[Qe],Te=me+ge(se,Qe),Ie+=Y(se,J,ue,Te,be);else if(Qe=j(O),typeof Qe=="function")for(O=Qe.call(O),Qe=0;!(se=O.next()).done;)se=se.value,Te=me+ge(se,Qe++),Ie+=Y(se,J,ue,Te,be);else if(Te==="object"){if(typeof O.then=="function")return Y(Ae(O),J,ue,se,be);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function re(O,J,ue){if(O==null)return O;var se=[],be=0;return Y(O,se,"","",function(Te){return J.call(ue,Te,be++)}),se}function ve(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ve={map:re,forEach:function(O,J,ue){re(O,function(){J.apply(this,arguments)},ue)},count:function(O){var J=0;return re(O,function(){J++}),J},toArray:function(O){return re(O,function(J){return J})||[]},only:function(O){if(!w(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=E,Ce.Children=Ve,Ce.Component=ne,Ce.Fragment=i,Ce.Profiler=l,Ce.PureComponent=X,Ce.StrictMode=s,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,J,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=G({},O.props),be=O.key;if(J!=null)for(Te in J.key!==void 0&&(be=""+J.key),J)!C.call(J,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&J.ref===void 0||(se[Te]=J[Te]);var Te=arguments.length-2;if(Te===1)se.children=ue;else if(1<Te){for(var Ie=Array(Te),me=0;me<Te;me++)Ie[me]=arguments[me+2];se.children=Ie}return D(O.type,be,se)},Ce.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ce.createElement=function(O,J,ue){var se,be={},Te=null;if(J!=null)for(se in J.key!==void 0&&(Te=""+J.key),J)C.call(J,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(be[se]=J[se]);var Ie=arguments.length-2;if(Ie===1)be.children=ue;else if(1<Ie){for(var me=Array(Ie),Qe=0;Qe<Ie;Qe++)me[Qe]=arguments[Qe+2];be.children=me}if(O&&O.defaultProps)for(se in Ie=O.defaultProps,Ie)be[se]===void 0&&(be[se]=Ie[se]);return D(O,Te,be)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:p,render:O}},Ce.isValidElement=w,Ce.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ve}},Ce.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Ce.startTransition=function(O){var J=I.T,ue={};I.T=ue;try{var se=O(),be=I.S;be!==null&&be(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ye,je)}catch(Te){je(Te)}finally{J!==null&&ue.types!==null&&(J.types=ue.types),I.T=J}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(O){return I.H.use(O)},Ce.useActionState=function(O,J,ue){return I.H.useActionState(O,J,ue)},Ce.useCallback=function(O,J){return I.H.useCallback(O,J)},Ce.useContext=function(O){return I.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,J){return I.H.useDeferredValue(O,J)},Ce.useEffect=function(O,J){return I.H.useEffect(O,J)},Ce.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(O,J,ue){return I.H.useImperativeHandle(O,J,ue)},Ce.useInsertionEffect=function(O,J){return I.H.useInsertionEffect(O,J)},Ce.useLayoutEffect=function(O,J){return I.H.useLayoutEffect(O,J)},Ce.useMemo=function(O,J){return I.H.useMemo(O,J)},Ce.useOptimistic=function(O,J){return I.H.useOptimistic(O,J)},Ce.useReducer=function(O,J,ue){return I.H.useReducer(O,J,ue)},Ce.useRef=function(O){return I.H.useRef(O)},Ce.useState=function(O){return I.H.useState(O)},Ce.useSyncExternalStore=function(O,J,ue){return I.H.useSyncExternalStore(O,J,ue)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.1",Ce}var Av;function Zm(){return Av||(Av=1,Xd.exports=lT()),Xd.exports}var U=Zm();const ah=aT(U);var Zd={exports:{}},To={},Jd={exports:{}},Wd={};var Nv;function oT(){return Nv||(Nv=1,(function(a){function e(Y,re){var ve=Y.length;Y.push(re);e:for(;0<ve;){var je=ve-1>>>1,Ve=Y[je];if(0<l(Ve,re))Y[je]=re,Y[ve]=Ve,ve=je;else break e}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var re=Y[0],ve=Y.pop();if(ve!==re){Y[0]=ve;e:for(var je=0,Ve=Y.length,O=Ve>>>1;je<O;){var J=2*(je+1)-1,ue=Y[J],se=J+1,be=Y[se];if(0>l(ue,ve))se<Ve&&0>l(be,ue)?(Y[je]=be,Y[se]=ve,je=se):(Y[je]=ue,Y[J]=ve,je=J);else if(se<Ve&&0>l(be,ve))Y[je]=be,Y[se]=ve,je=se;else break e}}return re}function l(Y,re){var ve=Y.sortIndex-re.sortIndex;return ve!==0?ve:Y.id-re.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var g=[],y=[],b=1,E=null,A=3,j=!1,z=!1,G=!1,L=!1,ne=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate!="undefined"?setImmediate:null;function ce(Y){for(var re=i(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=Y)s(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=i(y)}}function fe(Y){if(G=!1,ce(Y),!z)if(i(g)!==null)z=!0,ye||(ye=!0,R());else{var re=i(y);re!==null&&Ae(fe,re.startTime-Y)}}var ye=!1,I=-1,C=5,D=-1;function V(){return L?!0:!(a.unstable_now()-D<C)}function w(){if(L=!1,ye){var Y=a.unstable_now();D=Y;var re=!0;try{e:{z=!1,G&&(G=!1,ae(I),I=-1),j=!0;var ve=A;try{t:{for(ce(Y),E=i(g);E!==null&&!(E.expirationTime>Y&&V());){var je=E.callback;if(typeof je=="function"){E.callback=null,A=E.priorityLevel;var Ve=je(E.expirationTime<=Y);if(Y=a.unstable_now(),typeof Ve=="function"){E.callback=Ve,ce(Y),re=!0;break t}E===i(g)&&s(g),ce(Y)}else s(g);E=i(g)}if(E!==null)re=!0;else{var O=i(y);O!==null&&Ae(fe,O.startTime-Y),re=!1}}break e}finally{E=null,A=ve,j=!1}re=void 0}}finally{re?R():ye=!1}}}var R;if(typeof X=="function")R=function(){X(w)};else if(typeof MessageChannel!="undefined"){var S=new MessageChannel,ge=S.port2;S.port1.onmessage=w,R=function(){ge.postMessage(null)}}else R=function(){ne(w,0)};function Ae(Y,re){I=ne(function(){Y(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var ve=A;A=re;try{return Y()}finally{A=ve}},a.unstable_requestPaint=function(){L=!0},a.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ve=A;A=Y;try{return re()}finally{A=ve}},a.unstable_scheduleCallback=function(Y,re,ve){var je=a.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?je+ve:je):ve=je,Y){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ve+Ve,Y={id:b++,callback:re,priorityLevel:Y,startTime:ve,expirationTime:Ve,sortIndex:-1},ve>je?(Y.sortIndex=ve,e(y,Y),i(g)===null&&Y===i(y)&&(G?(ae(I),I=-1):G=!0,Ae(fe,ve-je))):(Y.sortIndex=Ve,e(g,Y),z||j||(z=!0,ye||(ye=!0,R()))),Y},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(Y){var re=A;return function(){var ve=A;A=re;try{return Y.apply(this,arguments)}finally{A=ve}}}})(Wd)),Wd}var Rv;function uT(){return Rv||(Rv=1,Jd.exports=oT()),Jd.exports}var em={exports:{}},an={};var Cv;function cT(){if(Cv)return an;Cv=1;var a=Zm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},an.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:j}):b==="script"&&s.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},an.requestFormReset=function(g){s.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.2.1",an}var Dv;function hT(){if(Dv)return em.exports;Dv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),em.exports=cT(),em.exports}var Iv;function fT(){if(Iv)return To;Iv=1;var a=uT(),e=Zm(),i=hT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return g(h),t;if(d===o)return g(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===r){_=!0,r=h,o=d;break}if(T===o){_=!0,o=h,r=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===r){_=!0,r=d,o=h;break}if(T===o){_=!0,o=d,r=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ne:return"Profiler";case L:return"StrictMode";case fe:return"Suspense";case ye:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case X:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ge(t.type)||"Memo";case C:n=t._payload,t=t._init;try{return ge(t(n))}catch(r){}}return null}var Ae=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},je=[],Ve=-1;function O(t){return{current:t}}function J(t){0>Ve||(t.current=je[Ve],je[Ve]=null,Ve--)}function ue(t,n){Ve++,je[Ve]=t.current,t.current=n}var se=O(null),be=O(null),Te=O(null),Ie=O(null);function me(t,n){switch(ue(Te,n),ue(be,t),ue(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?H0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=H0(n),t=F0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(se),ue(se,t)}function Qe(){J(se),J(be),J(Te)}function Mn(t){t.memoizedState!==null&&ue(Ie,t);var n=se.current,r=F0(n,t.type);n!==r&&(ue(be,t),ue(se,r))}function pi(t){be.current===t&&(J(se),J(be)),Ie.current===t&&(J(Ie),_o._currentValue=ve)}var Ea,Ta;function At(t){if(Ea===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ea=n&&n[1]||"",Ta=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ea+t+Ta}var Vn=!1;function gi(t,n){if(!t||Vn)return"";Vn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var F=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){F=$}t.call(te.prototype)}}else{try{throw Error()}catch($){F=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var k=_.split("\n"),H=T.split("\n");for(h=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(o===k.length||h===H.length)for(o=k.length-1,h=H.length-1;1<=o&&0<=h&&k[o]!==H[h];)h--;for(;1<=o&&0<=h;o--,h--)if(k[o]!==H[h]){if(o!==1||h!==1)do if(o--,h--,0>h||k[o]!==H[h]){var Z="\n"+k[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=h);break}}}finally{Vn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?At(r):""}function Sa(t,n){switch(t.tag){case 26:case 27:case 5:return At(t.type);case 16:return At("Lazy");case 13:return t.child!==n&&n!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return gi(t.type,!1);case 11:return gi(t.type.render,!1);case 1:return gi(t.type,!0);case 31:return At("Activity");default:return""}}function bl(t){try{var n="",r=null;do n+=Sa(t,r),r=t,t=t.return;while(t);return n}catch(o){return"\nError generating stack: "+o.message+"\n"+o.stack}}var Nt=Object.prototype.hasOwnProperty,Pt=a.unstable_scheduleCallback,Aa=a.unstable_cancelCallback,Xh=a.unstable_shouldYield,uu=a.unstable_requestPaint,un=a.unstable_now,Es=a.unstable_getCurrentPriorityLevel,xl=a.unstable_ImmediatePriority,wl=a.unstable_UserBlockingPriority,Na=a.unstable_NormalPriority,Zh=a.unstable_LowPriority,cu=a.unstable_IdlePriority,hu=a.log,fu=a.unstable_setDisableYieldValue,ei=null,Kt=null;function Ln(t){if(typeof hu=="function"&&fu(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ei,t)}catch(n){}}var xt=Math.clz32?Math.clz32:mu,du=Math.log,fr=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(du(t)/fr|0)|0}var yi=256,Ts=262144,Rt=4194304;function vi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=vi(o):(_&=T,_!==0?h=vi(_):r||(r=T&~t,r!==0&&(h=vi(r))))):(T=o&~d,T!==0?h=vi(T):_!==0?h=vi(_):r||(r=o&~t,r!==0&&(h=vi(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function ti(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function bi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ss(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wh(t,n,r,o,h,d){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,k=t.expirationTimes,H=t.hiddenUpdates;for(r=_&~r;0<r;){var Z=31-xt(r),te=1<<Z;T[Z]=0,k[Z]=-1;var F=H[Z];if(F!==null)for(H[Z]=null,Z=0;Z<F.length;Z++){var $=F[Z];$!==null&&($.lane&=-536870913)}r&=~te}o!==0&&As(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function As(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-xt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function El(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-xt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Tl(t,n){var r=n&-n;return r=(r&42)!==0?1:Ns(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ns(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:dv(t.type))}function ni(t,n){var r=re.p;try{return re.p=t,n()}finally{re.p=r}}var ii=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ii,qt="__reactProps$"+ii,xi="__reactContainer$"+ii,dr="__reactEvents$"+ii,ef="__reactListeners$"+ii,yu="__reactHandles$"+ii,vu="__reactResources$"+ii,wi="__reactMarker$"+ii;function mr(t){delete t[Ct],delete t[qt],delete t[dr],delete t[ef],delete t[yu]}function Ei(t){var n=t[Ct];if(n)return n;for(var r=t.parentNode;r;){if(n=r[xi]||r[Ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Z0(t);t!==null;){if(r=t[Ct])return r;t=Z0(t)}return n}t=r,r=t.parentNode}return null}function Un(t){if(t=t[Ct]||t[xi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function En(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ti(t){var n=t[vu];return n||(n=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[wi]=!0}var Sl=new Set,Al={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(Al[t]=n,t=0;t<n.length;t++)Sl.add(n[t])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Cl={};function _u(t){return Nt.call(Cl,t)?!0:Nt.call(Rl,t)?!1:Nl.test(t)?Cl[t]=!0:(Rl[t]=!0,!1)}function pr(t,n,r){if(_u(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Tn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function It(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ra(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dl(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=Ra(t)?"checked":"value";t._valueTracker=Dl(t,n,""+t[n])}}function Rs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ra(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(n){return t.body}}var Cs=/[\n"\\]/g;function dn(t){return t.replace(Cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gr(t,n,r,o,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Il(t,_,Ht(n)):r!=null?Il(t,_,Ht(r)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ht(T):t.removeAttribute("name")}function bu(t,n,r,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){We(t);return}r=r!=null?""+Ht(r):"",n=n!=null?""+Ht(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o!=null?o:h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),We(t)}function Il(t,n,r){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ca(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function xu(t,n,r){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ht(r):""}function Da(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Ae(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ht(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),We(t)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||wu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function kl(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&jl(t,h,o)}else for(var d in n)n.hasOwnProperty(d)&&jl(t,d,n[d])}function yr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ia=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vr(t){return Ia.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var Ol=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ja=null,Ri=null;function Ds(t){var n=Un(t);if(n&&(t=n.stateNode)){var r=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(gr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[qt]||null;if(!h)throw Error(s(90));gr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Rs(o)}break e;case"textarea":xu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ca(t,!!r.multiple,n,!1)}}}var _r=!1;function ka(t,n,r){if(_r)return t(n,r);_r=!0;try{var o=t(n);return o}finally{if(_r=!1,(ja!==null||Ri!==null)&&(gc(),ja&&(n=ja,t=Ri,Ri=ja=null,Ds(n),t)))for(n=0;n<t.length;n++)Ds(t[n])}}function si(t,n){var r=t.stateNode;if(r===null)return null;var o=r[qt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var zn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Is=!1;if(zn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Is=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch(t){Is=!1}var Ci=null,Ml=null,js=null;function Vl(){if(js)return js;var t,n=Ml,r=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var _=r-t;for(o=1;o<=_&&n[r-o]===h[d-o];o++);return js=h.slice(t,1<o?1-o:void 0)}function ks(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ri(){return!1}function $t(t){function n(r,o,h,d,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:ri,this.isPropagationStopped=ri,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=$t($i),Oa=E({},$i,{view:0,detail:0}),Ll=$t(Oa),Ma,br,Ii,xr=E({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Ma=t.screenX-Ii.screenX,br=t.screenY-Ii.screenY):br=Ma=0,Ii=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:br}}),Ul=$t(xr),Os=E({},xr,{dataTransfer:0}),Tu=$t(Os),Su=E({},Oa,{relatedTarget:0}),Ms=$t(Su),Pl=E({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=$t(Pl),wr=E({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=$t(wr),Ru=E({},$i,{data:0}),ji=$t(Ru),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Iu[t])?!!n[t]:!1}function Va(){return ju}var cn=E({},Oa,{key:function(t){if(t.key){var n=Cu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=$t(cn),Ou=E({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=$t(Ou),c=E({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),v=$t(c),x=E({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=$t(x),B=E({},xr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=$t(B),le=E({},$i,{newState:0,oldState:0}),ke=$t(le),wt=[9,13,27,32],Ye=zn&&"CompositionEvent"in window,ft=null;zn&&"documentMode"in document&&(ft=document.documentMode);var Bn=zn&&"TextEvent"in window&&!ft,ki=zn&&(!Ye||ft&&8<ft&&11>=ft),li=" ",oi=!1;function Vs(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Er(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function Tw(t,n){switch(t){case"compositionend":return Er(n);case"keypress":return n.which!==32?null:(oi=!0,li);case"textInput":return t=n.data,t===li&&oi?null:t;default:return null}}function Sw(t,n){if(Tr)return t==="compositionend"||!Ye&&Vs(t,n)?(t=Vl(),js=Ml=Ci=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var Aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Aw[t.type]:n==="textarea"}function tg(t,n,r,o){ja?Ri?Ri.push(o):Ri=[o]:ja=o,n=Ec(n,"onChange"),0<n.length&&(r=new Di("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var zl=null,Bl=null;function Nw(t){L0(t,0)}function Mu(t){var n=En(t);if(Rs(n))return t}function ng(t,n){if(t==="change")return n}var ig=!1;if(zn){var tf;if(zn){var nf="oninput"in document;if(!nf){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),nf=typeof ag.oninput=="function"}tf=nf}else tf=!1;ig=tf&&(!document.documentMode||9<document.documentMode)}function sg(){zl&&(zl.detachEvent("onpropertychange",rg),Bl=zl=null)}function rg(t){if(t.propertyName==="value"&&Mu(Bl)){var n=[];tg(n,Bl,t,Pn(t)),ka(Nw,n)}}function Rw(t,n,r){t==="focusin"?(sg(),zl=n,Bl=r,zl.attachEvent("onpropertychange",rg)):t==="focusout"&&sg()}function Cw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(Bl)}function Dw(t,n){if(t==="click")return Mu(n)}function Iw(t,n){if(t==="input"||t==="change")return Mu(n)}function jw(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:jw;function ql(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Nt.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,n){var r=lg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lg(r)}}function ug(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ug(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch(o){r=!1}if(r)t=n.contentWindow;else break;n=Ni(t.document)}return n}function af(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var kw=zn&&"documentMode"in document&&11>=document.documentMode,Sr=null,sf=null,Hl=null,rf=!1;function hg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rf||Sr==null||Sr!==Ni(o)||(o=Sr,"selectionStart"in o&&af(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Hl&&ql(Hl,o)||(Hl=o,o=Ec(sf,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Sr)))}function Ls(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ar={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},lf={},fg={};zn&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Us(t){if(lf[t])return lf[t];if(!Ar[t])return t;var n=Ar[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in fg)return lf[t]=n[r];return t}var dg=Us("animationend"),mg=Us("animationiteration"),pg=Us("animationstart"),Ow=Us("transitionrun"),Mw=Us("transitionstart"),Vw=Us("transitioncancel"),gg=Us("transitionend"),yg=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function ui(t,n){yg.set(t,n),Si(n,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Nr=0,uf=0;function Lu(){for(var t=Nr,n=uf=Nr=0;n<t;){var r=qn[n];qn[n++]=null;var o=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var d=qn[n];if(qn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&vg(r,h,d)}}function Uu(t,n,r,o){qn[Nr++]=t,qn[Nr++]=n,qn[Nr++]=r,qn[Nr++]=o,uf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function cf(t,n,r,o){return Uu(t,n,r,o),Pu(t)}function Ps(t,n){return Uu(t,null,null,n),Pu(t)}function vg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-xt(r),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),d):null}function Pu(t){if(50<ho)throw ho=0,_d=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Rr={};function Lw(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,r,o){return new Lw(t,n,r,o)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var r=t.alternate;return r===null?(r=An(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function _g(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,r,o,h,d){var _=0;if(o=t,typeof t=="function")hf(t)&&(_=1);else if(typeof t=="string")_=qE(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=An(31,r,n,h),t.elementType=D,t.lanes=d,t;case G:return zs(r.children,h,d,n);case L:_=8,h|=24;break;case ne:return t=An(12,r,n,h|2),t.elementType=ne,t.lanes=d,t;case fe:return t=An(13,r,n,h),t.elementType=fe,t.lanes=d,t;case ye:return t=An(19,r,n,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:_=10;break e;case ae:_=9;break e;case ce:_=11;break e;case I:_=14;break e;case C:_=16,o=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=An(_,r,n,h),n.elementType=t,n.type=o,n.lanes=d,n}function zs(t,n,r,o){return t=An(7,t,o,n),t.lanes=r,t}function ff(t,n,r){return t=An(6,t,null,n),t.lanes=r,t}function bg(t){var n=An(18,null,null,0);return n.stateNode=t,n}function df(t,n,r){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xg=new WeakMap;function Hn(t,n){if(typeof t=="object"&&t!==null){var r=xg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:bl(n)},xg.set(t,n),n)}return{value:t,source:n,stack:bl(n)}}var Cr=[],Dr=0,Bu=null,Fl=0,Fn=[],Gn=0,La=null,Oi=1,Mi="";function Zi(t,n){Cr[Dr++]=Fl,Cr[Dr++]=Bu,Bu=t,Fl=n}function wg(t,n,r){Fn[Gn++]=Oi,Fn[Gn++]=Mi,Fn[Gn++]=La,La=t;var o=Oi;t=Mi;var h=32-xt(o)-1;o&=~(1<<h),r+=1;var d=32-xt(n)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Oi=1<<32-xt(n)+h|r<<h|o,Mi=d+t}else Oi=1<<d|r<<h|o,Mi=t}function mf(t){t.return!==null&&(Zi(t,1),wg(t,1,0))}function pf(t){for(;t===Bu;)Bu=Cr[--Dr],Cr[Dr]=null,Fl=Cr[--Dr],Cr[Dr]=null;for(;t===La;)La=Fn[--Gn],Fn[Gn]=null,Mi=Fn[--Gn],Fn[Gn]=null,Oi=Fn[--Gn],Fn[Gn]=null}function Eg(t,n){Fn[Gn++]=Oi,Fn[Gn++]=Mi,Fn[Gn++]=La,Oi=n.id,Mi=n.overflow,La=t}var Yt=null,ut=null,He=!1,Ua=null,Qn=!1,gf=Error(s(519));function Pa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Hn(n,t)),gf}function Tg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Ct]=t,n[qt]=o,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(r=0;r<mo.length;r++)Ue(mo[r],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),bu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),Da(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||B0(n.textContent,r)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||Pa(t,!0)}function Sg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Yt=Yt.return}}function Ir(t){if(t!==Yt)return!1;if(!He)return Sg(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Od(t.type,t.memoizedProps)),r=!r),r&&ut&&Pa(t),Sg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=X0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=X0(t)}else n===27?(n=ut,Wa(t.type)?(t=Pd,Pd=null,ut=t):ut=n):ut=Yt?$n(t.stateNode.nextSibling):null;return!0}function Bs(){ut=Yt=null,He=!1}function yf(){var t=Ua;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Ua=null),t}function Gl(t){Ua===null?Ua=[t]:Ua.push(t)}var vf=O(null),qs=null,Ji=null;function za(t,n,r){ue(vf,n._currentValue),n._currentValue=r}function Wi(t){t._currentValue=vf.current,J(vf)}function _f(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function bf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var k=0;k<n.length;k++)if(T.context===n[k]){d.lanes|=r,T=d.alternate,T!==null&&(T.lanes|=r),_f(d.return,r,t),o||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,d=_.alternate,d!==null&&(d.lanes|=r),_f(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function jr(t,n,r,o){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Sn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ie.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_o):t=[_o])}h=h.return}t!==null&&bf(n,t,r,o),n.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Ag(qs,t)}function Hu(t,n){return qs===null&&Hs(t),Ag(t,n)}function Ag(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ji=Ji.next=n;return r}var Uw=typeof AbortController!="undefined"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Pw=a.unstable_scheduleCallback,zw=a.unstable_NormalPriority,jt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new Uw,data:new Map,refCount:0}}function Ql(t){t.refCount--,t.refCount===0&&Pw(zw,function(){t.controller.abort()})}var Kl=null,wf=0,kr=0,Or=null;function Bw(t,n){if(Kl===null){var r=Kl=[];wf=0,kr=Sd(),Or={status:"pending",value:void 0,then:function(o){r.push(o)}}}return wf++,n.then(Ng,Ng),n}function Ng(){if(--wf===0&&Kl!==null){Or!==null&&(Or.status="fulfilled");var t=Kl;Kl=null,kr=0,Or=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function qw(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Rg=Y.S;Y.S=function(t,n){h0=un(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Bw(t,n),Rg!==null&&Rg(t,n)};var Fs=O(null);function Ef(){var t=Fs.current;return t!==null?t:rt.pooledCache}function Fu(t,n){n===null?ue(Fs,Fs.current):ue(Fs,n.pool)}function Cg(){var t=Ef();return t===null?null:{parent:jt._currentValue,pool:t}}var Mr=Error(s(460)),Tf=Error(s(474)),Gu=Error(s(542)),Qu={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ig(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ai,ai),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,kg(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,kg(t),t}throw Qs=n,Mr}}function Gs(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Qs=r,Mr):r}}var Qs=null;function jg(){if(Qs===null)throw Error(s(459));var t=Qs;return Qs=null,t}function kg(t){if(t===Mr||t===Gu)throw Error(s(483))}var Vr=null,$l=0;function Ku(t){var n=$l;return $l+=1,Vr===null&&(Vr=[]),Ig(Vr,t,n)}function Yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Og(t){function n(P,M){if(t){var q=P.deletions;q===null?(P.deletions=[M],P.flags|=16):q.push(M)}}function r(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Xi(P,M),P.index=0,P.sibling=null,P}function d(P,M,q){return P.index=q,t?(q=P.alternate,q!==null?(q=q.index,q<M?(P.flags|=67108866,M):q):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,q,W){return M===null||M.tag!==6?(M=ff(q,P.mode,W),M.return=P,M):(M=h(M,q),M.return=P,M)}function k(P,M,q,W){var xe=q.type;return xe===G?Z(P,M,q.props.children,W,q.key):M!==null&&(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&Gs(xe)===M.type)?(M=h(M,q.props),Yl(M,q),M.return=P,M):(M=zu(q.type,q.key,q.props,null,P.mode,W),Yl(M,q),M.return=P,M)}function H(P,M,q,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=df(q,P.mode,W),M.return=P,M):(M=h(M,q.children||[]),M.return=P,M)}function Z(P,M,q,W,xe){return M===null||M.tag!==7?(M=zs(q,P.mode,W,xe),M.return=P,M):(M=h(M,q),M.return=P,M)}function te(P,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ff(""+M,P.mode,q),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return q=zu(M.type,M.key,M.props,null,P.mode,q),Yl(q,M),q.return=P,q;case z:return M=df(M,P.mode,q),M.return=P,M;case C:return M=Gs(M),te(P,M,q)}if(Ae(M)||R(M))return M=zs(M,P.mode,q,null),M.return=P,M;if(typeof M.then=="function")return te(P,Ku(M),q);if(M.$$typeof===X)return te(P,Hu(P,M),q);$u(P,M)}return null}function F(P,M,q,W){var xe=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return xe!==null?null:T(P,M,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===xe?k(P,M,q,W):null;case z:return q.key===xe?H(P,M,q,W):null;case C:return q=Gs(q),F(P,M,q,W)}if(Ae(q)||R(q))return xe!==null?null:Z(P,M,q,W,null);if(typeof q.then=="function")return F(P,M,Ku(q),W);if(q.$$typeof===X)return F(P,M,Hu(P,q),W);$u(P,q)}return null}function $(P,M,q,W,xe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(q)||null,T(M,P,""+W,xe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return P=P.get(W.key===null?q:W.key)||null,k(M,P,W,xe);case z:return P=P.get(W.key===null?q:W.key)||null,H(M,P,W,xe);case C:return W=Gs(W),$(P,M,q,W,xe)}if(Ae(W)||R(W))return P=P.get(q)||null,Z(M,P,W,xe,null);if(typeof W.then=="function")return $(P,M,q,Ku(W),xe);if(W.$$typeof===X)return $(P,M,q,Hu(M,W),xe);$u(M,W)}return null}function pe(P,M,q,W){for(var xe=null,Ke=null,_e=M,Me=M=0,ze=null;_e!==null&&Me<q.length;Me++){_e.index>Me?(ze=_e,_e=null):ze=_e.sibling;var $e=F(P,_e,q[Me],W);if($e===null){_e===null&&(_e=ze);break}t&&_e&&$e.alternate===null&&n(P,_e),M=d($e,M,Me),Ke===null?xe=$e:Ke.sibling=$e,Ke=$e,_e=ze}if(Me===q.length)return r(P,_e),He&&Zi(P,Me),xe;if(_e===null){for(;Me<q.length;Me++)_e=te(P,q[Me],W),_e!==null&&(M=d(_e,M,Me),Ke===null?xe=_e:Ke.sibling=_e,Ke=_e);return He&&Zi(P,Me),xe}for(_e=o(_e);Me<q.length;Me++)ze=$(_e,P,Me,q[Me],W),ze!==null&&(t&&ze.alternate!==null&&_e.delete(ze.key===null?Me:ze.key),M=d(ze,M,Me),Ke===null?xe=ze:Ke.sibling=ze,Ke=ze);return t&&_e.forEach(function(as){return n(P,as)}),He&&Zi(P,Me),xe}function Se(P,M,q,W){if(q==null)throw Error(s(151));for(var xe=null,Ke=null,_e=M,Me=M=0,ze=null,$e=q.next();_e!==null&&!$e.done;Me++,$e=q.next()){_e.index>Me?(ze=_e,_e=null):ze=_e.sibling;var as=F(P,_e,$e.value,W);if(as===null){_e===null&&(_e=ze);break}t&&_e&&as.alternate===null&&n(P,_e),M=d(as,M,Me),Ke===null?xe=as:Ke.sibling=as,Ke=as,_e=ze}if($e.done)return r(P,_e),He&&Zi(P,Me),xe;if(_e===null){for(;!$e.done;Me++,$e=q.next())$e=te(P,$e.value,W),$e!==null&&(M=d($e,M,Me),Ke===null?xe=$e:Ke.sibling=$e,Ke=$e);return He&&Zi(P,Me),xe}for(_e=o(_e);!$e.done;Me++,$e=q.next())$e=$(_e,P,Me,$e.value,W),$e!==null&&(t&&$e.alternate!==null&&_e.delete($e.key===null?Me:$e.key),M=d($e,M,Me),Ke===null?xe=$e:Ke.sibling=$e,Ke=$e);return t&&_e.forEach(function(WE){return n(P,WE)}),He&&Zi(P,Me),xe}function st(P,M,q,W){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:e:{for(var xe=q.key;M!==null;){if(M.key===xe){if(xe=q.type,xe===G){if(M.tag===7){r(P,M.sibling),W=h(M,q.props.children),W.return=P,P=W;break e}}else if(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&Gs(xe)===M.type){r(P,M.sibling),W=h(M,q.props),Yl(W,q),W.return=P,P=W;break e}r(P,M);break}else n(P,M);M=M.sibling}q.type===G?(W=zs(q.props.children,P.mode,W,q.key),W.return=P,P=W):(W=zu(q.type,q.key,q.props,null,P.mode,W),Yl(W,q),W.return=P,P=W)}return _(P);case z:e:{for(xe=q.key;M!==null;){if(M.key===xe)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){r(P,M.sibling),W=h(M,q.children||[]),W.return=P,P=W;break e}else{r(P,M);break}else n(P,M);M=M.sibling}W=df(q,P.mode,W),W.return=P,P=W}return _(P);case C:return q=Gs(q),st(P,M,q,W)}if(Ae(q))return pe(P,M,q,W);if(R(q)){if(xe=R(q),typeof xe!="function")throw Error(s(150));return q=xe.call(q),Se(P,M,q,W)}if(typeof q.then=="function")return st(P,M,Ku(q),W);if(q.$$typeof===X)return st(P,M,Hu(P,q),W);$u(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(r(P,M.sibling),W=h(M,q),W.return=P,P=W):(r(P,M),W=ff(q,P.mode,W),W.return=P,P=W),_(P)):r(P,M)}return function(P,M,q,W){try{$l=0;var xe=st(P,M,q,W);return Vr=null,xe}catch(_e){if(_e===Mr||_e===Gu)throw _e;var Ke=An(29,_e,null,P.mode);return Ke.lanes=W,Ke.return=P,Ke}finally{}}}var Ks=Og(!0),Mg=Og(!1),Ba=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Pu(t),vg(t,null,r),n}return Uu(t,o,n,r),Pu(t)}function Xl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,El(t,r)}}function Nf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Rf=!1;function Zl(){if(Rf){var t=Or;if(t!==null)throw t}}function Jl(t,n,r,o){Rf=!1;var h=t.updateQueue;Ba=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var k=T,H=k.next;k.next=null,_===null?d=H:_.next=H,_=k;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=k))}if(d!==null){var te=h.baseState;_=0,Z=H=k=null,T=d;do{var F=T.lane&-536870913,$=F!==T.lane;if($?(Pe&F)===F:(o&F)===F){F!==0&&F===kr&&(Rf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=t,Se=T;F=n;var st=r;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){te=pe.call(st,te,F);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,F=typeof pe=="function"?pe.call(st,te,F):pe,F==null)break e;te=E({},te,F);break e;case 2:Ba=!0}}F=T.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[F]:$.push(F))}else $={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=$,k=te):Z=Z.next=$,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(k=te),h.baseState=k,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),$a|=_,t.lanes=_,t.memoizedState=te}}function Vg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Lg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Vg(r[t],n)}var Lr=O(null),Yu=O(0);function Ug(t,n){t=oa,ue(Yu,t),ue(Lr,n),oa=t|n.baseLanes}function Cf(){ue(Yu,oa),ue(Lr,Lr.current)}function Df(){oa=Yu.current,J(Lr),J(Yu)}var Nn=O(null),Kn=null;function Fa(t){var n=t.alternate;ue(Et,Et.current&1),ue(Nn,t),Kn===null&&(n===null||Lr.current!==null||n.memoizedState!==null)&&(Kn=t)}function If(t){ue(Et,Et.current),ue(Nn,t),Kn===null&&(Kn=t)}function Pg(t){t.tag===22?(ue(Et,Et.current),ue(Nn,t),Kn===null&&(Kn=t)):Ga()}function Ga(){ue(Et,Et.current),ue(Nn,Nn.current)}function Rn(t){J(Nn),Kn===t&&(Kn=null),J(Et)}var Et=O(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ld(r)||Ud(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ea=0,Oe=null,it=null,kt=null,Zu=!1,Ur=!1,$s=!1,Ju=0,Wl=0,Pr=null,Hw=0;function gt(){throw Error(s(321))}function jf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Sn(t[r],n[r]))return!1;return!0}function kf(t,n,r,o,h,d){return ea=d,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?wy:$f,$s=!1,d=r(o,h),$s=!1,Ur&&(d=Bg(n,r,o,h)),zg(t),d}function zg(t){Y.H=no;var n=it!==null&&it.next!==null;if(ea=0,kt=it=Oe=null,Zu=!1,Wl=0,Pr=null,n)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&qu(t)&&(Ot=!0))}function Bg(t,n,r,o){Oe=t;var h=0;do{if(Ur&&(Pr=null),Wl=0,Ur=!1,25<=h)throw Error(s(301));if(h+=1,kt=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Ey,d=n(r,o)}while(Ur);return d}function Fw(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?eo(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Of(){var t=Ju!==0;return Ju=0,t}function Mf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Vf(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}ea=0,kt=it=Oe=null,Ur=!1,Wl=Ju=0,Pr=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Oe.memoizedState=kt=t:kt=kt.next=t,kt}function Tt(){if(it===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=kt===null?Oe.memoizedState:kt.next;if(n!==null)kt=n,it=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?Oe.memoizedState=kt=t:kt=kt.next=t}return kt}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(t){var n=Wl;return Wl+=1,Pr===null&&(Pr=[]),t=Ig(Pr,t,n),n=Oe,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?wy:$f),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return eo(t);if(t.$$typeof===X)return Xt(t)}throw Error(s(438,String(t)))}function Lf(t){var n=null,r=Oe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Wu(),Oe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function ta(t,n){return typeof n=="function"?n(t):n}function tc(t){var n=Tt();return Uf(n,it,t)}function Uf(t,n,r){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=_=null,k=null,H=n,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Pe&te)===te:(ea&te)===te){var F=H.revertLane;if(F===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===kr&&(Z=!0);else if((ea&F)===F){H=H.next,F===kr&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(T=k=te,_=d):k=k.next=te,Oe.lanes|=F,$a|=F;te=H.action,$s&&r(d,te),d=H.hasEagerState?H.eagerState:r(d,te)}else F={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(T=k=F,_=d):k=k.next=F,Oe.lanes|=te,$a|=te;H=H.next}while(H!==null&&H!==n);if(k===null?_=d:k.next=T,!Sn(d,t.memoizedState)&&(Ot=!0,Z&&(r=Or,r!==null)))throw r;t.memoizedState=d,t.baseState=_,t.baseQueue=k,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pf(t){var n=Tt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Sn(d,n.memoizedState)||(Ot=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,o]}function qg(t,n,r){var o=Oe,h=Tt(),d=He;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!Sn((it||h).memoizedState,r);if(_&&(h.memoizedState=r,Ot=!0),h=h.queue,qf(Gg.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,zr(9,{destroy:void 0},Fg.bind(null,o,h,r,n),null),rt===null)throw Error(s(349));d||(ea&127)!==0||Hg(o,n,r)}return r}function Hg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Oe.updateQueue,n===null?(n=Wu(),Oe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Fg(t,n,r,o){n.value=r,n.getSnapshot=o,Qg(n)&&Kg(t)}function Gg(t,n,r){return r(function(){Qg(n)&&Kg(t)})}function Qg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Sn(t,r)}catch(o){return!0}}function Kg(t){var n=Ps(t,2);n!==null&&_n(n,t,2)}function zf(t){var n=hn();if(typeof t=="function"){var r=t;if(t=r(),$s){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},n}function $g(t,n,r,o){return t.baseState=r,Uf(t,it,typeof o=="function"?o:ta)}function Gw(t,n,r,o,h){if(ac(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?r(!0):d.isTransition=!1,o(d),r=n.pending,r===null?(d.next=n.pending=d,Yg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Yg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var d=Y.T,_={};Y.T=_;try{var T=r(h,o),k=Y.S;k!==null&&k(_,T),Xg(t,n,T)}catch(H){Bf(t,n,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=r(h,o),Xg(t,n,d)}catch(H){Bf(t,n,H)}}function Xg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Zg(t,n,o)},function(o){return Bf(t,n,o)}):Zg(t,n,r)}function Zg(t,n,r){n.status="fulfilled",n.value=r,Jg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Yg(t,r)))}function Bf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Jg(n),n=n.next;while(n!==o)}t.action=null}function Jg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wg(t,n){return n}function ey(t,n){if(He){var r=rt.formState;if(r!==null){e:{var o=Oe;if(He){if(ut){t:{for(var h=ut,d=Qn;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=$n(h.nextSibling),o=h.data==="F!";break e}}Pa(o)}o=!1}o&&(n=r[0])}}return r=hn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:n},r.queue=o,r=_y.bind(null,Oe,o),o.dispatch=r,o=zf(!1),d=Kf.bind(null,Oe,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=Gw.bind(null,Oe,h,d,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function ty(t){var n=Tt();return ny(n,it,t)}function ny(t,n,r){if(n=Uf(t,n,Wg)[0],t=tc(ta)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=eo(n)}catch(_){throw _===Mr?Gu:_}else o=n;n=Tt();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Oe.flags|=2048,zr(9,{destroy:void 0},Qw.bind(null,h,r),null)),[o,d,t]}function Qw(t,n){t.action=n}function iy(t){var n=Tt(),r=it;if(r!==null)return ny(n,r,t);Tt(),n=n.memoizedState,r=Tt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function zr(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Wu(),Oe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function ay(){return Tt().memoizedState}function nc(t,n,r,o){var h=hn();Oe.flags|=t,h.memoizedState=zr(1|n,{destroy:void 0},r,o===void 0?null:o)}function ic(t,n,r,o){var h=Tt();o=o===void 0?null:o;var d=h.memoizedState.inst;it!==null&&o!==null&&jf(o,it.memoizedState.deps)?h.memoizedState=zr(n,d,r,o):(Oe.flags|=t,h.memoizedState=zr(1|n,d,r,o))}function sy(t,n){nc(8390656,8,t,n)}function qf(t,n){ic(2048,8,t,n)}function Kw(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Wu(),Oe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function ry(t){var n=Tt().memoizedState;return Kw({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ly(t,n){return ic(4,2,t,n)}function oy(t,n){return ic(4,4,t,n)}function uy(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cy(t,n,r){r=r!=null?r.concat([t]):null,ic(4,4,uy.bind(null,n,t),r)}function Hf(){}function hy(t,n){var r=Tt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&jf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function fy(t,n){var r=Tt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&jf(n,o[1]))return o[0];if(o=t(),$s){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[o,n],o}function Ff(t,n,r){return r===void 0||(ea&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=d0(),Oe.lanes|=t,$a|=t,r)}function dy(t,n,r,o){return Sn(r,n)?r:Lr.current!==null?(t=Ff(t,r,o),Sn(t,n)||(Ot=!0),t):(ea&42)===0||(ea&1073741824)!==0&&(Pe&261930)===0?(Ot=!0,t.memoizedState=r):(t=d0(),Oe.lanes|=t,$a|=t,n)}function my(t,n,r,o,h){var d=re.p;re.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,Kf(t,!1,n,r);try{var k=h(),H=Y.S;if(H!==null&&H(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=qw(k,o);to(t,n,Z,In(t))}else to(t,n,o,In(t))}catch(te){to(t,n,{then:function(){},status:"rejected",reason:te},In())}finally{re.p=d,_!==null&&T.types!==null&&(_.types=T.types),Y.T=_}}function $w(){}function Gf(t,n,r,o){if(t.tag!==5)throw Error(s(476));var h=py(t).queue;my(t,h,n,ve,r===null?$w:function(){return gy(t),r(o)})}function py(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:ve},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function gy(t){var n=py(t);n.next===null&&(n=t.alternate.memoizedState),to(t,n.next.queue,{},In())}function Qf(){return Xt(_o)}function yy(){return Tt().memoizedState}function vy(){return Tt().memoizedState}function Yw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=In();t=qa(r);var o=Ha(n,t,r);o!==null&&(_n(o,n,r),Xl(o,n,r)),n={cache:xf()},t.payload=n;return}n=n.return}}function Xw(t,n,r){var o=In();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ac(t)?by(n,r):(r=cf(t,n,r,o),r!==null&&(_n(r,t,o),xy(r,n,o)))}function _y(t,n,r){var o=In();to(t,n,r,o)}function to(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ac(t))by(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,r);if(h.hasEagerState=!0,h.eagerState=T,Sn(T,_))return Uu(t,n,h,0),rt===null&&Lu(),!1}catch(k){}finally{}if(r=cf(t,n,h,o),r!==null)return _n(r,t,o),xy(r,n,o),!0}return!1}function Kf(t,n,r,o){if(o={lane:2,revertLane:Sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(n)throw Error(s(479))}else n=cf(t,r,o,2),n!==null&&_n(n,t,2)}function ac(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function by(t,n){Ur=Zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function xy(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,El(t,r)}}var no={readContext:Xt,use:ec,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};no.useEffectEvent=gt;var wy={readContext:Xt,use:ec,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Xt,useEffect:sy,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,nc(4194308,4,uy.bind(null,n,t),r)},useLayoutEffect:function(t,n){return nc(4194308,4,t,n)},useInsertionEffect:function(t,n){nc(4,2,t,n)},useMemo:function(t,n){var r=hn();n=n===void 0?null:n;var o=t();if($s){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=hn();if(r!==void 0){var h=r(n);if($s){Ln(!0);try{r(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Xw.bind(null,Oe,t),[o.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=zf(t);var n=t.queue,r=_y.bind(null,Oe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Hf,useDeferredValue:function(t,n){var r=hn();return Ff(r,t,n)},useTransition:function(){var t=zf(!1);return t=my.bind(null,Oe,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Oe,h=hn();if(He){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),rt===null)throw Error(s(349));(Pe&127)!==0||Hg(o,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,sy(Gg.bind(null,o,d,t),[t]),o.flags|=2048,zr(9,{destroy:void 0},Fg.bind(null,o,d,r,n),null),r},useId:function(){var t=hn(),n=rt.identifierPrefix;if(He){var r=Mi,o=Oi;r=(o&~(1<<32-xt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Hw++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Qf,useFormState:ey,useActionState:ey,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Kf.bind(null,Oe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Lf,useCacheRefresh:function(){return hn().memoizedState=Yw.bind(null,Oe)},useEffectEvent:function(t){var n=hn(),r={impl:t};return n.memoizedState=r,function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},$f={readContext:Xt,use:ec,useCallback:hy,useContext:Xt,useEffect:qf,useImperativeHandle:cy,useInsertionEffect:ly,useLayoutEffect:oy,useMemo:fy,useReducer:tc,useRef:ay,useState:function(){return tc(ta)},useDebugValue:Hf,useDeferredValue:function(t,n){var r=Tt();return dy(r,it.memoizedState,t,n)},useTransition:function(){var t=tc(ta)[0],n=Tt().memoizedState;return[typeof t=="boolean"?t:eo(t),n]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:Qf,useFormState:ty,useActionState:ty,useOptimistic:function(t,n){var r=Tt();return $g(r,it,t,n)},useMemoCache:Lf,useCacheRefresh:vy};$f.useEffectEvent=ry;var Ey={readContext:Xt,use:ec,useCallback:hy,useContext:Xt,useEffect:qf,useImperativeHandle:cy,useInsertionEffect:ly,useLayoutEffect:oy,useMemo:fy,useReducer:Pf,useRef:ay,useState:function(){return Pf(ta)},useDebugValue:Hf,useDeferredValue:function(t,n){var r=Tt();return it===null?Ff(r,t,n):dy(r,it.memoizedState,t,n)},useTransition:function(){var t=Pf(ta)[0],n=Tt().memoizedState;return[typeof t=="boolean"?t:eo(t),n]},useSyncExternalStore:qg,useId:yy,useHostTransitionStatus:Qf,useFormState:iy,useActionState:iy,useOptimistic:function(t,n){var r=Tt();return it!==null?$g(r,it,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:vy};Ey.useEffectEvent=ry;function Yf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=In(),h=qa(o);h.payload=n,r!=null&&(h.callback=r),n=Ha(t,h,o),n!==null&&(_n(n,t,o),Xl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=In(),h=qa(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ha(t,h,o),n!==null&&(_n(n,t,o),Xl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=In(),o=qa(r);o.tag=2,n!=null&&(o.callback=n),n=Ha(t,o,r),n!==null&&(_n(n,t,r),Xl(n,t,r))}};function Ty(t,n,r,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!ql(r,o)||!ql(h,d):!0}function Sy(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Xf.enqueueReplaceState(n,n.state,null)}function Ys(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Ay(t){Vu(t)}function Ny(t){console.error(t)}function Ry(t){Vu(t)}function sc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Cy(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(t,n,r){return r=qa(r),r.tag=3,r.payload={element:null},r.callback=function(){sc(t,n)},r}function Dy(t){return t=qa(t),t.tag=3,t}function Iy(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Cy(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Cy(n,r,o),typeof h!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Zw(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&jr(n,r,h,!0),r=Nn.current,r!==null){switch(r.tag){case 31:case 13:return Kn===null?yc():r.alternate===null&&yt===0&&(yt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),wd(t,o,h)),!1;case 22:return r.flags|=65536,o===Qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),wd(t,o,h)),!1}throw Error(s(435,r.tag))}return wd(t,o,h),yc(),!1}if(He)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==gf&&(t=Error(s(422),{cause:o}),Gl(Hn(t,r)))):(o!==gf&&(n=Error(s(423),{cause:o}),Gl(Hn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Hn(o,r),h=Zf(t.stateNode,o,h),Nf(t,h),yt!==4&&(yt=2)),!1;var d=Error(s(520),{cause:o});if(d=Hn(d,r),co===null?co=[d]:co.push(d),yt!==4&&(yt=2),n===null)return!0;o=Hn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Zf(r.stateNode,o,t),Nf(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ya===null||!Ya.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Dy(h),Iy(h,t,r,o),Nf(r,h),!1}r=r.return}while(r!==null);return!1}var Jf=Error(s(461)),Ot=!1;function Zt(t,n,r,o){n.child=t===null?Mg(n,null,r,o):Ks(n,t.child,r,o)}function jy(t,n,r,o,h){r=r.render;var d=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Hs(n),o=kf(t,n,r,_,d,h),T=Of(),t!==null&&!Ot?(Mf(t,n,h),na(t,n,h)):(He&&T&&mf(n),n.flags|=1,Zt(t,n,o,h),n.child)}function ky(t,n,r,o,h){if(t===null){var d=r.type;return typeof d=="function"&&!hf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,Oy(t,n,d,o,h)):(t=zu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!rd(t,h)){var _=d.memoizedProps;if(r=r.compare,r=r!==null?r:ql,r(_,o)&&t.ref===n.ref)return na(t,n,h)}return n.flags|=1,t=Xi(d,o),t.ref=n.ref,t.return=n,n.child=t}function Oy(t,n,r,o,h){if(t!==null){var d=t.memoizedProps;if(ql(d,o)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=o=d,rd(t,h))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,na(t,n,h)}return Wf(t,n,r,o,h)}function My(t,n,r,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,n.child=null;return Vy(t,n,d,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(n,d!==null?d.cachePool:null),d!==null?Ug(n,d):Cf(),Pg(n);else return o=n.lanes=536870912,Vy(t,n,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(Fu(n,d.cachePool),Ug(n,d),Ga(),n.memoizedState=null):(t!==null&&Fu(n,null),Cf(),Ga());return Zt(t,n,h,r),n.child}function io(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vy(t,n,r,o,h){var d=Ef();return d=d===null?null:{parent:jt._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Fu(n,null),Cf(),Pg(n),t!==null&&jr(t,n,o,!0),n.childLanes=h,null}function rc(t,n){return n=oc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ly(t,n,r){return Ks(n,t.child,null,r),t=rc(n,n.pendingProps),t.flags|=2,Rn(n),n.memoizedState=null,t}function Jw(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=rc(n,o),n.lanes=536870912,io(null,t);if(If(n),(t=ut)?(t=Y0(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:La!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=bg(t),r.return=n,n.child=r,Yt=n,ut=null)):t=null,t===null)throw Pa(n);return n.lanes=536870912,null}return rc(n,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(If(n),h)if(n.flags&256)n.flags&=-257,n=Ly(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ot||jr(t,n,r,!1),h=(r&t.childLanes)!==0,Ot||h){if(o=rt,o!==null&&(_=Tl(o,r),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ps(t,_),_n(o,t,_),Jf;yc(),n=Ly(t,n,r)}else t=d.treeContext,ut=$n(_.nextSibling),Yt=n,He=!0,Ua=null,Qn=!1,t!==null&&Eg(n,t),n=rc(n,o),n.flags|=4096;return n}return t=Xi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Wf(t,n,r,o,h){return Hs(n),r=kf(t,n,r,o,void 0,h),o=Of(),t!==null&&!Ot?(Mf(t,n,h),na(t,n,h)):(He&&o&&mf(n),n.flags|=1,Zt(t,n,r,h),n.child)}function Uy(t,n,r,o,h,d){return Hs(n),n.updateQueue=null,r=Bg(n,o,r,h),zg(t),o=Of(),t!==null&&!Ot?(Mf(t,n,d),na(t,n,d)):(He&&o&&mf(n),n.flags|=1,Zt(t,n,r,d),n.child)}function Py(t,n,r,o,h){if(Hs(n),n.stateNode===null){var d=Rr,_=r.contextType;typeof _=="object"&&_!==null&&(d=Xt(_)),d=new r(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Sf(n),_=r.contextType,d.context=typeof _=="object"&&_!==null?Xt(_):Rr,d.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Yf(n,r,_,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Xf.enqueueReplaceState(d,d.state,null),Jl(n,o,d,h),Zl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,k=Ys(r,T);d.props=k;var H=d.context,Z=r.contextType;_=Rr,typeof Z=="object"&&Z!==null&&(_=Xt(Z));var te=r.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&Sy(n,d,o,_),Ba=!1;var F=n.memoizedState;d.state=F,Jl(n,o,d,h),Zl(),H=n.memoizedState,T||F!==H||Ba?(typeof te=="function"&&(Yf(n,r,te,o),H=n.memoizedState),(k=Ba||Ty(n,r,k,o,F,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),d.props=o,d.state=H,d.context=_,o=k):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Af(t,n),_=n.memoizedProps,Z=Ys(r,_),d.props=Z,te=n.pendingProps,F=d.context,H=r.contextType,k=Rr,typeof H=="object"&&H!==null&&(k=Xt(H)),T=r.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||F!==k)&&Sy(n,d,o,k),Ba=!1,F=n.memoizedState,d.state=F,Jl(n,o,d,h),Zl();var $=n.memoizedState;_!==te||F!==$||Ba||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof T=="function"&&(Yf(n,r,T,o),$=n.memoizedState),(Z=Ba||Ty(n,r,Z,o,F,$,k)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,$,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,$,k)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=$),d.props=o,d.state=$,d.context=k,o=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,lc(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Ks(n,t.child,null,h),n.child=Ks(n,null,r,h)):Zt(t,n,r,h),n.memoizedState=d.state,t=n.child):t=na(t,n,h),t}function zy(t,n,r,o){return Bs(),n.flags|=256,Zt(t,n,r,o),n.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(t){return{baseLanes:t,cachePool:Cg()}}function nd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Dn),t}function By(t,n,r){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Fa(n):Ga(),(t=ut)?(t=Y0(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:La!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=bg(t),r.return=n,n.child=r,Yt=n,ut=null)):t=null,t===null)throw Pa(n);return Ud(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ga(),h=n.mode,T=oc({mode:"hidden",children:T},h),o=zs(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=td(r),o.childLanes=nd(t,_,r),n.memoizedState=ed,io(null,o)):(Fa(n),id(n,T))}var k=t.memoizedState;if(k!==null&&(T=k.dehydrated,T!==null)){if(d)n.flags&256?(Fa(n),n.flags&=-257,n=ad(t,n,r)):n.memoizedState!==null?(Ga(),n.child=t.child,n.flags|=128,n=null):(Ga(),T=o.fallback,h=n.mode,o=oc({mode:"visible",children:o.children},h),T=zs(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Ks(n,t.child,null,r),o=n.child,o.memoizedState=td(r),o.childLanes=nd(t,_,r),n.memoizedState=ed,n=io(null,o));else if(Fa(n),Ud(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(s(419)),o.stack="",o.digest=_,Gl({value:o,source:null,stack:null}),n=ad(t,n,r)}else if(Ot||jr(t,n,r,!1),_=(r&t.childLanes)!==0,Ot||_){if(_=rt,_!==null&&(o=Tl(_,r),o!==0&&o!==k.retryLane))throw k.retryLane=o,Ps(t,o),_n(_,t,o),Jf;Ld(T)||yc(),n=ad(t,n,r)}else Ld(T)?(n.flags|=192,n.child=t.child,n=null):(t=k.treeContext,ut=$n(T.nextSibling),Yt=n,He=!0,Ua=null,Qn=!1,t!==null&&Eg(n,t),n=id(n,o.children),n.flags|=4096);return n}return h?(Ga(),T=o.fallback,h=n.mode,k=t.child,H=k.sibling,o=Xi(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,H!==null?T=Xi(H,T):(T=zs(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,io(null,o),o=n.child,T=t.child.memoizedState,T===null?T=td(r):(h=T.cachePool,h!==null?(k=jt._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=Cg(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=nd(t,_,r),n.memoizedState=ed,io(t.child,o)):(Fa(n),r=t.child,t=r.sibling,r=Xi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function id(t,n){return n=oc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oc(t,n){return t=An(22,t,null,n),t.lanes=0,t}function ad(t,n,r){return Ks(n,t.child,null,r),t=id(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function qy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),_f(t.return,n,r)}function sd(t,n,r,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=r,_.tailMode=h,_.treeForkCount=d)}function Hy(t,n,r){var o=n.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=Et.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,ue(Et,_),Zt(t,n,o,r),o=He?Fl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,r,n);else if(t.tag===19)qy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Xu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),sd(n,!1,h,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}sd(n,!0,r,null,d,o);break;case"together":sd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function na(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),$a|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(jr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Xi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Xi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function rd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function Ww(t,n,r){switch(n.tag){case 3:me(n,n.stateNode.containerInfo),za(n,jt,t.memoizedState.cache),Bs();break;case 27:case 5:Mn(n);break;case 4:me(n,n.stateNode.containerInfo);break;case 10:za(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,If(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fa(n),n.flags|=128,null):(r&n.child.childLanes)!==0?By(t,n,r):(Fa(n),t=na(t,n,r),t!==null?t.sibling:null);Fa(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(jr(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Hy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(Et,Et.current),o)break;return null;case 22:return n.lanes=0,My(t,n,r,n.pendingProps);case 24:za(n,jt,t.memoizedState.cache)}return na(t,n,r)}function Fy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!rd(t,r)&&(n.flags&128)===0)return Ot=!1,Ww(t,n,r);Ot=(t.flags&131072)!==0}else Ot=!1,He&&(n.flags&1048576)!==0&&wg(n,Fl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Gs(n.elementType),n.type=t,typeof t=="function")hf(t)?(o=Ys(t,o),n.tag=1,n=Py(null,n,t,o,r)):(n.tag=0,n=Wf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===ce){n.tag=11,n=jy(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=ky(null,n,t,o,r);break e}}throw n=ge(t)||t,Error(s(306,n,""))}}return n;case 0:return Wf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ys(o,n.pendingProps),Py(t,n,o,h,r);case 3:e:{if(me(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,Af(t,n),Jl(n,o,null,r);var _=n.memoizedState;if(o=_.cache,za(n,jt,o),o!==d.cache&&bf(n,[jt],r,!0),Zl(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=zy(t,n,o,r);break e}else if(o!==h){h=Hn(Error(s(424)),n),Gl(h),n=zy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=$n(t.firstChild),Yt=n,He=!0,Ua=null,Qn=!0,r=Mg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Bs(),o===h){n=na(t,n,r);break e}Zt(t,n,o,r)}n=n.child}return n;case 26:return lc(t,n),t===null?(r=tv(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,o=Tc(Te.current).createElement(r),o[Ct]=n,o[qt]=t,Jt(o,r,t),Dt(o),n.stateNode=o):n.memoizedState=tv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mn(n),t===null&&He&&(o=n.stateNode=J0(n.type,n.pendingProps,Te.current),Yt=n,Qn=!0,h=ut,Wa(n.type)?(Pd=h,ut=$n(o.firstChild)):ut=h),Zt(t,n,n.pendingProps.children,r),lc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=ut)&&(o=CE(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,Yt=n,ut=$n(o.firstChild),Qn=!1,h=!0):h=!1),h||Pa(n)),Mn(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,Od(h,d)?o=null:_!==null&&Od(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=kf(t,n,Fw,null,null,r),_o._currentValue=h),lc(t,n),Zt(t,n,o,r),n.child;case 6:return t===null&&He&&((t=r=ut)&&(r=DE(r,n.pendingProps,Qn),r!==null?(n.stateNode=r,Yt=n,ut=null,t=!0):t=!1),t||Pa(n)),null;case 13:return By(t,n,r);case 4:return me(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ks(n,null,o,r):Zt(t,n,o,r),n.child;case 11:return jy(t,n,n.type,n.pendingProps,r);case 7:return Zt(t,n,n.pendingProps,r),n.child;case 8:return Zt(t,n,n.pendingProps.children,r),n.child;case 12:return Zt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,za(n,n.type,o.value),Zt(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Hs(n),h=Xt(h),o=o(h),n.flags|=1,Zt(t,n,o,r),n.child;case 14:return ky(t,n,n.type,n.pendingProps,r);case 15:return Oy(t,n,n.type,n.pendingProps,r);case 19:return Hy(t,n,r);case 31:return Jw(t,n,r);case 22:return My(t,n,r,n.pendingProps);case 24:return Hs(n),o=Xt(jt),t===null?(h=Ef(),h===null&&(h=rt,d=xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:o,cache:h},Sf(n),za(n,jt,h)):((t.lanes&r)!==0&&(Af(t,n),Jl(n,null,null,r),Zl()),h=t.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),za(n,jt,o)):(o=d.cache,za(n,jt,o),o!==h.cache&&bf(n,[jt],r,!0))),Zt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ia(t){t.flags|=4}function ld(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(y0())t.flags|=8192;else throw Qs=Qu,Tf}else t.flags&=-16777217}function Gy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!rv(n))if(y0())t.flags|=8192;else throw Qs=Qu,Tf}function uc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?pu():536870912,t.lanes|=n,Fr|=n)}function ao(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function eE(t,n,r){var o=n.pendingProps;switch(pf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wi(jt),Qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ir(n)?ia(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,yf())),ct(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(ia(n),d!==null?(ct(n),Gy(n,d)):(ct(n),ld(n,h,null,o,r))):d?d!==t.memoizedState?(ia(n),ct(n),Gy(n,d)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ia(n),ct(n),ld(n,h,t,o,r)),null;case 27:if(pi(n),r=Te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ia(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ct(n),null}t=se.current,Ir(n)?Tg(n):(t=J0(h,o,r),n.stateNode=t,ia(n))}return ct(n),null;case 5:if(pi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ia(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ct(n),null}if(d=se.current,Ir(n))Tg(n);else{var _=Tc(Te.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[Ct]=n,d[qt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;e:switch(Jt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ia(n)}}return ct(n),ld(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ia(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Te.current,Ir(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||B0(t.nodeValue,r)),t||Pa(n,!0)}else t=Tc(t).createTextNode(o),t[Ct]=n,n.stateNode=t}return ct(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ir(n),r!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=n}else Bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else r=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ct(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ir(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=n}else Bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),uc(n,n.updateQueue),ct(n),null);case 4:return Qe(),t===null&&Cd(n.stateNode.containerInfo),ct(n),null;case 10:return Wi(n.type),ct(n),null;case 19:if(J(Et),o=n.memoizedState,o===null)return ct(n),null;if(h=(n.flags&128)!==0,d=o.rendering,d===null)if(h)ao(o,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Xu(t),d!==null){for(n.flags|=128,ao(o,!1),t=d.updateQueue,n.updateQueue=t,uc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)_g(r,t),r=r.sibling;return ue(Et,Et.current&1|2),He&&Zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&un()>mc&&(n.flags|=128,h=!0,ao(o,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,uc(n,t),ao(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!He)return ct(n),null}else 2*un()-o.renderingStartTime>mc&&r!==536870912&&(n.flags|=128,h=!0,ao(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=un(),t.sibling=null,r=Et.current,ue(Et,h?r&1|2:r&1),He&&Zi(n,o.treeForkCount),t):(ct(n),null);case 22:case 23:return Rn(n),Df(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),r=n.updateQueue,r!==null&&uc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&J(Fs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Wi(jt),ct(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function tE(t,n){switch(pf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wi(jt),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pi(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(s(340));Bs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Rn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Bs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(Et),null;case 4:return Qe(),null;case 10:return Wi(n.type),null;case 22:case 23:return Rn(n),Df(),t!==null&&J(Fs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wi(jt),null;case 25:return null;default:return null}}function Qy(t,n){switch(pf(n),n.tag){case 3:Wi(jt),Qe();break;case 26:case 27:case 5:pi(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:J(Et);break;case 10:Wi(n.type);break;case 22:case 23:Rn(n),Df(),t!==null&&J(Fs);break;case 24:Wi(jt)}}function so(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var d=r.create,_=r.inst;o=d(),_.destroy=o}r=r.next}while(r!==h)}}catch(T){tt(n,n.return,T)}}function Qa(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var k=r,H=T;try{H()}catch(Z){tt(h,k,Z)}}}o=o.next}while(o!==d)}}catch(Z){tt(n,n.return,Z)}}function Ky(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Lg(n,r)}catch(o){tt(t,t.return,o)}}}function $y(t,n,r){r.props=Ys(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){tt(t,n,o)}}function ro(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){tt(t,n,h)}}function Vi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){tt(t,n,h)}else r.current=null}function Yy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){tt(t,t.return,h)}}function od(t,n,r){try{var o=t.stateNode;EE(o,t.type,r,n),o[qt]=n}catch(h){tt(t,t.return,h)}}function Xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wa(t.type)||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ai));else if(o!==4&&(o===27&&Wa(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(cd(t,n,r),t=t.sibling;t!==null;)cd(t,n,r),t=t.sibling}function cc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Wa(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(cc(t,n,r),t=t.sibling;t!==null;)cc(t,n,r),t=t.sibling}function Zy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,o,r),n[Ct]=t,n[qt]=r}catch(d){tt(t,t.return,d)}}var aa=!1,Mt=!1,hd=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function nE(t,n){if(t=t.containerInfo,jd=Ic,t=cg(t),af(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch(Se){r=null;break e}var _=0,T=-1,k=-1,H=0,Z=0,te=t,F=null;t:for(;;){for(var $;te!==r||h!==0&&te.nodeType!==3||(T=_+h),te!==d||o!==0&&te.nodeType!==3||(k=_+o),te.nodeType===3&&(_+=te.nodeValue.length),($=te.firstChild)!==null;)F=te,te=$;for(;;){if(te===t)break t;if(F===r&&++H===h&&(T=_),F===d&&++Z===o&&(k=_),($=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=$}r=T===-1||k===-1?null:{start:T,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(kd={focusedElem:t,selectionRange:r},Ic=!1,Ft=n;Ft!==null;)if(n=Ft,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ft=t;else for(;Ft!==null;){switch(n=Ft,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var pe=Ys(r.type,h);t=o.getSnapshotBeforeUpdate(pe,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Se){tt(r,r.return,Se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Vd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ft=t;break}Ft=n.return}}function Wy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ra(t,r),o&4&&so(5,r);break;case 1:if(ra(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){tt(r,r.return,_)}else{var h=Ys(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(r,r.return,_)}}o&64&&Ky(r),o&512&&ro(r,r.return);break;case 3:if(ra(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Lg(t,n)}catch(_){tt(r,r.return,_)}}break;case 27:n===null&&o&4&&Zy(r);case 26:case 5:ra(t,r),n===null&&o&4&&Yy(r),o&512&&ro(r,r.return);break;case 12:ra(t,r);break;case 31:ra(t,r),o&4&&n0(t,r);break;case 13:ra(t,r),o&4&&i0(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=hE.bind(null,r),IE(t,r))));break;case 22:if(o=r.memoizedState!==null||aa,!o){n=n!==null&&n.memoizedState!==null||Mt,h=aa;var d=Mt;aa=o,(Mt=n)&&!d?la(t,r,(r.subtreeFlags&8772)!==0):ra(t,r),aa=h,Mt=d}break;case 30:break;default:ra(t,r)}}function e0(t){var n=t.alternate;n!==null&&(t.alternate=null,e0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&mr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,pn=!1;function sa(t,n,r){for(r=r.child;r!==null;)t0(t,n,r),r=r.sibling}function t0(t,n,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ei,r)}catch(d){}switch(r.tag){case 26:Mt||Vi(r,n),sa(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Mt||Vi(r,n);var o=dt,h=pn;Wa(r.type)&&(dt=r.stateNode,pn=!1),sa(t,n,r),go(r.stateNode),dt=o,pn=h;break;case 5:Mt||Vi(r,n);case 6:if(o=dt,h=pn,dt=null,sa(t,n,r),dt=o,pn=h,dt!==null)if(pn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(r.stateNode)}catch(d){tt(r,n,d)}else try{dt.removeChild(r.stateNode)}catch(d){tt(r,n,d)}break;case 18:dt!==null&&(pn?(t=dt,K0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Jr(t)):K0(dt,r.stateNode));break;case 4:o=dt,h=pn,dt=r.stateNode.containerInfo,pn=!0,sa(t,n,r),dt=o,pn=h;break;case 0:case 11:case 14:case 15:Qa(2,r,n),Mt||Qa(4,r,n),sa(t,n,r);break;case 1:Mt||(Vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&$y(r,n,o)),sa(t,n,r);break;case 21:sa(t,n,r);break;case 22:Mt=(o=Mt)||r.memoizedState!==null,sa(t,n,r),Mt=o;break;default:sa(t,n,r)}}function n0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Jr(t)}catch(r){tt(n,n.return,r)}}}function i0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jr(t)}catch(r){tt(n,n.return,r)}}function iE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jy),n;default:throw Error(s(435,t.tag))}}function hc(t,n){var r=iE(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=fE.bind(null,t,o);o.then(h,h)}})}function gn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],d=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Wa(T.type)){dt=T.stateNode,pn=!1;break e}break;case 5:dt=T.stateNode,pn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(dt===null)throw Error(s(160));t0(d,_,h),dt=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)a0(n,t),n=n.sibling}var ci=null;function a0(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(n,t),yn(t),o&4&&(Qa(3,t,t.return),so(3,t),Qa(5,t,t.return));break;case 1:gn(n,t),yn(t),o&512&&(Mt||r===null||Vi(r,r.return)),o&64&&aa&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ci;if(gn(n,t),yn(t),o&512&&(Mt||r===null||Vi(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[wi]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Jt(d,o,r),d[Ct]=t,Dt(d),o=d;break e;case"link":var _=av("link","href",h).get(o+(r.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(o),Jt(d,o,r),h.head.appendChild(d);break;case"meta":if(_=av("meta","content",h).get(o+(r.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(T,1);break t}}d=h.createElement(o),Jt(d,o,r),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ct]=t,Dt(d),o=d}t.stateNode=o}else sv(h,t.type,t.stateNode);else t.stateNode=iv(h,o,t.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?sv(h,t.type,t.stateNode):iv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&od(t,t.memoizedProps,r.memoizedProps)}break;case 27:gn(n,t),yn(t),o&512&&(Mt||r===null||Vi(r,r.return)),r!==null&&o&4&&od(t,t.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,t),yn(t),o&512&&(Mt||r===null||Vi(r,r.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(pe){tt(t,t.return,pe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,od(t,h,r!==null?r.memoizedProps:h)),o&1024&&(hd=!0);break;case 6:if(gn(n,t),yn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(pe){tt(t,t.return,pe)}}break;case 3:if(Nc=null,h=ci,ci=Sc(n.containerInfo),gn(n,t),ci=h,yn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Jr(n.containerInfo)}catch(pe){tt(t,t.return,pe)}hd&&(hd=!1,s0(t));break;case 4:o=ci,ci=Sc(t.stateNode.containerInfo),gn(n,t),yn(t),ci=o;break;case 12:gn(n,t),yn(t);break;case 31:gn(n,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 13:gn(n,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(dc=un()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 22:h=t.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,H=aa,Z=Mt;if(aa=H||h,Mt=Z||k,gn(n,t),Mt=Z,aa=H,yn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||k||aa||Mt||Xs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){k=r=n;try{if(d=k.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=k.stateNode;var te=k.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(pe){tt(k,k.return,pe)}}}else if(n.tag===6){if(r===null){k=n;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(pe){tt(k,k.return,pe)}}}else if(n.tag===18){if(r===null){k=n;try{var $=k.stateNode;h?$0($,!0):$0(k.stateNode,!1)}catch(pe){tt(k,k.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,hc(t,r))));break;case 19:gn(n,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,hc(t,o)));break;case 30:break;case 21:break;default:gn(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Xy(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=ud(t);cc(t,d,h);break;case 5:var _=r.stateNode;r.flags&32&&(mn(_,""),r.flags&=-33);var T=ud(t);cc(t,T,_);break;case 3:case 4:var k=r.stateNode.containerInfo,H=ud(t);cd(t,H,k);break;default:throw Error(s(161))}}catch(Z){tt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function s0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;s0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ra(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wy(t,n.alternate,n),n=n.sibling}function Xs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qa(4,n,n.return),Xs(n);break;case 1:Vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&$y(n,n.return,r),Xs(n);break;case 27:go(n.stateNode);case 26:case 5:Vi(n,n.return),Xs(n);break;case 22:n.memoizedState===null&&Xs(n);break;case 30:Xs(n);break;default:Xs(n)}t=t.sibling}}function la(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:la(h,d,r),so(4,d);break;case 1:if(la(h,d,r),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){tt(o,o.return,H)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Vg(k[h],T)}catch(H){tt(o,o.return,H)}}r&&_&64&&Ky(d),ro(d,d.return);break;case 27:Zy(d);case 26:case 5:la(h,d,r),r&&o===null&&_&4&&Yy(d),ro(d,d.return);break;case 12:la(h,d,r);break;case 31:la(h,d,r),r&&_&4&&n0(h,d);break;case 13:la(h,d,r),r&&_&4&&i0(h,d);break;case 22:d.memoizedState===null&&la(h,d,r),ro(d,d.return);break;case 30:break;default:la(h,d,r)}n=n.sibling}}function fd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ql(r))}function dd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t))}function hi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)r0(t,n,r,o),n=n.sibling}function r0(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,r,o),h&2048&&so(9,n);break;case 1:hi(t,n,r,o);break;case 3:hi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ql(t)));break;case 12:if(h&2048){hi(t,n,r,o),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){tt(n,n.return,k)}}else hi(t,n,r,o);break;case 31:hi(t,n,r,o);break;case 13:hi(t,n,r,o);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?hi(t,n,r,o):lo(t,n):d._visibility&2?hi(t,n,r,o):(d._visibility|=2,Br(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&fd(_,n);break;case 24:hi(t,n,r,o),h&2048&&dd(n.alternate,n);break;default:hi(t,n,r,o)}}function Br(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,_=n,T=r,k=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:Br(d,_,T,k,h),so(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Br(d,_,T,k,h):lo(d,_):(Z._visibility|=2,Br(d,_,T,k,h)),h&&H&2048&&fd(_.alternate,_);break;case 24:Br(d,_,T,k,h),h&&H&2048&&dd(_.alternate,_);break;default:Br(d,_,T,k,h)}n=n.sibling}}function lo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:lo(r,o),h&2048&&fd(o.alternate,o);break;case 24:lo(r,o),h&2048&&dd(o.alternate,o);break;default:lo(r,o)}n=n.sibling}}var oo=8192;function qr(t,n,r){if(t.subtreeFlags&oo)for(t=t.child;t!==null;)l0(t,n,r),t=t.sibling}function l0(t,n,r){switch(t.tag){case 26:qr(t,n,r),t.flags&oo&&t.memoizedState!==null&&HE(r,ci,t.memoizedState,t.memoizedProps);break;case 5:qr(t,n,r);break;case 3:case 4:var o=ci;ci=Sc(t.stateNode.containerInfo),qr(t,n,r),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=oo,oo=16777216,qr(t,n,r),oo=o):qr(t,n,r));break;default:qr(t,n,r)}}function o0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function uo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ft=o,c0(o,t)}o0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)u0(t),t=t.sibling}function u0(t){switch(t.tag){case 0:case 11:case 15:uo(t),t.flags&2048&&Qa(9,t,t.return);break;case 3:uo(t);break;case 12:uo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fc(t)):uo(t);break;default:uo(t)}}function fc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ft=o,c0(o,t)}o0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qa(8,n,n.return),fc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,fc(n));break;default:fc(n)}t=t.sibling}}function c0(t,n){for(;Ft!==null;){var r=Ft;switch(r.tag){case 0:case 11:case 15:Qa(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ql(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ft=o;else e:for(r=t;Ft!==null;){o=Ft;var h=o.sibling,d=o.return;if(e0(o),o===r){Ft=null;break e}if(h!==null){h.return=d,Ft=h;break e}Ft=d}}}var aE={getCacheForType:function(t){var n=Xt(jt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Xt(jt).controller.signal}},sE=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Le=null,Pe=0,et=0,Cn=null,Ka=!1,Hr=!1,md=!1,oa=0,yt=0,$a=0,Zs=0,pd=0,Dn=0,Fr=0,co=null,vn=null,gd=!1,dc=0,h0=0,mc=1/0,pc=null,Ya=null,zt=0,Xa=null,Gr=null,ua=0,yd=0,vd=null,f0=null,ho=0,_d=null;function In(){return(Xe&2)!==0&&Pe!==0?Pe&-Pe:Y.T!==null?Sd():gu()}function d0(){if(Dn===0)if((Pe&536870912)===0||He){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),Dn=t}else Dn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),Dn}function _n(t,n,r){(t===rt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Qr(t,0),Za(t,Pe,Dn,!1)),Ss(t,r),((Xe&2)===0||t!==rt)&&(t===rt&&((Xe&2)===0&&(Zs|=r),yt===4&&Za(t,Pe,Dn,!1)),Li(t))}function m0(t,n,r){if((Xe&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ti(t,n),h=o?oE(t,n):xd(t,n,!0),d=o;do{if(h===0){Hr&&!o&&Za(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!rE(r)){h=xd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=co;var k=T.current.memoizedState.isDehydrated;if(k&&(Qr(T,_).flags|=256),_=xd(T,_,!1),_!==2){if(md&&!k){T.errorRecoveryDisabledLanes|=d,Zs|=d,h=4;break e}d=vn,vn=h,d!==null&&(vn===null?vn=d:vn.push.apply(vn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qr(t,0),Za(t,n,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Za(o,n,Dn,!Ka);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=dc+300-un(),10<h)){if(Za(o,n,Dn,!Ka),_i(o,0,!0)!==0)break e;ua=n,o.timeoutHandle=G0(p0.bind(null,o,r,vn,pc,gd,n,Dn,Zs,Fr,Ka,d,"Throttled",-0,0),h);break e}p0(o,r,vn,pc,gd,n,Dn,Zs,Fr,Ka,d,null,-0,0)}}break}while(!0);Li(t)}function p0(t,n,r,o,h,d,_,T,k,H,Z,te,F,$){if(t.timeoutHandle=-1,te=n.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},l0(n,d,te);var pe=(d&62914560)===d?dc-un():(d&4194048)===d?h0-un():0;if(pe=FE(te,pe),pe!==null){ua=d,t.cancelPendingCommit=pe(E0.bind(null,t,n,d,r,o,h,_,T,k,Z,te,null,F,$)),Za(t,d,_,!H);return}}E0(t,n,d,r,o,h,_,T,k)}function rE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],d=h.getSnapshot;h=h.value;try{if(!Sn(d(),h))return!1}catch(_){return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Za(t,n,r,o){n&=~pd,n&=~Zs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var d=31-xt(h),_=1<<d;o[d]=-1,h&=~_}r!==0&&As(t,r,n)}function gc(){return(Xe&6)===0?(fo(0),!1):!0}function bd(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,Ji=qs=null,Vf(t),Vr=null,$l=0,t=Le;for(;t!==null;)Qy(t.alternate,t),t=t.return;Le=null}}function Qr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,AE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ua=0,bd(),rt=t,Le=r=Xi(t.current,null),Pe=n,et=0,Cn=null,Ka=!1,Hr=ti(t,n),md=!1,Fr=Dn=pd=Zs=$a=yt=0,vn=co=null,gd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-xt(o),d=1<<h;n|=t[h],o&=~d}return oa=n,Lu(),r}function g0(t,n){Oe=null,Y.H=no,n===Mr||n===Gu?(n=jg(),et=3):n===Tf?(n=jg(),et=4):et=n===Jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Le===null&&(yt=1,sc(t,Hn(n,t.current)))}function y0(){var t=Nn.current;return t===null?!0:(Pe&4194048)===Pe?Kn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Kn:!1}function v0(){var t=Y.H;return Y.H=no,t===null?no:t}function _0(){var t=Y.A;return Y.A=aE,t}function yc(){yt=4,Ka||(Pe&4194048)!==Pe&&Nn.current!==null||(Hr=!0),($a&134217727)===0&&(Zs&134217727)===0||rt===null||Za(rt,Pe,Dn,!1)}function xd(t,n,r){var o=Xe;Xe|=2;var h=v0(),d=_0();(rt!==t||Pe!==n)&&(pc=null,Qr(t,n)),n=!1;var _=yt;e:do try{if(et!==0&&Le!==null){var T=Le,k=Cn;switch(et){case 8:bd(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var H=et;if(et=0,Cn=null,Kr(t,T,k,H),r&&Hr){_=0;break e}break;default:H=et,et=0,Cn=null,Kr(t,T,k,H)}}lE(),_=yt;break}catch(Z){g0(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Ji=qs=null,Xe=o,Y.H=h,Y.A=d,Le===null&&(rt=null,Pe=0,Lu()),_}function lE(){for(;Le!==null;)b0(Le)}function oE(t,n){var r=Xe;Xe|=2;var o=v0(),h=_0();rt!==t||Pe!==n?(pc=null,mc=un()+500,Qr(t,n)):Hr=ti(t,n);e:do try{if(et!==0&&Le!==null){n=Le;var d=Cn;t:switch(et){case 1:et=0,Cn=null,Kr(t,n,d,1);break;case 2:case 9:if(Dg(d)){et=0,Cn=null,x0(n);break}n=function(){et!==2&&et!==9||rt!==t||(et=7),Li(t)},d.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Dg(d)?(et=0,Cn=null,x0(n)):(et=0,Cn=null,Kr(t,n,d,7));break;case 5:var _=null;switch(Le.tag){case 26:_=Le.memoizedState;case 5:case 27:var T=Le;if(_?rv(_):T.stateNode.complete){et=0,Cn=null;var k=T.sibling;if(k!==null)Le=k;else{var H=T.return;H!==null?(Le=H,vc(H)):Le=null}break t}}et=0,Cn=null,Kr(t,n,d,5);break;case 6:et=0,Cn=null,Kr(t,n,d,6);break;case 8:bd(),yt=6;break e;default:throw Error(s(462))}}uE();break}catch(Z){g0(t,Z)}while(!0);return Ji=qs=null,Y.H=o,Y.A=h,Xe=r,Le!==null?0:(rt=null,Pe=0,Lu(),yt)}function uE(){for(;Le!==null&&!Xh();)b0(Le)}function b0(t){var n=Fy(t.alternate,t,oa);t.memoizedProps=t.pendingProps,n===null?vc(t):Le=n}function x0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Uy(r,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=Uy(r,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:Vf(n);default:Qy(r,n),n=Le=_g(n,oa),n=Fy(r,n,oa)}t.memoizedProps=t.pendingProps,n===null?vc(t):Le=n}function Kr(t,n,r,o){Ji=qs=null,Vf(n),Vr=null,$l=0;var h=n.return;try{if(Zw(t,h,n,r,Pe)){yt=1,sc(t,Hn(r,t.current)),Le=null;return}}catch(d){if(h!==null)throw Le=h,d;yt=1,sc(t,Hn(r,t.current)),Le=null;return}n.flags&32768?(He||o===1?t=!0:Hr||(Pe&536870912)!==0?t=!1:(Ka=t=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),w0(n,t)):vc(n)}function vc(t){var n=t;do{if((n.flags&32768)!==0){w0(n,Ka);return}t=n.return;var r=eE(n.alternate,n,oa);if(r!==null){Le=r;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);yt===0&&(yt=5)}function w0(t,n){do{var r=tE(t.alternate,t);if(r!==null){r.flags&=32767,Le=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=r}while(t!==null);yt=6,Le=null}function E0(t,n,r,o,h,d,_,T,k){t.cancelPendingCommit=null;do _c();while(zt!==0);if((Xe&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=uf,Wh(t,r,d,_,T,k),t===rt&&(Le=rt=null,Pe=0),Gr=n,Xa=t,ua=r,yd=d,vd=h,f0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dE(Na,function(){return R0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,h=re.p,re.p=2,_=Xe,Xe|=4;try{nE(t,n,r)}finally{Xe=_,re.p=h,Y.T=o}}zt=1,T0(),S0(),A0()}}function T0(){if(zt===1){zt=0;var t=Xa,n=Gr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Y.T,Y.T=null;var o=re.p;re.p=2;var h=Xe;Xe|=4;try{a0(n,t);var d=kd,_=cg(t.containerInfo),T=d.focusedElem,k=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&ug(T.ownerDocument.documentElement,T)){if(k!==null&&af(T)){var H=k.start,Z=k.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var $=F.getSelection(),pe=T.textContent.length,Se=Math.min(k.start,pe),st=k.end===void 0?Se:Math.min(k.end,pe);!$.extend&&Se>st&&(_=st,st=Se,Se=_);var P=og(T,Se),M=og(T,st);if(P&&M&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var q=te.createRange();q.setStart(P.node,P.offset),$.removeAllRanges(),Se>st?($.addRange(q),$.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),$.addRange(q))}}}}for(te=[],$=T;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var W=te[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ic=!!jd,kd=jd=null}finally{Xe=h,re.p=o,Y.T=r}}t.current=n,zt=2}}function S0(){if(zt===2){zt=0;var t=Xa,n=Gr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Y.T,Y.T=null;var o=re.p;re.p=2;var h=Xe;Xe|=4;try{Wy(t,n.alternate,n)}finally{Xe=h,re.p=o,Y.T=r}}zt=3}}function A0(){if(zt===4||zt===3){zt=0,uu();var t=Xa,n=Gr,r=ua,o=f0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,Gr=Xa=null,N0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ya=null),Qi(r),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch(k){}if(o!==null){n=Y.T,h=re.p,re.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=n,re.p=h}}(ua&3)!==0&&_c(),Li(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===_d?ho++:(ho=0,_d=t):ho=0,fo(0)}}function N0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ql(n)))}function _c(){return T0(),S0(),A0(),R0()}function R0(){if(zt!==5)return!1;var t=Xa,n=yd;yd=0;var r=Qi(ua),o=Y.T,h=re.p;try{re.p=32>r?32:r,Y.T=null,r=vd,vd=null;var d=Xa,_=ua;if(zt=0,Gr=Xa=null,ua=0,(Xe&6)!==0)throw Error(s(331));var T=Xe;if(Xe|=4,u0(d.current),r0(d,d.current,_,r),Xe=T,fo(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ei,d)}catch(k){}return!0}finally{re.p=h,Y.T=o,N0(t,n)}}function C0(t,n,r){n=Hn(r,n),n=Zf(t.stateNode,n,2),t=Ha(t,n,2),t!==null&&(Ss(t,2),Li(t))}function tt(t,n,r){if(t.tag===3)C0(t,t,r);else for(;n!==null;){if(n.tag===3){C0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ya===null||!Ya.has(o))){t=Hn(r,t),r=Dy(2),o=Ha(n,r,2),o!==null&&(Iy(r,o,n,t),Ss(o,2),Li(o));break}}n=n.return}}function wd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new sE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(md=!0,h.add(r),t=cE.bind(null,t,n,r),n.then(t,t))}function cE(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,rt===t&&(Pe&r)===r&&(yt===4||yt===3&&(Pe&62914560)===Pe&&300>un()-dc?(Xe&2)===0&&Qr(t,0):pd|=r,Fr===Pe&&(Fr=0)),Li(t)}function D0(t,n){n===0&&(n=pu()),t=Ps(t,n),t!==null&&(Ss(t,n),Li(t))}function hE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),D0(t,r)}function fE(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),D0(t,r)}function dE(t,n){return Pt(t,n)}var bc=null,$r=null,Ed=!1,xc=!1,Td=!1,Ja=0;function Li(t){t!==$r&&t.next===null&&($r===null?bc=$r=t:$r=$r.next=t),xc=!0,Ed||(Ed=!0,pE())}function fo(t,n){if(!Td&&xc){Td=!0;do for(var r=!1,o=bc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-xt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,O0(o,d))}else d=Pe,d=_i(o,o===rt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||ti(o,d)||(r=!0,O0(o,d));o=o.next}while(r);Td=!1}}function mE(){I0()}function I0(){xc=Ed=!1;var t=0;Ja!==0&&SE()&&(t=Ja);for(var n=un(),r=null,o=bc;o!==null;){var h=o.next,d=j0(o,n);d===0?(o.next=null,r===null?bc=h:r.next=h,h===null&&($r=r)):(r=o,(t!==0||(d&3)!==0)&&(xc=!0)),o=h}zt!==0&&zt!==5||fo(t),Ja!==0&&(Ja=0)}function j0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-xt(d),T=1<<_,k=h[_];k===-1?((T&r)===0||(T&o)!==0)&&(h[_]=Jh(T,n)):k<=n&&(t.expiredLanes|=T),d&=~T}if(n=rt,r=Pe,r=_i(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Aa(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ti(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Aa(o),Qi(r)){case 2:case 8:r=wl;break;case 32:r=Na;break;case 268435456:r=cu;break;default:r=Na}return o=k0.bind(null,t),r=Pt(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Aa(o),t.callbackPriority=2,t.callbackNode=null,2}function k0(t,n){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_c()&&t.callbackNode!==r)return null;var o=Pe;return o=_i(t,t===rt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(m0(t,o,n),j0(t,un()),t.callbackNode!=null&&t.callbackNode===r?k0.bind(null,t):null)}function O0(t,n){if(_c())return null;m0(t,n,!0)}function pE(){NE(function(){(Xe&6)!==0?Pt(xl,mE):I0()})}function Sd(){if(Ja===0){var t=kr;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Ja=t}return Ja}function M0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vr(""+t)}function V0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function gE(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var d=M0((h[qt]||null).action),_=o.submitter;_&&(n=(n=_[qt]||null)?M0(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new Di("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ja!==0){var k=_?V0(h,_):new FormData(h);Gf(r,{pending:!0,data:k,method:h.method,action:d},null,k)}}else typeof d=="function"&&(T.preventDefault(),k=_?V0(h,_):new FormData(h),Gf(r,{pending:!0,data:k,method:h.method,action:d},d,k))},currentTarget:h}]})}}for(var Ad=0;Ad<of.length;Ad++){var Nd=of[Ad],yE=Nd.toLowerCase(),vE=Nd[0].toUpperCase()+Nd.slice(1);ui(yE,"on"+vE)}ui(dg,"onAnimationEnd"),ui(mg,"onAnimationIteration"),ui(pg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Ow,"onTransitionRun"),ui(Mw,"onTransitionStart"),ui(Vw,"onTransitionCancel"),ui(gg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function L0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],k=T.instance,H=T.currentTarget;if(T=T.listener,k!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){Vu(Z)}h.currentTarget=null,d=k}else for(_=0;_<o.length;_++){if(T=o[_],k=T.instance,H=T.currentTarget,T=T.listener,k!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){Vu(Z)}h.currentTarget=null,d=k}}}}function Ue(t,n){var r=n[dr];r===void 0&&(r=n[dr]=new Set);var o=t+"__bubble";r.has(o)||(U0(n,t,2,!1),r.add(o))}function Rd(t,n,r){var o=0;n&&(o|=4),U0(r,t,o,n)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[wc]){t[wc]=!0,Sl.forEach(function(r){r!=="selectionchange"&&(_E.has(r)||Rd(r,!1,t),Rd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wc]||(n[wc]=!0,Rd("selectionchange",!1,n))}}function U0(t,n,r,o){switch(dv(n)){case 2:var h=KE;break;case 8:h=$E;break;default:h=Fd}r=h.bind(null,n,r,t),h=void 0,!Is||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Dd(t,n,r,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var k=_.tag;if((k===3||k===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Ei(T),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){o=d=_;continue e}T=T.parentNode}}o=o.return}ka(function(){var H=d,Z=Pn(r),te=[];e:{var F=yg.get(t);if(F!==void 0){var $=Di,pe=t;switch(t){case"keypress":if(ks(r)===0)break e;case"keydown":case"keyup":$=ku;break;case"focusin":pe="focus",$=Ms;break;case"focusout":pe="blur",$=Ms;break;case"beforeblur":case"afterblur":$=Ms;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case dg:case mg:case pg:$=Au;break;case gg:$=N;break;case"scroll":case"scrollend":$=Ll;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Yi;break;case"toggle":case"beforetoggle":$=ke}var Se=(n&4)!==0,st=!Se&&(t==="scroll"||t==="scrollend"),P=Se?F!==null?F+"Capture":null:F;Se=[];for(var M=H,q;M!==null;){var W=M;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||P===null||(W=si(M,P),W!=null&&Se.push(po(M,W,q))),st)break;M=M.return}0<Se.length&&(F=new $(F,pe,null,r,Z),te.push({event:F,listeners:Se}))}}if((n&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&r!==Ol&&(pe=r.relatedTarget||r.fromElement)&&(Ei(pe)||pe[xi]))break e;if(($||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,$?(pe=r.relatedTarget||r.toElement,$=H,pe=pe?Ei(pe):null,pe!==null&&(st=u(pe),Se=pe.tag,pe!==st||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):($=null,pe=H),$!==pe)){if(Se=Ul,W="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Yi,W="onPointerLeave",P="onPointerEnter",M="pointer"),st=$==null?F:En($),q=pe==null?F:En(pe),F=new Se(W,M+"leave",$,r,Z),F.target=st,F.relatedTarget=q,W=null,Ei(Z)===H&&(Se=new Se(P,M+"enter",pe,r,Z),Se.target=q,Se.relatedTarget=st,W=Se),st=W,$&&pe)t:{for(Se=bE,P=$,M=pe,q=0,W=P;W;W=Se(W))q++;W=0;for(var xe=M;xe;xe=Se(xe))W++;for(;0<q-W;)P=Se(P),q--;for(;0<W-q;)M=Se(M),W--;for(;q--;){if(P===M||M!==null&&P===M.alternate){Se=P;break t}P=Se(P),M=Se(M)}Se=null}else Se=null;$!==null&&P0(te,F,$,Se,!1),pe!==null&&st!==null&&P0(te,st,pe,Se,!0)}}e:{if(F=H?En(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var Ke=ng;else if(eg(F))if(ig)Ke=Iw;else{Ke=Cw;var _e=Rw}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&yr(H.elementType)&&(Ke=ng):Ke=Dw;if(Ke&&(Ke=Ke(t,H))){tg(te,Ke,r,Z);break e}_e&&_e(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Il(F,"number",F.value)}switch(_e=H?En(H):window,t){case"focusin":(eg(_e)||_e.contentEditable==="true")&&(Sr=_e,sf=H,Hl=null);break;case"focusout":Hl=sf=Sr=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,hg(te,r,Z);break;case"selectionchange":if(kw)break;case"keydown":case"keyup":hg(te,r,Z)}var Me;if(Ye)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Tr?Vs(t,r)&&(ze="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(ki&&r.locale!=="ko"&&(Tr||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Tr&&(Me=Vl()):(Ci=Z,Ml="value"in Ci?Ci.value:Ci.textContent,Tr=!0)),_e=Ec(H,ze),0<_e.length&&(ze=new ji(ze,t,null,r,Z),te.push({event:ze,listeners:_e}),Me?ze.data=Me:(Me=Er(r),Me!==null&&(ze.data=Me)))),(Me=Bn?Tw(t,r):Sw(t,r))&&(ze=Ec(H,"onBeforeInput"),0<ze.length&&(_e=new ji("onBeforeInput","beforeinput",null,r,Z),te.push({event:_e,listeners:ze}),_e.data=Me)),gE(te,t,H,r,Z)}L0(te,n)})}function po(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ec(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=si(t,r),h!=null&&o.unshift(po(t,h,d)),h=si(t,n),h!=null&&o.push(po(t,h,d))),t.tag===3)return o;t=t.return}return[]}function bE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function P0(t,n,r,o,h){for(var d=n._reactName,_=[];r!==null&&r!==o;){var T=r,k=T.alternate,H=T.stateNode;if(T=T.tag,k!==null&&k===o)break;T!==5&&T!==26&&T!==27||H===null||(k=H,h?(H=si(r,d),H!=null&&_.unshift(po(r,H,k))):h||(H=si(r,d),H!=null&&_.push(po(r,H,k)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var xE=/\r\n?/g,wE=/\u0000|\uFFFD/g;function z0(t){return(typeof t=="string"?t:""+t).replace(xE,"\n").replace(wE,"")}function B0(t,n){return n=z0(n),z0(t)===n}function at(t,n,r,o,h,d){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(t,""+o);break;case"className":Tn(t,"class",o);break;case"tabIndex":Tn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,r,o);break;case"style":kl(t,o,d);break;case"data":if(n!=="object"){Tn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=vr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=vr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ai);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=vr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),pr(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eu.get(r)||r,pr(t,r,o))}}function Id(t,n,r,o,h,d){switch(r){case"style":kl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof o=="string"?mn(t,o):(typeof o=="number"||typeof o=="bigint")&&mn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[qt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):pr(t,r,o)}}}function Jt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var _=r[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:at(t,n,d,_,r,null)}}h&&at(t,n,"srcSet",r.srcSet,r,null),o&&at(t,n,"src",r.src,r,null);return;case"input":Ue("invalid",t);var T=d=_=h=null,k=null,H=null;for(o in r)if(r.hasOwnProperty(o)){var Z=r[o];if(Z!=null)switch(o){case"name":h=Z;break;case"type":_=Z;break;case"checked":k=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:at(t,n,o,Z,r,null)}}bu(t,d,T,k,H,_,h,!1);return;case"select":Ue("invalid",t),o=_=d=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:at(t,n,h,T,r,null)}n=d,r=_,t.multiple=!!o,n!=null?Ca(t,!!o,n,!1):r!=null&&Ca(t,!!o,r,!0);return;case"textarea":Ue("invalid",t),d=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(T=r[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:at(t,n,_,T,r,null)}Da(t,o,h,d);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:at(t,n,k,o,r,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<mo.length;o++)Ue(mo[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(o=r[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:at(t,n,H,o,r,null)}return;default:if(yr(n)){for(Z in r)r.hasOwnProperty(Z)&&(o=r[Z],o!==void 0&&Id(t,n,Z,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&at(t,n,T,o,r,null))}function EE(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,k=null,H=null,Z=null;for($ in r){var te=r[$];if(r.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":k=te;default:o.hasOwnProperty($)||at(t,n,$,null,o,te)}}for(var F in o){var $=o[F];if(te=r[F],o.hasOwnProperty(F)&&($!=null||te!=null))switch(F){case"type":d=$;break;case"name":h=$;break;case"checked":H=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$!==te&&at(t,n,F,$,o,te)}}gr(t,_,T,k,H,Z,d,h);return;case"select":$=_=T=F=null;for(d in r)if(k=r[d],r.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":$=k;default:o.hasOwnProperty(d)||at(t,n,d,null,o,k)}for(h in o)if(d=o[h],k=r[h],o.hasOwnProperty(h)&&(d!=null||k!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==k&&at(t,n,h,d,o,k)}n=T,r=_,o=$,F!=null?Ca(t,!!r,F,!1):!!o!=!!r&&(n!=null?Ca(t,!!r,n,!0):Ca(t,!!r,r?[]:"",!1));return;case"textarea":$=F=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,n,T,null,o,h)}for(_ in o)if(h=o[_],d=r[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&at(t,n,_,h,o,d)}xu(t,F,$);return;case"option":for(var pe in r)if(F=r[pe],r.hasOwnProperty(pe)&&F!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:at(t,n,pe,null,o,F)}for(k in o)if(F=o[k],$=r[k],o.hasOwnProperty(k)&&F!==$&&(F!=null||$!=null))switch(k){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:at(t,n,k,F,o,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in r)F=r[Se],r.hasOwnProperty(Se)&&F!=null&&!o.hasOwnProperty(Se)&&at(t,n,Se,null,o,F);for(H in o)if(F=o[H],$=r[H],o.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:at(t,n,H,F,o,$)}return;default:if(yr(n)){for(var st in r)F=r[st],r.hasOwnProperty(st)&&F!==void 0&&!o.hasOwnProperty(st)&&Id(t,n,st,void 0,o,F);for(Z in o)F=o[Z],$=r[Z],!o.hasOwnProperty(Z)||F===$||F===void 0&&$===void 0||Id(t,n,Z,F,o,$);return}}for(var P in r)F=r[P],r.hasOwnProperty(P)&&F!=null&&!o.hasOwnProperty(P)&&at(t,n,P,null,o,F);for(te in o)F=o[te],$=r[te],!o.hasOwnProperty(te)||F===$||F==null&&$==null||at(t,n,te,F,o,$)}function q0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&q0(_)){for(_=0,T=h.responseEnd,o+=1;o<r.length;o++){var k=r[o],H=k.startTime;if(H>T)break;var Z=k.transferSize,te=k.initiatorType;Z&&q0(te)&&(k=k.responseEnd,_+=Z*(k<T?1:(T-H)/(k-H)))}if(--o,n+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jd=null,kd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function H0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Md=null;function SE(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,AE=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0!="undefined"?function(t){return Q0.resolve(null).then(t).catch(RE)}:G0;function RE(t){setTimeout(function(){throw t})}function Wa(t){return t==="head"}function K0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Jr(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")go(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,go(r);for(var d=r.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=_}}else r==="body"&&go(t.ownerDocument.body);r=h}while(r);Jr(n)}function $0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Vd(r),mr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function CE(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[wi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function DE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$n(t.nextSibling),t===null))return null;return t}function Y0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$?"||t.data==="$~"}function Ud(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IE(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pd=null;function X0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $n(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Z0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function J0(t,n,r){switch(n=Tc(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function go(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);mr(t)}var Yn=new Map,W0=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ca=re.d;re.d={f:jE,r:kE,D:OE,C:ME,L:VE,m:LE,X:PE,S:UE,M:zE};function jE(){var t=ca.f(),n=gc();return t||n}function kE(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?gy(n):ca.r(t)}var Yr=typeof document=="undefined"?null:document;function ev(t,n,r){var o=Yr;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),W0.has(h)||(W0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Jt(n,"link",t),Dt(n),o.head.appendChild(n)))}}function OE(t){ca.D(t),ev("dns-prefetch",t,null)}function ME(t,n){ca.C(t,n),ev("preconnect",t,n)}function VE(t,n,r){ca.L(t,n,r);var o=Yr;if(o&&t&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+dn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+dn(r.imageSizes)+'"]')):h+='[href="'+dn(t)+'"]';var d=h;switch(n){case"style":d=Xr(t);break;case"script":d=Zr(t)}Yn.has(d)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Yn.set(d,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(yo(d))||n==="script"&&o.querySelector(vo(d))||(n=o.createElement("link"),Jt(n,"link",t),Dt(n),o.head.appendChild(n)))}}function LE(t,n){ca.m(t,n);var r=Yr;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Zr(t)}if(!Yn.has(d)&&(t=E({rel:"modulepreload",href:t},n),Yn.set(d,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(vo(d)))return}o=r.createElement("link"),Jt(o,"link",t),Dt(o),r.head.appendChild(o)}}}function UE(t,n,r){ca.S(t,n,r);var o=Yr;if(o&&t){var h=Ti(o).hoistableStyles,d=Xr(t);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(yo(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Yn.get(d))&&zd(t,r);var k=_=o.createElement("link");Dt(k),Jt(k,"link",t),k._p=new Promise(function(H,Z){k.onload=H,k.onerror=Z}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function PE(t,n){ca.X(t,n);var r=Yr;if(r&&t){var o=Ti(r).hoistableScripts,h=Zr(t),d=o.get(h);d||(d=r.querySelector(vo(h)),d||(t=E({src:t,async:!0},n),(n=Yn.get(h))&&Bd(t,n),d=r.createElement("script"),Dt(d),Jt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function zE(t,n){ca.M(t,n);var r=Yr;if(r&&t){var o=Ti(r).hoistableScripts,h=Zr(t),d=o.get(h);d||(d=r.querySelector(vo(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Yn.get(h))&&Bd(t,n),d=r.createElement("script"),Dt(d),Jt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function tv(t,n,r,o){var h=(h=Te.current)?Sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Xr(r.href),r=Ti(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Xr(r.href);var d=Ti(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(yo(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Yn.set(t,r),d||BE(h,t,r,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Zr(r),r=Ti(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xr(t){return'href="'+dn(t)+'"'}function yo(t){return'link[rel="stylesheet"]['+t+"]"}function nv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function BE(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Jt(n,"link",r),Dt(n),t.head.appendChild(n))}function Zr(t){return'[src="'+dn(t)+'"]'}function vo(t){return"script[async]"+t}function iv(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+dn(r.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),Jt(o,"style",h),Ac(o,r.precedence,t),n.instance=o;case"stylesheet":h=Xr(r.href);var d=t.querySelector(yo(h));if(d)return n.state.loading|=4,n.instance=d,Dt(d),d;o=nv(r),(h=Yn.get(h))&&zd(o,h),d=(t.ownerDocument||t).createElement("link"),Dt(d);var _=d;return _._p=new Promise(function(T,k){_.onload=T,_.onerror=k}),Jt(d,"link",o),n.state.loading|=4,Ac(d,r.precedence,t),n.instance=d;case"script":return d=Zr(r.src),(h=t.querySelector(vo(d)))?(n.instance=h,Dt(h),h):(o=r,(h=Yn.get(d))&&(o=E({},r),Bd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Jt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ac(o,r.precedence,t));return n.instance}function Ac(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function zd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nc=null;function av(t,n,r){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(r,o)}else h=Nc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[wi]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function sv(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function qE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function rv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function HE(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xr(o.href),d=n.querySelector(yo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Rc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,Dt(d);return}d=n.ownerDocument||n,o=nv(o),(h=Yn.get(h))&&zd(o,h),d=d.createElement("link"),Dt(d);var _=d;_._p=new Promise(function(T,k){_.onload=T,_.onerror=k}),Jt(d,"link",o),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Rc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var qd=0;function FE(t,n){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&qd===0&&(qd=62500*TE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>qd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Dc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,n.forEach(GE,t),Cc=null,Rc.call(t))}function GE(t,n){if(!(n.state.loading&4)){var r=Cc.get(t);if(r)var o=r.get(null);else{r=new Map,Cc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),d=r.get(_)||o,d===o&&r.set(null,h),r.set(_,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _o={$$typeof:X,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function QE(t,n,r,o,h,d,_,T,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function lv(t,n,r,o,h,d,_,T,k,H,Z,te){return t=new QE(t,n,r,_,k,H,Z,te,T),n=1,d===!0&&(n|=24),d=An(3,null,null,n),t.current=d,d.stateNode=t,n=xf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:n},Sf(d),t}function ov(t){return t?(t=Rr,t):Rr}function uv(t,n,r,o,h,d){h=ov(h),o.context===null?o.context=h:o.pendingContext=h,o=qa(n),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Ha(t,o,n),r!==null&&(_n(r,t,n),Xl(r,t,n))}function cv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Hd(t,n){cv(t,n),(t=t.alternate)&&cv(t,n)}function hv(t){if(t.tag===13||t.tag===31){var n=Ps(t,67108864);n!==null&&_n(n,t,67108864),Hd(t,67108864)}}function fv(t){if(t.tag===13||t.tag===31){var n=In();n=Ns(n);var r=Ps(t,n);r!==null&&_n(r,t,n),Hd(t,n)}}var Ic=!0;function KE(t,n,r,o){var h=Y.T;Y.T=null;var d=re.p;try{re.p=2,Fd(t,n,r,o)}finally{re.p=d,Y.T=h}}function $E(t,n,r,o){var h=Y.T;Y.T=null;var d=re.p;try{re.p=8,Fd(t,n,r,o)}finally{re.p=d,Y.T=h}}function Fd(t,n,r,o){if(Ic){var h=Gd(o);if(h===null)Dd(t,n,o,jc,r),mv(t,o);else if(XE(h,t,n,r,o))o.stopPropagation();else if(mv(t,o),n&4&&-1<YE.indexOf(t)){for(;h!==null;){var d=Un(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=vi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var k=1<<31-xt(_);T.entanglements[1]|=k,_&=~k}Li(d),(Xe&6)===0&&(mc=un()+500,fo(0))}}break;case 31:case 13:T=Ps(d,2),T!==null&&_n(T,d,2),gc(),Hd(d,2)}if(d=Gd(o),d===null&&Dd(t,n,o,jc,r),d===h)break;h=d}h!==null&&o.stopPropagation()}else Dd(t,n,o,null,r)}}function Gd(t){return t=Pn(t),Qd(t)}var jc=null;function Qd(t){if(jc=null,t=Ei(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return jc=t,null}function dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case xl:return 2;case wl:return 8;case Na:case Zh:return 32;case cu:return 268435456;default:return 32}default:return 32}}var Kd=!1,es=null,ts=null,ns=null,bo=new Map,xo=new Map,is=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(t,n){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":bo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(n.pointerId)}}function wo(t,n,r,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&hv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function XE(t,n,r,o,h){switch(n){case"focusin":return es=wo(es,t,n,r,o,h),!0;case"dragenter":return ts=wo(ts,t,n,r,o,h),!0;case"mouseover":return ns=wo(ns,t,n,r,o,h),!0;case"pointerover":var d=h.pointerId;return bo.set(d,wo(bo.get(d)||null,t,n,r,o,h)),!0;case"gotpointercapture":return d=h.pointerId,xo.set(d,wo(xo.get(d)||null,t,n,r,o,h)),!0}return!1}function pv(t){var n=Ei(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,ni(t.priority,function(){fv(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,ni(t.priority,function(){fv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Gd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ol=o,r.target.dispatchEvent(o),Ol=null}else return n=Un(r),n!==null&&hv(n),t.blockedOn=r,!1;n.shift()}return!0}function gv(t,n,r){kc(t)&&r.delete(n)}function ZE(){Kd=!1,es!==null&&kc(es)&&(es=null),ts!==null&&kc(ts)&&(ts=null),ns!==null&&kc(ns)&&(ns=null),bo.forEach(gv),xo.forEach(gv)}function Oc(t,n){t.blockedOn===n&&(t.blockedOn=null,Kd||(Kd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ZE)))}var Mc=null;function yv(t){Mc!==t&&(Mc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Qd(o||r)===null)continue;break}var d=Un(r);d!==null&&(t.splice(n,3),n-=3,Gf(d,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Jr(t){function n(k){return Oc(k,t)}es!==null&&Oc(es,t),ts!==null&&Oc(ts,t),ns!==null&&Oc(ns,t),bo.forEach(n),xo.forEach(n);for(var r=0;r<is.length;r++){var o=is[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<is.length&&(r=is[0],r.blockedOn===null);)pv(r),r.blockedOn===null&&is.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],d=r[o+1],_=h[qt]||null;if(typeof d=="function")_||yv(r);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[qt]||null)T=_.formAction;else if(Qd(h)!==null)continue}else T=_.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),yv(r)}}}function vv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function $d(t){this._internalRoot=t}Vc.prototype.render=$d.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=In();uv(r,o,t,n,null,null)},Vc.prototype.unmount=$d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;uv(t.current,2,null,t,null,null),gc(),n[xi]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var n=gu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<is.length&&n!==0&&n<is[r].priority;r++);is.splice(r,0,t),r===0&&pv(t)}};var _v=e.version;if(_v!=="19.2.1")throw Error(s(527,_v,"19.2.1"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var JE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{ei=Lc.inject(JE),Kt=Lc}catch(t){}}return To.createRoot=function(t,n){if(!l(t))throw Error(s(299));var r=!1,o="",h=Ay,d=Ny,_=Ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=lv(t,1,!1,null,null,r,o,null,h,d,_,vv),t[xi]=n.current,Cd(t),new $d(n)},To.hydrateRoot=function(t,n,r){if(!l(t))throw Error(s(299));var o=!1,h="",d=Ay,_=Ny,T=Ry,k=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(k=r.formState)),n=lv(t,1,!0,n,r!=null?r:null,o,h,k,d,_,T,vv),n.context=ov(null),r=n.current,o=In(),o=Ns(o),h=qa(o),h.callback=null,Ha(r,h,o),r=o,n.current.lanes=r,Ss(n,r),Li(n),t[xi]=n.current,Cd(t),new Vc(n)},To.version="19.2.1",To}var jv;function dT(){if(jv)return Zd.exports;jv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Zd.exports=fT(),Zd.exports}var mT=dT();var kv="popstate";function pT(a={}){function e(s,l){let{pathname:u,search:f,hash:p}=s.location;return xm("",{pathname:u,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:Bo(l)}return yT(e,i,null,a)}function mt(a,e){if(a===!1||a===null||typeof a=="undefined")throw new Error(e)}function fi(a,e){if(!a){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(i){}}}function gT(){return Math.random().toString(36).substring(2,10)}function Ov(a,e){return{usr:a.state,key:a.key,idx:e}}function xm(a,e,i=null,s){return Ee(oe({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof e=="string"?dl(e):e),{state:i,key:e&&e.key||s||gT()})}function Bo({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function dl(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function yT(a,e,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,p="POP",g=null,y=b();y==null&&(y=0,f.replaceState(Ee(oe({},f.state),{idx:y}),""));function b(){return(f.state||{idx:null}).idx}function E(){p="POP";let L=b(),ne=L==null?null:L-y;y=L,g&&g({action:p,location:G.location,delta:ne})}function A(L,ne){p="PUSH";let ae=xm(G.location,L,ne);y=b()+1;let X=Ov(ae,y),ce=G.createHref(ae);try{f.pushState(X,"",ce)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;l.location.assign(ce)}u&&g&&g({action:p,location:G.location,delta:1})}function j(L,ne){p="REPLACE";let ae=xm(G.location,L,ne);y=b();let X=Ov(ae,y),ce=G.createHref(ae);f.replaceState(X,"",ce),u&&g&&g({action:p,location:G.location,delta:0})}function z(L){return vT(L)}let G={get action(){return p},get location(){return a(l,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(kv,E),g=L,()=>{l.removeEventListener(kv,E),g=null}},createHref(L){return e(l,L)},createURL:z,encodeLocation(L){let ne=z(L);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:j,go(L){return f.go(L)}};return G}function vT(a,e=!1){let i="http://localhost";typeof window!="undefined"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),mt(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Bo(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function yb(a,e,i="/"){return _T(a,e,i,!1)}function _T(a,e,i,s){let l=typeof e=="string"?dl(e):e,u=pa(l.pathname||"/",i);if(u==null)return null;let f=vb(a);bT(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=IT(u);p=CT(f[g],y,s)}return p}function vb(a,e=[],i=[],s="",l=!1){let u=(f,p,g=l,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;mt(b.relativePath.startsWith(s),'Absolute route path "'.concat(b.relativePath,'" nested under path "').concat(s,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),b.relativePath=b.relativePath.slice(s.length)}let E=da([s,b.relativePath]),A=i.concat(b);f.children&&f.children.length>0&&(mt(f.index!==!0,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(E,'".')),vb(f.children,e,A,E,g)),!(f.path==null&&!f.index)&&e.push({path:E,score:NT(E,f.index),routesMeta:A})};return a.forEach((f,p)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,p);else for(let y of _b(f.path))u(f,p,!0,y)}),e}function _b(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=_b(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&p.push(...f),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function bT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:RT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var xT=/^:[\w-]+$/,wT=3,ET=2,TT=1,ST=10,AT=-2,Mv=a=>a==="*";function NT(a,e){let i=a.split("/"),s=i.length;return i.some(Mv)&&(s+=AT),e&&(s+=ET),i.filter(l=>!Mv(l)).reduce((l,u)=>l+(xT.test(u)?wT:u===""?TT:ST),s)}function RT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,l)=>s===e[l])?a[a.length-1]-e[e.length-1]:0}function CT(a,e,i=!1){let{routesMeta:s}=a,l={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",E=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),A=g.route;if(!E&&y&&i&&!s[s.length-1].route.index&&(E=sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!E)return null;Object.assign(l,E.params),f.push({params:l,pathname:da([u,E.pathname]),pathnameBase:VT(da([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=da([u,E.pathnameBase]))}return f}function sh(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=DT(a.path,a.caseSensitive,a.end),l=e.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:E},A)=>{if(b==="*"){let z=p[A]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const j=p[A];return E&&!j?y[b]=void 0:y[b]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function DT(a,e=!1,i=!0){fi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'.concat(a,'" will be treated as if it were "').concat(a.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(a.replace(/\*$/,"/*"),'".'));let s=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function IT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,'The URL path "'.concat(a,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(e,").")),a}}function pa(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var jT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kT=a=>jT.test(a);function OT(a,e="/"){let{pathname:i,search:s="",hash:l=""}=typeof a=="string"?dl(a):a,u;if(i)if(kT(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),fi(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(f," -> ").concat(i))}i.startsWith("/")?u=Vv(i.substring(1),"/"):u=Vv(i,e)}else u=e;return{pathname:u,search:LT(s),hash:UT(l)}}function Vv(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function tm(a,e,i,s){return"Cannot include a '".concat(a,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(s),"].  Please separate it out to the `to.").concat(i,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function MT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function bb(a){let e=MT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function xb(a,e,i,s=!1){let l;typeof a=="string"?l=dl(a):(l=oe({},a),mt(!l.pathname||!l.pathname.includes("?"),tm("?","pathname","search",l)),mt(!l.pathname||!l.pathname.includes("#"),tm("#","pathname","hash",l)),mt(!l.search||!l.search.includes("#"),tm("#","search","hash",l)));let u=a===""||l.pathname==="",f=u?"/":l.pathname,p;if(f==null)p=i;else{let E=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),E-=1;l.pathname=A.join("/")}p=E>=0?e[E]:"/"}let g=OT(l,p),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var da=a=>a.join("/").replace(/\/\/+/g,"/"),VT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),LT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,UT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function PT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function zT(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wb=["POST","PUT","PATCH","DELETE"];new Set(wb);var BT=["GET",...wb];new Set(BT);var ml=U.createContext(null);ml.displayName="DataRouter";var Eh=U.createContext(null);Eh.displayName="DataRouterState";U.createContext(!1);var Eb=U.createContext({isTransitioning:!1});Eb.displayName="ViewTransition";var qT=U.createContext(new Map);qT.displayName="Fetchers";var HT=U.createContext(null);HT.displayName="Await";var mi=U.createContext(null);mi.displayName="Navigation";var Jo=U.createContext(null);Jo.displayName="Location";var xa=U.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var Jm=U.createContext(null);Jm.displayName="RouteError";function FT(a,{relative:e}={}){mt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=U.useContext(mi),{hash:l,pathname:u,search:f}=eu(a,{relative:e}),p=u;return i!=="/"&&(p=u==="/"?i:da([i,u])),s.createHref({pathname:p,search:f,hash:l})}function Wo(){return U.useContext(Jo)!=null}function wa(){return mt(Wo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Jo).location}var Tb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sb(a){U.useContext(mi).static||U.useLayoutEffect(a)}function GT(){let{isDataRoute:a}=U.useContext(xa);return a?a2():QT()}function QT(){mt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let a=U.useContext(ml),{basename:e,navigator:i}=U.useContext(mi),{matches:s}=U.useContext(xa),{pathname:l}=wa(),u=JSON.stringify(bb(s)),f=U.useRef(!1);return Sb(()=>{f.current=!0}),U.useCallback((g,y={})=>{if(fi(f.current,Tb),!f.current)return;if(typeof g=="number"){i.go(g);return}let b=xb(g,JSON.parse(u),l,y.relative==="path");a==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:da([e,b.pathname])),(y.replace?i.replace:i.push)(b,y.state,y)},[e,i,u,l,a])}U.createContext(null);function eu(a,{relative:e}={}){let{matches:i}=U.useContext(xa),{pathname:s}=wa(),l=JSON.stringify(bb(i));return U.useMemo(()=>xb(a,JSON.parse(l),s,e==="path"),[a,l,s,e])}function KT(a,e){return Ab(a,e)}function Ab(a,e,i,s,l){var ae;mt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(mi),{matches:f}=U.useContext(xa),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",b=p?p.pathnameBase:"/",E=p&&p.route;{let X=E&&E.path||"";Nb(y,!E||X.endsWith("*")||X.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(y,'" (under <Route path="').concat(X,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(X,'"> to <Route path="').concat(X==="/"?"*":"".concat(X,"/*"),'">.'))}let A=wa(),j;if(e){let X=typeof e=="string"?dl(e):e;mt(b==="/"||((ae=X.pathname)==null?void 0:ae.startsWith(b)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(b,'" but pathname "').concat(X.pathname,'" was given in the `location` prop.')),j=X}else j=A;let z=j.pathname||"/",G=z;if(b!=="/"){let X=b.replace(/^\//,"").split("/");G="/"+z.replace(/^\//,"").split("/").slice(X.length).join("/")}let L=yb(a,{pathname:G});fi(E||L!=null,'No routes matched location "'.concat(j.pathname).concat(j.search).concat(j.hash,'" ')),fi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,'Matched leaf route at location "'.concat(j.pathname).concat(j.search).concat(j.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let ne=JT(L&&L.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:da([b,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?b:da([b,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,i,s,l);return e&&ne?U.createElement(Jo.Provider,{value:{location:oe({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:"POP"}},ne):ne}function $T(){let a=i2(),e=PT(a)?"".concat(a.status," ").concat(a.statusText):a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),i?U.createElement("pre",{style:l},i):null,f)}var YT=U.createElement($T,null),XT=class extends U.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?U.createElement(xa.Provider,{value:this.props.routeContext},U.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZT({routeContext:a,match:e,children:i}){let s=U.useContext(ml);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(xa.Provider,{value:a},i)}function JT(a,e=[],i=null,s=null,l=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i==null?void 0:i.errors;if(f!=null){let b=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);mt(b>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(f).join(","))),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,g=-1;if(i)for(let b=0;b<u.length;b++){let E=u[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=b),E.route.id){let{loaderData:A,errors:j}=i,z=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!j||j[E.route.id]===void 0);if(E.route.lazy||z){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=i&&s?(b,E)=>{var A,j,z;s(b,{location:i.location,params:(z=(j=(A=i.matches)==null?void 0:A[0])==null?void 0:j.params)!=null?z:{},unstable_pattern:zT(i.matches),errorInfo:E})}:void 0;return u.reduceRight((b,E,A)=>{let j,z=!1,G=null,L=null;i&&(j=f&&E.route.id?f[E.route.id]:void 0,G=E.route.errorElement||YT,p&&(g<0&&A===0?(Nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,L=null):g===A&&(z=!0,L=E.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,A+1)),ae=()=>{let X;return j?X=G:z?X=L:E.route.Component?X=U.createElement(E.route.Component,null):E.route.element?X=E.route.element:X=b,U.createElement(ZT,{match:E,routeContext:{outlet:b,matches:ne,isDataRoute:i!=null},children:X})};return i&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?U.createElement(XT,{location:i.location,revalidation:i.revalidation,component:G,error:j,children:ae(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ae()},null)}function Wm(a){return"".concat(a," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function WT(a){let e=U.useContext(ml);return mt(e,Wm(a)),e}function e2(a){let e=U.useContext(Eh);return mt(e,Wm(a)),e}function t2(a){let e=U.useContext(xa);return mt(e,Wm(a)),e}function ep(a){let e=t2(a),i=e.matches[e.matches.length-1];return mt(i.route.id,"".concat(a,' can only be used on routes that contain a unique "id"')),i.route.id}function n2(){return ep("useRouteId")}function i2(){var s;let a=U.useContext(Jm),e=e2("useRouteError"),i=ep("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function a2(){let{router:a}=WT("useNavigate"),e=ep("useNavigate"),i=U.useRef(!1);return Sb(()=>{i.current=!0}),U.useCallback((f,...p)=>K(null,[f,...p],function*(l,u={}){fi(i.current,Tb),i.current&&(typeof l=="number"?yield a.navigate(l):yield a.navigate(l,oe({fromRouteId:e},u)))}),[a,e])}var Lv={};function Nb(a,e,i){!e&&!Lv[a]&&(Lv[a]=!0,fi(!1,i))}U.memo(s2);function s2({routes:a,future:e,state:i,unstable_onError:s}){return Ab(a,void 0,i,s,e)}function Kc(a){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r2({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){mt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:p,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[p,l,u,f]);typeof i=="string"&&(i=dl(i));let{pathname:y="/",search:b="",hash:E="",state:A=null,key:j="default"}=i,z=U.useMemo(()=>{let G=pa(y,p);return G==null?null:{location:{pathname:G,search:b,hash:E,state:A,key:j},navigationType:s}},[p,y,b,E,A,j,s]);return fi(z!=null,'<Router basename="'.concat(p,'"> is not able to match the URL "').concat(y).concat(b).concat(E,"\" because it does not start with the basename, so the <Router> won't render anything.")),z==null?null:U.createElement(mi.Provider,{value:g},U.createElement(Jo.Provider,{children:e,value:z}))}function l2({children:a,location:e}){return KT(wm(a),e)}function wm(a,e=[]){let i=[];return U.Children.forEach(a,(s,l)=>{if(!U.isValidElement(s))return;let u=[...e,l];if(s.type===U.Fragment){i.push.apply(i,wm(s.props.children,u));return}mt(s.type===Kc,"[".concat(typeof s.type=="string"?s.type:s.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wm(s.props.children,u)),i.push(f)}),i}var $c="get",Yc="application/x-www-form-urlencoded";function Th(a){return typeof HTMLElement!="undefined"&&a instanceof HTMLElement}function o2(a){return Th(a)&&a.tagName.toLowerCase()==="button"}function u2(a){return Th(a)&&a.tagName.toLowerCase()==="form"}function c2(a){return Th(a)&&a.tagName.toLowerCase()==="input"}function h2(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function f2(a,e){return a.button===0&&(!e||e==="_self")&&!h2(a)}var Pc=null;function d2(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch(a){Pc=!0}return Pc}var m2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nm(a){return a!=null&&!m2.has(a)?(fi(!1,'"'.concat(a,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Yc,'"')),null):a}function p2(a,e){let i,s,l,u,f;if(u2(a)){let p=a.getAttribute("action");s=p?pa(p,e):null,i=a.getAttribute("method")||$c,l=nm(a.getAttribute("enctype"))||Yc,u=new FormData(a)}else if(o2(a)||c2(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(s=g?pa(g,e):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||$c,l=nm(a.getAttribute("formenctype"))||nm(p.getAttribute("enctype"))||Yc,u=new FormData(p,a),!d2()){let{name:y,type:b,value:E}=a;if(b==="image"){let A=y?"".concat(y,"."):"";u.append("".concat(A,"x"),"0"),u.append("".concat(A,"y"),"0")}else y&&u.append(y,E)}}else{if(Th(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=$c,s=null,l=Yc,f=a}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tp(a,e){if(a===!1||a===null||typeof a=="undefined")throw new Error(e)}function g2(a,e,i){let s=typeof a=="string"?new URL(a,typeof window=="undefined"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname="_root.".concat(i):e&&pa(s.pathname,e)==="/"?s.pathname="".concat(e.replace(/\/$/,""),"/_root.").concat(i):s.pathname="".concat(s.pathname.replace(/\/$/,""),".").concat(i),s}function y2(a,e){return K(this,null,function*(){if(a.id in e)return e[a.id];try{let i=yield import(a.module);return e[a.id]=i,i}catch(i){return console.error("Error loading route module `".concat(a.module,"`, reloading page...")),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function v2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}function _2(a,e,i){return K(this,null,function*(){let s=yield Promise.all(a.map(l=>K(null,null,function*(){let u=e.routes[l.route.id];if(u){let f=yield y2(u,i);return f.links?f.links():[]}return[]})));return E2(s.flat(1).filter(v2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?Ee(oe({},l),{rel:"prefetch",as:"style"}):Ee(oe({},l),{rel:"prefetch"})))})}function Uv(a,e,i,s,l,u){let f=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>{var b;return i[y].pathname!==g.pathname||((b=i[y].route.path)==null?void 0:b.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{var E;let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function b2(a,e,{includeHydrateFallback:i}={}){return x2(a.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function x2(a){return[...new Set(a)]}function w2(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function E2(a,e){let i=new Set;return new Set(e),a.reduce((s,l)=>{let u=JSON.stringify(w2(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}function Rb(){let a=U.useContext(ml);return tp(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function T2(){let a=U.useContext(Eh);return tp(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var np=U.createContext(void 0);np.displayName="FrameworkContext";function Cb(){let a=U.useContext(np);return tp(a,"You must render this element inside a <HydratedRouter> element"),a}function S2(a,e){let i=U.useContext(np),[s,l]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:E}=e,A=U.useRef(null);U.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let G=ne=>{ne.forEach(ae=>{f(ae.isIntersecting)})},L=new IntersectionObserver(G,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[a]),U.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let j=()=>{l(!0)},z=()=>{l(!1),f(!1)};return i?a!=="intent"?[u,A,{}]:[u,A,{onFocus:So(p,j),onBlur:So(g,z),onMouseEnter:So(y,j),onMouseLeave:So(b,z),onTouchStart:So(E,j)}]:[!1,A,{}]}function So(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function A2(i){var s=i,{page:a}=s,e=ss(s,["page"]);let{router:l}=Rb(),u=U.useMemo(()=>yb(l.routes,a,l.basename),[l.routes,a,l.basename]);return u?U.createElement(R2,oe({page:a,matches:u},e)):null}function N2(a){let{manifest:e,routeModules:i}=Cb(),[s,l]=U.useState([]);return U.useEffect(()=>{let u=!1;return _2(a,e,i).then(f=>{u||l(f)}),()=>{u=!0}},[a,e,i]),s}function R2(s){var l=s,{page:a,matches:e}=l,i=ss(l,["page","matches"]);let u=wa(),{manifest:f,routeModules:p}=Cb(),{basename:g}=Rb(),{loaderData:y,matches:b}=T2(),E=U.useMemo(()=>Uv(a,e,b,f,u,"data"),[a,e,b,f,u]),A=U.useMemo(()=>Uv(a,e,b,f,u,"assets"),[a,e,b,f,u]),j=U.useMemo(()=>{if(a===u.pathname+u.search+u.hash)return[];let L=new Set,ne=!1;if(e.forEach(X=>{var fe;let ce=f.routes[X.route.id];!ce||!ce.hasLoader||(!E.some(ye=>ye.route.id===X.route.id)&&X.route.id in y&&((fe=p[X.route.id])!=null&&fe.shouldRevalidate)||ce.hasClientLoader?ne=!0:L.add(X.route.id))}),L.size===0)return[];let ae=g2(a,g,"data");return ne&&L.size>0&&ae.searchParams.set("_routes",e.filter(X=>L.has(X.route.id)).map(X=>X.route.id).join(",")),[ae.pathname+ae.search]},[g,y,u,f,E,e,a,p]),z=U.useMemo(()=>b2(A,f),[A,f]),G=N2(A);return U.createElement(U.Fragment,null,j.map(L=>U.createElement("link",oe({key:L,rel:"prefetch",as:"fetch",href:L},i))),z.map(L=>U.createElement("link",oe({key:L,rel:"modulepreload",href:L},i))),G.map(({key:L,link:ne})=>U.createElement("link",oe({key:L,nonce:i.nonce},ne))))}function C2(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Db=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Db&&(window.__reactRouterVersion="7.10.1")}catch(a){}function D2({basename:a,children:e,unstable_useTransitions:i,window:s}){let l=U.useRef();l.current==null&&(l.current=pT({window:s,v5Compat:!0}));let u=l.current,[f,p]=U.useState({action:u.action,location:u.location}),g=U.useCallback(y=>{i===!1?p(y):U.startTransition(()=>p(y))},[i]);return U.useLayoutEffect(()=>u.listen(g),[u,g]),U.createElement(r2,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i===!0})}var Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tr=U.forwardRef(function(z,j){var G=z,{onClick:e,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:b,viewTransition:E}=G,A=ss(G,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:L,unstable_useTransitions:ne}=U.useContext(mi),ae=typeof y=="string"&&Ib.test(y),X,ce=!1;if(typeof y=="string"&&ae&&(X=y,Db))try{let R=new URL(window.location.href),S=y.startsWith("//")?new URL(R.protocol+y):new URL(y),ge=pa(S.pathname,L);S.origin===R.origin&&ge!=null?y=ge+S.search+S.hash:ce=!0}catch(R){fi(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let fe=FT(y,{relative:l}),[ye,I,C]=S2(s,A),D=O2(y,{replace:f,state:p,target:g,preventScrollReset:b,relative:l,viewTransition:E,unstable_useTransitions:ne});function V(R){e&&e(R),R.defaultPrevented||D(R)}let w=U.createElement("a",Ee(oe(oe({},A),C),{href:X||fe,onClick:ce||u?e:V,ref:C2(j,I),target:g,"data-discover":!ae&&i==="render"?"true":void 0}));return ye&&!ae?U.createElement(U.Fragment,null,w,U.createElement(A2,{page:fe})):w});tr.displayName="Link";var I2=U.forwardRef(function(E,b){var A=E,{"aria-current":e="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:p,children:g}=A,y=ss(A,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let j=eu(f,{relative:y.relative}),z=wa(),G=U.useContext(Eh),{navigator:L,basename:ne}=U.useContext(mi),ae=G!=null&&P2(j)&&p===!0,X=L.encodeLocation?L.encodeLocation(j).pathname:j.pathname,ce=z.pathname,fe=G&&G.navigation&&G.navigation.location?G.navigation.location.pathname:null;i||(ce=ce.toLowerCase(),fe=fe?fe.toLowerCase():null,X=X.toLowerCase()),fe&&ne&&(fe=pa(fe,ne)||fe);const ye=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let I=ce===X||!l&&ce.startsWith(X)&&ce.charAt(ye)==="/",C=fe!=null&&(fe===X||!l&&fe.startsWith(X)&&fe.charAt(X.length)==="/"),D={isActive:I,isPending:C,isTransitioning:ae},V=I?e:void 0,w;typeof s=="function"?w=s(D):w=[s,I?"active":null,C?"pending":null,ae?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(D):u;return U.createElement(tr,Ee(oe({},y),{"aria-current":V,className:w,ref:b,style:R,to:f,viewTransition:p}),typeof g=="function"?g(D):g)});I2.displayName="NavLink";var j2=U.forwardRef((z,j)=>{var G=z,{discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:l,state:u,method:f=$c,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:E}=G,A=ss(G,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let{unstable_useTransitions:L}=U.useContext(mi),ne=L2(),ae=U2(p,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",ce=typeof p=="string"&&Ib.test(p),fe=ye=>{if(g&&g(ye),ye.defaultPrevented)return;ye.preventDefault();let I=ye.nativeEvent.submitter,C=(I==null?void 0:I.getAttribute("formmethod"))||f,D=()=>ne(I||ye.currentTarget,{fetcherKey:e,method:C,navigate:i,replace:l,state:u,relative:y,preventScrollReset:b,viewTransition:E});L&&i!==!1?U.startTransition(()=>D()):D()};return U.createElement("form",Ee(oe({ref:j,method:X,action:ae,onSubmit:s?g:fe},A),{"data-discover":!ce&&a==="render"?"true":void 0}))});j2.displayName="Form";function k2(a){return"".concat(a," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function jb(a){let e=U.useContext(ml);return mt(e,k2(a)),e}function O2(a,{target:e,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_useTransitions:p}={}){let g=GT(),y=wa(),b=eu(a,{relative:u});return U.useCallback(E=>{if(f2(E,e)){E.preventDefault();let A=i!==void 0?i:Bo(y)===Bo(b),j=()=>g(a,{replace:A,state:s,preventScrollReset:l,relative:u,viewTransition:f});p?U.startTransition(()=>j()):j()}},[y,g,b,i,s,e,a,l,u,f,p])}var M2=0,V2=()=>"__".concat(String(++M2),"__");function L2(){let{router:a}=jb("useSubmit"),{basename:e}=U.useContext(mi),i=n2(),s=a.fetch,l=a.navigate;return U.useCallback((p,...g)=>K(null,[p,...g],function*(u,f={}){let{action:y,method:b,encType:E,formData:A,body:j}=p2(u,e);if(f.navigate===!1){let z=f.fetcherKey||V2();yield s(z,i,f.action||y,{preventScrollReset:f.preventScrollReset,formData:A,body:j,formMethod:f.method||b,formEncType:f.encType||E,flushSync:f.flushSync})}else yield l(f.action||y,{preventScrollReset:f.preventScrollReset,formData:A,body:j,formMethod:f.method||b,formEncType:f.encType||E,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})}),[s,l,e,i])}function U2(a,{relative:e}={}){let{basename:i}=U.useContext(mi),s=U.useContext(xa);mt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u=oe({},eu(a||".",{relative:e})),f=wa();if(a==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let b=p.toString();u.search=b?"?".concat(b):""}}return(!a||a===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:da([i,u.pathname])),Bo(u)}function P2(a,{relative:e}={}){let i=U.useContext(Eb);mt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jb("useViewTransitionState"),l=eu(a,{relative:e});if(!i.isTransitioning)return!1;let u=pa(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=pa(i.nextLocation.pathname,s)||i.nextLocation.pathname;return sh(l.pathname,f)!=null||sh(l.pathname,u)!=null}const z2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Pv=a=>{const e=B2(a);return e.charAt(0).toUpperCase()+e.slice(1)},kb=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),q2=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var H2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const F2=U.forwardRef((y,g)=>{var b=y,{color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f}=b,p=ss(b,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return U.createElement("svg",oe(oe(Ee(oe({ref:g},H2),{width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:kb("lucide",l)}),!u&&!q2(p)&&{"aria-hidden":"true"}),p),[...f.map(([E,A])=>U.createElement(E,A)),...Array.isArray(u)?u:[u]])});const Je=(a,e)=>{const i=U.forwardRef((f,u)=>{var p=f,{className:s}=p,l=ss(p,["className"]);return U.createElement(F2,oe({ref:u,iconNode:e,className:kb("lucide-".concat(z2(Pv(a))),"lucide-".concat(a),s)},l))});return i.displayName=Pv(a),i};const G2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Q2=Je("bell",G2);const K2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zv=Je("calendar",K2);const $2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Y2=Je("check",$2);const X2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Z2=Je("chevron-down",X2);const J2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ob=Je("chevron-left",J2);const W2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eS=Je("chevron-right",W2);const tS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nS=Je("circle-check-big",tS);const iS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],rh=Je("circle-plus",iS);const aS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sS=Je("circle-x",aS);const rS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lS=Je("copy",rS);const oS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],uS=Je("database",oS);const cS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Sh=Je("external-link",cS);const hS=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],fS=Je("ghost",hS);const dS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Bv=Je("info",dS);const mS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pS=Je("loader-circle",mS);const gS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yS=Je("lock",gS);const vS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mb=Je("map-pin",vS);const _S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xc=Je("plus",_S);const bS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xS=Je("save",bS);const wS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ES=Je("search",wS);const TS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SS=Je("settings",TS);const AS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],qv=Je("share-2",AS);const NS=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],RS=Je("share",NS);const CS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vb=Je("shield",CS);const DS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Hv=Je("square-pen",DS);const IS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zc=Je("trash-2",IS);const jS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lb=Je("upload",jS);const kS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],OS=Je("user",kS);const MS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],VS=Je("users",MS);const LS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sl=Je("x",LS),US=()=>{};var Fv={};const Ub=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},PS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[i++],f=a[i++],p=a[i++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=a[i++],f=a[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,p=f?a[l+1]:0,g=l+2<a.length,y=g?a[l+2]:0,b=u>>2,E=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,j=y&63;g||(j=64,f||(A=64)),s.push(i[b],i[E],i[A],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Ub(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):PS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const u=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const E=l<a.length?i[a.charAt(l)]:64;if(++l,u==null||p==null||y==null||E==null)throw new zS;const A=u<<2|p>>4;if(s.push(A),y!==64){const j=p<<4&240|y>>2;if(s.push(j),E!==64){const z=y<<6&192|E;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class zS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BS=function(a){const e=Ub(a);return Pb.encodeByteArray(e,!0)},lh=function(a){return BS(a).replace(/\./g,"")},qS=function(a){try{return Pb.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HS(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}const FS=()=>HS().__FIREBASE_DEFAULTS__,GS=()=>{if(typeof process=="undefined"||typeof Fv=="undefined")return;const a=Fv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},QS=()=>{if(typeof document=="undefined")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const e=a&&qS(a[1]);return e&&JSON.parse(e)},ip=()=>{try{return US()||FS()||GS()||QS()}catch(a){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(a));return}},KS=a=>{var e,i;return(i=(e=ip())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},zb=a=>{const e=KS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Bb=()=>{var a;return(a=ip())==null?void 0:a.config};class $S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function tu(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function qb(a){return K(this,null,function*(){return(yield fetch(a,{credentials:"include"})).ok})}function Hb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=oe({iss:"https://securetoken.google.com/".concat(s),aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},a);return[lh(JSON.stringify(i)),lh(JSON.stringify(f)),""].join(".")}const Oo={};function YS(){const a={prod:[],emulator:[]};for(const e of Object.keys(Oo))Oo[e]?a.emulator.push(e):a.prod.push(e);return a}function XS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Gv=!1;function Fb(a,e){if(typeof window=="undefined"||typeof document=="undefined"||!tu(window.location.host)||Oo[a]===e||Oo[a]||Gv)return;Oo[a]=e;function i(A){return"__firebase__banner__".concat(A)}const s="__firebase__banner",u=YS().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Gv=!0,f()},A}function b(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=XS(s),j=i("text"),z=document.getElementById(j)||document.createElement("span"),G=i("learnmore"),L=document.getElementById(G)||document.createElement("a"),ne=i("preprendIcon"),ae=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;p(X),b(L,G);const ce=y();g(ae,ne),X.append(ae,z,L,ce),document.body.appendChild(X)}u?(z.innerText="Preview backend disconnected.",ae.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(ae.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',z.innerText="Preview backend running in this workspace."),z.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function ZS(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JS(){var e;const a=(e=ip())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(i){return!1}}function WS(){return!JS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gb(){try{return typeof indexedDB=="object"}catch(a){return!1}}function Qb(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}function eA(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}const tA="FirebaseError";class _s extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=tA,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ah.prototype.create)}}class Ah{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l="".concat(this.service,"/").concat(e),u=this.errors[e],f=u?nA(u,s):"Error",p="".concat(this.serviceName,": ").concat(f," (").concat(l,").");return new _s(l,p,s)}}function nA(a,e){return a.replace(iA,(i,s)=>{const l=e[s];return l!=null?String(l):"<".concat(s,"?>")})}const iA=/\{\$([^}]+)}/g;function oh(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=a[l],f=e[l];if(Qv(u)&&Qv(f)){if(!oh(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function Qv(a){return a!==null&&typeof a=="object"}function tn(a){return a&&a._delegate?a._delegate:a}class Fi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Js="[DEFAULT]";class aA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new $S;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch(l){}}return this.instancesDeferred.get(i).promise}getImmediate(e){var l;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(l=e==null?void 0:e.optional)!=null?l:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(rA(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch(i){}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch(u){}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return K(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error("".concat(this.name,"(").concat(s,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(l)}return l}onInit(e,i){var f;const s=this.normalizeInstanceIdentifier(i),l=(f=this.onInitCallbacks.get(s))!=null?f:new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch(u){}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch(l){}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sA(a){return a===Js?void 0:a}function rA(a){return a.instantiationMode==="EAGER"}class lA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ge||(Ge={}));const oA={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},uA=Ge.INFO,cA={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},hA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),l=cA[e];if(l)console[l]("[".concat(s,"]  ").concat(a.name,":"),...i);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class Kb{constructor(e){this.name=e,this._logLevel=uA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const fA=(a,e)=>e.some(i=>a instanceof i);let Kv,$v;function dA(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $b=new WeakMap,Em=new WeakMap,Yb=new WeakMap,im=new WeakMap,ap=new WeakMap;function pA(a){const e=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(ma(a.result)),l()},f=()=>{s(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&$b.set(i,a)}).catch(()=>{}),ap.set(e,a),e}function gA(a){if(Em.has(a))return;const e=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Em.set(a,e)}let Tm={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Em.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Yb.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ma(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function yA(a){Tm=a(Tm)}function vA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(am(this),e,...i);return Yb.set(s,e.sort?e.sort():[e]),ma(s)}:mA().includes(a)?function(...e){return a.apply(am(this),e),ma($b.get(this))}:function(...e){return ma(a.apply(am(this),e))}}function _A(a){return typeof a=="function"?vA(a):(a instanceof IDBTransaction&&gA(a),fA(a,dA())?new Proxy(a,Tm):a)}function ma(a){if(a instanceof IDBRequest)return pA(a);if(im.has(a))return im.get(a);const e=_A(a);return e!==a&&(im.set(a,e),ap.set(e,a)),e}const am=a=>ap.get(a);function Nh(a,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),p=ma(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ma(f.result),g.oldVersion,g.newVersion,ma(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}function sm(a,{blocked:e}={}){const i=indexedDB.deleteDatabase(a);return e&&i.addEventListener("blocked",s=>e(s.oldVersion,s)),ma(i).then(()=>{})}const bA=["get","getKey","getAll","getAllKeys","count"],xA=["put","add","delete","clear"],rm=new Map;function Yv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=xA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||bA.includes(i)))return;const u=function(f,...p){return K(this,null,function*(){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(yield Promise.all([y[i](...p),l&&g.done]))[0]})};return rm.set(e,u),u}yA(a=>Ee(oe({},a),{get:(e,i,s)=>Yv(e,i)||a.get(e,i,s),has:(e,i)=>!!Yv(e,i)||a.has(e,i)}));class wA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(EA(i)){const s=i.getImmediate();return"".concat(s.library,"/").concat(s.version)}else return null}).filter(i=>i).join(" ")}}function EA(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",Xv="0.14.6";const ga=new Kb("@firebase/app"),TA="@firebase/app-compat",SA="@firebase/analytics-compat",AA="@firebase/analytics",NA="@firebase/app-check-compat",RA="@firebase/app-check",CA="@firebase/auth",DA="@firebase/auth-compat",IA="@firebase/database",jA="@firebase/data-connect",kA="@firebase/database-compat",OA="@firebase/functions",MA="@firebase/functions-compat",VA="@firebase/installations",LA="@firebase/installations-compat",UA="@firebase/messaging",PA="@firebase/messaging-compat",zA="@firebase/performance",BA="@firebase/performance-compat",qA="@firebase/remote-config",HA="@firebase/remote-config-compat",FA="@firebase/storage",GA="@firebase/storage-compat",QA="@firebase/firestore",KA="@firebase/ai",$A="@firebase/firestore-compat",YA="firebase",XA="12.6.0";const Am="[DEFAULT]",ZA={[Sm]:"fire-core",[TA]:"fire-core-compat",[AA]:"fire-analytics",[SA]:"fire-analytics-compat",[RA]:"fire-app-check",[NA]:"fire-app-check-compat",[CA]:"fire-auth",[DA]:"fire-auth-compat",[IA]:"fire-rtdb",[jA]:"fire-data-connect",[kA]:"fire-rtdb-compat",[OA]:"fire-fn",[MA]:"fire-fn-compat",[VA]:"fire-iid",[LA]:"fire-iid-compat",[UA]:"fire-fcm",[PA]:"fire-fcm-compat",[zA]:"fire-perf",[BA]:"fire-perf-compat",[qA]:"fire-rc",[HA]:"fire-rc-compat",[FA]:"fire-gcs",[GA]:"fire-gcs-compat",[QA]:"fire-fst",[$A]:"fire-fst-compat",[KA]:"fire-vertex","fire-js":"fire-js",[YA]:"fire-js-all"};const uh=new Map,JA=new Map,Nm=new Map;function Zv(a,e){try{a.container.addComponent(e)}catch(i){ga.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(a.name),i)}}function ya(a){const e=a.name;if(Nm.has(e))return ga.debug("There were multiple attempts to register component ".concat(e,".")),!1;Nm.set(e,a);for(const i of uh.values())Zv(i,a);for(const i of JA.values())Zv(i,a);return!0}function nu(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Xb(a){return a==null?!1:a.settings!==void 0}const WA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new Ah("app","Firebase",WA);class eN{constructor(e,i,s){this._isDeleted=!1,this._options=oe({},e),this._config=oe({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const Zb=XA;function Jb(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=oe({name:Am,automaticDataCollectionEnabled:!0},e),l=s.name;if(typeof l!="string"||!l)throw os.create("bad-app-name",{appName:String(l)});if(i||(i=Bb()),!i)throw os.create("no-options");const u=uh.get(l);if(u){if(oh(i,u.options)&&oh(s,u.config))return u;throw os.create("duplicate-app",{appName:l})}const f=new lA(l);for(const g of Nm.values())f.addComponent(g);const p=new eN(i,s,f);return uh.set(l,p),p}function sp(a=Am){const e=uh.get(a);if(!e&&a===Am&&Bb())return Jb();if(!e)throw os.create("no-app",{appName:a});return e}function Zn(a,e,i){var f;let s=(f=ZA[a])!=null?f:a;i&&(s+="-".concat(i));const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const p=['Unable to register library "'.concat(s,'" with version "').concat(e,'":')];l&&p.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),l&&u&&p.push("and"),u&&p.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),ga.warn(p.join(" "));return}ya(new Fi("".concat(s,"-version"),()=>({library:s,version:e}),"VERSION"))}const tN="firebase-heartbeat-database",nN=1,qo="firebase-heartbeat-store";let lm=null;function Wb(){return lm||(lm=Nh(tN,nN,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(qo)}catch(i){console.warn(i)}}}}).catch(a=>{throw os.create("idb-open",{originalErrorMessage:a.message})})),lm}function iN(a){return K(this,null,function*(){try{const i=(yield Wb()).transaction(qo),s=yield i.objectStore(qo).get(ex(a));return yield i.done,s}catch(e){if(e instanceof _s)ga.warn(e.message);else{const i=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ga.warn(i.message)}}})}function Jv(a,e){return K(this,null,function*(){try{const s=(yield Wb()).transaction(qo,"readwrite");yield s.objectStore(qo).put(e,ex(a)),yield s.done}catch(i){if(i instanceof _s)ga.warn(i.message);else{const s=os.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ga.warn(s.message)}}})}function ex(a){return"".concat(a.name,"!").concat(a.options.appId)}const aN=1024,sN=30;class rN{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new oN(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}triggerHeartbeat(){return K(this,null,function*(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Wv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>sN){const f=uN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ga.warn(s)}})}getHeartbeatsHeader(){return K(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Wv(),{heartbeatsToSend:s,unsentEntries:l}=lN(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ga.warn(i),""}})}}function Wv(){return new Date().toISOString().substring(0,10)}function lN(a,e=aN){const i=[];let s=a.slice();for(const l of a){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),e_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),e_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class oN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return K(this,null,function*(){return Gb()?Qb().then(()=>!0).catch(()=>!1):!1})}read(){return K(this,null,function*(){if(yield this._canUseIndexedDBPromise){const i=yield iN(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return K(this,null,function*(){var s;if(yield this._canUseIndexedDBPromise){const l=yield this.read();return Jv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!=null?s:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return K(this,null,function*(){var s;if(yield this._canUseIndexedDBPromise){const l=yield this.read();return Jv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!=null?s:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return})}}function e_(a){return lh(JSON.stringify({version:2,heartbeats:a})).length}function uN(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}function cN(a){ya(new Fi("platform-logger",e=>new wA(e),"PRIVATE")),ya(new Fi("heartbeat",e=>new rN(e),"PRIVATE")),Zn(Sm,Xv,a),Zn(Sm,Xv,"esm2020"),Zn("fire-js","")}cN("");var hN="firebase",fN="12.6.0";Zn(hN,fN,"app");var t_=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};var us,tx;(function(){var a;function e(I,C){function D(){}D.prototype=C.prototype,I.F=C.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(V,w,R){for(var S=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)S[ge-2]=arguments[ge];return C.prototype[w].apply(V,S)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,C,D){D||(D=0);const V=Array(16);if(typeof C=="string")for(var w=0;w<16;++w)V[w]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(w=0;w<16;++w)V[w]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=I.g[0],D=I.g[1],w=I.g[2];let R=I.g[3],S;S=C+(R^D&(w^R))+V[0]+3614090360&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(w^C&(D^w))+V[1]+3905402710&4294967295,R=C+(S<<12&4294967295|S>>>20),S=w+(D^R&(C^D))+V[2]+606105819&4294967295,w=R+(S<<17&4294967295|S>>>15),S=D+(C^w&(R^C))+V[3]+3250441966&4294967295,D=w+(S<<22&4294967295|S>>>10),S=C+(R^D&(w^R))+V[4]+4118548399&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(w^C&(D^w))+V[5]+1200080426&4294967295,R=C+(S<<12&4294967295|S>>>20),S=w+(D^R&(C^D))+V[6]+2821735955&4294967295,w=R+(S<<17&4294967295|S>>>15),S=D+(C^w&(R^C))+V[7]+4249261313&4294967295,D=w+(S<<22&4294967295|S>>>10),S=C+(R^D&(w^R))+V[8]+1770035416&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(w^C&(D^w))+V[9]+2336552879&4294967295,R=C+(S<<12&4294967295|S>>>20),S=w+(D^R&(C^D))+V[10]+4294925233&4294967295,w=R+(S<<17&4294967295|S>>>15),S=D+(C^w&(R^C))+V[11]+2304563134&4294967295,D=w+(S<<22&4294967295|S>>>10),S=C+(R^D&(w^R))+V[12]+1804603682&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(w^C&(D^w))+V[13]+4254626195&4294967295,R=C+(S<<12&4294967295|S>>>20),S=w+(D^R&(C^D))+V[14]+2792965006&4294967295,w=R+(S<<17&4294967295|S>>>15),S=D+(C^w&(R^C))+V[15]+1236535329&4294967295,D=w+(S<<22&4294967295|S>>>10),S=C+(w^R&(D^w))+V[1]+4129170786&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^w&(C^D))+V[6]+3225465664&4294967295,R=C+(S<<9&4294967295|S>>>23),S=w+(C^D&(R^C))+V[11]+643717713&4294967295,w=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(w^R))+V[0]+3921069994&4294967295,D=w+(S<<20&4294967295|S>>>12),S=C+(w^R&(D^w))+V[5]+3593408605&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^w&(C^D))+V[10]+38016083&4294967295,R=C+(S<<9&4294967295|S>>>23),S=w+(C^D&(R^C))+V[15]+3634488961&4294967295,w=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(w^R))+V[4]+3889429448&4294967295,D=w+(S<<20&4294967295|S>>>12),S=C+(w^R&(D^w))+V[9]+568446438&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^w&(C^D))+V[14]+3275163606&4294967295,R=C+(S<<9&4294967295|S>>>23),S=w+(C^D&(R^C))+V[3]+4107603335&4294967295,w=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(w^R))+V[8]+1163531501&4294967295,D=w+(S<<20&4294967295|S>>>12),S=C+(w^R&(D^w))+V[13]+2850285829&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^w&(C^D))+V[2]+4243563512&4294967295,R=C+(S<<9&4294967295|S>>>23),S=w+(C^D&(R^C))+V[7]+1735328473&4294967295,w=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(w^R))+V[12]+2368359562&4294967295,D=w+(S<<20&4294967295|S>>>12),S=C+(D^w^R)+V[5]+4294588738&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^w)+V[8]+2272392833&4294967295,R=C+(S<<11&4294967295|S>>>21),S=w+(R^C^D)+V[11]+1839030562&4294967295,w=R+(S<<16&4294967295|S>>>16),S=D+(w^R^C)+V[14]+4259657740&4294967295,D=w+(S<<23&4294967295|S>>>9),S=C+(D^w^R)+V[1]+2763975236&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^w)+V[4]+1272893353&4294967295,R=C+(S<<11&4294967295|S>>>21),S=w+(R^C^D)+V[7]+4139469664&4294967295,w=R+(S<<16&4294967295|S>>>16),S=D+(w^R^C)+V[10]+3200236656&4294967295,D=w+(S<<23&4294967295|S>>>9),S=C+(D^w^R)+V[13]+681279174&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^w)+V[0]+3936430074&4294967295,R=C+(S<<11&4294967295|S>>>21),S=w+(R^C^D)+V[3]+3572445317&4294967295,w=R+(S<<16&4294967295|S>>>16),S=D+(w^R^C)+V[6]+76029189&4294967295,D=w+(S<<23&4294967295|S>>>9),S=C+(D^w^R)+V[9]+3654602809&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^w)+V[12]+3873151461&4294967295,R=C+(S<<11&4294967295|S>>>21),S=w+(R^C^D)+V[15]+530742520&4294967295,w=R+(S<<16&4294967295|S>>>16),S=D+(w^R^C)+V[2]+3299628645&4294967295,D=w+(S<<23&4294967295|S>>>9),S=C+(w^(D|~R))+V[0]+4096336452&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~w))+V[7]+1126891415&4294967295,R=C+(S<<10&4294967295|S>>>22),S=w+(C^(R|~D))+V[14]+2878612391&4294967295,w=R+(S<<15&4294967295|S>>>17),S=D+(R^(w|~C))+V[5]+4237533241&4294967295,D=w+(S<<21&4294967295|S>>>11),S=C+(w^(D|~R))+V[12]+1700485571&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~w))+V[3]+2399980690&4294967295,R=C+(S<<10&4294967295|S>>>22),S=w+(C^(R|~D))+V[10]+4293915773&4294967295,w=R+(S<<15&4294967295|S>>>17),S=D+(R^(w|~C))+V[1]+2240044497&4294967295,D=w+(S<<21&4294967295|S>>>11),S=C+(w^(D|~R))+V[8]+1873313359&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~w))+V[15]+4264355552&4294967295,R=C+(S<<10&4294967295|S>>>22),S=w+(C^(R|~D))+V[6]+2734768916&4294967295,w=R+(S<<15&4294967295|S>>>17),S=D+(R^(w|~C))+V[13]+1309151649&4294967295,D=w+(S<<21&4294967295|S>>>11),S=C+(w^(D|~R))+V[4]+4149444226&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~w))+V[11]+3174756917&4294967295,R=C+(S<<10&4294967295|S>>>22),S=w+(C^(R|~D))+V[2]+718787259&4294967295,w=R+(S<<15&4294967295|S>>>17),S=D+(R^(w|~C))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(w+(S<<21&4294967295|S>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+R&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const D=C-this.blockSize,V=this.C;let w=this.h,R=0;for(;R<C;){if(w==0)for(;R<=D;)l(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<C;)if(V[w++]=I.charCodeAt(R++),w==this.blockSize){l(this,V),w=0;break}}else for(;R<C;)if(V[w++]=I[R++],w==this.blockSize){l(this,V),w=0;break}}this.h=w,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)I[C++]=this.g[D]>>>V&255;return I};function u(I,C){var D=p;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=C(I)}function f(I,C){this.h=C;const D=[];let V=!0;for(let w=I.length-1;w>=0;w--){const R=I[w]|0;V&&R==C||(D[w]=R,V=!1)}this.g=D}var p={};function g(I){return-128<=I&&I<128?u(I,function(C){return new f([C|0],C<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return L(y(-I));const C=[];let D=1;for(let V=0;I>=D;V++)C[V]=I/D|0,D*=4294967296;return new f(C,0)}function b(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return L(b(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(C,8));let V=E;for(let R=0;R<I.length;R+=8){var w=Math.min(8,I.length-R);const S=parseInt(I.substring(R,R+w),C);w<8?(w=y(Math.pow(C,w)),V=V.j(w).add(y(S))):(V=V.j(D),V=V.add(y(S)))}return V}var E=g(0),A=g(1),j=g(16777216);a=f.prototype,a.m=function(){if(G(this))return-L(this).m();let I=0,C=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);I+=(V>=0?V:4294967296+V)*C,C*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(G(this))return"-"+L(this).toString(I);const C=y(Math.pow(I,6));var D=this;let V="";for(;;){const w=ce(D,C).g;D=ne(D,w.j(C));let R=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=w,z(D))return R+V;for(;R.length<6;)R="0"+R;V=R+V}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function G(I){return I.h==-1}a.l=function(I){return I=ne(this,I),G(I)?-1:z(I)?0:1};function L(I){const C=I.g.length,D=[];for(let V=0;V<C;V++)D[V]=~I.g[V];return new f(D,~I.h).add(A)}a.abs=function(){return G(this)?L(this):this},a.add=function(I){const C=Math.max(this.g.length,I.g.length),D=[];let V=0;for(let w=0;w<=C;w++){let R=V+(this.i(w)&65535)+(I.i(w)&65535),S=(R>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);V=S>>>16,R&=65535,S&=65535,D[w]=S<<16|R}return new f(D,D[D.length-1]&-2147483648?-1:0)};function ne(I,C){return I.add(L(C))}a.j=function(I){if(z(this)||z(I))return E;if(G(this))return G(I)?L(this).j(L(I)):L(L(this).j(I));if(G(I))return L(this.j(L(I)));if(this.l(j)<0&&I.l(j)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,D=[];for(var V=0;V<2*C;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let w=0;w<I.g.length;w++){const R=this.i(V)>>>16,S=this.i(V)&65535,ge=I.i(w)>>>16,Ae=I.i(w)&65535;D[2*V+2*w]+=S*Ae,ae(D,2*V+2*w),D[2*V+2*w+1]+=R*Ae,ae(D,2*V+2*w+1),D[2*V+2*w+1]+=S*ge,ae(D,2*V+2*w+1),D[2*V+2*w+2]+=R*ge,ae(D,2*V+2*w+2)}for(I=0;I<C;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=C;I<2*C;I++)D[I]=0;return new f(D,0)};function ae(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function X(I,C){this.g=I,this.h=C}function ce(I,C){if(z(C))throw Error("division by zero");if(z(I))return new X(E,E);if(G(I))return C=ce(L(I),C),new X(L(C.g),L(C.h));if(G(C))return C=ce(I,L(C)),new X(L(C.g),C.h);if(I.g.length>30){if(G(I)||G(C))throw Error("slowDivide_ only works with positive integers.");for(var D=A,V=C;V.l(I)<=0;)D=fe(D),V=fe(V);var w=ye(D,1),R=ye(V,1);for(V=ye(V,2),D=ye(D,2);!z(V);){var S=R.add(V);S.l(I)<=0&&(w=w.add(D),R=S),V=ye(V,1),D=ye(D,1)}return C=ne(I,w.j(C)),new X(w,C)}for(w=E;I.l(C)>=0;){for(D=Math.max(1,Math.floor(I.m()/C.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),R=y(D),S=R.j(C);G(S)||S.l(I)>0;)D-=V,R=y(D),S=R.j(C);z(R)&&(R=A),w=w.add(R),I=ne(I,S)}return new X(w,I)}a.B=function(I){return ce(this,I).h},a.and=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<C;V++)D[V]=this.i(V)&I.i(V);return new f(D,this.h&I.h)},a.or=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<C;V++)D[V]=this.i(V)|I.i(V);return new f(D,this.h|I.h)},a.xor=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<C;V++)D[V]=this.i(V)^I.i(V);return new f(D,this.h^I.h)};function fe(I){const C=I.g.length+1,D=[];for(let V=0;V<C;V++)D[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(D,I.h)}function ye(I,C){const D=C>>5;C%=32;const V=I.g.length-D,w=[];for(let R=0;R<V;R++)w[R]=C>0?I.i(R+D)>>>C|I.i(R+D+1)<<32-C:I.i(R+D);return new f(w,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tx=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,us=f}).apply(typeof t_!="undefined"?t_:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var zc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};var nx,Ro,ix,Jc,Rm,ax,sx,rx;(function(){var a,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var v=0;v<c.length;++v){var x=c[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=i(this);function l(c,v){if(v)e:{var x=s;c=c.split(".");for(var N=0;N<c.length-1;N++){var B=c[N];if(!(B in x))break e;x=x[B]}c=c[c.length-1],N=x[c],v=v(N),v!=N&&v!=null&&e(x,c,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(v){var x=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&x.push([N,v[N]]);return x}});var u=u||{},f=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,x){return c.call.apply(c.bind,arguments)}function y(c,v,x){return y=g,y.apply(null,arguments)}function b(c,v){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function E(c,v){function x(){}x.prototype=v.prototype,c.Z=v.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(N,B,Q){for(var le=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)le[ke-2]=arguments[ke];return v.prototype[B].apply(N,le)}}var A=typeof AsyncContext!="undefined"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const v=c.length;if(v>0){const x=Array(v);for(let N=0;N<v;N++)x[N]=c[N];return x}return[]}function z(c,v){for(let N=1;N<arguments.length;N++){const B=arguments[N];var x=typeof B;if(x=x!="object"?x:B?Array.isArray(B)?"array":x:"null",x=="array"||x=="object"&&typeof B.length=="number"){x=c.length||0;const Q=B.length||0;c.length=x+Q;for(let le=0;le<Q;le++)c[x+le]=B[le]}else c.push(B)}}class G{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=I;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ae{constructor(){this.h=this.g=null}add(v,x){const N=X.get();N.set(v,x),this.h?this.h.next=N:this.g=N,this.h=N}}var X=new G(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ye=!1,I=new ae,C=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(D)}};function D(){for(var c;c=ne();){try{c.h.call(c.g)}catch(x){L(x)}var v=X;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}ye=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};f.addEventListener("test",x,v),f.removeEventListener("test",x,v)}catch(x){}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function ge(c,v){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}E(ge,w),ge.prototype.init=function(c,v){const x=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(x=="mouseover"?v=c.fromElement:x=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(c,v,x,N,B){this.listener=c,this.proxy=null,this.src=v,this.type=x,this.capture=!!N,this.ha=B,this.key=++Y,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,v,x){for(const N in c)v.call(x,c[N],N,c)}function Ve(c,v){for(const x in c)v.call(void 0,c[x],x,c)}function O(c){const v={};for(const x in c)v[x]=c[x];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(c,v){let x,N;for(let B=1;B<arguments.length;B++){N=arguments[B];for(x in N)c[x]=N[x];for(let Q=0;Q<J.length;Q++)x=J[Q],Object.prototype.hasOwnProperty.call(N,x)&&(c[x]=N[x])}}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,v,x,N,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const le=Te(c,v,N,B);return le>-1?(v=c[le],x||(v.fa=!1)):(v=new re(v,this.src,Q,!!N,B),v.fa=x,c.push(v)),v};function be(c,v){const x=v.type;if(x in c.g){var N=c.g[x],B=Array.prototype.indexOf.call(N,v,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(N,B,1),Q&&(ve(v),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Te(c,v,x,N){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==v&&Q.capture==!!x&&Q.ha==N)return B}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),me={};function Qe(c,v,x,N,B){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)Qe(c,v[Q],x,N,B);return null}return x=bl(x),c&&c[Ae]?c.J(v,x,p(N)?!!N.capture:!1,B):Mn(c,v,x,!1,N,B)}function Mn(c,v,x,N,B,Q){if(!v)throw Error("Invalid event type");const le=p(B)?!!B.capture:!!B;let ke=gi(c);if(ke||(c[Ie]=ke=new se(c)),x=ke.add(v,x,N,le,Q),x.proxy)return x;if(N=pi(),x.proxy=N,N.src=c,N.listener=x,c.addEventListener)R||(B=le),B===void 0&&(B=!1),c.addEventListener(v.toString(),N,B);else if(c.attachEvent)c.attachEvent(At(v.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function pi(){function c(x){return v.call(c.src,c.listener,x)}const v=Vn;return c}function Ea(c,v,x,N,B){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Ea(c,v[Q],x,N,B);else N=p(N)?!!N.capture:!!N,x=bl(x),c&&c[Ae]?(c=c.i,Q=String(v).toString(),Q in c.g&&(v=c.g[Q],x=Te(v,x,N,B),x>-1&&(ve(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete c.g[Q],c.h--)))):c&&(c=gi(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Te(v,x,N,B)),(x=c>-1?v[c]:null)&&Ta(x))}function Ta(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ae])be(v.i,c);else{var x=c.type,N=c.proxy;v.removeEventListener?v.removeEventListener(x,N,c.capture):v.detachEvent?v.detachEvent(At(x),N):v.addListener&&v.removeListener&&v.removeListener(N),(x=gi(v))?(be(x,c),x.h==0&&(x.src=null,v[Ie]=null)):ve(c)}}}function At(c){return c in me?me[c]:me[c]="on"+c}function Vn(c,v){if(c.da)c=!0;else{v=new ge(v,this);const x=c.listener,N=c.ha||c.src;c.fa&&Ta(c),c=x.call(N,v)}return c}function gi(c){return c=c[Ie],c instanceof se?c:null}var Sa="__closure_events_fn_"+(Math.random()*1e9>>>0);function bl(c){return typeof c=="function"?c:(c[Sa]||(c[Sa]=function(v){return c.handleEvent(v)}),c[Sa])}function Nt(){V.call(this),this.i=new se(this),this.M=this,this.G=null}E(Nt,V),Nt.prototype[Ae]=!0,Nt.prototype.removeEventListener=function(c,v,x,N){Ea(this,c,v,x,N)};function Pt(c,v){var x,N=c.G;if(N)for(x=[];N;N=N.G)x.push(N);if(c=c.M,N=v.type||v,typeof v=="string")v=new w(v,c);else if(v instanceof w)v.target=v.target||c;else{var B=v;v=new w(N,c),ue(v,B)}B=!0;let Q,le;if(x)for(le=x.length-1;le>=0;le--)Q=v.g=x[le],B=Aa(Q,N,!0,v)&&B;if(Q=v.g=c,B=Aa(Q,N,!0,v)&&B,B=Aa(Q,N,!1,v)&&B,x)for(le=0;le<x.length;le++)Q=v.g=x[le],B=Aa(Q,N,!1,v)&&B}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const x=c.g[v];for(let N=0;N<x.length;N++)ve(x[N]);delete c.g[v],c.h--}}this.G=null},Nt.prototype.J=function(c,v,x,N){return this.i.add(String(c),v,!1,x,N)},Nt.prototype.K=function(c,v,x,N){return this.i.add(String(c),v,!0,x,N)};function Aa(c,v,x,N){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let Q=0;Q<v.length;++Q){const le=v[Q];if(le&&!le.da&&le.capture==x){const ke=le.listener,wt=le.ha||le.src;le.fa&&be(c.i,le),B=ke.call(wt,N)!==!1&&B}}return B&&!N.defaultPrevented}function Xh(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(c,v||0)}function uu(c){c.g=Xh(()=>{c.g=null,c.i&&(c.i=!1,uu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class un extends V{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){V.call(this),this.h=c,this.g={}}E(Es,V);var xl=[];function wl(c){je(c.g,function(v,x){this.g.hasOwnProperty(x)&&Ta(v)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),wl(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=f.JSON.stringify,Zh=f.JSON.parse,cu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function hu(){}function fu(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){w.call(this,"d")}E(Kt,w);function Ln(){w.call(this,"c")}E(Ln,w);var xt={},du=null;function fr(){return du=du||new Nt}xt.Ia="serverreachability";function mu(c){w.call(this,xt.Ia,c)}E(mu,w);function yi(c){const v=fr();Pt(v,new mu(v))}xt.STAT_EVENT="statevent";function Ts(c,v){w.call(this,xt.STAT_EVENT,c),this.stat=v}E(Ts,w);function Rt(c){const v=fr();Pt(v,new Ts(v,c))}xt.Ja="timingevent";function vi(c,v){w.call(this,xt.Ja,c),this.size=v}E(vi,w);function _i(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Jh(c,v,x,N,B,Q){c.info(function(){if(c.g)if(Q){var le="",ke=Q.split("&");for(let Ye=0;Ye<ke.length;Ye++){var wt=ke[Ye].split("=");if(wt.length>1){const ft=wt[0];wt=wt[1];const Bn=ft.split("_");le=Bn.length>=2&&Bn[1]=="type"?le+(ft+"="+wt+"&"):le+(ft+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+N+") [attempt "+B+"]: "+v+"\n"+x+"\n"+le})}function pu(c,v,x,N,B,Q,le){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+B+"]: "+v+"\n"+x+"\n"+Q+" "+le})}function bi(c,v,x,N){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Wh(c,x)+(N?" "+N:"")})}function Ss(c,v){c.info(function(){return"TIMEOUT: "+v})}ti.prototype.info=function(){};function Wh(c,v){if(!c.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var x=Q[c];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var B=N[0];if(B!="noop"&&B!="stop"&&B!="close")for(let le=1;le<N.length;le++)N[le]=""}}}}return Na(Q)}catch(Q){return v}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tl;function Ns(){}E(Ns,hu),Ns.prototype.g=function(){return new XMLHttpRequest},Tl=new Ns;function Qi(c){return encodeURIComponent(String(c))}function gu(c){var v=1;c=c.split(":");const x=[];for(;v>0&&c.length;)x.push(c.shift()),v--;return c.length&&x.push(c.join(":")),x}function ni(c,v,x,N){this.j=c,this.i=v,this.l=x,this.S=N||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Ct={},qt={};function xi(c,v,x){c.M=1,c.A=Rs(It(v)),c.u=x,c.R=!0,dr(c,null)}function dr(c,v){c.F=Date.now(),wi(c),c.B=It(c.A);var x=c.B,N=c.S;Array.isArray(N)||(N=[String(N)]),yr(x.i,"t",N),c.C=0,x=c.j.L,c.h=new ii,c.g=Iu(c.j,x?v:null,!c.u),c.P>0&&(c.O=new un(y(c.Y,c,c.g),c.P)),v=c.V,x=c.g,N=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(xl[0]=B.toString()),B=xl);for(let Q=0;Q<B.length;Q++){const le=Qe(x,B[Q],N||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),yi(),Jh(c.i,c.v,c.B,c.l,c.S,c.u)}ni.prototype.ba=function(c){c=c.target;const v=this.O;v&&ri(c)==3?v.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{const ke=ri(this.g),wt=this.g.ya(),Ye=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||ke!=4||wt==7||(wt==8||Ye<=0?yi(3):yi(2)),Ei(this);var v=this.g.ca();this.X=v;var x=ef(this);if(this.o=v==200,pu(this.i,this.v,this.B,this.l,this.S,ke,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,B=this.g;if((N=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(N)){var Q=N;break t}}Q=null}if(c=Q)bi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,Rt(12),En(this),Un(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<x.length;)if(ft=vu(this,x),ft==qt){ke==4&&(this.m=4,Rt(14),c=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Ct){this.m=4,Rt(15),bi(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else bi(this.i,this.l,ft,null),Ti(this,ft);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||x.length!=0||this.h.h||(this.m=1,Rt(16),c=!1),this.o=this.o&&c,!c)bi(this.i,this.l,x,"[Invalid Chunked Response]"),En(this),Un(this);else if(x.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Pl(le),le.P=!0,Rt(11))}}else bi(this.i,this.l,x,null),Ti(this,x);ke==4&&En(this),this.o&&!this.K&&(ke==4?Nu(this.j,this):(this.o=!1,wi(this)))}else $i(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),En(this),Un(this)}}}catch(ke){}finally{}};function ef(c){if(!yu(c))return c.g.la();const v=$t(c.g);if(v==="")return"";let x="";const N=v.length,B=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder=="undefined")return En(c),Un(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<N;Q++)c.h.h=!0,x+=c.h.i.decode(v[Q],{stream:!(B&&Q==N-1)});return v.length=0,c.h.g+=x,c.C=0,c.h.g}function yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vu(c,v){var x=c.C,N=v.indexOf("\n",x);return N==-1?qt:(x=Number(v.substring(x,N)),isNaN(x)?Ct:(N+=1,N+x>v.length?qt:(v=v.slice(N,N+x),c.C=N+x,v)))}ni.prototype.cancel=function(){this.K=!0,En(this)};function wi(c){c.T=Date.now()+c.H,mr(c,c.H)}function mr(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=_i(y(c.aa,c),v)}function Ei(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ni.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(yi(),Rt(17)),En(this),this.m=2,Un(this)):mr(this,this.T-c)};function Un(c){c.j.I==0||c.K||Nu(c.j,c)}function En(c){Ei(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,wl(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Ti(c,v){try{var x=c.j;if(x.I!=0&&(x.g==c||Ai(x.h,c))){if(!c.L&&Ai(x.h,c)&&x.I==3){try{var N=x.Ba.g.parse(v)}catch(Ye){N=null}if(Array.isArray(N)&&N.length==3){var B=N;if(B[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)wr(x),Ma(x);else break e;Ms(x),Rt(18)}}else x.xa=B[1],0<x.xa-x.K&&B[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=_i(y(x.Va,x),6e3));Si(x.h)<=1&&x.ta&&(x.ta=void 0)}else ji(x,11)}else if((c.L||x.g==c)&&wr(x),!S(v))for(B=x.Ba.g.parse(v),v=0;v<B.length;v++){let Ye=B[v];const ft=Ye[0];if(!(ft<=x.K))if(x.K=ft,Ye=Ye[1],x.I==2)if(Ye[0]=="c"){x.M=Ye[1],x.ba=Ye[2];const Bn=Ye[3];Bn!=null&&(x.ka=Bn,x.j.info("VER="+x.ka));const ki=Ye[4];ki!=null&&(x.za=ki,x.j.info("SVER="+x.za));const li=Ye[5];li!=null&&typeof li=="number"&&li>0&&(N=1.5*li,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const oi=c.g;if(oi){const Vs=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var Q=N.h;Q.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Nl(Q,Q.h),Q.h=null))}if(N.G){const Er=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Er&&(N.wa=Er,We(N.J,N.G,Er))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var le=c;if(N.na=Du(N,N.L?N.ba:null,N.W),le.L){Rl(N.h,le);var ke=le,wt=N.O;wt&&(ke.H=wt),ke.D&&(Ei(ke),wi(ke)),N.g=le}else Su(N);x.i.length>0&&Ii(x)}else Ye[0]!="stop"&&Ye[0]!="close"||ji(x,7);else x.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ji(x,7):Ll(x):Ye[0]!="noop"&&x.l&&x.l.qa(Ye),x.A=0)}}yi(4)}catch(Ye){}}var Dt=class{constructor(c,v){this.g=c,this.map=v}};function Sl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function Ai(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Nl(c,v){c.g?c.g.add(v):c.h=v}function Rl(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Sl.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const x of c.g.values())v=v.concat(x.G);return v}return j(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pr(c,v){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const N=c[x].indexOf("=");let B,Q=null;N>=0?(B=c[x].substring(0,N),Q=c[x].substring(N+1)):B=c[x],v(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Tn?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,Ra(this,c.u),this.h=c.h,Dl(this,Eu(c.i)),this.m=c.m):c&&(v=String(c).match(_u))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=Ni(v[2]||""),this.g=Ni(v[3]||"",!0),Ra(this,v[4]),this.h=Ni(v[5]||"",!0),Dl(this,v[6]||"",!0),this.m=Ni(v[7]||"")):(this.l=!1,this.i=new Da(null,this.l))}Tn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Cs(v,gr,!0),":");var x=this.g;return(x||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Cs(v,gr,!0),"@"),c.push(Qi(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Cs(x,x.charAt(0)=="/"?Il:bu,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Cs(x,xu)),c.join("")},Tn.prototype.resolve=function(c){const v=It(this);let x=!!c.j;x?Ht(v,c.j):x=!!c.o,x?v.o=c.o:x=!!c.g,x?v.g=c.g:x=c.u!=null;var N=c.h;if(x)Ra(v,c.u);else if(x=!!c.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var B=v.h.lastIndexOf("/");B!=-1&&(N=v.h.slice(0,B+1)+N)}if(B=N,B==".."||B==".")N="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){N=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let le=0;le<B.length;){const ke=B[le++];ke=="."?N&&le==B.length&&Q.push(""):ke==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),N&&le==B.length&&Q.push("")):(Q.push(ke),N=!0)}N=Q.join("/")}else N=B}return x?v.h=N:x=c.i.toString()!=="",x?Dl(v,Eu(c.i)):x=!!c.m,x&&(v.m=c.m),v};function It(c){return new Tn(c)}function Ht(c,v,x){c.j=x?Ni(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ra(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Dl(c,v,x){v instanceof Da?(c.i=v,vr(c.i,c.l)):(x||(v=Cs(v,Ca)),c.i=new Da(v,c.l))}function We(c,v,x){c.i.set(v,x)}function Rs(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ni(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,v,x){return typeof c=="string"?(c=encodeURI(c).replace(v,dn),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gr=/[#\/\?@]/g,bu=/[#\?:]/g,Il=/[#\?]/g,Ca=/[#\?@]/g,xu=/#/g;function Da(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&pr(c.i,function(v,x){c.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}a=Da.prototype,a.add=function(c,v){mn(this),this.i=null,c=Ia(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(v),this.h+=1,this};function wu(c,v){mn(c),v=Ia(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function jl(c,v){return mn(c),v=Ia(c,v),c.g.has(v)}a.forEach=function(c,v){mn(this),this.g.forEach(function(x,N){x.forEach(function(B){c.call(v,B,N,this)},this)},this)};function kl(c,v){mn(c);let x=[];if(typeof v=="string")jl(c,v)&&(x=x.concat(c.g.get(Ia(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)x=x.concat(c[v]);return x}a.set=function(c,v){return mn(this),this.i=null,c=Ia(this,c),jl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},a.get=function(c,v){return c?(c=kl(this,c),c.length>0?String(c[0]):v):v};function yr(c,v,x){wu(c,v),x.length>0&&(c.i=null,c.g.set(Ia(c,v),j(x)),c.h+=x.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var x=v[N];const B=Qi(x);x=kl(this,x);for(let Q=0;Q<x.length;Q++){let le=B;x[Q]!==""&&(le+="="+Qi(x[Q])),c.push(le)}}return this.i=c.join("&")};function Eu(c){const v=new Da;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Ia(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function vr(c,v){v&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(x,N){const B=N.toLowerCase();N!=B&&(wu(this,N),yr(this,B,x))},c)),c.j=v}function ai(c,v){const x=new ti;if(f.Image){const N=new Image;N.onload=b(Pn,x,"TestLoadImage: loaded",!0,v,N),N.onerror=b(Pn,x,"TestLoadImage: error",!1,v,N),N.onabort=b(Pn,x,"TestLoadImage: abort",!1,v,N),N.ontimeout=b(Pn,x,"TestLoadImage: timeout",!1,v,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else v(!1)}function Ol(c,v){const x=new ti,N=new AbortController,B=setTimeout(()=>{N.abort(),Pn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:N.signal}).then(Q=>{clearTimeout(B),Q.ok?Pn(x,"TestPingServer: ok",!0,v):Pn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Pn(x,"TestPingServer: error",!1,v)})}function Pn(c,v,x,N,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),N(x)}catch(Q){}}function ja(){this.g=new cu}function Ri(c){this.i=c.Sb||null,this.h=c.ab||!1}E(Ri,hu),Ri.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(c,v){Nt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ds,Nt),a=Ds.prototype,a.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,si(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream!="undefined"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_r(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _r(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?ka(this):si(this),this.readyState==3&&_r(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,ka(this))},a.Na=function(c){this.g&&(this.response=c,ka(this))},a.ga=function(){this.g&&ka(this)};function ka(c){c.readyState=4,c.l=null,c.j=null,c.B=null,si(c)}a.setRequestHeader=function(c,v){this.A.append(c,v)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=v.next();return c.join("\r\n")};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let v="";return je(c,function(x,N){v+=N,v+=":",v+=x,v+="\r\n"}),v}function Is(c,v,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=zn(x),typeof c=="string"?x!=null&&Qi(x):We(c,v,x))}function nt(c){Nt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(nt,Nt);var Ci=/^https?$/i,Ml=["POST","PUT"];a=nt.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,v,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tl.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Q){js(this,Q);return}if(c=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var B in N)x.set(B,N[B]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Q of N.keys())x.set(Q,N.get(Q));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ml,v,void 0)>=0)||N||B||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of x)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){js(this,Q)}};function js(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Vl(c),Ki(c)}function Vl(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),Ki(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),nt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},a.Xa=function(){ks(this)};function ks(c){if(c.h&&typeof u!="undefined"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),ri(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var N;if(N=Q===0){let le=String(c.D).match(_u)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),N=!Ci.test(le?le.toLowerCase():"")}x=N}if(x)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var B=ri(c)>2?c.g.statusText:""}catch(le){B=""}c.l=B+" ["+c.ca()+"]",Vl(c)}}finally{Ki(c)}}}}function Ki(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,v||Pt(c,"ready");try{x.onreadystatechange=null}catch(N){}}}a.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}a.ca=function(){try{return ri(this)>2?this.g.status:-1}catch(c){return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},a.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Zh(v)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch(v){return null}}function $i(c){const v={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split("\r\n");for(let N=0;N<c.length;N++){if(S(c[N]))continue;var x=gu(c[N]);const B=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=v[B]||[];v[B]=Q,Q.push(x)}Ve(v,function(N){return N.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(c,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||v}function Oa(c){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,c),this.Za=Di("retryDelaySeedMs",1e4,c),this.Ta=Di("forwardChannelMaxRetries",2,c),this.va=Di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(c&&c.concurrentRequestLimit),this.Ba=new ja,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Oa.prototype,a.ka=8,a.I=1,a.connect=function(c,v,x,N){Rt(0),this.W=c,this.H=v||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=Du(this,null,this.W),Ii(this)};function Ll(c){if(br(c),c.I==3){var v=c.V++,x=It(c.J);if(We(x,"SID",c.M),We(x,"RID",v),We(x,"TYPE","terminate"),Os(c,x),v=new ni(c,c.j,v),v.M=2,v.A=Rs(It(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(v.A.toString(),"")}catch(N){}!x&&f.Image&&(new Image().src=v.A,x=!0),x||(v.g=Iu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wi(v)}Cu(c)}function Ma(c){c.g&&(Pl(c),c.g.cancel(),c.g=null)}function br(c){Ma(c),c.v&&(f.clearTimeout(c.v),c.v=null),wr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ii(c){if(!Al(c.h)&&!c.m){c.m=!0;var v=c.Ea;fe||C(),ye||(fe(),ye=!0),I.add(v,c),c.D=0}}function xr(c,v){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=_i(y(c.Ea,c,v),Ru(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new ni(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=O(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Tu(this,B,v),x=It(this.J),We(x,"RID",c),We(x,"CVER",22),this.G&&We(x,"X-HTTP-Session-Id",this.G),Os(this,x),Q&&(this.R?v="headers="+Qi(zn(Q))+"&"+v:this.u&&Is(x,this.u,Q)),Nl(this.h,B),this.Ra&&We(x,"TYPE","init"),this.S?(We(x,"$req",v),We(x,"SID","null"),B.U=!0,xi(B,x,null)):xi(B,x,v),this.I=2}}else this.I==3&&(c?Ul(this,c):this.i.length==0||Al(this.h)||Ul(this))};function Ul(c,v){var x;v?x=v.l:x=c.V++;const N=It(c.J);We(N,"SID",c.M),We(N,"RID",x),We(N,"AID",c.K),Os(c,N),c.u&&c.o&&Is(N,c.u,c.o),x=new ni(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Tu(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Nl(c.h,x),xi(x,N,v)}function Os(c,v){c.H&&je(c.H,function(x,N){We(v,N,x)}),c.l&&je({},function(x,N){We(v,N,x)})}function Tu(c,v,x){x=Math.min(c.i.length,x);const N=c.l?y(c.l.Ka,c.l,c):null;e:{var B=c.i;let ke=-1;for(;;){const wt=["count="+x];ke==-1?x>0?(ke=B[0].g,wt.push("ofs="+ke)):ke=0:wt.push("ofs="+ke);let Ye=!0;for(let ft=0;ft<x;ft++){var Q=B[ft].g;const Bn=B[ft].map;if(Q-=ke,Q<0)ke=Math.max(0,B[ft].g-100),Ye=!1;else try{Q="req"+Q+"_"||"";try{var le=Bn instanceof Map?Bn:Object.entries(Bn);for(const[ki,li]of le){let oi=li;p(li)&&(oi=Na(li)),wt.push(Q+ki+"="+encodeURIComponent(oi))}}catch(ki){throw wt.push(Q+"type="+encodeURIComponent("_badmap")),ki}}catch(ki){N&&N(Bn)}}if(Ye){le=wt.join("&");break e}}le=void 0}return c=c.i.splice(0,x),v.G=c,le}function Su(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;fe||C(),ye||(fe(),ye=!0),I.add(v,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=_i(y(c.Da,c),Ru(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=_i(y(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Ma(this),Au(this))};function Pl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Au(c){c.g=new ni(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=It(c.na);We(v,"RID","rpc"),We(v,"SID",c.M),We(v,"AID",c.K),We(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(v,"TO",c.ia),We(v,"TYPE","xmlhttp"),Os(c,v),c.u&&c.o&&Is(v,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=Rs(It(v)),x.u=null,x.R=!0,dr(x,c)}a.Va=function(){this.C!=null&&(this.C=null,Ma(this),Ms(this),Rt(19))};function wr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Nu(c,v){var x=null;if(c.g==v){wr(c),Pl(c),c.g=null;var N=2}else if(Ai(c.h,v))x=v.G,Rl(c.h,v),N=1;else return;if(c.I!=0){if(v.o)if(N==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var B=c.D;N=fr(),Pt(N,new vi(N,x)),Ii(c)}else Su(c);else if(B=v.m,B==3||B==0&&v.X>0||!(N==1&&xr(c,v)||N==2&&Ms(c)))switch(x&&x.length>0&&(v=c.h,v.i=v.i.concat(x)),B){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Ru(c,v){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*v}function ji(c,v){if(c.j.info("Error code "+v),v==2){var x=y(c.bb,c),N=c.Ua;const B=!N;N=new Tn(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ht(N,"https"),Rs(N),B?ai(N.toString(),x):Ol(N.toString(),x)}else Rt(2);c.I=0,c.l&&c.l.pa(v),Cu(c),br(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Cu(c){if(c.I=0,c.ja=[],c.l){const v=Cl(c.h);(v.length!=0||c.i.length!=0)&&(z(c.ja,v),z(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Du(c,v,x){var N=x instanceof Tn?It(x):new Tn(x);if(N.g!="")v&&(N.g=v+"."+N.g),Ra(N,N.u);else{var B=f.location;N=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const Q=new Tn(null);N&&Ht(Q,N),v&&(Q.g=v),B&&Ra(Q,B),x&&(Q.h=x),N=Q}return x=c.G,v=c.wa,x&&v&&We(N,x,v),We(N,"VER",c.ka),Os(c,N),N}function Iu(c,v,x){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new nt(new Ri({ab:x})):new nt(c.ma),v.Fa(c.L),v}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}a=ju.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Va(){}Va.prototype.g=function(c,v){return new cn(c,v)};function cn(c,v){Nt.call(this),this.g=new Oa(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!S(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!S(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Yi(this)}E(cn,Nt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ll(this.g)},cn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=Na(c),c=x);v.i.push(new Dt(v.Ya++,c)),v.I==3&&Ii(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,cn.Z.N.call(this)};function ku(c){Kt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const x in v){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}E(ku,Kt);function Ou(){Ln.call(this),this.status=1}E(Ou,Ln);function Yi(c){this.g=c}E(Yi,ju),Yi.prototype.ra=function(){Pt(this.g,"a")},Yi.prototype.qa=function(c){Pt(this.g,new ku(c))},Yi.prototype.pa=function(c){Pt(this.g,new Ou)},Yi.prototype.oa=function(){Pt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,rx=function(){return new Va},sx=function(){return fr()},ax=xt,Rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,Jc=As,El.COMPLETE="complete",ix=El,fu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Ro=fu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,nx=nt}).apply(typeof zc!="undefined"?zc:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const n_="@firebase/firestore",i_="4.9.2";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let pl="12.3.0";const ar=new Kb("@firebase/firestore");function Wr(){return ar.logLevel}function de(a,...e){if(ar.logLevel<=Ge.DEBUG){const i=e.map(rp);ar.debug("Firestore (".concat(pl,"): ").concat(a),...i)}}function va(a,...e){if(ar.logLevel<=Ge.ERROR){const i=e.map(rp);ar.error("Firestore (".concat(pl,"): ").concat(a),...i)}}function rl(a,...e){if(ar.logLevel<=Ge.WARN){const i=e.map(rp);ar.warn("Firestore (".concat(pl,"): ").concat(a),...i)}}function rp(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch(e){return a}}function Ne(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,lx(a,s,i)}function lx(a,e,i){let s="FIRESTORE (".concat(pl,") INTERNAL ASSERTION FAILED: ").concat(e," (ID: ").concat(a.toString(16),")");if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch(l){s+=" CONTEXT: "+i}throw va(s),new Error(s)}function Ze(a,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||lx(e,l,s)}function De(a,e){return a}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class cs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class ox{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class dN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class pN{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let u=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cs,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((()=>K(this,null,function*(){yield g.promise,yield l(this.currentUser)})))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cs)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string",31837,{l:s}),new ox(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class gN{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yN{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new gN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vN{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(u.error.message));const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider","Received ".concat(f?"new":"existing"," token.")),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new a_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _N(a){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=_N(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<i&&(s+=e.charAt(l[u]%62))}return s}}function Be(a,e){return a<e?-1:a>e?1:0}function Cm(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const l=a.charAt(s),u=e.charAt(s);if(l!==u)return om(l)===om(u)?Be(l,u):om(l)?1:-1}return Be(a.length,e.length)}const bN=55296,xN=57343;function om(a){const e=a.charCodeAt(0);return e>=bN&&e<=xN}function ll(a,e,i){return a.length===e.length&&a.every(((s,l)=>i(s,e[l])))}const s_="__name__";class Ui{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ne(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Ne(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const u=Ui.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Be(e.length,i.length)}static compareSegments(e,i){const s=Ui.isNumericId(e),l=Ui.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):Cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class ot extends Ui{construct(e,i,s){return new ot(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));i.push(...s.split("/").filter((l=>l.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const wN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Ui{construct(e,i,s){return new en(e,i,s)}static isValidIdentifier(e){return wN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s_}static keyField(){return new en([s_])}static fromServerFormat(e){const i=[];let s="",l=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));i.push(s),s=""};let f=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(s+=p,l++):(u(),l++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class we{constructor(e){this.path=e}static fromPath(e){return new we(ot.fromString(e))}static fromName(e){return new we(ot.fromString(e).popFirst(5))}static empty(){return new we(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ot.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ot(e.slice()))}}function ux(a,e,i){if(!i)throw new he(ee.INVALID_ARGUMENT,"Function ".concat(a,"() cannot be called with an empty ").concat(e,"."))}function EN(a,e,i,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,"".concat(a," and ").concat(i," cannot be used together."))}function r_(a){if(!we.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(a," has ").concat(a.length,"."))}function l_(a){if(we.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(a," has ").concat(a.length,"."))}function cx(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Rh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a="".concat(a.substring(0,20),"...")),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?"a custom ".concat(e," object"):"an object"}}return typeof a=="function"?"a function":Ne(12329,{type:typeof a})}function Jn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rh(a);throw new he(ee.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(i))}}return a}function Ut(a,e){const i={typeString:a};return e&&(i.value=e),i}function iu(a,e){if(!cx(a))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i="JSON missing required field: '".concat(s,"'");break}const f=a[s];if(l&&typeof f!==l){i="JSON field '".concat(s,"' must be a ").concat(l,".");break}if(u!==void 0&&f!==u.value){i="Expected '".concat(s,"' field to equal '").concat(u.value,"'");break}}if(i)throw new he(ee.INVALID_ARGUMENT,i);return!0}const o_=-62135596800,u_=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*u_);return new ht(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<o_)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Ut("string",ht._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ht(0,0))}static max(){return new Re(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ho=-1;function TN(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(s===1e9?new ht(i+1,0):new ht(i,s));return new fs(l,we.empty(),e)}function SN(a){return new fs(a.readTime,a.key,Ho)}class fs{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new fs(Re.min(),we.empty(),Ho)}static max(){return new fs(Re.max(),we.empty(),Ho)}}function AN(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=we.comparator(a.documentKey,e.documentKey),i!==0?i:Be(a.largestBatchId,e.largestBatchId))}const NN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}function gl(a){return K(this,null,function*(){if(a.code!==ee.FAILED_PRECONDITION||a.message!==NN)throw a;de("LocalStore","Unexpectedly lost primary lease")})}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ie(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ie?i:ie.resolve(i)}catch(i){return ie.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ie.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ie.reject(i)}static resolve(e){return new ie(((i,s)=>{i(e)}))}static reject(e){return new ie(((i,s)=>{s(e)}))}static waitFor(e){return new ie(((i,s)=>{let l=0,u=0,f=!1;e.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&i()}),(g=>s(g)))})),f=!0,u===l&&i()}))}static or(e){let i=ie.resolve(!1);for(const s of e)i=i.next((l=>l?ie.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,u)=>{s.push(i.call(this,l,u))})),this.waitFor(s)}static mapArray(e,i){return new ie(((s,l)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;i(e[y]).next((b=>{f[y]=b,++p,p===u&&s(f)}),(b=>l(b)))}}))}static doWhile(e,i){return new ie(((s,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):s()};u()}))}}function CN(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yl(a){return a.name==="IndexedDbTransactionError"}class Ch{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const op=-1;function Dh(a){return a==null}function ch(a){return a===0&&1/a==-1/0}function DN(a){return typeof a=="number"&&Number.isInteger(a)&&!ch(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const hx="";function IN(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=c_(e)),e=jN(a.get(i),e);return c_(e)}function jN(a,e){let i=e;const s=a.length;for(let l=0;l<s;l++){const u=a.charAt(l);switch(u){case"\0":i+="";break;case hx:i+="";break;default:i+=u}}return i}function c_(a){return a+hx+""}function h_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function bs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function fx(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class pt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new pt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push("".concat(i,":").concat(s)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s!=null?s:Wt.RED,this.left=l!=null?l:Wt.EMPTY,this.right=u!=null?u:Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,u){return new Wt(e!=null?e:this.key,i!=null?i:this.value,s!=null?s:this.color,l!=null?l:this.left,u!=null?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,i,s,l,u){return this}insert(e,i,s){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Bt(this.comparator);return i.data=e,i}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new jn([])}unionWith(e){let i=new Bt(en.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException!="undefined"&&u instanceof DOMException?new dx("Invalid base64 string: "+u):u}})(e);return new nn(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new nn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(a){if(Ze(!!a,39018),typeof a=="string"){let e=0;const i=kN.exec(a);if(Ze(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(a.seconds),nanos:St(a.nanos)}}function St(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ms(a){return typeof a=="string"?nn.fromBase64String(a):nn.fromUint8Array(a)}const mx="server_timestamp",px="__type__",gx="__previous_value__",yx="__local_write_time__";function up(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[px])==null?void 0:s.stringValue)===mx}function Ih(a){const e=a.mapValue.fields[gx];return up(e)?Ih(e):e}function Fo(a){const e=ds(a.mapValue.fields[yx].timestampValue);return new ht(e.seconds,e.nanos)}class ON{constructor(e,i,s,l,u,f,p,g,y,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const hh="(default)";class Go{constructor(e,i){this.projectId=e,this.database=i||hh}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const vx="__type__",MN="__max__",qc={mapValue:{}},_x="__vector__",fh="value";function ps(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?up(a)?4:LN(a)?9007199254740991:VN(a)?10:11:Ne(28295,{value:a})}function Gi(a,e){if(a===e)return!0;const i=ps(a);if(i!==ps(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Fo(a).isEqual(Fo(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ds(l.timestampValue),p=ds(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,u){return ms(l.bytesValue).isEqual(ms(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,u){return St(l.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(l.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(a,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return St(l.integerValue)===St(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=St(l.doubleValue),p=St(u.doubleValue);return f===p?ch(f)===ch(p):isNaN(f)&&isNaN(p)}return!1})(a,e);case 9:return ll(a.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(h_(f)!==h_(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Gi(f[g],p[g])))return!1;return!0})(a,e);default:return Ne(52216,{left:a})}}function Qo(a,e){return(a.values||[]).find((i=>Gi(i,e)))!==void 0}function ol(a,e){if(a===e)return 0;const i=ps(a),s=ps(e);if(i!==s)return Be(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=St(u.integerValue||u.doubleValue),g=St(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return d_(a.timestampValue,e.timestampValue);case 4:return d_(Fo(a),Fo(e));case 5:return Cm(a.stringValue,e.stringValue);case 6:return(function(u,f){const p=ms(u),g=ms(f);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=Be(p[y],g[y]);if(b!==0)return b}return Be(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Be(St(u.latitude),St(f.latitude));return p!==0?p:Be(St(u.longitude),St(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return m_(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var A,j,z,G;const p=u.fields||{},g=f.fields||{},y=(A=p[fh])==null?void 0:A.arrayValue,b=(j=g[fh])==null?void 0:j.arrayValue,E=Be(((z=y==null?void 0:y.values)==null?void 0:z.length)||0,((G=b==null?void 0:b.values)==null?void 0:G.length)||0);return E!==0?E:m_(y,b)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let E=0;E<g.length&&E<b.length;++E){const A=Cm(g[E],b[E]);if(A!==0)return A;const j=ol(p[g[E]],y[b[E]]);if(j!==0)return j}return Be(g.length,b.length)})(a.mapValue,e.mapValue);default:throw Ne(23264,{he:i})}}function d_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Be(a,e);const i=ds(a),s=ds(e),l=Be(i.seconds,s.seconds);return l!==0?l:Be(i.nanos,s.nanos)}function m_(a,e){const i=a.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const u=ol(i[l],s[l]);if(u)return u}return Be(i.length,s.length)}function ul(a){return Dm(a)}function Dm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=ds(i);return"time(".concat(s.seconds,",").concat(s.nanos,")")})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ms(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return we.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return"geo(".concat(i.latitude,",").concat(i.longitude,")")})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const u of i.values||[])l?l=!1:s+=",",s+=Dm(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+="".concat(f,":").concat(Dm(i.fields[f]));return l+"}"})(a.mapValue):Ne(61005,{value:a})}function Wc(a){switch(ps(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(a);return e?16+Wc(e):16;case 5:return 2*a.stringValue.length;case 6:return ms(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Wc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return bs(s.fields,((u,f)=>{l+=u.length+Wc(f)})),l})(a.mapValue);default:throw Ne(13486,{value:a})}}function p_(a,e){return{referenceValue:"projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(e.path.canonicalString())}}function Im(a){return!!a&&"integerValue"in a}function cp(a){return!!a&&"arrayValue"in a}function g_(a){return!!a&&"nullValue"in a}function y_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function eh(a){return!!a&&"mapValue"in a}function VN(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[vx])==null?void 0:s.stringValue)===_x}function Mo(a){if(a.geoPointValue)return{geoPointValue:oe({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:oe({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return bs(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Mo(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Mo(a.arrayValue.values[i]);return e}return oe({},a)}function LN(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===MN}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!eh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(i)}setAll(e){let i=en.emptyPath(),s={},l=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,l),s={},l=[],i=p.popLast()}f?s[p.lastSegment()]=Mo(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,l)}delete(e){const i=this.field(e.popLast());eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){bs(i,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new wn(Mo(this.value))}}function bx(a){const e=[];return bs(a.fields,((i,s)=>{const l=new en([i]);if(eh(s)){const u=bx(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new jn(e)}class ln{constructor(e,i,s,l,u,f,p){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new ln(e,0,Re.min(),Re.min(),Re.min(),wn.empty(),0)}static newFoundDocument(e,i,s,l){return new ln(e,1,i,Re.min(),s,l,0)}static newNoDocument(e,i){return new ln(e,2,i,Re.min(),Re.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,Re.min(),Re.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class dh{constructor(e,i){this.position=e,this.inclusive=i}}function v_(a,e,i){let s=0;for(let l=0;l<a.position.length;l++){const u=e[l],f=a.position[l];if(u.field.isKeyField()?s=we.comparator(we.fromName(f.referenceValue),i.key):s=ol(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function __(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Gi(a.position[i],e.position[i]))return!1;return!0}class Ko{constructor(e,i="asc"){this.field=e,this.dir=i}}function UN(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class xx{}class Lt extends xx{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new zN(e,i,s):i==="array-contains"?new HN(e,s):i==="in"?new FN(e,s):i==="not-in"?new GN(e,s):i==="array-contains-any"?new QN(e,s):new Lt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new BN(e,s):new qN(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ol(i,this.value)):i!==null&&ps(this.value)===ps(i)&&this.matchesComparison(ol(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends xx{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new di(e,i)}matches(e){return wx(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wx(a){return a.op==="and"}function Ex(a){return PN(a)&&wx(a)}function PN(a){for(const e of a.filters)if(e instanceof di)return!1;return!0}function jm(a){if(a instanceof Lt)return a.field.canonicalString()+a.op.toString()+ul(a.value);if(Ex(a))return a.filters.map((e=>jm(e))).join(",");{const e=a.filters.map((i=>jm(i))).join(",");return"".concat(a.op,"(").concat(e,")")}}function Tx(a,e){return a instanceof Lt?(function(s,l){return l instanceof Lt&&s.op===l.op&&s.field.isEqual(l.field)&&Gi(s.value,l.value)})(a,e):a instanceof di?(function(s,l){return l instanceof di&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,p)=>u&&Tx(f,l.filters[p])),!0):!1})(a,e):void Ne(19439)}function Sx(a){return a instanceof Lt?(function(i){return"".concat(i.field.canonicalString()," ").concat(i.op," ").concat(ul(i.value))})(a):a instanceof di?(function(i){return i.op.toString()+" {"+i.getFilters().map(Sx).join(" ,")+"}"})(a):"Filter"}class zN extends Lt{constructor(e,i,s){super(e,i,s),this.key=we.fromName(s.referenceValue)}matches(e){const i=we.comparator(e.key,this.key);return this.matchesComparison(i)}}class BN extends Lt{constructor(e,i){super(e,"in",i),this.keys=Ax("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class qN extends Lt{constructor(e,i){super(e,"not-in",i),this.keys=Ax("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Ax(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>we.fromName(s.referenceValue)))}class HN extends Lt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cp(i)&&Qo(i.arrayValue,this.value)}}class FN extends Lt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class GN extends Lt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class QN extends Lt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Qo(this.value.arrayValue,s)))}}class KN{constructor(e,i=null,s=[],l=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function b_(a,e=null,i=[],s=[],l=null,u=null,f=null){return new KN(a,e,i,s,l,u,f)}function hp(a){const e=De(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>jm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Dh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ul(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ul(s))).join(",")),e.Te=i}return e.Te}function fp(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!UN(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Tx(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!__(a.startAt,e.startAt)&&__(a.endAt,e.endAt)}function km(a){return we.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class vl{constructor(e,i=null,s=[],l=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $N(a,e,i,s,l,u,f,p){return new vl(a,e,i,s,l,u,f,p)}function jh(a){return new vl(a)}function x_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Nx(a){return a.collectionGroup!==null}function Vo(a){const e=De(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Bt(en.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ko(u,s))})),i.has(en.keyField().canonicalString())||e.Ie.push(new Ko(en.keyField(),s))}return e.Ie}function zi(a){const e=De(a);return e.Ee||(e.Ee=YN(e,Vo(a))),e.Ee}function YN(a,e){if(a.limitType==="F")return b_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ko(l.field,u)}));const i=a.endAt?new dh(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new dh(a.startAt.position,a.startAt.inclusive):null;return b_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Om(a,e){const i=a.filters.concat([e]);return new vl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function mh(a,e,i){return new vl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function kh(a,e){return fp(zi(a),zi(e))&&a.limitType===e.limitType}function Rx(a){return"".concat(hp(zi(a)),"|lt:").concat(a.limitType)}function el(a){return"Query(target=".concat((function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=", filters: [".concat(i.filters.map((l=>Sx(l))).join(", "),"]")),Dh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=", orderBy: [".concat(i.orderBy.map((l=>(function(f){return"".concat(f.field.canonicalString()," (").concat(f.dir,")")})(l))).join(", "),"]")),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ul(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ul(l))).join(",")),"Target(".concat(s,")")})(zi(a)),"; limitType=").concat(a.limitType,")")}function Oh(a,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):we.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,l){for(const u of Vo(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(a,e)&&(function(s,l){return!(s.startAt&&!(function(f,p,g){const y=v_(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Vo(s),l)||s.endAt&&!(function(f,p,g){const y=v_(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Vo(s),l))})(a,e)}function XN(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Cx(a){return(e,i)=>{let s=!1;for(const l of Vo(a)){const u=ZN(l,e,i);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function ZN(a,e,i){const s=a.field.isKeyField()?we.comparator(e.key,i.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?ol(g,y):Ne(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:a.dir})}}class cr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((i,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return fx(this.inner)}size(){return this.innerSize}}const JN=new pt(we.comparator);function _a(){return JN}const Dx=new pt(we.comparator);function Co(...a){let e=Dx;for(const i of a)e=e.insert(i.key,i);return e}function Ix(a){let e=Dx;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ws(){return Lo()}function jx(){return Lo()}function Lo(){return new cr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const WN=new pt(we.comparator),eR=new Bt(we.comparator);function qe(...a){let e=eR;for(const i of a)e=e.add(i);return e}const tR=new Bt(Be);function nR(){return tR}function dp(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function kx(a){return{integerValue:""+a}}function iR(a,e){return DN(e)?kx(e):dp(a,e)}class Mh{constructor(){this._=void 0}}function aR(a,e,i){return a instanceof ph?(function(l,u){const f={fields:{[px]:{stringValue:mx},[yx]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&up(u)&&(u=Ih(u)),u&&(f.fields[gx]=u),{mapValue:f}})(i,e):a instanceof $o?Mx(a,e):a instanceof Yo?Vx(a,e):(function(l,u){const f=Ox(l,u),p=w_(f)+w_(l.Ae);return Im(f)&&Im(l.Ae)?kx(p):dp(l.serializer,p)})(a,e)}function sR(a,e,i){return a instanceof $o?Mx(a,e):a instanceof Yo?Vx(a,e):i}function Ox(a,e){return a instanceof gh?(function(s){return Im(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class ph extends Mh{}class $o extends Mh{constructor(e){super(),this.elements=e}}function Mx(a,e){const i=Lx(e);for(const s of a.elements)i.some((l=>Gi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Yo extends Mh{constructor(e){super(),this.elements=e}}function Vx(a,e){let i=Lx(e);for(const s of a.elements)i=i.filter((l=>!Gi(l,s)));return{arrayValue:{values:i}}}class gh extends Mh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function w_(a){return St(a.integerValue||a.doubleValue)}function Lx(a){return cp(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function rR(a,e){return a.field.isEqual(e.field)&&(function(s,l){return s instanceof $o&&l instanceof $o||s instanceof Yo&&l instanceof Yo?ll(s.elements,l.elements,Gi):s instanceof gh&&l instanceof gh?Gi(s.Ae,l.Ae):s instanceof ph&&l instanceof ph})(a.transform,e.transform)}class lR{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Vh{}function Ux(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new mp(a.key,Wn.none()):new au(a.key,a.data,Wn.none());{const i=a.data,s=wn.empty();let l=new Bt(en.comparator);for(let u of e.fields)if(!l.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new xs(a.key,s,new jn(l.toArray()),Wn.none())}}function oR(a,e,i){a instanceof au?(function(l,u,f){const p=l.value.clone(),g=T_(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,i):a instanceof xs?(function(l,u,f){if(!th(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=T_(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(Px(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,i):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Uo(a,e,i,s){return a instanceof au?(function(u,f,p,g){if(!th(u.precondition,f))return p;const y=u.value.clone(),b=S_(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,i,s):a instanceof xs?(function(u,f,p,g){if(!th(u.precondition,f))return p;const y=S_(u.fieldTransforms,g,f),b=f.data;return b.setAll(Px(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(a,e,i,s):(function(u,f,p){return th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,e,i)}function uR(a,e){let i=null;for(const s of a.fieldTransforms){const l=e.data.field(s.field),u=Ox(s.transform,l||null);u!=null&&(i===null&&(i=wn.empty()),i.set(s.field,u))}return i||null}function E_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ll(s,l,((u,f)=>rR(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class au extends Vh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xs extends Vh{constructor(e,i,s,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Px(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function T_(a,e,i){const s=new Map;Ze(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const u=a[l],f=u.transform,p=e.data.field(u.field);s.set(u.field,sR(f,p,i[l]))}return s}function S_(a,e,i){const s=new Map;for(const l of a){const u=l.transform,f=i.data.field(l.field);s.set(l.field,aR(u,f,e))}return s}class mp extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cR extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hR{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&oR(u,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Uo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Uo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=jx();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(l.key)?null:p;const g=Ux(f,p);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((i,s)=>E_(i,s)))&&ll(this.baseMutations,e.baseMutations,((i,s)=>E_(i,s)))}}class pp{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){Ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return WN})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new pp(e,i,s,l)}}class fR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class dR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Vt,Fe;function mR(a){switch(a){case ee.OK:return Ne(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ne(15467,{code:a})}}function zx(a){if(a===void 0)return va("GRPC error has no .code"),ee.UNKNOWN;switch(a){case Vt.OK:return ee.OK;case Vt.CANCELLED:return ee.CANCELLED;case Vt.UNKNOWN:return ee.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ee.INTERNAL;case Vt.UNAVAILABLE:return ee.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ee.NOT_FOUND;case Vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Vt.ABORTED:return ee.ABORTED;case Vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Vt.DATA_LOSS:return ee.DATA_LOSS;default:return Ne(39323,{code:a})}}(Fe=Vt||(Vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function pR(){return new TextEncoder}const gR=new us([4294967295,4294967295],0);function A_(a){const e=pR().encode(a),i=new tx;return i.update(e),new Uint8Array(i.digest())}function N_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([i,s],0),new us([l,u],0)]}class gp{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Do("Invalid padding: ".concat(i));if(s<0)throw new Do("Invalid hash count: ".concat(s));if(e.length>0&&this.hashCount===0)throw new Do("Invalid hash count: ".concat(s));if(e.length===0&&i!==0)throw new Do("Invalid padding when bitmap length is 0: ".concat(i));this.ge=8*e.length-i,this.pe=us.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(us.fromNumber(s)));return l.compare(gR)===1&&(l=new us([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=A_(e),[s,l]=N_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gp(u,l,i);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=A_(e),[s,l]=N_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(e,i,s,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Lh(Re.min(),l,new pt(Be),_a(),qe())}}class su{constructor(e,i,s,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new su(s,i,qe(),qe(),qe())}}class nh{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class Bx{constructor(e,i){this.targetId=e,this.Ce=i}}class qx{constructor(e,i,s=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class R_{constructor(){this.ve=0,this.Fe=C_(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),s=qe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Ne(38017,{changeType:u})}})),new su(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=C_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yR{constructor(e){this.Ge=e,this.ze=new Map,this.je=_a(),this.Je=Hc(),this.He=Hc(),this.Ye=new pt(Be)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(km(u))if(s===0){const f=new we(u.path);this.et(i,f,ln.newNoDocument(f,Re.min()))}else Ze(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let f,p;try{f=ms(s).toUint8Array()}catch(g){if(g instanceof dx)return rl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new gp(f,l,u)}catch(g){return rl(g instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),p="projects/".concat(f.projectId,"/databases/").concat(f.database,"/documents/").concat(u.path.canonicalString());e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&km(p.target)){const g=new we(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,ln.newNoDocument(g,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=qe();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Lh(e,i,this.Ye,this.je,s);return this.je=_a(),this.Je=Hc(),this.He=Hc(),this.Ye=new pt(Be),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new R_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Bt(Be),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Bt(Be),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new R_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hc(){return new pt(we.comparator)}function C_(){return new pt(we.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},_R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bR={and:"AND",or:"OR"};class xR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Mm(a,e){return a.useProto3Json||Dh(e)?e:{value:e}}function yh(a,e){return a.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hx(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function wR(a,e){return yh(a,e.toTimestamp())}function Bi(a){return Ze(!!a,49232),Re.fromTimestamp((function(i){const s=ds(i);return new ht(s.seconds,s.nanos)})(a))}function yp(a,e){return Vm(a,e).canonicalString()}function Vm(a,e){const i=(function(l){return new ot(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Fx(a){const e=ot.fromString(a);return Ze(Yx(e),10190,{key:e.toString()}),e}function Lm(a,e){return yp(a.databaseId,e.path)}function um(a,e){const i=Fx(e);if(i.get(1)!==a.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new we(Qx(i))}function Gx(a,e){return yp(a.databaseId,e)}function ER(a){const e=Fx(a);return e.length===4?ot.emptyPath():Qx(e)}function Um(a){return new ot(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Qx(a){return Ze(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function D_(a,e,i){return{name:Lm(a,e),fields:i.value.mapValue.fields}}function TR(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ze(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(Ze(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const b=y.code===void 0?ee.UNKNOWN:zx(y.code);return new he(b,y.message||"")})(f);i=new qx(s,l,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=um(a,s.document.name),u=Bi(s.document.updateTime),f=s.document.createTime?Bi(s.document.createTime):Re.min(),p=new wn({mapValue:{fields:s.document.fields}}),g=ln.newFoundDocument(l,u,f,p),y=s.targetIds||[],b=s.removedTargetIds||[];i=new nh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=um(a,s.document),u=s.readTime?Bi(s.readTime):Re.min(),f=ln.newNoDocument(l,u),p=s.removedTargetIds||[];i=new nh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=um(a,s.document),u=s.removedTargetIds||[];i=new nh([],u,l,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new dR(l,u),p=s.targetId;i=new Bx(p,f)}}return i}function SR(a,e){let i;if(e instanceof au)i={update:D_(a,e.key,e.value)};else if(e instanceof mp)i={delete:Lm(a,e.key)};else if(e instanceof xs)i={update:D_(a,e.key,e.data),updateMask:OR(e.fieldMask)};else{if(!(e instanceof cR))return Ne(16599,{Vt:e.type});i={verify:Lm(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:wR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne(27497)})(a,e.precondition)),i}function AR(a,e){return a&&a.length>0?(Ze(e!==void 0,14353),a.map((i=>(function(l,u){let f=l.updateTime?Bi(l.updateTime):Bi(u);return f.isEqual(Re.min())&&(f=Bi(u)),new lR(f,l.transformResults||[])})(i,e)))):[]}function NR(a,e){return{documents:[Gx(a,e.path)]}}function RR(a,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Gx(a,l);const u=(function(y){if(y.length!==0)return $x(di.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(A){return{field:tl(A.field),direction:IR(A.dir)}})(b)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=Mm(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function CR(a){let e=ER(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Ze(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];i.where&&(u=(function(E){const A=Kx(E);return A instanceof di&&Ex(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(E){return E.map((A=>(function(z){return new Ko(nl(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,Dh(A)?null:A})(i.limit));let g=null;i.startAt&&(g=(function(E){const A=!!E.before,j=E.values||[];return new dh(j,A)})(i.startAt));let y=null;return i.endAt&&(y=(function(E){const A=!E.before,j=E.values||[];return new dh(j,A)})(i.endAt)),$N(e,l,f,u,p,"F",g,y)}function DR(a,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Kx(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=nl(i.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=nl(i.unaryFilter.field);return Lt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=nl(i.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=nl(i.unaryFilter.field);return Lt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Lt.create(nl(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return di.create(i.compositeFilter.filters.map((s=>Kx(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(i.compositeFilter.op))})(a):Ne(30097,{filter:a})}function IR(a){return vR[a]}function jR(a){return _R[a]}function kR(a){return bR[a]}function tl(a){return{fieldPath:a.canonicalString()}}function nl(a){return en.fromServerFormat(a.fieldPath)}function $x(a){return a instanceof Lt?(function(i){if(i.op==="=="){if(y_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NAN"}};if(g_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(y_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NAN"}};if(g_(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(i.field),op:jR(i.op),value:i.value}}})(a):a instanceof di?(function(i){const s=i.getFilters().map((l=>$x(l)));return s.length===1?s[0]:{compositeFilter:{op:kR(i.op),filters:s}}})(a):Ne(54877,{filter:a})}function OR(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Yx(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class ls{constructor(e,i,s,l,u=Re.min(),f=Re.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MR{constructor(e){this.yt=e}}function VR(a){const e=CR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?mh(e,e.limit,"L"):e}class LR{constructor(){this.Cn=new UR}addToCollectionParentIndex(e,i){return this.Cn.add(i),ie.resolve()}getCollectionParents(e,i){return ie.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ie.resolve()}deleteFieldIndex(e,i){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,i){return ie.resolve()}getDocumentsMatchingTarget(e,i){return ie.resolve(null)}getIndexType(e,i){return ie.resolve(0)}getFieldIndexes(e,i){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,i){return ie.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,i){return ie.resolve(fs.min())}updateCollectionGroup(e,i,s){return ie.resolve()}updateIndexEntries(e,i){return ie.resolve()}}class UR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Bt(ot.comparator),u=!l.has(s);return this.index[i]=l.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Bt(ot.comparator)).toArray()}}const I_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xx=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Xx,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cl(0)}static cr(){return new cl(-1)}}const j_="LruGarbageCollector",PR=1048576;function k_([a,e],[i,s]){const l=Be(a,i);return l===0?Be(e,s):l}class zR{constructor(e){this.Ir=e,this.buffer=new Bt(k_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();k_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class BR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(j_,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(()=>K(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(i){yl(i)?de(j_,"Ignoring IndexedDB error during garbage collection: ",i):yield gl(i)}yield this.Vr(3e5)})))}}class qR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return ie.resolve(Ch.ce);const s=new zR(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(I_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(s," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),I_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,u,f,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(E)),l=this.params.maximumSequenceNumbersToCollect):l=E,f=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,i)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),Wr()<=Ge.DEBUG&&de("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in ".concat(f-b,"ms\n	Determined least recently used ").concat(l," in ")+(p-f)+"ms\n"+"	Removed ".concat(u," targets in ")+(g-p)+"ms\n"+"	Removed ".concat(E," documents in ")+(y-g)+"ms\n"+"Total Duration: ".concat(y-b,"ms")),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function HR(a,e){return new qR(a,e)}class FR{constructor(){this.changes=new cr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?ie.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class QR{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Uo(s.mutation,l,jn.empty(),ht.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=qe()){const l=Ws();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((u=>{let f=Co();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Ws();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,qe())))}populateOverlays(e,i,s){const l=[];return s.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,s,l){let u=_a();const f=Lo(),p=(function(){return Lo()})();return i.forEach(((g,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof xs)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Uo(b.mutation,y,b.mutation.getFieldMask(),ht.now())):f.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),i.forEach(((y,b)=>{var E;return p.set(y,new GR(b,(E=f.get(y))!=null?E:null))})),p)))}recalculateAndSaveOverlays(e,i){const s=Lo();let l=new pt(((f,p)=>f-p)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let b=s.get(g)||jn.empty();b=p.applyToLocalView(y,b),s.set(g,b);const E=(l.get(p.batchId)||qe()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,E=jx();b.forEach((A=>{if(!u.has(A)){const j=Ux(i.get(A),s.get(A));j!==null&&E.set(A,j),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(f){return we.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Nx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-u.size):ie.resolve(Ws());let p=Ho,g=u;return f.next((y=>ie.forEach(y,((b,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{g=g.insert(b,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,qe()))).next((b=>({batchId:p,changes:Ix(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new we(i)).next((s=>{let l=Co();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const u=i.collectionGroup;let f=Co();return this.indexManager.getCollectionParents(e,u).next((p=>ie.forEach(p,(g=>{const y=(function(E,A){return new vl(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((E,A)=>{f=f.insert(E,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,l)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,ln.newInvalidDocument(b)))}));let p=Co();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&Uo(b.mutation,y,jn.empty(),ht.now()),Oh(i,y)&&(p=p.insert(g,y))})),p}))}}class KR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ie.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(i)),ie.resolve()}getNamedQuery(e,i){return ie.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:VR(l.bundledQuery),readTime:Bi(l.readTime)}})(i)),ie.resolve()}}class $R{constructor(){this.overlays=new pt(we.comparator),this.qr=new Map}getOverlay(e,i){return ie.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ws();return ie.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,u)=>{this.St(e,i,u)})),ie.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,i,s){const l=Ws(),u=i.length+1,f=new we(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let u=new pt(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=Ws(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Ws(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return ie.resolve(p)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new fR(i,s));let u=this.qr.get(i);u===void 0&&(u=qe(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class YR{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ie.resolve()}}class vp{constructor(){this.Qr=new Bt(Gt.$r),this.Ur=new Bt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Gt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Gt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new we(new ot([])),s=new Gt(i,e),l=new Gt(i,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new we(new ot([])),s=new Gt(i,e),l=new Gt(i,e+1);let u=qe();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Gt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return we.comparator(e.key,i.key)||Be(e.Yr,i.Yr)}static Kr(e,i){return Be(e.Yr,i.Yr)||we.comparator(e.key,i.key)}}class XR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Gt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new hR(u,i,s,l);this.mutationQueue.push(f);for(const p of l)this.Zr=this.Zr.add(new Gt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,i){return ie.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?op:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Gt(i,0),l=new Gt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const p=this.Xr(f.Yr);u.push(p)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Bt(Be);return i.forEach((l=>{const u=new Gt(l,0),f=new Gt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let u=s;we.isDocumentKey(u)||(u=u.child(""));const f=new Gt(new we(u),0);let p=new Bt(Be);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),f),ie.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(i.mutations,(l=>{const u=new Gt(l.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Gt(i,0),l=this.Zr.firstAfterOrEqual(s);return ie.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ZR{constructor(e){this.ri=e,this.docs=(function(){return new pt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return ie.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let s=_a();return i.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():ln.newInvalidDocument(l))})),ie.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let u=_a();const f=i.path,p=new we(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||AN(SN(b),s)<=0||(l.has(b.key)||Oh(i,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,i,s,l){Ne(9500)}ii(e,i){return ie.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new JR(this)}getSize(e){return ie.resolve(this.size)}}class JR extends FR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),ie.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class WR{constructor(e){this.persistence=e,this.si=new cr((i=>hp(i)),fp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new vp,this.targetCount=0,this.ai=cl.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),ie.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new cl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ie.resolve()}updateTargetData(e,i){return this.Pr(i),ie.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,i,s){let l=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ie.waitFor(u).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return ie.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),ie.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ie.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return ie.resolve(s)}containsKey(e,i){return ie.resolve(this._i.containsKey(i))}}class Zx{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new YR,this.referenceDelegate=e(this),this.Pi=new WR(this),this.indexManager=new LR,this.remoteDocumentCache=(function(l){return new ZR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new MR(i),this.Ii=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $R,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new XR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){de("MemoryPersistence","Starting transaction:",e);const l=new e4(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class e4 extends RN{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.Ri=new vp,this.Vi=null}static mi(e){return new _p(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ie.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const l=we.fromPath(s);return this.gi(e,l).next((u=>{u||i.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ie.or([()=>ie.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class vh{constructor(e,i){this.persistence=e,this.pi=new cr((s=>IN(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=HR(this,i)}static mi(e,i){return new vh(e,i)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return ie.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?ie.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,i).next((p=>{p||(s++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ie.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ie.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wc(e.data.value)),i}br(e,i,s){return ie.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ie.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bp{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=qe(),l=qe();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new bp(e,i.fromCache,s,l)}}class t4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class n4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WS()?8:CN(ZS())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new t4;return this.Ss(e,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>u.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Wr()<=Ge.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",el(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Wr()<=Ge.DEBUG&&de("QueryEngine","Query:",el(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Wr()<=Ge.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",el(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):ie.resolve())}ys(e,i){if(x_(i))return ie.resolve(null);let s=zi(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mh(i,null,"F"),s=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=qe(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,f,g.readTime)?this.ys(e,mh(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,s,l){return x_(i)||l.isEqual(Re.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,l)?ie.resolve(null):(Wr()<=Ge.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),el(i)),this.vs(e,f,i,TN(l,Ho)).next((p=>p)))}))}Ds(e,i){let s=new Bt(Cx(e));return i.forEach(((l,u)=>{Oh(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,s){return Wr()<=Ge.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",el(i)),this.ps.getDocumentsMatchingQuery(e,i,fs.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const xp="LocalStore",i4=3e8;class a4{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new pt(Be),this.xs=new cr((u=>hp(u)),fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function s4(a,e,i,s){return new a4(a,e,i,s)}function Jx(a,e){return K(this,null,function*(){const i=De(a);return yield i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=qe();for(const y of l){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))})}function r4(a,e){const i=De(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,b){const E=y.batch,A=E.keys();let j=ie.resolve();return A.forEach((z=>{j=j.next((()=>b.getEntry(g,z))).next((G=>{const L=y.docVersions.get(z);Ze(L!==null,48541),G.version.compareTo(L)<0&&(E.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=qe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function Wx(a){const e=De(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function l4(a,e){const i=De(a),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((b,E)=>{const A=l.get(E);if(!A)return;p.push(i.Pi.removeMatchingKeys(u,b.removedDocuments,E).next((()=>i.Pi.addMatchingKeys(u,b.addedDocuments,E))));let j=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(nn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,s)),l=l.insert(E,j),(function(G,L,ne){return G.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=i4?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,j,b)&&p.push(i.Pi.updateTargetData(u,j))}));let g=_a(),y=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(o4(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!s.isEqual(Re.min())){const b=i.Pi.getLastRemoteSnapshotVersion(u).next((E=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(b)}return ie.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=l,u)))}function o4(a,e,i){let s=qe(),l=qe();return i.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=_a();return i.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):de(xp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function u4(a,e){const i=De(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=op),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function c4(a,e){const i=De(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((u=>u?(l=u,ie.resolve(l)):i.Pi.allocateTargetId(s).next((f=>(l=new ls(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}function Pm(a,e,i){return K(this,null,function*(){const s=De(a),l=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l))))}catch(f){if(!yl(f))throw f;de(xp,"Failed to update sequence numbers for target ".concat(e,": ").concat(f))}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)})}function O_(a,e,i){const s=De(a);let l=Re.min(),u=qe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const E=De(g),A=E.xs.get(b);return A!==void 0?ie.resolve(E.Ms.get(A)):E.Pi.getTargetData(y,b)})(s,f,zi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?l:Re.min(),i?u:qe()))).next((p=>(h4(s,XN(e),p),{documents:p,Qs:u})))))}function h4(a,e,i){let s=a.Os.get(e)||Re.min();i.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class M_{constructor(){this.activeTargetIds=nR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f4{constructor(){this.Mo=new M_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new M_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class d4{Oo(e){}shutdown(){}}const V_="ConnectivityMonitor";class L_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(V_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function zm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const cm="RestConnection",m4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko="projects/".concat(s,"/databases/").concat(l),this.Wo=this.databaseId.database===hh?"project_id=".concat(s):"project_id=".concat(s,"&database_id=").concat(l)}Go(e,i,s,l,u){const f=zm(),p=this.zo(e,i.toUriEncodedString());de(cm,"Sending RPC '".concat(e,"' ").concat(f,":"),p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),b=tu(y);return this.Jo(e,p,g,s,b).then((E=>(de(cm,"Received RPC '".concat(e,"' ").concat(f,": "),E),E)),(E=>{throw rl(cm,"RPC '".concat(e,"' ").concat(f," failed with error: "),E,"url: ",p,"request:",s),E}))}Ho(e,i,s,l,u,f){return this.Go(e,i,s,l,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const s=m4[e];return"".concat(this.Uo,"/v1/").concat(i,":").concat(s)}terminate(){}}class g4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class y4 extends p4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,u){const f=zm();return new Promise(((p,g)=>{const y=new nx;y.setWithCredentials(!0),y.listenOnce(ix.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Jc.NO_ERROR:const E=y.getResponseJson();de(sn,"XHR for RPC '".concat(e,"' ").concat(f," received:"),JSON.stringify(E)),p(E);break;case Jc.TIMEOUT:de(sn,"RPC '".concat(e,"' ").concat(f," timed out")),g(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const A=y.getStatus();if(de(sn,"RPC '".concat(e,"' ").concat(f," failed with status:"),A,"response text:",y.getResponseText()),A>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const z=j==null?void 0:j.error;if(z&&z.status&&z.message){const G=(function(ne){const ae=ne.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ae)>=0?ae:ee.UNKNOWN})(z.status);g(new he(G,z.message))}else g(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(sn,"RPC '".concat(e,"' ").concat(f," completed."))}}));const b=JSON.stringify(l);de(sn,"RPC '".concat(e,"' ").concat(f," sending request:"),l),y.send(i,"POST",b,s,15)}))}T_(e,i,s){const l=zm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=rx(),p=sx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const b=u.join("");de(sn,"Creating RPC '".concat(e,"' stream ").concat(l,": ").concat(b),g);const E=f.createWebChannel(b,g);this.I_(E);let A=!1,j=!1;const z=new g4({Yo:L=>{j?de(sn,"Not sending because RPC '".concat(e,"' stream ").concat(l," is closed:"),L):(A||(de(sn,"Opening RPC '".concat(e,"' stream ").concat(l," transport.")),E.open(),A=!0),de(sn,"RPC '".concat(e,"' stream ").concat(l," sending:"),L),E.send(L))},Zo:()=>E.close()}),G=(L,ne,ae)=>{L.listen(ne,(X=>{try{ae(X)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return G(E,Ro.EventType.OPEN,(()=>{j||(de(sn,"RPC '".concat(e,"' stream ").concat(l," transport opened.")),z.o_())})),G(E,Ro.EventType.CLOSE,(()=>{j||(j=!0,de(sn,"RPC '".concat(e,"' stream ").concat(l," transport closed")),z.a_(),this.E_(E))})),G(E,Ro.EventType.ERROR,(L=>{j||(j=!0,rl(sn,"RPC '".concat(e,"' stream ").concat(l," transport errored. Name:"),L.name,"Message:",L.message),z.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),G(E,Ro.EventType.MESSAGE,(L=>{var ne;if(!j){const ae=L.data[0];Ze(!!ae,16349);const X=ae,ce=(X==null?void 0:X.error)||((ne=X[0])==null?void 0:ne.error);if(ce){de(sn,"RPC '".concat(e,"' stream ").concat(l," received error:"),ce);const fe=ce.status;let ye=(function(D){const V=Vt[D];if(V!==void 0)return zx(V)})(fe),I=ce.message;ye===void 0&&(ye=ee.INTERNAL,I="Unknown error status: "+fe+" with message "+ce.message),j=!0,z.a_(new he(ye,I)),E.close()}else de(sn,"RPC '".concat(e,"' stream ").concat(l," received:"),ae),z.u_(ae)}})),G(p,ax.STAT_EVENT,(L=>{L.stat===Rm.PROXY?de(sn,"RPC '".concat(e,"' stream ").concat(l," detected buffering proxy")):L.stat===Rm.NOPROXY&&de(sn,"RPC '".concat(e,"' stream ").concat(l," detected no buffering proxy"))})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function hm(){return typeof document!="undefined"?document:null}function Uh(a){return new xR(a,!0)}class e1{constructor(e,i,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&de("ExponentialBackoff","Backing off for ".concat(l," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(i," ms, last attempt: ").concat(s," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const U_="PersistentStream";class t1{constructor(e,i,s,l,u,f,p,g){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return K(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}k_(){return K(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,i){return K(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(va(i.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(i)})}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((()=>K(this,null,function*(){this.state=0,this.start()})))}z_(e){return de(U_,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(de(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class v4 extends t1{constructor(e,i,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=TR(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Bi(f.readTime):Re.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Um(this.serializer),i.addTarget=(function(u,f){let p;const g=f.target;if(p=km(g)?{documents:NR(u,g)}:{query:RR(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Hx(u,f.resumeToken);const y=Mm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){p.readTime=yh(u,f.snapshotVersion.toTimestamp());const y=Mm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=DR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Um(this.serializer),i.removeTarget=e,this.q_(i)}}class _4 extends t1{constructor(e,i,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=AR(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Um(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>SR(this.serializer,s)))};this.q_(i)}}class b4{}class x4 extends b4{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Vm(i,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}Ho(e,i,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Vm(i,s),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w4{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(va(i),this.aa=!1):de("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sr="RemoteStore";class E4{constructor(e,i,s,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((()=>K(this,null,function*(){hr(this)&&(de(sr,"Restarting streams for network reachability change."),yield(function(g){return K(this,null,function*(){const y=De(g);y.Ea.add(4),yield ru(y),y.Ra.set("Unknown"),y.Ea.delete(4),yield Ph(y)})})(this))})))})),this.Ra=new w4(s,l)}}function Ph(a){return K(this,null,function*(){if(hr(a))for(const e of a.da)yield e(!0)})}function ru(a){return K(this,null,function*(){for(const e of a.da)yield e(!1)})}function n1(a,e){const i=De(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Sp(i)?Tp(i):_l(i).O_()&&Ep(i,e))}function wp(a,e){const i=De(a),s=_l(i);i.Ia.delete(e),s.O_()&&i1(i,e),i.Ia.size===0&&(s.O_()?s.L_():hr(i)&&i.Ra.set("Unknown"))}function Ep(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}_l(a).Y_(e)}function i1(a,e){a.Va.Ue(e),_l(a).Z_(e)}function Tp(a){a.Va=new yR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),_l(a).start(),a.Ra.ua()}function Sp(a){return hr(a)&&!_l(a).x_()&&a.Ia.size>0}function hr(a){return De(a).Ea.size===0}function a1(a){a.Va=void 0}function T4(a){return K(this,null,function*(){a.Ra.set("Online")})}function S4(a){return K(this,null,function*(){a.Ia.forEach(((e,i)=>{Ep(a,e)}))})}function A4(a,e){return K(this,null,function*(){a1(a),Sp(a)?(a.Ra.ha(e),Tp(a)):a.Ra.set("Unknown")})}function N4(a,e,i){return K(this,null,function*(){if(a.Ra.set("Online"),e instanceof qx&&e.state===2&&e.cause)try{yield(function(l,u){return K(this,null,function*(){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(yield l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.Va.removeTarget(p))})})(a,e)}catch(s){de(sr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield _h(a,s)}else if(e instanceof nh?a.Va.Ze(e):e instanceof Bx?a.Va.st(e):a.Va.tt(e),!i.isEqual(Re.min()))try{const s=yield Wx(a.localStore);i.compareTo(s)>=0&&(yield(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),i1(u,g);const E=new ls(b.target,g,y,b.sequenceNumber);Ep(u,E)})),u.remoteSyncer.applyRemoteEvent(p)})(a,i))}catch(s){de(sr,"Failed to raise snapshot:",s),yield _h(a,s)}})}function _h(a,e,i){return K(this,null,function*(){if(!yl(e))throw e;a.Ea.add(1),yield ru(a),a.Ra.set("Offline"),i||(i=()=>Wx(a.localStore)),a.asyncQueue.enqueueRetryable((()=>K(null,null,function*(){de(sr,"Retrying IndexedDB access"),yield i(),a.Ea.delete(1),yield Ph(a)})))})}function s1(a,e){return e().catch((i=>_h(a,i,e)))}function zh(a){return K(this,null,function*(){const e=De(a),i=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:op;for(;R4(e);)try{const l=yield u4(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,C4(e,l)}catch(l){yield _h(e,l)}r1(e)&&l1(e)})}function R4(a){return hr(a)&&a.Ta.length<10}function C4(a,e){a.Ta.push(e);const i=gs(a);i.O_()&&i.X_&&i.ea(e.mutations)}function r1(a){return hr(a)&&!gs(a).x_()&&a.Ta.length>0}function l1(a){gs(a).start()}function D4(a){return K(this,null,function*(){gs(a).ra()})}function I4(a){return K(this,null,function*(){const e=gs(a);for(const i of a.Ta)e.ea(i.mutations)})}function j4(a,e,i){return K(this,null,function*(){const s=a.Ta.shift(),l=pp.from(s,e,i);yield s1(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),yield zh(a)})}function k4(a,e){return K(this,null,function*(){e&&gs(a).X_&&(yield(function(s,l){return K(this,null,function*(){if((function(f){return mR(f)&&f!==ee.ABORTED})(l.code)){const u=s.Ta.shift();gs(s).B_(),yield s1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),yield zh(s)}})})(a,e)),r1(a)&&l1(a)})}function P_(a,e){return K(this,null,function*(){const i=De(a);i.asyncQueue.verifyOperationInProgress(),de(sr,"RemoteStore received new credentials");const s=hr(i);i.Ea.add(3),yield ru(i),s&&i.Ra.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),yield Ph(i)})}function O4(a,e){return K(this,null,function*(){const i=De(a);e?(i.Ea.delete(2),yield Ph(i)):e||(i.Ea.add(2),yield ru(i),i.Ra.set("Unknown"))})}function _l(a){return a.ma||(a.ma=(function(i,s,l){const u=De(i);return u.sa(),new v4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:T4.bind(null,a),t_:S4.bind(null,a),r_:A4.bind(null,a),H_:N4.bind(null,a)}),a.da.push((e=>K(null,null,function*(){e?(a.ma.B_(),Sp(a)?Tp(a):a.Ra.set("Unknown")):(yield a.ma.stop(),a1(a))})))),a.ma}function gs(a){return a.fa||(a.fa=(function(i,s,l){const u=De(i);return u.sa(),new _4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:D4.bind(null,a),r_:k4.bind(null,a),ta:I4.bind(null,a),na:j4.bind(null,a)}),a.da.push((e=>K(null,null,function*(){e?(a.fa.B_(),yield zh(a)):(yield a.fa.stop(),a.Ta.length>0&&(de(sr,"Stopping write stream with ".concat(a.Ta.length," pending writes")),a.Ta=[]))})))),a.fa}class Ap{constructor(e,i,s,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,u){const f=Date.now()+s,p=new Ap(e,i,f,l,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(a,e){if(va("AsyncQueue","".concat(e,": ").concat(a)),yl(a))return new he(ee.UNAVAILABLE,"".concat(e,": ").concat(a));throw a}class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||we.comparator(i.key,s.key):(i,s)=>we.comparator(i.key,s.key),this.keyedMap=Co(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const s=new il;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class z_{constructor(){this.ga=new pt(we.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class hl{constructor(e,i,s,l,u,f,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,l,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new hl(e,i,il.emptySet(i),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class M4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class V4{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=De(i),u=l.queries;l.queries=B_(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function B_(){return new cr((a=>Rx(a)),kh)}function o1(a,e){return K(this,null,function*(){const i=De(a);let s=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new M4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=yield i.onListen(l,!0);break;case 1:u.wa=yield i.onListen(l,!1);break;case 2:yield i.onFirstRemoteStoreListen(l)}}catch(f){const p=Np(f,"Initialization of query '".concat(el(e.query),"' failed"));return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&Rp(i)})}function u1(a,e){return K(this,null,function*(){const i=De(a),s=e.query;let l=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})}function L4(a,e){const i=De(a);let s=!1;for(const l of e){const u=l.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(l)&&(s=!0);f.wa=l}}s&&Rp(i)}function U4(a,e,i){const s=De(a),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);s.queries.delete(e)}function Rp(a){a.Ca.forEach((e=>{e.next()}))}var Bm,q_;(q_=Bm||(Bm={})).Ma="default",q_.Cache="cache";class c1{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new hl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}class h1{constructor(e){this.key=e}}class f1{constructor(e){this.key=e}}class P4{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Cx(e),this.tu=new il(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new z_,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,E)=>{const A=l.get(b),j=Oh(this.query,E)?E:null,z=!!A&&this.mutatedKeys.has(A.key),G=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let L=!1;A&&j?A.data.isEqual(j.data)?z!==G&&(s.track({type:3,doc:j}),L=!0):this.su(A,j)||(s.track({type:2,doc:j}),L=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(p=!0)):!A&&j?(s.track({type:0,doc:j}),L=!0):A&&!j&&(s.track({type:1,doc:A}),L=!0,(g||y)&&(p=!0)),L&&(j?(f=f.add(j),u=G?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,E)=>(function(j,z){const G=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:L})}};return G(j)-G(z)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(s),l=l!=null?l:!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new hl(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new f1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new h1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cp="SyncEngine";class z4{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class B4{constructor(e){this.key=e,this.hu=!1}}class q4{constructor(e,i,s,l,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new cr((p=>Rx(p)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new pt(we.comparator),this.Au=new Map,this.Ru=new vp,this.Vu={},this.mu=new Map,this.fu=cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function H4(a,e,i=!0){return K(this,null,function*(){const s=v1(a);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=yield d1(s,e,i,!0),l})}function F4(a,e){return K(this,null,function*(){const i=v1(a);yield d1(i,e,!0,!1)})}function d1(a,e,i,s){return K(this,null,function*(){const l=yield c4(a.localStore,zi(e)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let p;return s&&(p=yield G4(a,e,u,f==="current",l.resumeToken)),a.isPrimaryClient&&i&&n1(a.remoteStore,l),p})}function G4(a,e,i,s,l){return K(this,null,function*(){a.pu=(E,A,j)=>(function(G,L,ne,ae){return K(this,null,function*(){let X=L.view.ru(ne);X.Cs&&(X=yield O_(G.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,X))));const ce=ae&&ae.targetChanges.get(L.targetId),fe=ae&&ae.targetMismatches.get(L.targetId)!=null,ye=L.view.applyChanges(X,G.isPrimaryClient,ce,fe);return F_(G,L.targetId,ye.au),ye.snapshot})})(a,E,A,j);const u=yield O_(a.localStore,e,!0),f=new P4(e,u.Qs),p=f.ru(u.documents),g=su.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),y=f.applyChanges(p,a.isPrimaryClient,g);F_(a,i,y.au);const b=new z4(e,i,f);return a.Tu.set(e,b),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot})}function Q4(a,e,i){return K(this,null,function*(){const s=De(a),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!kh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield Pm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&wp(s.remoteStore,l.targetId),qm(s,l.targetId)})).catch(gl))):(qm(s,l.targetId),yield Pm(s.localStore,l.targetId,!0))})}function K4(a,e){return K(this,null,function*(){const i=De(a),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),wp(i.remoteStore,s.targetId))})}function $4(a,e,i){return K(this,null,function*(){const s=tC(a);try{const l=yield(function(f,p){const g=De(f),y=ht.now(),b=p.reduce(((j,z)=>j.add(z.key)),qe());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let z=_a(),G=qe();return g.Ns.getEntries(j,b).next((L=>{z=L,z.forEach(((ne,ae)=>{ae.isValidDocument()||(G=G.add(ne))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,z))).next((L=>{E=L;const ne=[];for(const ae of p){const X=uR(ae,E.get(ae.key).overlayedDocument);X!=null&&ne.push(new xs(ae.key,X,bx(X.value.mapValue),Wn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,ne,p)})).next((L=>{A=L;const ne=L.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(j,L.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:Ix(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new pt(Be)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,i),yield lu(s,l.changes),yield zh(s.remoteStore)}catch(l){const u=Np(l,"Failed to persist write");i.reject(u)}})}function m1(a,e){return K(this,null,function*(){const i=De(a);try{const s=yield l4(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=i.Au.get(u);f&&(Ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ze(f.hu,14607):l.removedDocuments.size>0&&(Ze(f.hu,42227),f.hu=!1))})),yield lu(i,s,e)}catch(s){yield gl(s)}})}function H_(a,e,i){const s=De(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=De(f);g.onlineState=p;let y=!1;g.queries.forEach(((b,E)=>{for(const A of E.Sa)A.va(p)&&(y=!0)})),y&&Rp(g)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Y4(a,e,i){return K(this,null,function*(){const s=De(a);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new pt(we.comparator);f=f.insert(u,ln.newNoDocument(u,Re.min()));const p=qe().add(u),g=new Lh(Re.min(),new Map,new pt(Be),f,p);yield m1(s,g),s.du=s.du.remove(u),s.Au.delete(e),Dp(s)}else yield Pm(s.localStore,e,!1).then((()=>qm(s,e,i))).catch(gl)})}function X4(a,e){return K(this,null,function*(){const i=De(a),s=e.batch.batchId;try{const l=yield r4(i.localStore,e);g1(i,s,null),p1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield lu(i,l)}catch(l){yield gl(l)}})}function Z4(a,e,i){return K(this,null,function*(){const s=De(a);try{const l=yield(function(f,p){const g=De(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Ze(E!==null,37113),b=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);g1(s,e,i),p1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),yield lu(s,l)}catch(l){yield gl(l)}})}function p1(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function g1(a,e,i){const s=De(a);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function qm(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||y1(a,s)}))}function y1(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(wp(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Dp(a))}function F_(a,e,i){for(const s of i)s instanceof h1?(a.Ru.addReference(s.key,e),J4(a,s)):s instanceof f1?(de(Cp,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||y1(a,s.key)):Ne(19791,{wu:s})}function J4(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(de(Cp,"New document in limbo: "+i),a.Eu.add(s),Dp(a))}function Dp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new we(ot.fromString(e)),s=a.fu.next();a.Au.set(s,new B4(i)),a.du=a.du.insert(i,s),n1(a.remoteStore,new ls(zi(jh(i.path)),s,"TargetPurposeLimboResolution",Ch.ce))}}function lu(a,e,i){return K(this,null,function*(){const s=De(a),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,i).then((y=>{var b;if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:(b=i==null?void 0:i.targetChanges.get(g.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=bp.As(g.targetId,y);u.push(E)}})))})),yield Promise.all(f),s.Pu.H_(l),yield(function(g,y){return K(this,null,function*(){const b=De(g);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(y,(A=>ie.forEach(A.Es,(j=>b.persistence.referenceDelegate.addReference(E,A.targetId,j))).next((()=>ie.forEach(A.ds,(j=>b.persistence.referenceDelegate.removeReference(E,A.targetId,j)))))))))}catch(E){if(!yl(E))throw E;de(xp,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const j=b.Ms.get(A),z=j.snapshotVersion,G=j.withLastLimboFreeSnapshotVersion(z);b.Ms=b.Ms.insert(A,G)}}})})(s.localStore,u))})}function W4(a,e){return K(this,null,function*(){const i=De(a);if(!i.currentUser.isEqual(e)){de(Cp,"User change. New user:",e.toKey());const s=yield Jx(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new he(ee.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield lu(i,s.Ls)}})}function eC(a,e){const i=De(a),s=i.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let l=qe();const u=i.Iu.get(e);if(!u)return l;for(const f of u){const p=i.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function v1(a){const e=De(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y4.bind(null,e),e.Pu.H_=L4.bind(null,e.eventManager),e.Pu.yu=U4.bind(null,e.eventManager),e}function tC(a){const e=De(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z4.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return K(this,null,function*(){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,i){return null}Mu(e,i){return null}vu(e){return s4(this.persistence,new n4,e.initialUser,this.serializer)}Cu(e){return new Zx(_p.mi,this.serializer)}Du(e){return new f4}terminate(){return K(this,null,function*(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}bh.provider={build:()=>new bh};class nC extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new BR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Zx((s=>vh.mi(s,i)),this.serializer)}}class Hm{initialize(e,i){return K(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>H_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=W4.bind(null,this.syncEngine),yield O4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return(function(){return new V4})()}createDatastore(e){const i=Uh(e.databaseInfo.databaseId),s=(function(u){return new y4(u)})(e.databaseInfo);return(function(u,f,p,g){return new x4(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,u,f,p){return new E4(s,l,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>H_(this.syncEngine,i,0)),(function(){return L_.v()?new L_:new d4})())}createSyncEngine(e,i){return(function(l,u,f,p,g,y,b){const E=new q4(l,u,f,p,g,y);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return K(this,null,function*(){var e,i;yield(function(l){return K(this,null,function*(){const u=De(l);de(sr,"RemoteStore shutting down."),u.Ea.add(5),yield ru(u),u.Aa.shutdown(),u.Ra.set("Unknown")})})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()})}}Hm.provider={build:()=>new Hm};class _1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):va("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ys="FirestoreClient";class iC{constructor(e,i,s,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(f=>K(this,null,function*(){de(ys,"Received user=",f.uid),yield this.authCredentialListener(f),this.user=f}))),this.appCheckCredentials.start(s,(f=>(de(ys,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((()=>K(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Np(i,"Failed to shutdown persistence");e.reject(s)}}))),e.promise}}function fm(a,e){return K(this,null,function*(){a.asyncQueue.verifyOperationInProgress(),de(ys,"Initializing OfflineComponentProvider");const i=a.configuration;yield e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((l=>K(null,null,function*(){s.isEqual(l)||(yield Jx(e.localStore,l),s=l)}))),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e})}function G_(a,e){return K(this,null,function*(){a.asyncQueue.verifyOperationInProgress();const i=yield aC(a);de(ys,"Initializing OnlineComponentProvider"),yield e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>P_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>P_(e.remoteStore,l))),a._onlineComponents=e})}function aC(a){return K(this,null,function*(){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){de(ys,"Using user provided OfflineComponentProvider");try{yield fm(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;rl("Error using user provided cache. Falling back to memory cache: "+i),yield fm(a,new bh)}}else de(ys,"Using default OfflineComponentProvider"),yield fm(a,new nC(void 0));return a._offlineComponents})}function b1(a){return K(this,null,function*(){return a._onlineComponents||(a._uninitializedComponentsProvider?(de(ys,"Using user provided OnlineComponentProvider"),yield G_(a,a._uninitializedComponentsProvider._online)):(de(ys,"Using default OnlineComponentProvider"),yield G_(a,new Hm))),a._onlineComponents})}function sC(a){return b1(a).then((e=>e.syncEngine))}function Fm(a){return K(this,null,function*(){const e=yield b1(a),i=e.eventManager;return i.onListen=H4.bind(null,e.syncEngine),i.onUnlisten=Q4.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=F4.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=K4.bind(null,e.syncEngine),i})}function rC(a,e,i={}){const s=new cs;return a.asyncQueue.enqueueAndForget((()=>K(null,null,function*(){return(function(u,f,p,g,y){const b=new _1({next:A=>{b.Nu(),f.enqueueAndForget((()=>u1(u,E)));const j=A.docs.has(p);!j&&A.fromCache?y.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&A.fromCache&&g&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new c1(jh(p.path),b,{includeMetadataChanges:!0,qa:!0});return o1(u,E)})(yield Fm(a),a.asyncQueue,e,i,s)}))),s.promise}function x1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const Q_=new Map;const w1="firestore.googleapis.com",K_=!0;class $_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=K_}else this.host=e.host,this.ssl=(i=e.ssl)!=null?i:K_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PR)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x1((s=e.experimentalLongPollingOptions)!=null?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (must not be NaN)"));if(u.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (minimum allowed value is 5)"));if(u.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (maximum allowed value is 30)"))}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dN;switch(s.type){case"firstParty":return new yN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return K(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Q_.get(i);s&&(de("ComponentProvider","Removing Datastore"),Q_.delete(i),s.terminate())})(this),Promise.resolve()}}function lC(a,e,i,s={}){var y;a=Jn(a,Bh);const l=tu(e),u=a._getSettings(),f=Ee(oe({},u),{emulatorOptions:a._getEmulatorOptions()}),p="".concat(e,":").concat(i);l&&(qb("https://".concat(p)),Fb("Firestore",!0)),u.host!==w1&&u.host!==p&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Ee(oe({},u),{host:p,ssl:l,emulatorOptions:s});if(!oh(g,f)&&(a._setSettings(g),s.mockUserToken)){let b,E;if(typeof s.mockUserToken=="string")b=s.mockUserToken,E=rn.MOCK_USER;else{b=Hb(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(A)}a._authCredentials=new mN(new ox(b,E))}}class ws{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class vt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(iu(i,vt._jsonSchema))return new vt(e,s||null,new we(ot.fromString(i.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Ut("string",vt._jsonSchemaVersion),referencePath:Ut("string")};class hs extends ws{constructor(e,i,s){super(e,i,jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new we(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function kn(a,e,...i){if(a=tn(a),ux("collection","path",e),a instanceof Bh){const s=ot.fromString(e,...i);return l_(s),new hs(a,null,s)}{if(!(a instanceof vt||a instanceof hs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ot.fromString(e,...i));return l_(s),new hs(a.firestore,null,s)}}function xn(a,e,...i){if(a=tn(a),arguments.length===1&&(e=lp.newId()),ux("doc","path",e),a instanceof Bh){const s=ot.fromString(e,...i);return r_(s),new vt(a,null,new we(s))}{if(!(a instanceof vt||a instanceof hs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ot.fromString(e,...i));return r_(s),new vt(a.firestore,a instanceof hs?a.converter:null,new we(s))}}const Y_="AsyncQueue";class X_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e1(this,"async_queue_retry"),this._c=()=>{const s=hm();s&&de(Y_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=hm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=hm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}lc(){return K(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;de(Y_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}})}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,va("INTERNAL UNHANDLED ERROR: ",Z_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Ap.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ne(47125,{Pc:Z_(this.nc)})}verifyOperationInProgress(){}Tc(){return K(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Z_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),e}function J_(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(a,["next","error","complete"])}class vs extends Bh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new X_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}_terminate(){return K(this,null,function*(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X_(e),this._firestoreClient=void 0,yield e}})}}function oC(a,e){const i=typeof a=="object"?a:sp(),s=typeof a=="string"?a:hh,l=nu(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=zb("firestore");u&&lC(l,...u)}return l}function Ip(a){if(a._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||uC(a),a._firestoreClient}function uC(a){var s,l,u;const e=a._freezeSettings(),i=(function(p,g,y,b){return new ON(p,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,x1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new iC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(a._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(nn.fromBase64String(e))}catch(i){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Xn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Ut("string",Xn._jsonSchemaVersion),bytes:Ut("string")};class qh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jp{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ut("string",qi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Hi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Hi(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Ut("string",Hi._jsonSchemaVersion),vectorValues:Ut("object")};const cC=/^__.*__$/;class hC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class E1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new xs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function T1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:a})}}class kp{constructor(e,i,s,l,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kp(oe(oe({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(T1(this.Ac)&&cC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Uh(e)}Cc(e,i,s,l=!1){return new kp({Ac:e,methodName:i,Dc:s,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hh(a){const e=a._freezeSettings(),i=Uh(a._databaseId);return new fC(a._databaseId,!!e.ignoreUndefinedProperties,i)}function S1(a,e,i,s,l,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,i,l);Op("Data must be an object, but it was:",f,s);const p=A1(s,f);let g,y;if(u.merge)g=new jn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const E of u.mergeFields){const A=Gm(e,E,i);if(!f.contains(A))throw new he(ee.INVALID_ARGUMENT,"Field '".concat(A,"' is specified in your field mask but missing from your input data."));R1(b,A)||b.push(A)}g=new jn(b),y=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=f.fieldTransforms;return new hC(new wn(p),g,y)}class Fh extends jp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function dC(a,e,i,s){const l=a.Cc(1,e,i);Op("Data must be an object, but it was:",l,s);const u=[],f=wn.empty();bs(s,((g,y)=>{const b=Mp(e,g,i);y=tn(y);const E=l.yc(b);if(y instanceof Fh)u.push(b);else{const A=ou(y,E);A!=null&&(u.push(b),f.set(b,A))}}));const p=new jn(u);return new E1(f,p,l.fieldTransforms)}function mC(a,e,i,s,l,u){const f=a.Cc(1,e,i),p=[Gm(e,s,i)],g=[l];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let A=0;A<u.length;A+=2)p.push(Gm(e,u[A])),g.push(u[A+1]);const y=[],b=wn.empty();for(let A=p.length-1;A>=0;--A)if(!R1(y,p[A])){const j=p[A];let z=g[A];z=tn(z);const G=f.yc(j);if(z instanceof Fh)y.push(j);else{const L=ou(z,G);L!=null&&(y.push(j),b.set(j,L))}}const E=new jn(y);return new E1(b,E,f.fieldTransforms)}function pC(a,e,i,s=!1){return ou(i,a.Cc(s?4:3,e))}function ou(a,e){if(N1(a=tn(a)))return Op("Unsupported field value:",e,a),A1(a,e);if(a instanceof jp)return(function(s,l){if(!T1(l.Ac))throw l.Sc("".concat(s._methodName,"() can only be used with update() and set()"));if(!l.path)throw l.Sc("".concat(s._methodName,"() is not currently supported inside arrays"));const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const p of s){let g=ou(p,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,l){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ht.fromDate(s);return{timestampValue:yh(l.serializer,u)}}if(s instanceof ht){const u=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(l.serializer,u)}}if(s instanceof qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:Hx(l.serializer,s._byteString)};if(s instanceof vt){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc("Document reference is for database ".concat(f.projectId,"/").concat(f.database," but should be for database ").concat(u.projectId,"/").concat(u.database));return{referenceValue:yp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Hi)return(function(f,p){return{mapValue:{fields:{[vx]:{stringValue:_x},[fh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return dp(p.serializer,y)}))}}}}}})(s,l);throw l.Sc("Unsupported field value: ".concat(Rh(s)))})(a,e)}function A1(a,e){const i={};return fx(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(a,((s,l)=>{const u=ou(l,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function N1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ht||a instanceof qi||a instanceof Xn||a instanceof vt||a instanceof jp||a instanceof Hi)}function Op(a,e,i){if(!N1(i)||!cx(i)){const s=Rh(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Gm(a,e,i){if((e=tn(e))instanceof qh)return e._internalPath;if(typeof e=="string")return Mp(a,e);throw xh("Field path arguments must be of type string or ",a,!1,void 0,i)}const gC=new RegExp("[~\\*/\\[\\]]");function Mp(a,e,i){if(e.search(gC)>=0)throw xh("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),a,!1,void 0,i);try{return new qh(...e.split("."))._internalPath}catch(s){throw xh("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),a,!1,void 0,i)}}function xh(a,e,i,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let p="Function ".concat(e,"() called with invalid data");i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=" in field ".concat(s)),f&&(g+=" in document ".concat(l)),g+=")"),new he(ee.INVALID_ARGUMENT,p+a+g)}function R1(a,e){return a.some((i=>i.isEqual(e)))}class C1{constructor(e,i,s,l,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Gh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class yC extends C1{data(){return super.data()}}function Gh(a,e){return typeof e=="string"?Mp(a,e):e instanceof qh?e._internalPath:e._delegate._internalPath}function vC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vp{}class Lp extends Vp{}function rr(a,e,...i){let s=[];e instanceof Vp&&s.push(e),s=s.concat(i),(function(u){const f=u.filter((g=>g instanceof Up)).length,p=u.filter((g=>g instanceof Qh)).length;if(f>1||f>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class Qh extends Lp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Qh(e,i,s)}_apply(e){const i=this._parse(e);return D1(e._query,i),new ws(e.firestore,e.converter,Om(e._query,i))}_parse(e){const i=Hh(e.firestore);return(function(u,f,p,g,y,b,E){let A;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(b,"' queries on documentId()."));if(b==="in"||b==="not-in"){eb(E,b);const z=[];for(const G of E)z.push(W_(g,u,G));A={arrayValue:{values:z}}}else A=W_(g,u,E)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||eb(E,b),A=pC(p,f,E,b==="in"||b==="not-in");return Lt.create(y,b,A)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function dm(a,e,i){const s=e,l=Gh("where",a);return Qh._create(l,s,i)}class Up extends Vp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Up(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:di.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)D1(f,g),f=Om(f,g)})(e._query,i),new ws(e.firestore,e.converter,Om(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pp extends Lp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Pp(e,i)}_apply(e){const i=(function(l,u,f){if(l.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ko(u,f)})(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new vl(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Qm(a,e="asc"){const i=e,s=Gh("orderBy",a);return Pp._create(s,i)}class zp extends Lp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new zp(e,i,s)}_apply(e){return new ws(e.firestore,e.converter,mh(e._query,this._limit,this._limitType))}}function _C(a){return zp._create("limit",a,"F")}function W_(a,e,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nx(e)&&i.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(i,"' contains a '/' character."));const s=e.path.child(ot.fromString(i));if(!we.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(s,"' is not because it has an odd number of segments (").concat(s.length,")."));return p_(a,new we(s))}if(i instanceof vt)return p_(a,i._key);throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Rh(i),"."))}function eb(a,e){if(!Array.isArray(a)||a.length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function D1(a,e){const i=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new he(ee.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new he(ee.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}class bC{convertValue(e,i="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return bs(e,((l,u)=>{s[l]=this.convertValue(u,i)})),s}convertVectorValue(e){var s,l,u;const i=(u=(l=(s=e.fields)==null?void 0:s[fh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>St(f.doubleValue)));return new Hi(i)}convertGeoPoint(e){return new qi(St(e.latitude),St(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Ih(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const i=ds(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ot.fromString(e);Ze(Yx(s),9688,{name:e});const l=new Go(s.get(1),s.get(3)),u=new we(s.popFirst(5));return l.isEqual(i)||va("Document ".concat(u," contains a document reference within a different database (").concat(l.projectId,"/").concat(l.database,") which is not supported. It will be treated as a reference in the current database (").concat(i.projectId,"/").concat(i.database,") instead.")),u}}function I1(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class Io{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nr extends C1{constructor(e,i,s,l,u,f){super(e,i,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Gh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=nr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}nr._jsonSchemaVersion="firestore/documentSnapshot/1.0",nr._jsonSchema={type:Ut("string",nr._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class ih extends nr{data(e={}){return super.data(e)}}class al{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Io(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new ih(this._firestore,this._userDataWriter,s.key,s,new Io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Io(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new ih(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Io(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),b=f.indexOf(p.doc.key)),{type:xC(p.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:a})}}function wC(a){a=Jn(a,vt);const e=Jn(a.firestore,vs);return rC(Ip(e),a._key).then((i=>k1(e,a,i)))}al._jsonSchemaVersion="firestore/querySnapshot/1.0",al._jsonSchema={type:Ut("string",al._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class j1 extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,i)}}function Po(a,e,i){a=Jn(a,vt);const s=Jn(a.firestore,vs),l=I1(a.converter,e,i);return Kh(s,[S1(Hh(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Wn.none())])}function Km(a,e,i,...s){a=Jn(a,vt);const l=Jn(a.firestore,vs),u=Hh(l);let f;return f=typeof(e=tn(e))=="string"||e instanceof qh?mC(u,"updateDoc",a._key,e,i,s):dC(u,"updateDoc",a._key,e),Kh(l,[f.toMutation(a._key,Wn.exists(!0))])}function $m(a){return Kh(Jn(a.firestore,vs),[new mp(a._key,Wn.none())])}function fl(a,e){const i=Jn(a.firestore,vs),s=xn(a),l=I1(a.converter,e);return Kh(i,[S1(Hh(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function fa(a,...e){var g,y,b;a=tn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||J_(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(J_(e[s])){const E=e[s];e[s]=(g=E.next)==null?void 0:g.bind(E),e[s+1]=(y=E.error)==null?void 0:y.bind(E),e[s+2]=(b=E.complete)==null?void 0:b.bind(E)}let u,f,p;if(a instanceof vt)f=Jn(a.firestore,vs),p=jh(a._key.path),u={next:E=>{e[s]&&e[s](k1(f,a,E))},error:e[s+1],complete:e[s+2]};else{const E=Jn(a,ws);f=Jn(E.firestore,vs),p=E._query;const A=new j1(f);u={next:j=>{e[s]&&e[s](new al(f,A,E,j))},error:e[s+1],complete:e[s+2]},vC(a._query)}return(function(A,j,z,G){const L=new _1(G),ne=new c1(j,L,z);return A.asyncQueue.enqueueAndForget((()=>K(null,null,function*(){return o1(yield Fm(A),ne)}))),()=>{L.Nu(),A.asyncQueue.enqueueAndForget((()=>K(null,null,function*(){return u1(yield Fm(A),ne)})))}})(Ip(f),p,l,u)}function Kh(a,e){return(function(s,l){const u=new cs;return s.asyncQueue.enqueueAndForget((()=>K(null,null,function*(){return $4(yield sC(s),l,u)}))),u.promise})(Ip(a),e)}function k1(a,e,i){const s=i.docs.get(e._key),l=new j1(a);return new nr(a,l,e._key,s,new Io(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){pl=l})(Zb),ya(new Fi("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new vs(new pN(s.getProvider("auth-internal")),new vN(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(y.options.projectId,b)})(f,l),f);return u=oe({useFetchStreams:i},u),p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Zn(n_,i_,e),Zn(n_,i_,"esm2020")})();const O1="@firebase/installations",Bp="0.6.19";const M1=1e4,V1="w:".concat(Bp),L1="FIS_v2",EC="https://firebaseinstallations.googleapis.com/v1",TC=3600*1e3,SC="installations",AC="Installations";const NC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},lr=new Ah(SC,AC,NC);function U1(a){return a instanceof _s&&a.code.includes("request-failed")}function P1({projectId:a}){return"".concat(EC,"/projects/").concat(a,"/installations")}function z1(a){return{token:a.token,requestStatus:2,expiresIn:CC(a.expiresIn),creationTime:Date.now()}}function B1(a,e){return K(this,null,function*(){const s=(yield e.json()).error;return lr.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})})}function q1({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function RC(a,{refreshToken:e}){const i=q1(a);return i.append("Authorization",DC(e)),i}function H1(a){return K(this,null,function*(){const e=yield a();return e.status>=500&&e.status<600?a():e})}function CC(a){return Number(a.replace("s","000"))}function DC(a){return"".concat(L1," ").concat(a)}function IC(s,l){return K(this,arguments,function*({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const u=P1(a),f=q1(a),p=e.getImmediate({optional:!0});if(p){const E=yield p.getHeartbeatsHeader();E&&f.append("x-firebase-client",E)}const g={fid:i,authVersion:L1,appId:a.appId,sdkVersion:V1},y={method:"POST",headers:f,body:JSON.stringify(g)},b=yield H1(()=>fetch(u,y));if(b.ok){const E=yield b.json();return{fid:E.fid||i,registrationStatus:2,refreshToken:E.refreshToken,authToken:z1(E.authToken)}}else throw yield B1("Create Installation",b)})}function F1(a){return new Promise(e=>{setTimeout(e,a)})}function jC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const kC=/^[cdef][\w-]{21}$/,Ym="";function OC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=MC(a);return kC.test(i)?i:Ym}catch(a){return Ym}}function MC(a){return jC(a).substr(0,22)}function $h(a){return"".concat(a.appName,"!").concat(a.appId)}const G1=new Map;function Q1(a,e){const i=$h(a);K1(i,e),VC(i,e)}function K1(a,e){const i=G1.get(a);if(i)for(const s of i)s(e)}function VC(a,e){const i=LC();i&&i.postMessage({key:a,fid:e}),UC()}let er=null;function LC(){return!er&&"BroadcastChannel"in self&&(er=new BroadcastChannel("[Firebase] FID Change"),er.onmessage=a=>{K1(a.data.key,a.data.fid)}),er}function UC(){G1.size===0&&er&&(er.close(),er=null)}const PC="firebase-installations-database",zC=1,or="firebase-installations-store";let mm=null;function qp(){return mm||(mm=Nh(PC,zC,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(or)}}})),mm}function wh(a,e){return K(this,null,function*(){const i=$h(a),l=(yield qp()).transaction(or,"readwrite"),u=l.objectStore(or),f=yield u.get(i);return yield u.put(e,i),yield l.done,(!f||f.fid!==e.fid)&&Q1(a,e.fid),e})}function $1(a){return K(this,null,function*(){const e=$h(a),s=(yield qp()).transaction(or,"readwrite");yield s.objectStore(or).delete(e),yield s.done})}function Yh(a,e){return K(this,null,function*(){const i=$h(a),l=(yield qp()).transaction(or,"readwrite"),u=l.objectStore(or),f=yield u.get(i),p=e(f);return p===void 0?yield u.delete(i):yield u.put(p,i),yield l.done,p&&(!f||f.fid!==p.fid)&&Q1(a,p.fid),p})}function Hp(a){return K(this,null,function*(){let e;const i=yield Yh(a.appConfig,s=>{const l=BC(s),u=qC(a,l);return e=u.registrationPromise,u.installationEntry});return i.fid===Ym?{installationEntry:yield e}:{installationEntry:i,registrationPromise:e}})}function BC(a){const e=a||{fid:OC(),registrationStatus:0};return Y1(e)}function qC(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(lr.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=HC(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FC(a)}:{installationEntry:e}}function HC(a,e){return K(this,null,function*(){try{const i=yield IC(a,e);return wh(a.appConfig,i)}catch(i){throw U1(i)&&i.customData.serverCode===409?yield $1(a.appConfig):yield wh(a.appConfig,{fid:e.fid,registrationStatus:0}),i}})}function FC(a){return K(this,null,function*(){let e=yield tb(a.appConfig);for(;e.registrationStatus===1;)yield F1(100),e=yield tb(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=yield Hp(a);return s||i}return e})}function tb(a){return Yh(a,e=>{if(!e)throw lr.create("installation-not-found");return Y1(e)})}function Y1(a){return GC(a)?{fid:a.fid,registrationStatus:0}:a}function GC(a){return a.registrationStatus===1&&a.registrationTime+M1<Date.now()}function QC(s,l){return K(this,arguments,function*({appConfig:a,heartbeatServiceProvider:e},i){const u=KC(a,i),f=RC(a,i),p=e.getImmediate({optional:!0});if(p){const E=yield p.getHeartbeatsHeader();E&&f.append("x-firebase-client",E)}const g={installation:{sdkVersion:V1,appId:a.appId}},y={method:"POST",headers:f,body:JSON.stringify(g)},b=yield H1(()=>fetch(u,y));if(b.ok){const E=yield b.json();return z1(E)}else throw yield B1("Generate Auth Token",b)})}function KC(a,{fid:e}){return"".concat(P1(a),"/").concat(e,"/authTokens:generate")}function Fp(a,e=!1){return K(this,null,function*(){let i;const s=yield Yh(a.appConfig,u=>{if(!X1(u))throw lr.create("not-registered");const f=u.authToken;if(!e&&XC(f))return u;if(f.requestStatus===1)return i=$C(a,e),u;{if(!navigator.onLine)throw lr.create("app-offline");const p=JC(u);return i=YC(a,p),p}});return i?yield i:s.authToken})}function $C(a,e){return K(this,null,function*(){let i=yield nb(a.appConfig);for(;i.authToken.requestStatus===1;)yield F1(100),i=yield nb(a.appConfig);const s=i.authToken;return s.requestStatus===0?Fp(a,e):s})}function nb(a){return Yh(a,e=>{if(!X1(e))throw lr.create("not-registered");const i=e.authToken;return WC(i)?Ee(oe({},e),{authToken:{requestStatus:0}}):e})}function YC(a,e){return K(this,null,function*(){try{const i=yield QC(a,e),s=Ee(oe({},e),{authToken:i});return yield wh(a.appConfig,s),i}catch(i){if(U1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))yield $1(a.appConfig);else{const s=Ee(oe({},e),{authToken:{requestStatus:0}});yield wh(a.appConfig,s)}throw i}})}function X1(a){return a!==void 0&&a.registrationStatus===2}function XC(a){return a.requestStatus===2&&!ZC(a)}function ZC(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+TC}function JC(a){const e={requestStatus:1,requestTime:Date.now()};return Ee(oe({},a),{authToken:e})}function WC(a){return a.requestStatus===1&&a.requestTime+M1<Date.now()}function eD(a){return K(this,null,function*(){const e=a,{installationEntry:i,registrationPromise:s}=yield Hp(e);return s?s.catch(console.error):Fp(e).catch(console.error),i.fid})}function tD(a,e=!1){return K(this,null,function*(){const i=a;return yield nD(i),(yield Fp(i,e)).token})}function nD(a){return K(this,null,function*(){const{registrationPromise:e}=yield Hp(a);e&&(yield e)})}function iD(a){if(!a||!a.options)throw pm("App Configuration");if(!a.name)throw pm("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw pm(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function pm(a){return lr.create("missing-app-config-values",{valueName:a})}const Z1="installations",aD="installations-internal",sD=a=>{const e=a.getProvider("app").getImmediate(),i=iD(e),s=nu(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},rD=a=>{const e=a.getProvider("app").getImmediate(),i=nu(e,Z1).getImmediate();return{getId:()=>eD(i),getToken:l=>tD(i,l)}};function lD(){ya(new Fi(Z1,sD,"PUBLIC")),ya(new Fi(aD,rD,"PRIVATE"))}lD();Zn(O1,Bp);Zn(O1,Bp,"esm2020");const oD="/firebase-messaging-sw.js",uD="/firebase-cloud-messaging-push-scope",J1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cD="https://fcmregistrations.googleapis.com/v1",W1="google.c.a.c_id",hD="google.c.a.c_l",fD="google.c.a.ts",dD="google.c.a.e",ib=1e4;var ab;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(ab||(ab={}));var Xo;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(Xo||(Xo={}));function ha(a){const e=new Uint8Array(a);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mD(a){const e="=".repeat((4-a.length%4)%4),i=(a+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(i),l=new Uint8Array(s.length);for(let u=0;u<s.length;++u)l[u]=s.charCodeAt(u);return l}const gm="fcm_token_details_db",pD=5,sb="fcm_token_object_Store";function gD(a){return K(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(gm))return null;let e=null;return(yield Nh(gm,pD,{upgrade:(s,l,u,f)=>K(null,null,function*(){var y;if(l<2||!s.objectStoreNames.contains(sb))return;const p=f.objectStore(sb),g=yield p.index("fcmSenderId").get(a);if(yield p.clear(),!!g){if(l===2){const b=g;if(!b.auth||!b.p256dh||!b.endpoint)return;e={token:b.fcmToken,createTime:(y=b.createTime)!=null?y:Date.now(),subscriptionOptions:{auth:b.auth,p256dh:b.p256dh,endpoint:b.endpoint,swScope:b.swScope,vapidKey:typeof b.vapidKey=="string"?b.vapidKey:ha(b.vapidKey)}}}else if(l===3){const b=g;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:ha(b.auth),p256dh:ha(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:ha(b.vapidKey)}}}else if(l===4){const b=g;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:ha(b.auth),p256dh:ha(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:ha(b.vapidKey)}}}}})})).close(),yield sm(gm),yield sm("fcm_vapid_details_db"),yield sm("undefined"),yD(e)?e:null})}function yD(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:e}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const vD="firebase-messaging-database",_D=1,Zo="firebase-messaging-store";let ym=null;function ew(){return ym||(ym=Nh(vD,_D,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Zo)}}})),ym}function bD(a){return K(this,null,function*(){const e=tw(a),s=yield(yield ew()).transaction(Zo).objectStore(Zo).get(e);if(s)return s;{const l=yield gD(a.appConfig.senderId);if(l)return yield Gp(a,l),l}})}function Gp(a,e){return K(this,null,function*(){const i=tw(a),l=(yield ew()).transaction(Zo,"readwrite");return yield l.objectStore(Zo).put(e,i),yield l.done,e})}function tw({appConfig:a}){return a.appId}const xD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},on=new Ah("messaging","Messaging",xD);function wD(a,e){return K(this,null,function*(){const i=yield Kp(a),s=nw(e),l={method:"POST",headers:i,body:JSON.stringify(s)};let u;try{u=yield(yield fetch(Qp(a.appConfig),l)).json()}catch(f){throw on.create("token-subscribe-failed",{errorInfo:f==null?void 0:f.toString()})}if(u.error){const f=u.error.message;throw on.create("token-subscribe-failed",{errorInfo:f})}if(!u.token)throw on.create("token-subscribe-no-token");return u.token})}function ED(a,e){return K(this,null,function*(){const i=yield Kp(a),s=nw(e.subscriptionOptions),l={method:"PATCH",headers:i,body:JSON.stringify(s)};let u;try{u=yield(yield fetch("".concat(Qp(a.appConfig),"/").concat(e.token),l)).json()}catch(f){throw on.create("token-update-failed",{errorInfo:f==null?void 0:f.toString()})}if(u.error){const f=u.error.message;throw on.create("token-update-failed",{errorInfo:f})}if(!u.token)throw on.create("token-update-no-token");return u.token})}function TD(a,e){return K(this,null,function*(){const s={method:"DELETE",headers:yield Kp(a)};try{const u=yield(yield fetch("".concat(Qp(a.appConfig),"/").concat(e),s)).json();if(u.error){const f=u.error.message;throw on.create("token-unsubscribe-failed",{errorInfo:f})}}catch(l){throw on.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}})}function Qp({projectId:a}){return"".concat(cD,"/projects/").concat(a,"/registrations")}function Kp(i){return K(this,arguments,function*({appConfig:a,installations:e}){const s=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(s)})})}function nw({p256dh:a,auth:e,endpoint:i,vapidKey:s}){const l={web:{endpoint:i,auth:e,p256dh:a}};return s!==J1&&(l.web.applicationPubKey=s),l}const SD=10080*60*1e3;function AD(a){return K(this,null,function*(){const e=yield RD(a.swRegistration,a.vapidKey),i={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:e.endpoint,auth:ha(e.getKey("auth")),p256dh:ha(e.getKey("p256dh"))},s=yield bD(a.firebaseDependencies);if(s){if(CD(s.subscriptionOptions,i))return Date.now()>=s.createTime+SD?ND(a,{token:s.token,createTime:Date.now(),subscriptionOptions:i}):s.token;try{yield TD(a.firebaseDependencies,s.token)}catch(l){console.warn(l)}return rb(a.firebaseDependencies,i)}else return rb(a.firebaseDependencies,i)})}function ND(a,e){return K(this,null,function*(){try{const i=yield ED(a.firebaseDependencies,e),s=Ee(oe({},e),{token:i,createTime:Date.now()});return yield Gp(a.firebaseDependencies,s),i}catch(i){throw i}})}function rb(a,e){return K(this,null,function*(){const s={token:yield wD(a,e),createTime:Date.now(),subscriptionOptions:e};return yield Gp(a,s),s.token})}function RD(a,e){return K(this,null,function*(){const i=yield a.pushManager.getSubscription();return i||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mD(e)})})}function CD(a,e){const i=e.vapidKey===a.vapidKey,s=e.endpoint===a.endpoint,l=e.auth===a.auth,u=e.p256dh===a.p256dh;return i&&s&&l&&u}function lb(a){const e={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return DD(e,a),ID(e,a),jD(e,a),e}function DD(a,e){if(!e.notification)return;a.notification={};const i=e.notification.title;i&&(a.notification.title=i);const s=e.notification.body;s&&(a.notification.body=s);const l=e.notification.image;l&&(a.notification.image=l);const u=e.notification.icon;u&&(a.notification.icon=u)}function ID(a,e){e.data&&(a.data=e.data)}function jD(a,e){var l,u,f,p,g;if(!e.fcmOptions&&!((l=e.notification)!=null&&l.click_action))return;a.fcmOptions={};const i=(p=(u=e.fcmOptions)==null?void 0:u.link)!=null?p:(f=e.notification)==null?void 0:f.click_action;i&&(a.fcmOptions.link=i);const s=(g=e.fcmOptions)==null?void 0:g.analytics_label;s&&(a.fcmOptions.analyticsLabel=s)}function kD(a){return typeof a=="object"&&!!a&&W1 in a}function OD(a){if(!a||!a.options)throw vm("App Configuration Object");if(!a.name)throw vm("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=a;for(const s of e)if(!i[s])throw vm(s);return{appName:a.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function vm(a){return on.create("missing-app-config-values",{valueName:a})}class MD{constructor(e,i,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=OD(e);this.firebaseDependencies={app:e,appConfig:l,installations:i,analyticsProvider:s}}_delete(){return Promise.resolve()}}function VD(a){return K(this,null,function*(){try{a.swRegistration=yield navigator.serviceWorker.register(oD,{scope:uD}),a.swRegistration.update().catch(()=>{}),yield LD(a.swRegistration)}catch(e){throw on.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}})}function LD(a){return K(this,null,function*(){return new Promise((e,i)=>{const s=setTimeout(()=>i(new Error("Service worker not registered after ".concat(ib," ms"))),ib),l=a.installing||a.waiting;a.active?(clearTimeout(s),e()):l?l.onstatechange=u=>{var f;((f=u.target)==null?void 0:f.state)==="activated"&&(l.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),i(new Error("No incoming service worker found.")))})})}function UD(a,e){return K(this,null,function*(){if(!e&&!a.swRegistration&&(yield VD(a)),!(!e&&a.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw on.create("invalid-sw-registration");a.swRegistration=e}})}function PD(a,e){return K(this,null,function*(){e?a.vapidKey=e:a.vapidKey||(a.vapidKey=J1)})}function iw(a,e){return K(this,null,function*(){if(!navigator)throw on.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw on.create("permission-blocked");return yield PD(a,e==null?void 0:e.vapidKey),yield UD(a,e==null?void 0:e.serviceWorkerRegistration),AD(a)})}function zD(a,e,i){return K(this,null,function*(){const s=BD(e);(yield a.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[W1],message_name:i[hD],message_time:i[fD],message_device_time:Math.floor(Date.now()/1e3)})})}function BD(a){switch(a){case Xo.NOTIFICATION_CLICKED:return"notification_open";case Xo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qD(a,e){return K(this,null,function*(){const i=e.data;if(!i.isFirebaseMessaging)return;a.onMessageHandler&&i.messageType===Xo.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(lb(i)):a.onMessageHandler.next(lb(i)));const s=i.data;kD(s)&&s[dD]==="1"&&(yield zD(a,i.messageType,s))})}const ob="@firebase/messaging",ub="0.12.23";const HD=a=>{const e=new MD(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>qD(e,i)),e},FD=a=>{const e=a.getProvider("messaging").getImmediate();return{getToken:s=>iw(e,s)}};function GD(){ya(new Fi("messaging",HD,"PUBLIC")),ya(new Fi("messaging-internal",FD,"PRIVATE")),Zn(ob,ub),Zn(ob,ub,"esm2020")}function QD(){return K(this,null,function*(){try{yield Qb()}catch(a){return!1}return typeof window!="undefined"&&Gb()&&eA()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function KD(a,e){if(!navigator)throw on.create("only-available-in-window");return a.onMessageHandler=e,()=>{a.onMessageHandler=null}}function $D(a=sp()){return QD().then(e=>{if(!e)throw on.create("unsupported-browser")},e=>{throw on.create("indexed-db-unsupported")}),nu(tn(a),"messaging").getImmediate()}function YD(a,e){return K(this,null,function*(){return a=tn(a),iw(a,e)})}function XD(a,e){return a=tn(a),KD(a,e)}GD();const aw="firebasestorage.googleapis.com",sw="storageBucket",ZD=120*1e3,JD=600*1e3;class bt extends _s{constructor(e,i,s=0){super(_m(e),"Firebase Storage: ".concat(i," (").concat(_m(e),")")),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var _t;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function _m(a){return"storage/"+a}function $p(){const a="An unknown error occurred, please check the error payload for server response.";return new bt(_t.UNKNOWN,a)}function WD(a){return new bt(_t.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function eI(a){return new bt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tI(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bt(_t.UNAUTHENTICATED,a)}function nI(){return new bt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iI(a){return new bt(_t.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function aI(){return new bt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sI(){return new bt(_t.CANCELED,"User canceled the upload/download.")}function rI(a){return new bt(_t.INVALID_URL,"Invalid URL '"+a+"'.")}function lI(a){return new bt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function oI(){return new bt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sw+"' property when initializing the app?")}function uI(){return new bt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cI(){return new bt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hI(a){return new bt(_t.UNSUPPORTED_ENVIRONMENT,"".concat(a," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."))}function Xm(a){return new bt(_t.INVALID_ARGUMENT,a)}function rw(){return new bt(_t.APP_DELETED,"The Firebase app was deleted.")}function fI(a){return new bt(_t.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zo(a,e){return new bt(_t.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function Ao(a){throw new bt(_t.INTERNAL_ERROR,"Internal error: "+a)}class On{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=On.makeFromUrl(e,i)}catch(l){return new On(e,"")}if(s.path==="")return s;throw lI(e)}static makeFromUrl(e,i){let s=null;const l="([A-Za-z0-9.\\-_]+)";function u(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+l+f,"i"),g={bucket:1,path:3};function y(ce){ce.path_=decodeURIComponent(ce.path)}const b="v[A-Za-z0-9_]+",E=i.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",j=new RegExp("^https?://".concat(E,"/").concat(b,"/b/").concat(l,"/o").concat(A),"i"),z={bucket:1,path:3},G=i===aw?"(?:storage.googleapis.com|storage.cloud.google.com)":i,L="([^?#]*)",ne=new RegExp("^https?://".concat(G,"/").concat(l,"/").concat(L),"i"),X=[{regex:p,indices:g,postModify:u},{regex:j,indices:z,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let ce=0;ce<X.length;ce++){const fe=X[ce],ye=fe.regex.exec(e);if(ye){const I=ye[fe.indices.bucket];let C=ye[fe.indices.path];C||(C=""),s=new On(I,C),fe.postModify(s);break}}if(s==null)throw rI(e);return s}}class dI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function mI(a,e,i){let s=1,l=null,u=null,f=!1,p=0;function g(){return p===2}let y=!1;function b(...L){y||(y=!0,e.apply(null,L))}function E(L){l=setTimeout(()=>{l=null,a(j,g())},L)}function A(){u&&clearTimeout(u)}function j(L,...ne){if(y){A();return}if(L){A(),b.call(null,L,...ne);return}if(g()||f){A(),b.call(null,L,...ne);return}s<64&&(s*=2);let X;p===1?(p=2,X=0):X=(s+Math.random())*1e3,E(X)}let z=!1;function G(L){z||(z=!0,A(),!y&&(l!==null?(L||(p=2),clearTimeout(l),E(0)):L||(p=1)))}return E(0),u=setTimeout(()=>{f=!0,G(!0)},i),G}function pI(a){a(!1)}function gI(a){return a!==void 0}function yI(a){return typeof a=="object"&&!Array.isArray(a)}function Yp(a){return typeof a=="string"||a instanceof String}function cb(a){return Xp()&&a instanceof Blob}function Xp(){return typeof Blob!="undefined"}function hb(a,e,i,s){if(s<e)throw Xm("Invalid value for '".concat(a,"'. Expected ").concat(e," or greater."));if(s>i)throw Xm("Invalid value for '".concat(a,"'. Expected ").concat(i," or less."))}function Zp(a,e,i){let s=e;return i==null&&(s="https://".concat(e)),"".concat(i,"://").concat(s,"/v0").concat(a)}function lw(a){const e=encodeURIComponent;let i="?";for(const s in a)if(a.hasOwnProperty(s)){const l=e(s)+"="+e(a[s]);i=i+l+"&"}return i=i.slice(0,-1),i}var ir;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(ir||(ir={}));function vI(a,e){const i=a>=500&&a<600,l=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return i||l||u}class _I{constructor(e,i,s,l,u,f,p,g,y,b,E,A=!0,j=!1){this.url_=e,this.method_=i,this.headers_=s,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,G)=>{this.resolve_=z,this.reject_=G,this.start_()})}start_(){const e=(s,l)=>{if(l){s(!1,new Gc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===ir.NO_ERROR,g=u.getStatus();if(!p||vI(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===ir.ABORT;s(!1,new Gc(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Gc(y,u))})},i=(s,l)=>{const u=this.resolve_,f=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());gI(g)?u(g):u()}catch(g){f(g)}else if(p!==null){const g=$p();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(l.canceled){const g=this.appDelete_?rw():sI();f(g)}else{const g=aI();f(g)}};this.canceled_?i(!1,new Gc(!1,null,!0)):this.backoffId_=mI(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gc{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function bI(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function xI(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function wI(a,e){e&&(a["X-Firebase-GMPID"]=e)}function EI(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function TI(a,e,i,s,l,u,f=!0,p=!1){const g=lw(a.urlParams),y=a.url+g,b=Object.assign({},a.headers);return wI(b,e),bI(b,i),xI(b,u),EI(b,s),new _I(y,a.method,b,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,l,f,p)}function SI(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function AI(...a){const e=SI();if(e!==void 0){const i=new e;for(let s=0;s<a.length;s++)i.append(a[s]);return i.getBlob()}else{if(Xp())return new Blob(a);throw new bt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NI(a,e,i){return a.webkitSlice?a.webkitSlice(e,i):a.mozSlice?a.mozSlice(e,i):a.slice?a.slice(e,i):null}function RI(a){if(typeof atob=="undefined")throw hI("base-64");return atob(a)}const Pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bm{constructor(e,i){this.data=e,this.contentType=i||null}}function CI(a,e){switch(a){case Pi.RAW:return new bm(ow(e));case Pi.BASE64:case Pi.BASE64URL:return new bm(uw(a,e));case Pi.DATA_URL:return new bm(II(e),jI(e))}throw $p()}function ow(a){const e=[];for(let i=0;i<a.length;i++){let s=a.charCodeAt(i);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=a.charCodeAt(++i);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function DI(a){let e;try{e=decodeURIComponent(a)}catch(i){throw zo(Pi.DATA_URL,"Malformed data URL.")}return ow(e)}function uw(a,e){switch(a){case Pi.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw zo(a,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Pi.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw zo(a,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=RI(e)}catch(l){throw l.message.includes("polyfill")?l:zo(a,"Invalid character found")}const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}class cw{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw zo(Pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=i[1]||null;s!=null&&(this.base64=kI(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function II(a){const e=new cw(a);return e.base64?uw(Pi.BASE64,e.rest):DI(e.rest)}function jI(a){return new cw(a).contentType}function kI(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}class rs{constructor(e,i){let s=0,l="";cb(e)?(this.data_=e,s=e.size,l=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,i){if(cb(this.data_)){const s=this.data_,l=NI(s,e,i);return l===null?null:new rs(l)}else{const s=new Uint8Array(this.data_.buffer,e,i-e);return new rs(s,!0)}}static getBlob(...e){if(Xp()){const i=e.map(s=>s instanceof rs?s.data_:s);return new rs(AI.apply(null,i))}else{const i=e.map(f=>Yp(f)?CI(Pi.RAW,f).data:f.data_);let s=0;i.forEach(f=>{s+=f.byteLength});const l=new Uint8Array(s);let u=0;return i.forEach(f=>{for(let p=0;p<f.length;p++)l[u++]=f[p]}),new rs(l,!0)}}uploadData(){return this.data_}}function hw(a){let e;try{e=JSON.parse(a)}catch(i){return null}return yI(e)?e:null}function OI(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function MI(a,e){const i=e.split("/").filter(s=>s.length>0).join("/");return a.length===0?i:a+"/"+i}function fw(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}function VI(a,e){return e}class fn{constructor(e,i,s,l){this.server=e,this.local=i||e,this.writable=!!s,this.xform=l||VI}}let Qc=null;function LI(a){return!Yp(a)||a.length<2?a:fw(a)}function dw(){if(Qc)return Qc;const a=[];a.push(new fn("bucket")),a.push(new fn("generation")),a.push(new fn("metageneration")),a.push(new fn("name","fullPath",!0));function e(u,f){return LI(f)}const i=new fn("name");i.xform=e,a.push(i);function s(u,f){return f!==void 0?Number(f):f}const l=new fn("size");return l.xform=s,a.push(l),a.push(new fn("timeCreated")),a.push(new fn("updated")),a.push(new fn("md5Hash",null,!0)),a.push(new fn("cacheControl",null,!0)),a.push(new fn("contentDisposition",null,!0)),a.push(new fn("contentEncoding",null,!0)),a.push(new fn("contentLanguage",null,!0)),a.push(new fn("contentType",null,!0)),a.push(new fn("metadata","customMetadata",!0)),Qc=a,Qc}function UI(a,e){function i(){const s=a.bucket,l=a.fullPath,u=new On(s,l);return e._makeStorageReference(u)}Object.defineProperty(a,"ref",{get:i})}function PI(a,e,i){const s={};s.type="file";const l=i.length;for(let u=0;u<l;u++){const f=i[u];s[f.local]=f.xform(s,e[f.server])}return UI(s,a),s}function mw(a,e,i){const s=hw(e);return s===null?null:PI(a,s,i)}function zI(a,e,i,s){const l=hw(e);if(l===null||!Yp(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const b=a.bucket,E=a.fullPath,A="/b/"+f(b)+"/o/"+f(E),j=Zp(A,i,s),z=lw({alt:"media",token:y});return j+z})[0]}function BI(a,e){const i={},s=e.length;for(let l=0;l<s;l++){const u=e[l];u.writable&&(i[u.server]=a[u.local])}return JSON.stringify(i)}class pw{constructor(e,i,s,l){this.url=e,this.method=i,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gw(a){if(!a)throw $p()}function qI(a,e){function i(s,l){const u=mw(a,l,e);return gw(u!==null),u}return i}function HI(a,e){function i(s,l){const u=mw(a,l,e);return gw(u!==null),zI(u,l,a.host,a._protocol)}return i}function yw(a){function e(i,s){let l;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?l=nI():l=tI():i.getStatus()===402?l=eI(a.bucket):i.getStatus()===403?l=iI(a.path):l=s,l.status=i.getStatus(),l.serverResponse=s.serverResponse,l}return e}function FI(a){const e=yw(a);function i(s,l){let u=e(s,l);return s.getStatus()===404&&(u=WD(a.path)),u.serverResponse=l.serverResponse,u}return i}function GI(a,e,i){const s=e.fullServerUrl(),l=Zp(s,a.host,a._protocol),u="GET",f=a.maxOperationRetryTime,p=new pw(l,u,HI(a,i),f);return p.errorHandler=FI(e),p}function QI(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function KI(a,e,i){const s=Object.assign({},i);return s.fullPath=a.path,s.size=e.size(),s.contentType||(s.contentType=QI(null,e)),s}function $I(a,e,i,s,l){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let X="";for(let ce=0;ce<2;ce++)X=X+Math.random().toString().slice(2);return X}const g=p();f["Content-Type"]="multipart/related; boundary="+g;const y=KI(e,s,l),b=BI(y,i),E="--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+g+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",A="\r\n--"+g+"--",j=rs.getBlob(E,s,A);if(j===null)throw uI();const z={name:y.fullPath},G=Zp(u,a.host,a._protocol),L="POST",ne=a.maxUploadRetryTime,ae=new pw(G,L,qI(a,i),ne);return ae.urlParams=z,ae.headers=f,ae.body=j.uploadData(),ae.errorHandler=yw(e),ae}class YI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ir.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ir.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ir.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,s,l,u){if(this.sent_)throw Ao("cannot .send() more than once");if(tu(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ao("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ao("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ao("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ao("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XI extends YI{initXhr(){this.xhr_.responseType="text"}}function vw(){return new XI}class ur{constructor(e,i){this._service=e,i instanceof On?this._location=i:this._location=On.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new ur(e,i)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fw(this._location.path)}get storage(){return this._service}get parent(){const e=OI(this._location.path);if(e===null)return null;const i=new On(this._location.bucket,e);return new ur(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw fI(e)}}function ZI(a,e,i){a._throwIfRoot("uploadBytes");const s=$I(a.storage,a._location,dw(),new rs(e,!0),i);return a.storage.makeRequestWithTokens(s,vw).then(l=>({metadata:l,ref:a}))}function JI(a){a._throwIfRoot("getDownloadURL");const e=GI(a.storage,a._location,dw());return a.storage.makeRequestWithTokens(e,vw).then(i=>{if(i===null)throw cI();return i})}function WI(a,e){const i=MI(a._location.path,e),s=new On(a._location.bucket,i);return new ur(a.storage,s)}function ej(a){return/^[A-Za-z]+:\/\//.test(a)}function tj(a,e){return new ur(a,e)}function _w(a,e){if(a instanceof Jp){const i=a;if(i._bucket==null)throw oI();const s=new ur(i,i._bucket);return e!=null?_w(s,e):s}else return e!==void 0?WI(a,e):a}function nj(a,e){if(e&&ej(e)){if(a instanceof Jp)return tj(a,e);throw Xm("To use ref(service, url), the first argument must be a Storage instance.")}else return _w(a,e)}function fb(a,e){const i=e==null?void 0:e[sw];return i==null?null:On.makeFromBucketSpec(i,a)}function ij(a,e,i,s={}){a.host="".concat(e,":").concat(i);const l=tu(e);l&&(qb("https://".concat(a.host,"/b")),Fb("Storage",!0)),a._isUsingEmulator=!0,a._protocol=l?"https":"http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken=typeof u=="string"?u:Hb(u,a.app.options.projectId))}class Jp{constructor(e,i,s,l,u,f=!1){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=aw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZD,this._maxUploadRetryTime=JD,this._requests=new Set,l!=null?this._bucket=On.makeFromBucketSpec(l,this._host):this._bucket=fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return K(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return K(this,null,function*(){if(Xb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ur(this,e)}_makeRequest(e,i,s,l,u=!0){if(this._deleted)return new dI(rw());{const f=TI(e,this._appId,s,l,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}makeRequestWithTokens(e,i){return K(this,null,function*(){const[s,l]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,l).getPromise()})}}const db="@firebase/storage",mb="0.14.0";const bw="storage";function aj(a,e,i){return a=tn(a),ZI(a,e,i)}function sj(a){return a=tn(a),JI(a)}function rj(a,e){return a=tn(a),nj(a,e)}function lj(a=sp(),e){a=tn(a);const s=nu(a,bw).getImmediate({identifier:e}),l=zb("storage");return l&&oj(s,...l),s}function oj(a,e,i,s={}){ij(a,e,i,s)}function uj(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),l=a.getProvider("app-check-internal");return new Jp(i,s,l,e,Zb)}function cj(){ya(new Fi(bw,uj,"PUBLIC").setMultipleInstances(!0)),Zn(db,mb,""),Zn(db,mb,"esm2020")}cj();const hj={apiKey:"AIzaSyCmuNrhWE8Aw24_qUK23Qo4u_W5M6cAFN4",authDomain:"liga-multisport.firebaseapp.com",projectId:"liga-multisport",storageBucket:"liga-multisport.firebasestorage.app",messagingSenderId:"983340811794",appId:"1:983340811794:web:a86d9e3dbb620accebbacb",measurementId:"G-TPNXY1LNX9"},Wp=Jb(hj),lt=oC(Wp),fj=lj(Wp);let jo=null;try{jo=$D(Wp)}catch(a){console.warn("Firebase Messaging could not be initialized:",a)}const ba=({isOpen:a,onClose:e,children:i,size:s="md"})=>{if(!a)return null;const l={sm:"max-w-sm",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"},u=l[s]||l.md;return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto",onClick:e,children:m.jsxs("div",{className:"bg-[#13131f] border border-white/10 rounded-2xl w-full ".concat(u," my-8 max-h-[90vh] overflow-y-auto relative shadow-2xl"),onClick:f=>f.stopPropagation(),children:[m.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10 p-2 bg-black/20 rounded-full hover:bg-black/50 transition-colors",children:m.jsx(sl,{className:"w-5 h-5"})}),i]})})},dj=[{date:"2025-01-01",name:"Ao Nuevo"},{date:"2025-01-06",name:"Reyes"},{date:"2025-04-18",name:"Viernes Santo"},{date:"2025-05-01",name:"Da del Trabajo"},{date:"2025-08-15",name:"Asuncin"},{date:"2025-10-12",name:"Fiesta Nacional"},{date:"2025-11-01",name:"Todos los Santos"},{date:"2025-12-06",name:"Constitucin"},{date:"2025-12-08",name:"Inmaculada"},{date:"2025-12-25",name:"Navidad"}],mj=({events:a,currentMonth:e,setCurrentMonth:i,currentYear:s,setCurrentYear:l,onSelectDay:u})=>{const f=U.useMemo(()=>{const y=new Date(s,e,1),b=new Date(s,e+1,0).getDate(),E=y.getDay()===0?6:y.getDay()-1;return{days:Array(E).fill(null).concat([...Array(b).keys()].map(A=>A+1)),name:y.toLocaleString("es-ES",{month:"long"}).toUpperCase()}},[e,s]),p=()=>{e===0?(i(11),l(s-1)):i(e-1)},g=()=>{e===11?(i(0),l(s+1)):i(e+1)};return m.jsxs("div",{className:"glass-panel p-8 rounded-[2.5rem] w-full max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h2",{className:"text-3xl font-bold uppercase tracking-widest text-celestial",children:[f.name," ",m.jsx("span",{className:"text-white/30",children:s})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:p,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:m.jsx(Ob,{className:"w-6 h-6"})}),m.jsx("button",{onClick:g,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:m.jsx(eS,{className:"w-6 h-6"})})]})]}),m.jsxs("div",{className:"grid grid-cols-7 gap-2 md:gap-4 text-center",children:[["L","M","X","J","V","S","D"].map(y=>m.jsx("div",{className:"font-bold text-gray-500 py-2",children:y},y)),f.days.map((y,b)=>{if(!y)return m.jsx("div",{},b);const E="".concat(s,"-").concat(String(e+1).padStart(2,"0"),"-").concat(String(y).padStart(2,"0")),A=a.filter(L=>L.date===E),j=dj.find(L=>L.date===E),z=[0,6].includes(new Date(s,e,y).getDay()),G=[...new Set(A.map(L=>L.typeIcon))].slice(0,3);return m.jsxs("div",{onClick:()=>u({date:E,events:A,holiday:j}),className:"aspect-square flex flex-col items-center justify-start pt-2 rounded-xl text-lg font-bold relative group transition-all cursor-pointer border border-transparent \n                                ".concat(j?"bg-red-500/10 text-red-400 border-red-500/20":z?"bg-blue-500/10 text-blue-300":"hover:bg-white/5 text-gray-300"," \n                                ").concat(A.length>0?"ring-1 ring-celestial/50 bg-celestial/5":""),children:[y,m.jsx("div",{className:"absolute top-1 right-1 flex gap-0.5",children:G.map((L,ne)=>m.jsx("span",{className:"text-[10px] leading-none",children:L},ne))}),m.jsx("div",{className:"flex flex-col gap-1 w-full px-1 mt-auto pb-1",children:A.slice(0,3).map((L,ne)=>m.jsx("div",{className:"h-1.5 md:h-5 md:px-2 md:py-0.5 rounded-full text-[10px] uppercase tracking-wider font-bold truncate w-full text-left flex items-center",style:{backgroundColor:L.typeColor,color:"#000"},title:L.title,children:m.jsx("span",{className:"hidden md:inline",children:L.title})},ne))})]},b)})]})]})},pj=({sections:a,onOpenSection:e,onOpenForm:i})=>{const s=a.filter(l=>{if(!l.active)return!1;const u=new Date;return u.setHours(0,0,0,0),!(l.startDate&&new Date(l.startDate)>u||l.endDate&&new Date(l.endDate)<u)});return s.length===0?null:m.jsx(m.Fragment,{children:s.map(l=>{const u=new Date;u.setHours(0,0,0,0);const f=l.endDate?new Date(l.endDate):null,p=f&&l.warningDays&&(f-u)/(1e3*60*60*24)<=l.warningDays&&f-u>=0;return m.jsx("section",{className:"py-12 px-4 md:px-8 max-w-7xl mx-auto w-full",children:m.jsxs("div",{className:"glass-panel p-8 md:p-12 rounded-3xl border-l-4 border-sky-400 relative overflow-hidden group cursor-pointer",onClick:()=>e(l),children:[p&&m.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-1 rounded-full text-sm font-bold animate-pulse z-20 shadow-lg border border-red-400",children:" ltimos Das"}),l.imageUrl&&m.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-full md:w-1/3 opacity-20",children:m.jsx("img",{src:l.imageUrl,className:"w-full h-full object-cover",alt:""})}),m.jsxs("div",{className:"relative z-10 max-w-3xl",children:[m.jsx("h2",{className:"text-4xl font-bold mb-4",children:l.title}),m.jsx("p",{className:"text-lg text-gray-300 mb-6 whitespace-pre-line line-clamp-3",children:l.description}),m.jsx("div",{className:"flex flex-wrap gap-4",children:m.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-full font-bold bg-sky-400 text-black hover:bg-sky-500 transition-colors",children:["Ver Completo ",m.jsx(Sh,{className:"w-5 h-5"})]})})]})]})},l.id)})})},gj=()=>{const{pathname:a}=wa();return m.jsx("nav",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[60] animate-fade-in-up",children:m.jsxs("div",{className:"bg-black/80 backdrop-blur-xl border border-white/10 px-6 py-4 rounded-3xl flex items-center gap-6 shadow-2xl",children:[m.jsx(tr,{to:"/",className:"text-sm font-black tracking-widest uppercase transition-colors ".concat(a==="/"?"text-primary":"text-gray-500 hover:text-white"),children:"Inicio"}),m.jsx(tr,{to:"/liga",className:"text-sm font-black tracking-widest uppercase transition-colors ".concat(a==="/liga"?"text-primary":"text-gray-500 hover:text-white"),children:"Liga"}),m.jsx("div",{className:"w-px h-4 bg-white/10"}),m.jsx(tr,{to:"/fichajes",className:"text-sm font-black tracking-widest uppercase transition-colors ".concat(a==="/fichajes"?"text-primary":"text-gray-500 hover:text-white"),children:"Fichajes"})]})})},xw=()=>{const{pathname:a}=wa();return U.useEffect(()=>{window.scrollTo(0,0)},[a]),null},ko=a=>{if(!a)return new Date;if(a instanceof Date)return a;if(typeof a=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(a)){const[e,i,s]=a.split("-").map(Number);return new Date(e,i-1,s)}if(typeof a=="string"&&a.includes("-")){const e=new Date(a);if(!isNaN(e.getTime()))return e;const i=a.replace(/-/g,"/"),s=new Date(i);if(!isNaN(s.getTime()))return s}return new Date(a)},ww=({event:a,onOpenForm:e})=>{if(a.actionType==="none")return null;const i="w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all hover:scale-[1.02] ";return a.actionType==="link"&&a.actionLink?m.jsxs("a",{href:a.actionLink,target:"_blank",rel:"noopener noreferrer",className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:[a.actionLabel||"Ms Informacin"," ",m.jsx(Sh,{className:"w-5 h-5"})]}):a.actionType==="form"?m.jsx("button",{onClick:()=>e(a),className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:a.actionLabel||"Inscribirse"}):null},yj=({event:a,onClose:e,onOpenForm:i})=>{const s=()=>{const l=encodeURIComponent(a.title),u=encodeURIComponent(a.description||""),f=encodeURIComponent(a.location||""),p=a.date.replace(/-/g,""),g=a.time?a.time.replace(/:/g,"")+"00":"000000",y="https://calendar.google.com/calendar/render?action=TEMPLATE&text=".concat(l,"&dates=").concat(p,"T").concat(g,"/").concat(p,"T235959&details=").concat(u,"&location=").concat(f);window.open(y,"_blank")};return m.jsx(ba,{isOpen:!0,onClose:e,size:"lg",children:m.jsxs("div",{className:"relative animate-fade-in",children:[a.imageUrl&&m.jsx("div",{className:"w-full h-64 md:h-80 overflow-hidden",children:m.jsx("img",{src:a.imageUrl,className:"w-full h-full object-cover",alt:a.title})}),m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"inline-block px-3 py-1 mb-4 rounded-full text-xs font-bold uppercase border",style:{color:a.typeColor,borderColor:a.typeColor,backgroundColor:"".concat(a.typeColor,"20")},children:[a.typeIcon," ",a.typeName]}),m.jsx("h2",{className:"text-4xl font-black mb-2 text-white leading-tight",children:a.title}),m.jsxs("div",{className:"flex items-center gap-2 text-sky-400 font-bold mb-4",children:[m.jsx(zv,{className:"w-5 h-5"}),ko(a.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),a.time&&m.jsxs("span",{className:"ml-1",children:["| ",a.time]})]}),a.location&&m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-6 font-medium",children:[m.jsx(Mb,{className:"w-5 h-5"})," ",a.location]}),m.jsx("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/10 mb-6",children:m.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:a.description})}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx(ww,{event:a,onOpenForm:i}),m.jsxs("button",{onClick:s,className:"w-full py-3 rounded-xl border border-white/20 hover:bg-white/10 flex items-center justify-center gap-2 text-gray-300 transition-all font-bold",children:[m.jsx(zv,{className:"w-5 h-5"})," Aadir a Google Calendar"]})]})]})]})})},vj=({event:a,onClose:e})=>{var p;const[i,s]=U.useState({}),[l,u]=U.useState(!1),f=g=>K(null,null,function*(){g.preventDefault(),u(!0);try{yield fl(kn(lt,"event_registrations"),oe({eventId:a.id,eventTitle:a.title,submittedAt:new Date().toISOString()},i)),alert("Inscripcin Enviada con xito!"),e()}catch(y){console.error(y),alert("Error al enviar la inscripcin. Por favor, intntalo de nuevo.")}finally{u(!1)}});return m.jsx(ba,{isOpen:!0,onClose:e,children:m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Inscripcin"}),m.jsx("h3",{className:"text-xl text-sky-400 mb-6",children:a.title}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[(p=a.customFields)==null?void 0:p.map(g=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:g.label}),g.type==="select"?m.jsxs("select",{required:!0,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",onChange:y=>s(Ee(oe({},i),{[g.label]:y.target.value})),children:[m.jsx("option",{value:"",children:"Selecciona..."}),g.options.split(",").map(y=>m.jsx("option",{value:y.trim(),children:y.trim()},y))]}):m.jsx("input",{required:!0,type:g.type,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",placeholder:g.label,onChange:y=>s(Ee(oe({},i),{[g.label]:y.target.value}))})]},g.id)),m.jsx("button",{disabled:l,className:"w-full bg-sky-400 text-black font-bold py-3 rounded-xl mt-4 hover:bg-sky-500 transition-all disabled:opacity-50",children:l?"Enviando...":"Confirmar Inscripcin"}),m.jsx("p",{className:"text-[10px] text-gray-500 text-center mt-2",children:"Al inscribirte, aceptas que tus datos sean compartidos con la organizacin."})]})]})})},_j=({onClick:a,hasUnread:e})=>m.jsxs("button",{onClick:a,className:"p-3 bg-white/5 text-gray-400 rounded-full shadow-lg hover:text-white transition-all relative border border-white/5 active:scale-95",children:[m.jsx(Q2,{className:"w-5 h-5"}),e&&m.jsx("span",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full border-2 border-[#0a0a0f] animate-pulse"})]}),bj=({isOpen:a,onClose:e,announcements:i,permission:s,onRequestPermission:l})=>m.jsx(ba,{isOpen:a,onClose:e,size:"lg",children:m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:""})," Buzn de Avisos"]})}),s!=="granted"&&m.jsxs("div",{className:"bg-sky-400/10 border border-sky-400/20 p-4 rounded-2xl mb-6 flex flex-col md:flex-row items-center gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-bold text-sky-400 text-sm",children:"Quieres recibir avisos al mvil?"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Activa las notificaciones para no perderte ningn cambio de ltima hora."})]}),m.jsx("button",{onClick:l,className:"bg-sky-400 text-black px-4 py-2 rounded-lg font-bold text-xs whitespace-nowrap hover:scale-105 transition-transform",children:"Activar Notificaciones"})]}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[i.map((u,f)=>m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 group hover:bg-white/10 transition-all border-l-4 border-l-sky-400",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-lg text-white",children:u.title}),m.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:new Date(u.date).toLocaleDateString()})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-wrap",children:u.body})]},u.id||f)),i.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"text-4xl mb-4 opacity-20",children:""}),m.jsx("p",{className:"text-gray-500 italic",children:"No hay avisos nuevos por ahora."})]})]})]})}),xj=({isOpen:a,onClose:e,onInstall:i,isIOS:s})=>a?s?m.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:m.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-400/5 blur-3xl -mr-16 -mt-16 group-hover:bg-sky-400/10 transition-all"}),m.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-500 hover:text-white transition-colors",children:m.jsx(sl,{className:"w-5 h-5"})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 bg-sky-400/10 rounded-3xl flex items-center justify-center text-4xl mb-6 mx-auto border border-sky-400/20 shadow-inner",children:""}),m.jsx("h4",{className:"font-black text-white text-2xl mb-2",children:"Descarga la App"}),m.jsx("p",{className:"text-gray-400 text-sm max-w-[250px] mx-auto leading-relaxed",children:"Instala la aplicacin en tu iPhone para un acceso ms rpido."})]}),m.jsxs("div",{className:"space-y-6 max-w-[280px] mx-auto",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-xl flex items-center justify-center shrink-0 border border-white/5 text-sky-400 font-bold",children:"1"}),m.jsxs("div",{className:"text-left",children:[m.jsxs("p",{className:"text-white font-bold text-sm flex items-center gap-2",children:['Pulsa el botn "Compartir" ',m.jsx(RS,{className:"w-4 h-4 text-sky-400"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ubicado en la barra inferior de Safari."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-xl flex items-center justify-center shrink-0 border border-white/5 text-sky-400 font-bold",children:"2"}),m.jsxs("div",{className:"text-left",children:[m.jsxs("p",{className:"text-white font-bold text-sm flex items-center gap-2",children:['"Aadir a pantalla de inicio" ',m.jsx(rh,{className:"w-4 h-4 text-sky-400"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Busca esta opcin en el men que aparece."})]})]})]}),m.jsx("button",{onClick:e,className:"w-full mt-10 bg-white/5 hover:bg-white/10 text-white font-bold py-4 rounded-2xl transition-all border border-white/5 text-xs uppercase tracking-widest",children:"Entendido"})]})}):m.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:m.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-6 rounded-[2.5rem] shadow-2xl flex items-center gap-6 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-400/5 blur-3xl -mr-16 -mt-16 group-hover:bg-sky-400/10 transition-all"}),m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:m.jsx(sl,{className:"w-5 h-5"})}),m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-400 to-blue-600 rounded-2xl flex items-center justify-center text-3xl shadow-lg shrink-0",children:""}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-extrabold text-white text-lg leading-tight mb-1",children:"Instalar Aplicacin"}),m.jsx("p",{className:"text-[10px] text-gray-400 leading-tight pr-4",children:"Accede ms rpido y disfruta de una mejor experiencia desde tu pantalla de inicio."})]}),m.jsx("button",{onClick:i,className:"bg-sky-400 hover:bg-sky-300 text-black px-6 py-4 rounded-2xl font-black text-xs transition-all hover:scale-105 active:scale-95 shadow-lg shadow-sky-400/20 uppercase tracking-widest shrink-0",children:"Instalar"})]})}):null,pb=({value:a,onChange:e})=>{const i=l=>new Promise((u,f)=>{const p=new FileReader;p.readAsDataURL(l),p.onload=g=>{const y=new Image;y.src=g.target.result,y.onload=()=>{const b=document.createElement("canvas"),E=800,A=E/y.width;b.width=E,b.height=y.height*A,b.getContext("2d").drawImage(y,0,0,b.width,b.height);const z=b.toDataURL("image/jpeg",.7);u(z)}},p.onerror=g=>f(g)}),s=l=>K(null,null,function*(){const u=l[0];if(u)try{const f=yield i(u);e(f)}catch(f){alert("Error al procesar la imagen")}});return m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex gap-2",onDragOver:l=>l.preventDefault(),onDrop:l=>{l.preventDefault(),s(l.dataTransfer.files)},children:[m.jsx("input",{type:"text",value:a||"",onChange:l=>e(l.target.value),onPaste:l=>{l.clipboardData.files.length&&s(l.clipboardData.files)},placeholder:"Imagen (URL, Pegar o Arrastrar)",className:"flex-1 bg-black/40 p-3 rounded border border-white/10 text-white"}),m.jsxs("label",{className:"cursor-pointer bg-white/10 hover:bg-white/20 p-3 rounded border border-white/10 flex items-center justify-center",children:[m.jsx(Lb,{className:"w-5 h-5"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:l=>s(l.target.files)})]})]}),a&&m.jsx("img",{src:a,className:"h-24 rounded object-contain border border-white/10 bg-black/40 w-full",alt:"Preview"})]})},Ew=({fields:a,onChange:e})=>{const i=()=>e([...a,{id:Date.now(),label:"",type:"text",options:""}]),s=()=>e([...a,{id:Date.now(),label:"Nombre Completo",type:"text",options:""},{id:Date.now()+1,label:"Email",type:"text",options:""},{id:Date.now()+2,label:"Comentarios",type:"text",options:""}]),l=(u,f,p)=>e(a.map(g=>g.id===u?Ee(oe({},g),{[f]:p}):g));return m.jsxs("div",{className:"space-y-4 border border-white/10 p-4 rounded bg-black/20",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-sm uppercase text-gray-400",children:"Campos del Formulario"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:s,className:"text-xs bg-white/10 px-2 py-1 rounded hover:bg-white/20",children:"+ Presets"}),m.jsxs("button",{type:"button",onClick:i,className:"text-sky-400 text-sm font-bold flex items-center gap-1",children:[m.jsx(Xc,{className:"w-4 h-4"})," Aadir Campo"]})]})]}),a.map(u=>m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center bg-white/5 p-2 rounded",children:[m.jsx("input",{value:u.label,onChange:f=>l(u.id,"label",f.target.value),placeholder:"Etiqueta",className:"col-span-4 bg-black/40 p-2 rounded text-sm"}),m.jsxs("select",{value:u.type,onChange:f=>l(u.id,"type",f.target.value),className:"col-span-3 bg-black/40 p-2 rounded text-sm text-gray-300",children:[m.jsx("option",{value:"text",children:"Texto"}),m.jsx("option",{value:"number",children:"Nmero"}),m.jsx("option",{value:"select",children:"Desplegable"})]}),m.jsx("input",{value:u.options,onChange:f=>l(u.id,"options",f.target.value),placeholder:"Opciones (sep. por coma)",className:"col-span-4 bg-black/40 p-2 rounded text-sm",disabled:u.type!=="select"}),m.jsx("button",{type:"button",onClick:()=>e(a.filter(f=>f.id!==u.id)),className:"col-span-1 text-red-400 flex justify-center",children:m.jsx(sl,{className:"w-4 h-4"})})]},u.id)),a.length===0&&m.jsx("p",{className:"text-xs text-center text-gray-500",children:"Aade campos para el formulario."})]})},wj=({buttons:a,onChange:e})=>{const i=()=>e([...a||[],{id:Date.now(),label:"",type:"link",link:"",style:"primary",customFields:[]}]),s=(u,f,p)=>e(a.map(g=>g.id===u?Ee(oe({},g),{[f]:p}):g)),l=u=>e(a.filter(f=>f.id!==u));return m.jsxs("div",{className:"space-y-3 bg-black/20 p-3 rounded border border-white/10",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("label",{className:"text-sm font-bold text-gray-400",children:"Botones de Accin"}),m.jsx("button",{type:"button",onClick:i,className:"text-xs bg-sky-400 text-black px-2 py-1 rounded font-bold",children:"+ Aadir"})]}),(a||[]).map(u=>m.jsxs("div",{className:"bg-white/5 p-2 rounded relative",children:[m.jsx("button",{type:"button",onClick:()=>l(u.id),"aria-label":"Eliminar botn",className:"absolute top-2 right-2 text-red-500",children:m.jsx(sl,{className:"w-4 h-4"})}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 pr-6",children:[m.jsx("input",{value:u.label,onChange:f=>s(u.id,"label",f.target.value),placeholder:"Texto del Botn",className:"bg-black/40 p-2 rounded text-sm w-full"}),m.jsxs("select",{value:u.type||"link",onChange:f=>s(u.id,"type",f.target.value),className:"bg-black/40 p-2 rounded text-sm w-full",children:[m.jsx("option",{value:"link",children:"Enlace"}),m.jsx("option",{value:"form",children:"Formulario"})]})]}),m.jsx("div",{className:"mb-2",children:m.jsxs("select",{value:u.style,onChange:f=>s(u.id,"style",f.target.value),className:"w-full bg-black/40 p-2 rounded text-sm",children:[m.jsx("option",{value:"primary",children:"Azul (Principal)"}),m.jsx("option",{value:"secondary",children:"Blanco (Secundario)"}),m.jsx("option",{value:"outline",children:"Borde (Discreto)"}),m.jsx("option",{value:"gradient",children:"Gradiente (Destacado)"})]})}),u.type==="link"&&m.jsx("input",{value:u.link,onChange:f=>s(u.id,"link",f.target.value),placeholder:"https://...",className:"w-full bg-black/40 p-2 rounded text-sm"}),u.type==="form"&&m.jsx("div",{className:"mt-2 pl-2 border-l-2 border-sky-400/30",children:m.jsx(Ew,{fields:u.customFields||[],onChange:f=>s(u.id,"customFields",f)})})]},u.id)),(!a||a.length===0)&&m.jsx("p",{className:"text-xs text-center text-gray-600",children:"Sin botones."})]})},Ej=({isOpen:a,onClose:e,events:i,eventTypes:s,announcements:l,specialSections:u,onOpenDB:f,onOpenStats:p,fcmToken:g})=>{const[y,b]=U.useState("events"),E={title:"",date:"",time:"",location:"",typeId:"tournament",description:"",imageUrl:"",actionType:"none",actionLabel:"",actionLink:"",customFields:[],pollOptions:[]},[A,j]=U.useState(E),[z,G]=U.useState(null),[L,ne]=U.useState({name:"",color:"#6366f1",icon:""}),[ae,X]=U.useState(u||[]);ah.useEffect(()=>{X(u||[])},[u]);const ce=w=>K(null,null,function*(){w.preventDefault();try{const R=s.find(ge=>ge.id===A.typeId),S=Ee(oe({},A),{typeColor:(R==null?void 0:R.color)||"#6366f1",typeIcon:(R==null?void 0:R.icon)||"",typeName:(R==null?void 0:R.name)||"Evento"});z?yield Km(xn(lt,"events",z),S):yield fl(kn(lt,"events"),Ee(oe({},S),{surveyCount:0})),alert("Evento guardado con xito"),j(E),G(null)}catch(R){console.error(R),alert("Error al guardar evento")}}),fe=w=>K(null,null,function*(){confirm("Ests seguro de que quieres eliminar este evento?")&&(yield $m(xn(lt,"events",w)))}),ye=()=>K(null,null,function*(){if(!L.name)return;const w=[...s,Ee(oe({},L),{id:Date.now().toString()})];yield Po(xn(lt,"config","eventTypes"),{types:w}),ne({name:"",color:"#6366f1",icon:""})}),I=w=>K(null,null,function*(){if(["party","tournament","tickets","special"].includes(w)){alert("Este tipo base no se puede eliminar.");return}const R=s.filter(S=>S.id!==w);yield Po(xn(lt,"config","eventTypes"),{types:R})}),C=w=>{X(w.map(R=>Ee(oe({},R),{buttons:R.buttons||[]})))},D=()=>K(null,null,function*(){try{yield Po(xn(lt,"config","specialSections"),{sections:ae}),alert("Secciones especiales guardadas con xito")}catch(w){alert("Error al guardar las secciones")}}),V=w=>K(null,null,function*(){w.preventDefault();const R=w.target.title.value,S=w.target.body.value;if(confirm("Deseas publicar este aviso? Todos los usuarios vern una notificacin."))try{yield fl(kn(lt,"announcements"),{title:R,body:S,date:new Date().toISOString()}),alert("Anuncio publicado"),w.target.reset()}catch(ge){alert("Error al publicar anuncio")}});return m.jsx(ba,{isOpen:a,onClose:e,size:"xl",children:m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Panel de Administracin"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-500 transition-colors flex items-center gap-2",children:[m.jsx(uS,{className:"w-4 h-4"})," Base de Datos"]}),m.jsx("div",{className:"flex bg-black/40 p-1 rounded-xl",children:[{id:"events",l:"Eventos"},{id:"types",l:"Categoras"},{id:"special",l:"Landing"},{id:"inbox",l:"Buzn"}].map(w=>m.jsx("button",{onClick:()=>b(w.id),className:"px-4 py-2 rounded-lg font-bold text-sm transition-all ".concat(y===w.id?"bg-primary text-black shadow-lg shadow-primary/20":"text-gray-400 hover:text-white"),children:w.l},w.id))})]})]}),m.jsxs("div",{className:"custom-scrollbar overflow-y-auto max-h-[70vh] pr-2",children:[y==="events"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in",children:[m.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[m.jsxs("h3",{className:"font-bold text-primary flex items-center gap-2",children:[z?m.jsx(Hv,{className:"w-4 h-4"}):m.jsx(rh,{className:"w-4 h-4"}),z?"Editando Evento":"Nuevo Evento"]}),m.jsx("input",{value:A.title,onChange:w=>j(Ee(oe({},A),{title:w.target.value})),placeholder:"Ttulo del Evento",required:!0,className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 focus:border-primary outline-none"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsx("input",{value:A.date,onChange:w=>j(Ee(oe({},A),{date:w.target.value})),type:"date",required:!0,className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),m.jsx("input",{value:A.time,onChange:w=>j(Ee(oe({},A),{time:w.target.value})),type:"time",className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),m.jsx("select",{value:A.typeId,onChange:w=>j(Ee(oe({},A),{typeId:w.target.value})),className:"bg-black/40 p-3 rounded-xl border border-white/5",children:s.map(w=>m.jsxs("option",{value:w.id,children:[w.icon," ",w.name]},w.id))})]}),m.jsx("input",{value:A.location,onChange:w=>j(Ee(oe({},A),{location:w.target.value})),placeholder:"Ubicacin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),m.jsx("textarea",{value:A.description,onChange:w=>j(Ee(oe({},A),{description:w.target.value})),placeholder:"Descripcin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5",rows:"3"}),m.jsx(pb,{value:A.imageUrl,onChange:w=>j(Ee(oe({},A),{imageUrl:w}))}),m.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-3 tracking-widest",children:"Accin Interactiva"}),m.jsxs("select",{value:A.actionType,onChange:w=>j(Ee(oe({},A),{actionType:w.target.value})),className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3",children:[m.jsx("option",{value:"none",children:"Sin botn adicional"}),m.jsx("option",{value:"form",children:"Formulario de registro personalizado"}),m.jsx("option",{value:"link",children:"Enlace externo"})]}),["link","form"].includes(A.actionType)&&m.jsx("input",{value:A.actionLabel,onChange:w=>j(Ee(oe({},A),{actionLabel:w.target.value})),placeholder:"Texto del botn",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3"}),A.actionType==="link"&&m.jsx("input",{value:A.actionLink,onChange:w=>j(Ee(oe({},A),{actionLink:w.target.value})),placeholder:"URL del enlace (https://...)",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),A.actionType==="form"&&m.jsx(Ew,{fields:A.customFields||[],onChange:w=>j(Ee(oe({},A),{customFields:w}))})]}),m.jsx("button",{className:"w-full bg-primary text-black py-4 rounded-xl font-bold hover:bg-sky-500 transition-all shadow-lg shadow-primary/20",children:z?"Actualizar Evento":"Crear Evento"}),z&&m.jsx("button",{type:"button",onClick:()=>{G(null),j(E)},className:"w-full text-gray-500 text-xs mt-2 uppercase font-bold tracking-widest hover:text-white transition-colors",children:"Cancelar Edicin"})]}),m.jsxs("div",{className:"space-y-2 max-h-[600px] overflow-y-auto custom-scrollbar",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Eventos Existentes"}),i.map(w=>m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl group hover:bg-white/10 border border-white/5 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-xl",children:w.typeIcon}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm",children:w.title}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono uppercase",children:new Date(w.date).toLocaleDateString()})]})]}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[m.jsx("button",{onClick:()=>p(w),className:"bg-green-500/20 text-green-400 p-2 text-[10px] font-bold rounded-lg border border-green-500/30 hover:bg-green-500/40",children:"DATA"}),m.jsx("button",{onClick:()=>{j(oe({},w)),G(w.id)},className:"text-primary p-2 hover:bg-primary/10 rounded-lg",children:m.jsx(Hv,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>fe(w.id),className:"text-red-500 p-2 hover:bg-red-500/10 rounded-lg",children:m.jsx(Zc,{className:"w-4 h-4"})})]})]},w.id)),i.length===0&&m.jsx("p",{className:"text-center py-8 text-gray-600 italic",children:"No hay eventos creados."})]})]}),y==="types"&&m.jsxs("div",{className:"animate-fade-in space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-4 gap-4 bg-white/5 p-6 rounded-2xl border border-white/5",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Nombre Categora"}),m.jsx("input",{value:L.name,onChange:w=>ne(Ee(oe({},L),{name:w.target.value})),placeholder:"Ej: Cena",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Color"}),m.jsx("input",{value:L.color,onChange:w=>ne(Ee(oe({},L),{color:w.target.value})),type:"color",className:"bg-black/40 p-2 h-12 w-full rounded-xl cursor-pointer"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Icono/Emoji"}),m.jsx("input",{value:L.icon,onChange:w=>ne(Ee(oe({},L),{icon:w.target.value})),placeholder:"",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 text-center text-xl"})]}),m.jsx("button",{onClick:ye,className:"col-span-4 bg-primary text-black py-3 rounded-xl font-bold hover:bg-sky-500 transition-all",children:"Aadir Nueva Categora"})]}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(w=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/5 border border-white/10",style:{borderLeft:"6px solid ".concat(w.color)},children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:w.icon}),m.jsx("span",{className:"font-bold",children:w.name})]}),!["party","tournament","tickets","special"].includes(w.id)&&m.jsx("button",{onClick:()=>I(w.id),className:"text-red-500 hover:bg-red-500/10 p-2 rounded-lg transition-colors",children:m.jsx(Zc,{className:"w-4 h-4"})})]},w.id))})]}),y==="special"&&m.jsxs("div",{className:"animate-fade-in space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5",children:[m.jsx("h3",{className:"font-bold text-gray-400 uppercase text-xs tracking-widest",children:"Secciones Especiales (Polls & Landing)"}),m.jsx("button",{onClick:()=>C([...ae,{id:Date.now(),title:"",description:"",imageUrl:"",active:!0,buttons:[],startDate:"",endDate:"",warningDays:"",link:"",linkText:"",pollOptions:[],pollCounts:{}}]),className:"bg-white/10 px-4 py-2 rounded-lg font-bold hover:bg-white/20 transition-all text-xs",children:"+ Aadir Seccin"})]}),m.jsx("div",{className:"space-y-6",children:ae.map(w=>m.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 space-y-4 relative group",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-4",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg border-white/10 bg-black/40 text-primary",checked:w.active,onChange:R=>C(ae.map(S=>S.id===w.id?Ee(oe({},S),{active:R.target.checked}):S))}),m.jsx("span",{className:"font-bold text-sm ".concat(w.active?"text-green-400":"text-gray-500"),children:w.active?"Visible en Landing":"Oculta"})]}),m.jsx("button",{onClick:()=>C(ae.filter(R=>R.id!==w.id)),className:"text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-500/10 px-3 py-1 rounded-lg",children:"Eliminar"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{value:w.title,onChange:R=>C(ae.map(S=>S.id===w.id?Ee(oe({},S),{title:R.target.value}):S)),placeholder:"Ttulo de la Seccin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary"}),m.jsx("textarea",{value:w.description,onChange:R=>C(ae.map(S=>S.id===w.id?Ee(oe({},S),{description:R.target.value}):S)),placeholder:"Breve descripcin para la landing...",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary",rows:"3"})]}),m.jsx("div",{className:"space-y-4",children:m.jsx(pb,{value:w.imageUrl,onChange:R=>C(ae.map(S=>S.id===w.id?Ee(oe({},S),{imageUrl:R}):S))})})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-black/20 p-4 rounded-2xl",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Inicio"}),m.jsx("input",{type:"date",value:w.startDate||"",onChange:R=>C(ae.map(S=>S.id===w.id?Ee(oe({},S),{startDate:R.target.value}):S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Fin"}),m.jsx("input",{type:"date",value:w.endDate||"",onChange:R=>C(ae.map(S=>S.id===w.id?Ee(oe({},S),{endDate:R.target.value}):S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:'Aviso "Cierre"'}),m.jsx("input",{type:"number",placeholder:"Das restantes",value:w.warningDays||"",onChange:R=>C(ae.map(S=>S.id===w.id?Ee(oe({},S),{warningDays:R.target.value}):S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]})]}),m.jsx(wj,{buttons:w.buttons||[],onChange:R=>C(ae.map(S=>S.id===w.id?Ee(oe({},S),{buttons:R}):S))})]},w.id))}),m.jsx("button",{onClick:D,className:"w-full bg-primary text-black py-4 rounded-2xl font-black text-lg hover:bg-sky-500 transition-all shadow-xl shadow-primary/20",children:"GUARDAR CAMBIOS EN LA WEB"})]}),y==="inbox"&&m.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[m.jsxs("form",{onSubmit:V,className:"bg-white/5 p-8 rounded-3xl border border-white/5 space-y-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-primary flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-xl",children:""}),"Enviar Notificacin / Aviso"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Asunto"}),m.jsx("input",{name:"title",required:!0,placeholder:"Ej: Nueva fiesta confirmada",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Mensaje Completo"}),m.jsx("textarea",{name:"body",required:!0,rows:"4",placeholder:"Describe los detalles aqu...",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-sky-400 to-blue-500 text-black font-black py-4 rounded-2xl hover:scale-[1.01] transition-all shadow-lg shadow-primary/20 uppercase tracking-widest",children:"Publicar Aviso Global"})]}),m.jsxs("div",{className:"bg-yellow-500/5 border border-yellow-500/20 p-6 rounded-2xl",children:[m.jsx("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:" Notificaciones Push"}),m.jsx("p",{className:"text-xs text-gray-400 leading-relaxed mb-4",children:"Este panel aade mensajes al Buzn interno de la App. Para enviar notificaciones que hagan vibrar el mvil (Push), utiliza el panel de Firebase Messaging."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"text-[10px] bg-yellow-500/20 text-yellow-200 px-4 py-2 rounded-lg hover:bg-yellow-500/30 font-bold transition-all uppercase tracking-tighter",children:"Ir a Consola Firebase"}),m.jsx("button",{type:"button",onClick:()=>{const w=document.querySelector('input[name="title"]').value,R=document.querySelector('textarea[name="body"]').value;if(!w||!R){alert("Escribe algo primero.");return}navigator.clipboard.writeText("Ttulo: ".concat(w,"\nTexto: ").concat(R)),alert("Copiado al portapapeles. Ahora ve a Firebase y pgalo!"),window.open("https://console.firebase.google.com/u/0/project/liga-multisport/notification/compose","_blank")},className:"text-[10px] bg-white/10 text-white px-4 py-2 rounded-lg hover:bg-white/20 font-bold transition-all uppercase tracking-tighter",children:"COPIAR DATOS"})]})]}),m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 mt-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"font-bold text-xs text-gray-500 uppercase tracking-widest",children:"Estado Notificaciones"}),m.jsx("span",{className:"text-[10px] px-2 py-1 rounded border ".concat(g?"bg-green-500/10 border-green-500 text-green-500":"bg-red-500/10 border-red-500 text-red-500"),children:g?"ACTIVO":"SIN TOKEN"})]}),g?m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsx("p",{className:"font-mono text-[10px] text-gray-400 truncate flex-1 bg-black/30 p-2 rounded",children:g}),m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(g),alert("Token copiado")},className:"bg-white/10 text-white px-3 py-2 rounded-lg text-xs font-bold hover:bg-white/20 transition-all shrink-0",children:"COPIAR"})]}):m.jsxs("div",{className:"text-[10px] text-gray-500",children:[m.jsx("p",{children:"No se ha generado token. Posibles causas:"}),m.jsxs("ul",{className:"list-disc ml-4 mt-1 space-y-1",children:[m.jsx("li",{children:"No has aceptado permisos (Icono candado )."}),m.jsx("li",{children:"Ests en modo incgnito."}),m.jsx("li",{children:"Problema de conexin con Firebase."})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Historial Reciente"}),l.map(w=>m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5 hover:bg-white/10 transition-all",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm",children:w.title}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono italic",children:new Date(w.date).toLocaleString()})]}),m.jsx("button",{onClick:()=>confirm("Borrar aviso?")&&$m(xn(lt,"announcements",w.id)),className:"text-red-500 hover:bg-red-500/10 p-3 rounded-full transition-all",children:m.jsx(Zc,{className:"w-4 h-4"})})]},w.id)),l.length===0&&m.jsx("p",{className:"text-center text-gray-600 italic py-8 text-sm",children:"No hay avisos anteriores."})]})]})]})]})})},Tj=({onClose:a,onSuccess:e})=>{const[i,s]=U.useState(""),[l,u]=U.useState(!1),f=p=>K(null,null,function*(){p.preventDefault(),u(!0);try{const g=xn(lt,"config","settings"),y=yield wC(g);let b="PasoWeb2526";y.exists()?b=y.data().adminPassword||"PasoWeb2526":yield Po(g,{adminPassword:"PasoWeb2526"}),i===b?e():alert("Contrasea incorrecta")}catch(g){console.error(g),alert("Error de verificacin con el servidor")}finally{u(!1)}});return m.jsx(ba,{isOpen:!0,onClose:a,children:m.jsxs("div",{className:"p-8 text-center animate-fade-in",children:[m.jsx("div",{className:"w-16 h-16 bg-sky-400/20 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("span",{className:"text-3xl",children:""})}),m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acceso Admin"}),m.jsxs("form",{onSubmit:f,children:[m.jsx("input",{type:"password",autoFocus:!0,autoComplete:"current-password",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-center text-white text-xl tracking-widest mb-4 placeholder-gray-600 focus:border-sky-400 outline-none transition-all",placeholder:"",value:i,onChange:p=>s(p.target.value)}),m.jsxs("div",{className:"flex gap-2 justify-center",children:[m.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"}),m.jsx("button",{disabled:l||!i,className:"px-8 py-2 bg-sky-400 text-black font-bold rounded-lg hover:bg-sky-500 transition-all disabled:opacity-50",children:l?"Verificando...":"Entrar"})]})]})]})})},Sj=({onBack:a,events:e,specialSections:i})=>{const[s,l]=U.useState(null),[u,f]=U.useState([]),p=U.useMemo(()=>{const b=(e||[]).map(A=>Ee(oe({},A),{type:"event",label:"Evento"})),E=(i||[]).filter(A=>(A.buttons||[]).some(j=>j.type==="form")||(A.pollOptions||[]).length>0).map(A=>Ee(oe({},A),{type:"section",label:"Seccin"}));return[...b,...E]},[e,i]),g=p.find(b=>b.id===s);U.useEffect(()=>{if(!s||!g)return;let b;return g.type==="event"?b=fa(rr(kn(lt,"event_registrations"),dm("eventId","==",s)),E=>f(E.docs.map(A=>A.data()))):b=fa(rr(kn(lt,"event_registrations"),dm("eventId",">=","section_".concat(s)),dm("eventId","<=","section_".concat(s,""))),E=>f(E.docs.map(A=>A.data()))),()=>b&&b()},[s,g]);const y=()=>{if(!g||u.length===0)return;const b=["ID Origen","Nombre","Email",...Object.keys(u[0]||{}).filter(L=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(L)),"Fecha"],E=u.map(L=>[L.eventTitle||"-",L.nombre||"-",L.email||"-",...Object.keys(L).filter(ne=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(ne)).map(ne=>L[ne]),L.submittedAt].join("	")),A=[b.join("	"),...E].join("\n"),j=new Blob([A],{type:"text/tab-separated-values"}),z=URL.createObjectURL(j),G=document.createElement("a");G.href=z,G.download="".concat(g.title,"_data.xls"),G.click()};return m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white p-8 flex flex-col animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[m.jsx("h1",{className:"text-3xl font-black text-sky-400",children:"BASE DE DATOS"}),m.jsx("button",{onClick:a,className:"px-6 py-2 bg-white/10 hover:bg-white/20 rounded-lg font-bold transition-colors",children:"Volver"})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 flex-1 overflow-hidden",children:[m.jsxs("div",{className:"w-full md:w-1/4 h-64 md:h-full overflow-y-auto pr-4 border-b md:border-b-0 md:border-r border-white/10 space-y-2 custom-scrollbar",children:[m.jsx("h3",{className:"font-bold text-gray-400 mb-4 sticky top-0 bg-[#0a0a0f] py-2",children:"tems"}),p.map(b=>m.jsxs("button",{onClick:()=>l(b.id),className:"w-full text-left p-3 rounded transition-all flex justify-between items-center ".concat(s===b.id?"bg-sky-400 text-black font-bold":"hover:bg-white/5 text-gray-300"),children:[m.jsx("span",{className:"truncate",children:b.title}),m.jsx("span",{className:"text-[10px] opacity-70 border px-1 rounded uppercase font-mono",children:b.label})]},b.id))]}),m.jsxs("div",{className:"flex-1 overflow-y-auto bg-black/20 rounded-2xl p-6 border border-white/5 custom-scrollbar",children:[!s&&m.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 italic",children:"Selecciona un tem de la izquierda para ver los registros."}),g&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-end mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-4xl font-bold mb-2",children:g.title}),m.jsxs("div",{className:"text-gray-400 text-sm font-mono",children:["ID: ",g.id]})]}),m.jsxs("button",{onClick:y,className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded font-bold text-sm flex items-center gap-2 transition-all",children:[m.jsx(Lb,{className:"w-4 h-4 rotate-180"})," Exportar Excel"]})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[m.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Tipo"}),m.jsx("div",{className:"text-2xl font-bold text-sky-400 uppercase",children:g.type})]}),m.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Registros"}),m.jsx("div",{className:"text-2xl font-bold text-purple-400",children:u.length})]})]}),m.jsx("h3",{className:"font-bold mb-4 text-sky-400",children:"Registros Recibidos"}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[m.jsx("thead",{className:"text-xs uppercase bg-white/5 text-gray-200",children:m.jsx("tr",{children:["Origen","Fecha","Nombre","Email",...Object.keys(u[0]||{}).filter(b=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(b))].map(b=>m.jsx("th",{className:"px-4 py-3",children:b},b))})}),m.jsx("tbody",{children:u.map((b,E)=>{var A;return m.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[m.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:((A=b.eventTitle)==null?void 0:A.split("-")[1])||"General"}),m.jsx("td",{className:"px-4 py-2",children:new Date(b.submittedAt).toLocaleDateString()}),m.jsx("td",{className:"px-4 py-2 font-bold text-white",children:b.nombre||"-"}),m.jsx("td",{className:"px-4 py-2",children:b.email||"-"}),Object.keys(b).filter(j=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(j)).map(j=>m.jsx("td",{className:"px-4 py-2",children:typeof b[j]=="object"?JSON.stringify(b[j]):b[j]},j))]},E)})})]}),u.length===0&&m.jsx("p",{className:"text-center py-8 italic text-gray-600",children:"No hay registros an para este tem."})]})]})]})]})]})},Aj=()=>{const[a,e]=U.useState(null),[i,s]=U.useState(!1),[l,u]=U.useState(!1),[f,p]=U.useState(!1);return U.useEffect(()=>{const b=/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream;u(b);const A=(()=>{const z=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;return p(z),z})();b&&!A&&(localStorage.getItem("pwa_prompt_dismissed")||s(!0));const j=z=>{console.log("PWA: beforeinstallprompt event fired"),z.preventDefault(),e(z);const G=localStorage.getItem("pwa_prompt_dismissed");console.log("PWA: dismissed from storage:",G),!A&&!G&&s(!0)};return window.addEventListener("beforeinstallprompt",j),()=>window.removeEventListener("beforeinstallprompt",j)},[]),{showInstall:i,setShowInstall:s,install:()=>{l||a&&(a.prompt(),a.userChoice.then(b=>{b.outcome==="accepted"&&(s(!1),localStorage.setItem("pwa_installed","true")),e(null)}))},dismiss:()=>{s(!1),localStorage.setItem("pwa_prompt_dismissed",Date.now().toString())},isIOS:l,isStandalone:f}},Nj=()=>{const[a,e]=U.useState(Notification.permission),[i,s]=U.useState(null),l=()=>K(null,null,function*(){if(!jo){console.warn("Messaging not supported or failed to initialize.");return}try{const u=yield Notification.requestPermission();if(e(u),u==="granted"){console.log("Permission granted. retrieving token...");let f;try{f=yield navigator.serviceWorker.ready,console.log("Service Worker ready:",f)}catch(g){console.error("Error waiting for SW ready:",g)}const p=yield YD(jo,{vapidKey:"BJZr34oV68SKsSBbxY-rB7xzbcKQ4DjIIsgtW-y8SW5I-4dGHIpeHsmIo7mQEMMXNK8ov5RqMRKw7-IWD1_Oa4M",serviceWorkerRegistration:f});if(p){console.log("Token retrieved:",p),s(p);try{yield Po(xn(lt,"fcm_tokens",p),{token:p,lastSeen:new Date,userAgent:navigator.userAgent},{merge:!0}),console.log("Token saved to Firestore")}catch(g){console.error("Error saving to DB:",g),alert("Error guardando token: "+g.message)}}else console.log("No registration token available. Request permission to generate one.")}}catch(u){console.error("An error occurred while retrieving token. ",u),alert("Error token: "+u.message)}});return U.useEffect(()=>{if(a==="granted"&&jo){const u=XD(jo,f=>{console.log("Message received. ",f),Notification.permission==="granted"&&new Notification(f.notification.title,{body:f.notification.body,icon:"/logo.png"})});return()=>u()}},[a]),{permission:a,requestPermission:l,fcmToken:i}},Rj=()=>{const[a,e]=U.useState([]),[i,s]=U.useState([]),[l,u]=U.useState([]),[f,p]=U.useState([]),[g,y]=U.useState("app"),[b,E]=U.useState(null),[A,j]=U.useState(null),[z,G]=U.useState(null),[L,ne]=U.useState(null),[ae,X]=U.useState(null),[ce,fe]=U.useState(!1),[ye,I]=U.useState(!1),[C,D]=U.useState(!1),[V,w]=U.useState(!1),[R,S]=U.useState(!1),[ge,Ae]=U.useState(new Date().getMonth()),[Y,re]=U.useState(new Date().getFullYear()),{showInstall:ve,isIOS:je,install:Ve,dismiss:O}=Aj(),{permission:J,requestPermission:ue,fcmToken:se}=Nj();U.useEffect(()=>{const me=rr(kn(lt,"events"),Qm("date","asc")),Qe=fa(me,At=>{e(At.docs.map(Vn=>oe({id:Vn.id},Vn.data())))}),Mn=fa(xn(lt,"config","eventTypes"),At=>{At.exists()&&s(At.data().types||[])}),pi=rr(kn(lt,"announcements"),Qm("date","desc"),_C(20)),Ea=fa(pi,At=>{const Vn=At.docs.map(Sa=>oe({id:Sa.id},Sa.data()));u(Vn);const gi=localStorage.getItem("last_inbox_view");Vn.length>0&&(!gi||ko(Vn[0].date)>new Date(gi))&&S(!0)}),Ta=fa(xn(lt,"config","specialSections"),At=>{At.exists()&&p(At.data().sections||[])});return()=>{Qe(),Mn(),Ea(),Ta()}},[]),U.useEffect(()=>{if(J==="default"){const me=setTimeout(()=>{const Qe=localStorage.getItem("last_notification_prompt"),Mn=Date.now(),pi=1440*60*1e3;(!Qe||Mn-parseInt(Qe)>pi)&&(w(!0),localStorage.setItem("last_notification_prompt",Mn.toString()),console.log("Smart Onboarding: Triggering notification prompt"))},1e4);return()=>clearTimeout(me)}},[J]);const be=()=>{w(!0),S(!1),localStorage.setItem("last_inbox_view",new Date().toISOString())},Te=me=>{X(me)},Ie=a.filter(me=>ko(me.date)>=new Date().setHours(0,0,0,0));return g==="database"?m.jsx(Sj,{events:a,specialSections:f,onBack:()=>y("app")}):m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white font-sans selection:bg-sky-500/30",children:[m.jsx(xw,{}),m.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[m.jsx(_j,{onClick:be,hasUnread:R}),ye&&m.jsx("button",{onClick:()=>D(!0),className:"p-3 bg-primary text-white rounded-full shadow-lg hover:bg-primary/80 transition-all border border-primary/30",children:m.jsx(SS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>ye?I(!1):fe(!0),className:"p-3 rounded-full shadow-lg transition-all ".concat(ye?"bg-red-500 text-white":"bg-white/5 text-gray-400 hover:text-white border border-white/10"),children:m.jsx(yS,{className:"w-5 h-5"})})]}),m.jsxs("section",{className:"min-h-[90vh] flex flex-col items-center justify-center p-6 relative overflow-hidden bg-celestial",children:[m.jsx("div",{className:"absolute inset-0 bg-sky-400/5 blur-[120px] pointer-events-none"}),m.jsx("div",{className:"relative w-64 h-64 md:w-80 md:h-80 mb-8 animate-float",children:m.jsx("img",{src:"/logo.png",className:"w-full h-full object-contain drop-shadow-[0_0_40px_rgba(56,189,248,0.5)]",alt:"Logo"})}),m.jsxs("h1",{className:"text-6xl md:text-9xl font-black text-center tracking-tighter mb-4",children:[m.jsx("span",{className:"text-white",children:"PASO DE "}),m.jsx("span",{className:"text-sky-400 text-glow",children:"ECUADOR"})]}),m.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light tracking-[0.2em] mb-12 uppercase",children:"INEF 25/26"}),m.jsx("a",{href:"#events",className:"px-10 py-4 rounded-full bg-sky-400 text-black font-black text-lg hover:shadow-[0_0_30px_rgba(56,189,248,0.5)] transition-all transform hover:scale-105",children:"PRXIMOS EVENTOS"})]}),m.jsx(pj,{sections:f,onOpenSection:G,onOpenForm:me=>ne(me)}),m.jsx("section",{id:"events",className:"py-24 px-4 md:px-8 bg-celestial-gradient border-y border-white/5",children:m.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[m.jsxs("h2",{className:"text-4xl font-bold mb-16 flex items-center gap-4",children:[m.jsx("span",{className:"w-2 h-12 bg-sky-400 rounded-full shadow-[0_0_15px_rgba(56,189,248,0.5)]"}),"Prximamente"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Ie.map(me=>m.jsxs("div",{onClick:()=>j(me),className:"bg-white/5 backdrop-blur-md p-6 rounded-[2.5rem] border border-white/5 hover:bg-white/10 transition-all group relative overflow-hidden flex flex-col cursor-pointer transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-sky-400/5",children:[m.jsxs("div",{className:"absolute top-6 right-6 px-3 py-1 rounded-full text-[10px] font-black uppercase border bg-black/50 backdrop-blur-md z-10 tracking-widest",style:{color:me.typeColor,borderColor:me.typeColor},children:[me.typeIcon," ",me.typeName]}),me.imageUrl&&m.jsxs("div",{className:"w-full h-56 mb-6 rounded-3xl overflow-hidden relative",children:[m.jsx("img",{src:me.imageUrl,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000",alt:me.title}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-6",children:m.jsx("span",{className:"text-white font-bold text-sm",children:"Ver Detalles"})})]}),m.jsxs("div",{className:"text-sky-400 font-black tracking-widest text-xs mb-3 uppercase",children:[ko(me.date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"}),me.time&&m.jsxs("span",{className:"ml-2",children:[" ",me.time]})]}),m.jsx("h3",{className:"text-3xl font-black text-white mb-3 leading-tight group-hover:text-sky-400 transition-colors",children:me.title}),me.location&&m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-4",children:[m.jsx(Mb,{className:"w-4 h-4 text-sky-400"})," ",me.location]}),m.jsx("div",{className:"mt-auto",onClick:Qe=>Qe.stopPropagation(),children:m.jsx(ww,{event:me,onOpenForm:ne})})]},me.id))})]})}),m.jsxs("section",{className:"relative py-40 overflow-hidden bg-deep",children:[m.jsx("div",{className:"absolute inset-0 bg-transparent"}),m.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-16 items-center",children:[m.jsxs("div",{className:"animate-fade-in-left",children:[m.jsxs("h2",{className:"text-6xl md:text-8xl font-black mb-8 tracking-tighter leading-none",children:[m.jsx("span",{className:"bg-gradient-to-r from-white to-gray-500 bg-clip-text text-transparent",children:"LIGA"}),m.jsx("br",{}),m.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),m.jsx("p",{className:"text-gray-400 text-xl mb-12 leading-relaxed max-w-md font-medium",children:"Compite en torneos exclusivos, acumula puntos para el ranking anual y convirtete en la leyenda de INEF."}),m.jsxs(tr,{to:"/liga",className:"inline-flex items-center gap-4 px-10 py-5 rounded-full bg-gradient-to-r from-primary to-secondary text-white font-black text-xl hover:scale-105 transition-all shadow-[0_10px_40px_rgba(79,70,229,0.3)] active:scale-95",children:["VER CLASIFICACIN ",m.jsx(Sh,{className:"w-6 h-6"})]})]}),m.jsxs("div",{className:"relative group animate-fade-in-right",children:[m.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-indigo-500 to-purple-600 blur-[80px] opacity-10 group-hover:opacity-30 transition-opacity duration-1000"}),m.jsxs("div",{className:"glass-panel p-8 rounded-[3rem] border border-white/10 transform rotate-[-3deg] group-hover:rotate-1 transition-all duration-700 shadow-2xl bg-black/40 backdrop-blur-xl",children:[m.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-white/10 pb-6",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-600 flex items-center justify-center font-black text-black text-2xl border-2 border-yellow-200 outline outline-4 outline-yellow-400/20",children:"#1"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-black tracking-widest mb-1",children:"Top Ranking"}),m.jsx("div",{className:"font-black text-2xl text-white",children:"LDER"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-full overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-3/4"})}),m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-5/6 overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-purple-500/50 w-1/2"})}),m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-2/3 overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-2/3"})})]})]})]})]})]}),m.jsx("section",{className:"py-24 px-4 md:px-8 bg-celestial-gradient",children:m.jsx("div",{className:"max-w-6xl mx-auto w-full",children:m.jsx(mj,{events:a,currentMonth:ge,setCurrentMonth:Ae,currentYear:Y,setCurrentYear:re,onSelectDay:E})})}),m.jsx("footer",{className:"py-20 border-t border-white/5 bg-deep",children:m.jsxs("div",{className:"flex flex-col items-center gap-8",children:[m.jsxs("div",{className:"flex gap-8",children:[m.jsx("a",{href:"https://www.instagram.com/pasoecuadorinef26/",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-gradient-to-br hover:from-purple-600 hover:to-orange-500 transition-all hover:scale-110 border border-white/5",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),m.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),m.jsx("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]})}),m.jsx("a",{href:"https://www.tiktok.com/@pasoecuadorinef26",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-black hover:border hover:border-sky-400 hover:text-sky-400 transition-all hover:scale-110 border border-white/5",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]}),m.jsx("p",{className:"text-gray-600 text-xs font-bold tracking-widest uppercase",children:" 2025 Paso de Ecuador INEF 25/26"})]})}),m.jsx(ba,{isOpen:!!b,onClose:()=>E(null),children:b&&m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsx("h2",{className:"text-3xl font-black capitalize",children:ko(b.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})}),m.jsxs("div",{className:"space-y-4",children:[b.events.map(me=>m.jsx("div",{onClick:()=>{j(me),E(null)},className:"bg-white/5 p-6 rounded-3xl border-l-4 cursor-pointer hover:bg-white/10 transition-all group",style:{borderColor:me.typeColor},children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-xl group-hover:text-sky-400 transition-colors",children:me.title}),m.jsxs("div",{className:"text-xs opacity-50 flex items-center gap-2 mt-1 uppercase tracking-widest",children:[me.typeIcon," ",me.typeName]})]}),m.jsx("div",{className:"text-xs text-sky-400 font-bold uppercase border border-sky-400/30 px-3 py-1 rounded-full group-hover:bg-sky-400 group-hover:text-black transition-all",children:"Ver Ms"})]})},me.id)),b.events.length===0&&m.jsx("p",{className:"text-center text-gray-500 py-12 italic",children:"No hay eventos programados para este da."})]})]})}),A&&m.jsx(yj,{event:A,onClose:()=>j(null),onOpenForm:me=>{j(null),ne(me)}}),m.jsx(ba,{isOpen:!!z,onClose:()=>G(null),children:z&&m.jsxs("div",{className:"relative",children:[z.imageUrl&&m.jsx("div",{className:"w-full h-80",children:m.jsx("img",{src:z.imageUrl,className:"w-full h-full object-cover",alt:""})}),m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-4xl font-black mb-4 text-white",children:z.title}),m.jsx("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 mb-8",children:m.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap text-lg",children:z.description})}),m.jsx("div",{className:"flex flex-wrap gap-4",children:(z.buttons||[]).map(me=>m.jsx("button",{className:"px-8 py-3 rounded-xl font-bold bg-sky-400 text-black hover:bg-sky-500 transition-all shadow-lg",onClick:()=>{me.type==="form"?(ne({id:"section_".concat(z.id,"_").concat(me.id),title:"".concat(z.title," - ").concat(me.label),customFields:me.customFields||[]}),G(null)):me.link&&window.open(me.link,"_blank")},children:me.label},me.id))})]})]})}),L&&m.jsx(vj,{event:L,onClose:()=>ne(null)}),m.jsx(bj,{isOpen:V,onClose:()=>w(!1),announcements:l,permission:J,onRequestPermission:ue}),ce&&m.jsx(Tj,{onClose:()=>fe(!1),onSuccess:()=>{I(!0),fe(!1),D(!0)}}),m.jsx(Ej,{isOpen:C,onClose:()=>D(!1),events:a,eventTypes:i,announcements:l,specialSections:f,onOpenDB:()=>{D(!1),y("database")},onOpenStats:Te,fcmToken:se}),m.jsx(xj,{isOpen:ve,onClose:O,onInstall:Ve,isIOS:je})]})},No=a=>a?a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():"",Cj=(a,e=!1)=>a?new Date(a).toLocaleDateString("es-ES",oe({day:"numeric",month:"short"},e&&{hour:"2-digit",minute:"2-digit"})):"",Dj="Se trata de una liga individual en la que daremos 100 a la persona ganadora al final del curso.\nLos puntos se obtienen participando en torneos y ganndolos, siendo los puntos obtenidos:\n\n **+1 punto** por participar\n **+3 puntos** por quedar segundo/a\n **+5 puntos** por quedar primero/a",gb=({isOpen:a,onClose:e,children:i})=>a?m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),m.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-[#0f0f16] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up flex flex-col max-h-[90vh]",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-20",children:m.jsx(sl,{className:"w-6 h-6"})}),i]})]}):null,Ij=({player:a,rank:e,onClick:i})=>{const s=e===1?"rank-1":e===2?"rank-2":e===3?"rank-3":"text-gray-500",l=e===1?"bg-yellow-500/10 border-yellow-500/20":"bg-[#1c1c2e]/50 hover:bg-[#1c1c2e] border-white/5";return m.jsxs("div",{onClick:i,className:"group relative flex items-center p-4 rounded-xl border transition-all duration-300 cursor-pointer ".concat(l),children:[m.jsx("div",{className:"w-12 h-12 flex items-center justify-center text-2xl font-black mr-4 ".concat(s),children:e<=3?"#"+e:e}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-lg ".concat(e===1?"text-white":"text-gray-200"," group-hover:text-primary transition-colors"),children:a.name}),e===1&&m.jsx("span",{className:"text-xs text-yellow-500 font-medium tracking-wider",children:"LDER ACTUAL"})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-2xl font-bold text-white tracking-tight",children:a.displayPoints!==void 0?a.displayPoints:a.points}),m.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"PUNTOS"})]}),m.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary/0 to-secondary/0 opacity-0 group-hover:opacity-5 transition-opacity pointer-events-none"})]})},jj=({players:a,processTournament:e,goBack:i,manualDelete:s,manualUpdatePoints:l,password:u,setPassword:f,description:p,setDescription:g})=>{const[y,b]=U.useState(""),[E,A]=U.useState(new Date().toISOString().split("T")[0]),[j,z]=U.useState(""),[G,L]=U.useState(""),[ne,ae]=U.useState(""),[X,ce]=U.useState(!1),[fe,ye]=U.useState(""),[I,C]=U.useState(""),[D,V]=U.useState(p),w=S=>{if(S.preventDefault(),!y)return alert("Ponle nombre al torneo");e(y,E,j,G,ne),z(""),L(""),ae(""),b("")},R=()=>{if(fe!==u){alert("La contrasea actual no es correcta.");return}if(!I){alert("Escribe una nueva contrasea");return}f(I),alert("Contrasea cambiada exitosamente"),C(""),ye("")};return m.jsx("div",{className:"min-h-screen p-4 md:p-8 pb-32 bg-liga",children:m.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"flex flex-col gap-8",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>ce(!X),className:"flex-1 glass-panel p-4 rounded-2xl flex items-center justify-center gap-2 font-bold hover:bg-white/5 transition-colors text-gray-300",children:[m.jsx(Vb,{className:"w-5 h-5"})," ",X?"Volver a Torneos":"Configuracin"]}),m.jsx("button",{onClick:i,className:"glass-panel px-6 rounded-2xl text-red-400 hover:bg-white/5 transition-colors font-bold",children:"Salir"})]}),X?m.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit space-y-8 animate-fade-in-up",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Configuracin"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Descripcin de la Liga"}),m.jsx("textarea",{className:"w-full h-40 bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-primary focus:outline-none",value:D,onChange:S=>V(S.target.value)}),m.jsxs("button",{onClick:()=>{g(D),alert("Descripcin actualizada")},className:"px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg text-sm font-bold flex items-center gap-2",children:[m.jsx(xS,{className:"w-4 h-4"})," Guardar Texto"]})]}),m.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-4",children:[m.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Seguridad"}),m.jsx("input",{type:"password",placeholder:"Contrasea Actual",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none mb-2",value:fe,onChange:S=>ye(S.target.value)}),m.jsx("input",{type:"password",placeholder:"Nueva Contrasea",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none",value:I,onChange:S=>C(S.target.value)}),m.jsx("button",{onClick:R,className:"px-4 py-2 bg-secondary/20 hover:bg-secondary/30 text-secondary rounded-lg text-sm font-bold",children:"Actualizar Contrasea"})]})]}):m.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit animate-fade-in-up",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[m.jsx(rh,{className:"text-secondary w-6 h-6"})," Nuevo Torneo"]})}),m.jsxs("form",{onSubmit:w,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Nombre Torneo"}),m.jsx("input",{type:"text",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",placeholder:"Ej: Torneo FIFA",value:y,onChange:S=>b(S.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Fecha"}),m.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",value:E,onChange:S=>A(S.target.value)})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"flex justify-between text-xs uppercase font-bold text-yellow-500 mb-2",children:m.jsx("span",{children:" 1 Puesto (+5 pts)"})}),m.jsx("textarea",{className:"w-full h-24 bg-yellow-900/10 border border-yellow-500/20 rounded-xl p-3 text-sm text-white focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Nombres...",value:j,onChange:S=>z(S.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-300 mb-2 block",children:" 2 Puesto (+3 pts)"}),m.jsx("textarea",{className:"w-full h-24 bg-white/5 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-gray-500 focus:outline-none",placeholder:"Nombres...",value:G,onChange:S=>L(S.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-primary mb-2 block",children:"Participantes (+1 pt)"}),m.jsx("textarea",{className:"w-full h-32 bg-primary/5 border border-primary/20 rounded-xl p-3 text-sm text-white focus:border-primary focus:outline-none",placeholder:"Lista de nombres...",value:ne,onChange:S=>ae(S.target.value)}),m.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"* El sistema evitar duplicar puntos si alguien ya est en 1 o 2 puesto."})]})]}),m.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-primary to-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-primary/25 transition-all transform hover:scale-[1.02]",children:"Guardar Resultados"})]})]})]}),m.jsxs("div",{className:"glass-panel p-6 rounded-3xl h-[800px] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-white mb-6",children:["Base de Datos (",a.length,")"]}),m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-2",children:a.map(S=>m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5 group",children:[m.jsx("span",{className:"font-medium text-gray-300",children:S.name}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-white",children:[S.points," pts"]}),m.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>l(S.id,1),className:"text-green-400 hover:bg-green-500/20 p-2 rounded",title:"+1",children:m.jsx(rh,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>l(S.id,-1),className:"text-yellow-400 hover:bg-yellow-500/20 p-2 rounded",title:"-1",children:m.jsx("div",{className:"w-4 h-4 flex items-center justify-center font-bold text-xs",children:"-"})}),m.jsx("button",{onClick:()=>s(S.id),className:"text-red-500 hover:bg-red-500/20 p-2 rounded",title:"Eliminar",children:m.jsx(Zc,{className:"w-4 h-4"})})]})]})]},S.id))})]})]})})},kj=()=>{const[a,e]=U.useState("public"),[i,s]=U.useState([]),[l,u]=U.useState([]),[f,p]=U.useState(()=>localStorage.getItem("liga_description")||Dj),[g,y]=U.useState(()=>localStorage.getItem("liga_password")||"4321"),[b,E]=U.useState(""),[A,j]=U.useState(null),[z,G]=U.useState("ALL"),[L,ne]=U.useState(!1),[ae,X]=U.useState(!1),[ce,fe]=U.useState("");U.useEffect(()=>{const w=fa(rr(kn(lt,"players")),S=>{s(S.docs.map(ge=>oe({id:ge.id},ge.data())))}),R=fa(rr(kn(lt,"tournaments")),S=>{const ge=S.docs.map(Ae=>oe({id:Ae.id},Ae.data()));ge.sort((Ae,Y)=>new Date(Y.date)-new Date(Ae.date)),u(ge)});return()=>{w(),R()}},[]),U.useEffect(()=>{localStorage.setItem("liga_description",f)},[f]),U.useEffect(()=>{localStorage.setItem("liga_password",g)},[g]);const ye=(w,R,S,ge,Ae)=>K(null,null,function*(){const Y=se=>se.split(/[\n,]+/).map(be=>be.trim()).filter(Boolean),re=Y(S),ve=Y(ge),je=Y(Ae),Ve=new Set,O=[],J=(se,be,Te)=>{const Ie=No(se);Ve.has(Ie)||(Ve.add(Ie),O.push({name:se,points:be,type:Te}))};re.forEach(se=>J(se,5,"1 Puesto")),ve.forEach(se=>J(se,3,"2 Puesto")),je.forEach(se=>J(se,1,"Participacin"));for(const se of O){let be=i.find(Te=>No(Te.name)===No(se.name));if(be){const Te=[...be.history||[],{tournament:w,points:se.points,date:R,type:se.type}],Ie=be.points+se.points,me=[...be.wins||[]];se.type==="1 Puesto"&&me.push(new Date(R).getTime());try{yield Km(xn(lt,"players",be.id),{history:Te,points:Ie,wins:me})}catch(Qe){console.error("Error updating player",se.name,Qe)}}else{const Te={name:se.name,points:se.points,wins:se.type==="1 Puesto"?[new Date(R).getTime()]:[],history:[{tournament:w,points:se.points,date:R,type:se.type}]};try{yield fl(kn(lt,"players"),Te)}catch(Ie){console.error("Error creating player",se.name,Ie)}}}const ue={name:w,date:R,winners:re};try{yield fl(kn(lt,"tournaments"),ue),alert("Torneo guardado y sincronizado.")}catch(se){alert("Error guardando torneo: "+se.message)}}),I=w=>K(null,null,function*(){if(confirm("Seguro que quieres borrar a este jugador?"))try{yield $m(xn(lt,"players",w))}catch(R){alert("Error eliminando: "+R.message)}}),C=(w,R)=>K(null,null,function*(){const S=i.find(ge=>ge.id===w);if(S)try{yield Km(xn(lt,"players",w),{points:Math.max(0,S.points+R)})}catch(ge){console.error(ge)}}),D=U.useMemo(()=>{let w=[...i];if(z!=="ALL"){const R=l.find(S=>S.id===z);R&&(w=w.map(S=>{const ge=S.history?S.history.filter(Ae=>Ae.tournament===R.name).reduce((Ae,Y)=>Ae+Y.points,0):0;return Ee(oe({},S),{displayPoints:ge})}).filter(S=>S.displayPoints>0))}else w=w.map(R=>Ee(oe({},R),{displayPoints:R.points}));w.sort((R,S)=>{const ge=R.displayPoints,Ae=S.displayPoints;if(Ae!==ge)return Ae-ge;const Y=R.wins&&R.wins.length>0?Math.max(...R.wins):0;return(S.wins&&S.wins.length>0?Math.max(...S.wins):0)-Y});for(let R=0;R<w.length;R++)R>0?w[R].displayPoints===w[R-1].displayPoints?w[R].realRank=w[R-1].realRank:w[R].realRank=R+1:w[R].realRank=1;return b&&(w=w.filter(R=>No(R.name).includes(No(b)))),w},[i,b,z,l]),V=D.length>0?D[0]:null;return a==="public"?m.jsxs("div",{className:"min-h-screen bg-liga text-white p-4 selection:bg-primary selection:text-white",children:[m.jsxs("div",{className:"relative py-12 px-4 overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),m.jsx("div",{className:"absolute top-6 right-6 z-20 flex gap-2",children:m.jsx("button",{onClick:()=>ne(!0),className:"p-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 transition-colors group",children:m.jsx(Bv,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})})}),m.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[m.jsxs("h1",{className:"text-4xl md:text-7xl font-black mb-2 tracking-tighter",children:[m.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-gray-400 bg-clip-text text-transparent",children:"LIGA"}),m.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent text-glow ml-2 md:ml-4 tracking-[0.05em] drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),m.jsx("p",{className:"text-blue-200/60 uppercase tracking-[0.3em] font-bold text-sm mb-12",children:"Paso de Ecuador 25/26"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-12",children:[m.jsxs("div",{className:"glass p-4 rounded-2xl",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:z==="ALL"?"Lder Actual":"Ganador Torneo"}),m.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-yellow-200 to-yellow-600 bg-clip-text text-transparent text-center truncate",children:V?V.name:"-"})]}),m.jsxs("div",{className:"glass p-4 rounded-2xl",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Jugadores"}),m.jsx("div",{className:"text-2xl font-bold text-white text-center",children:i.length})]}),m.jsxs("div",{className:"glass p-4 rounded-2xl hidden md:block",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Torneos"}),m.jsx("div",{className:"text-2xl font-bold text-white text-center",children:l.length})]})]}),m.jsxs("div",{className:"max-w-2xl mx-auto flex flex-col md:flex-row gap-4 mb-8",children:[m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:m.jsx(ES,{className:"text-gray-500 w-5 h-5 group-focus-within:text-primary transition-colors"})}),m.jsx("input",{type:"text",placeholder:"Buscar jugador...",className:"w-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-12 pr-6 text-white focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-all shadow-xl",value:b,onChange:w=>E(w.target.value)})]}),m.jsxs("div",{className:"relative md:w-64",children:[m.jsxs("select",{className:"w-full h-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-4 pr-10 text-white focus:outline-none focus:border-primary/50 appearance-none cursor-pointer",value:z,onChange:w=>G(w.target.value),children:[m.jsx("option",{value:"ALL",children:"Clasificacin Global"}),l.map(w=>m.jsx("option",{value:w.id,children:w.name},w.id))]}),m.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none",children:m.jsx(Z2,{className:"text-gray-500 w-4 h-4"})})]})]})]})]}),m.jsxs("div",{className:"max-w-3xl mx-auto px-4 pb-20 space-y-3",children:[D.map(w=>m.jsx(Ij,{player:w,rank:w.realRank,onClick:()=>j(w)},w.id)),D.length===0&&m.jsxs("div",{className:"text-center py-20 text-gray-600",children:[m.jsx(fS,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),m.jsx("p",{children:"No se encontraron jugadores"})]})]}),m.jsxs("div",{className:"fixed bottom-6 right-6 z-30 flex flex-col gap-3",children:[m.jsx("button",{onClick:()=>K(null,null,function*(){const w=window.location.href,R="Liga Multisport - Clasificacin";if(navigator.share)try{yield navigator.share({title:R,text:"Mira la clasificacin en directo!",url:w})}catch(S){}else navigator.clipboard.writeText(w),alert("Enlace copiado al portapapeles")}),className:"w-12 h-12 rounded-full bg-primary hover:bg-primary/80 text-white flex items-center justify-center transition-all shadow-lg shadow-primary/30 transform hover:scale-110",title:"Compartir Web",children:m.jsx(qv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>e("login"),className:"w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-700 border border-white/10 text-white flex items-center justify-center transition-all shadow-lg transform hover:scale-110",children:m.jsx(Vb,{className:"w-5 h-5"})})]}),L&&m.jsx(gb,{isOpen:L,onClose:()=>ne(!1),children:m.jsxs("div",{className:"p-8",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[m.jsx(Bv,{className:"w-6 h-6 text-primary"})," Qu es Liga Multisport?"]}),m.jsx("div",{className:"prose prose-invert text-gray-300 whitespace-pre-line leading-relaxed",children:f})]})}),A&&m.jsx(gb,{isOpen:!!A,onClose:()=>j(null),children:m.jsxs("div",{className:"p-8 flex-1 overflow-auto custom-scrollbar",children:[m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[A.name,m.jsx("button",{onClick:()=>{const w="Voy #".concat(A.realRank," en la Liga Multisport con ").concat(A.points," puntos! Me superas?");navigator.share?navigator.share({text:w,url:window.location.href}):(navigator.clipboard.writeText(w+" "+window.location.href),alert("Texto copiado"))},className:"p-2 bg-primary/20 text-primary hover:text-white hover:bg-primary rounded-full transition-all",title:"Compartir mi puesto",children:m.jsx(qv,{className:"w-4 h-4"})})]}),m.jsxs("p",{className:"text-primary font-bold text-xl",children:[A.points," Puntos Totales"]})]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-xs uppercase font-bold text-gray-500 tracking-wider",children:"Historial de Torneos"}),A.history&&A.history.slice().reverse().map((w,R)=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/5",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-white",children:w.tournament||"Torneo Desconocido"}),m.jsx("div",{className:"text-xs text-gray-500",children:Cj(w.date)})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"font-bold ".concat(["1 Puesto","2 Puesto"].includes(w.type)?"text-yellow-500":"text-gray-300"),children:w.type}),m.jsxs("div",{className:"text-sm font-mono text-primary",children:["+",w.points," pts"]})]})]},R)),(!A.history||A.history.length===0)&&m.jsx("p",{className:"text-gray-600 text-center py-8",children:"Sin historial detallado"})]})]})})]}):a==="login"?m.jsxs("div",{className:"min-h-screen transition-all duration-700 bg-liga flex items-center justify-center px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-primary/5"}),m.jsxs("div",{className:"glass-panel p-10 rounded-3xl w-full max-w-md relative z-10 text-center space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acceso Administrador"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Introduce la clave de seguridad"})]}),m.jsx("input",{type:"password",autoFocus:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-center text-3xl tracking-[1em] text-white focus:outline-none focus:border-secondary transition-colors",value:ce,onChange:w=>{fe(w.target.value),w.target.value===g&&(e("admin"),X(!0))}}),m.jsx("button",{onClick:()=>{e("public"),fe("")},className:"text-gray-500 hover:text-white text-sm",children:"Cancelar"})]})]}):m.jsx(jj,{players:i,processTournament:ye,goBack:()=>{e("public"),fe("")},manualDelete:I,manualUpdatePoints:C,password:g,setPassword:y,description:f,setDescription:p})},Oj=({player:a,onClick:e})=>{const i=ah.useMemo(()=>(typeof a.id=="string"?a.id.length:a.id||0)%6-3,[a.id]);return m.jsxs("div",{className:"group relative cursor-pointer transform transition-all duration-300 hover:z-10 hover:scale-105 hover:rotate-0 w-64 h-80",style:{transform:"rotate(".concat(i,"deg)")},onClick:e,children:[a.isGroup&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute inset-0 bg-white shadow-xl rounded-sm transform rotate-[-5deg] translate-x-[-4px] translate-y-[2px] z-0"}),m.jsx("div",{className:"absolute inset-0 bg-white shadow-xl rounded-sm transform rotate-[3deg] translate-x-[3px] translate-y-[-2px] z-0"})]}),m.jsxs("div",{className:"relative bg-white p-3 pb-6 shadow-xl rounded-sm z-10 w-full h-full flex flex-col transition-transform duration-300 ".concat(a.isGroup?"rotate-0":""),children:[m.jsxs("div",{className:"w-full aspect-video bg-gray-200 mb-4 overflow-hidden relative border border-gray-100 filter sepia-[0.2]",children:[a.image?m.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:a.isGroup?m.jsx(VS,{size:32}):m.jsx(OS,{size:32})}),m.jsx("div",{className:"absolute top-2 right-2 px-3 py-1 transform rotate-12 font-black text-[10px] uppercase tracking-widest border-2 border-black shadow-[2px_2px_0px_rgba(0,0,0,1)] ".concat(Mj(a.level)," text-black whitespace-nowrap"),children:a.level})]}),m.jsxs("div",{className:"text-center font-['Patrick_Hand'] flex-1 flex flex-col justify-center",children:[m.jsx("h3",{className:"text-2xl text-gray-800 leading-none mb-1",children:a.name}),m.jsx("p",{className:"text-gray-500 text-lg leading-tight",children:a.course})]}),m.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-red-500 shadow-md border border-red-700 z-20"}),m.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-1 h-1 rounded-full bg-white/50 z-30 ml-[1px] mt-[1px]"}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/20 transition-all rounded-sm opacity-0 group-hover:opacity-100",children:m.jsx("button",{className:"bg-primary text-black font-black text-xl px-6 py-3 rounded-full transform scale-0 group-hover:scale-110 transition-transform duration-200 shadow-[4px_4px_0px_black] border-2 border-black rotate-[-12deg] uppercase",children:a.isGroup?"UNIRSE!":"FCHAME!"})})]})]})},Mj=a=>{switch(a==null?void 0:a.toLowerCase()){case"competitivo":return"bg-yellow-400";case"pachanga":return"bg-purple-400";case"amateur":return"bg-green-400";default:return"bg-gray-300"}},Vj=({message:a,type:e="info",onClose:i})=>{U.useEffect(()=>{if(e!=="loading"){const u=setTimeout(()=>{i()},3e3);return()=>clearTimeout(u)}},[e,i]);const s={success:m.jsx(nS,{className:"text-green-500",size:24}),error:m.jsx(sS,{className:"text-red-500",size:24}),loading:m.jsx(pS,{className:"text-blue-500 animate-spin",size:24}),info:m.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500"})},l={success:"bg-white border-green-500",error:"bg-white border-red-500",loading:"bg-white border-blue-500",info:"bg-white border-gray-500"};return m.jsxs("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-3 px-6 py-4 rounded-xl shadow-[0_10px_40px_-10px_rgba(0,0,0,0.5)] border-2 ".concat(l[e]," animate-in slide-in-from-bottom-5 fade-in duration-300"),children:[s[e],m.jsx("span",{className:"font-black text-black uppercase tracking-wide",children:a})]})},Lj=(a,e=800,i=.8)=>new Promise((s,l)=>{const u=new FileReader;u.readAsDataURL(a),u.onload=f=>{const p=new Image;p.src=f.target.result,p.onload=()=>{const g=document.createElement("canvas");let y=p.width,b=p.height;y>e&&(b=Math.round(b*e/y),y=e),g.width=y,g.height=b,g.getContext("2d").drawImage(p,0,0,y,b),g.toBlob(A=>{if(A){const j=new File([A],a.name.replace(/\.[^/.]+$/,"")+".webp",{type:"image/webp",lastModified:Date.now()});s(j)}else l(new Error("Canvas is empty"))},"image/webp",i)},p.onerror=g=>l(g)},u.onerror=f=>l(f)}),Uj=()=>{const[a,e]=U.useState([]),[i,s]=U.useState(!0),[l,u]=U.useState(!1),[f,p]=U.useState(null),[g,y]=U.useState(null),[b,E]=U.useState(!1),[A,j]=U.useState("choice"),[z,G]=U.useState(null),[L,ne]=U.useState(""),[ae,X]=U.useState([{id:"init-1",name:"",level:"Amateur",photo:null}]),[ce,fe]=U.useState("");ah.useEffect(()=>{console.log("Initializing TransferMarket listener...");let w=()=>{};try{const R=rr(kn(lt,"free_agents"),Qm("createdAt","desc"));w=fa(R,S=>{console.log("Snapshot received! Docs count:",S.docs.length);const ge=S.docs.map(Ae=>oe({id:Ae.id},Ae.data()));e(ge),s(!1)},S=>{console.error("Critical Firestore Error in listener:",S),s(!1),p({message:"Error de Firebase: "+S.message,type:"error"})})}catch(R){console.error("Sync error setting up onSnapshot:",R),s(!1)}return()=>{console.log("Unsubscribing from listener"),w()}},[]),ah.useEffect(()=>{if(i){const w=setTimeout(()=>{i&&(console.warn("Loading timeout reached. Stopping spinner."),s(!1),p({message:"La conexin est tardando mucho. Revisa tu conexin o bloqueadores.",type:"info"}))},8e3);return()=>clearTimeout(w)}},[i]);const ye=()=>{X([...ae,{id:Date.now(),name:"",level:"Amateur",photoFile:null,photoPreview:null}])},I=(w,R,S)=>{X(ae.map(ge=>ge.id===w?Ee(oe({},ge),{[R]:S}):ge))},C=(w,R)=>K(null,null,function*(){if(R)try{p({message:"Optimizando imagen...",type:"loading"});const S=yield Lj(R),ge=new FileReader;ge.onloadend=()=>{X(ae.map(Ae=>Ae.id===w?Ee(oe({},Ae),{photoFile:S,photoPreview:ge.result}):Ae)),p({message:"Imagen lista!",type:"success"})},ge.readAsDataURL(S)}catch(S){console.error("Error optimizing image:",S),p({message:"Error al procesar imagen",type:"error"})}}),D=w=>{ae.length>1&&X(ae.filter(R=>R.id!==w))},V=w=>K(null,null,function*(){var R,S,ge;w.preventDefault(),console.log("Starting save process..."),u(!0);try{p({message:"Subiendo imgenes y perfil...",type:"loading"}),console.log("Processing members images...");const Ae=yield Promise.all(ae.map((ve,je)=>K(null,null,function*(){let Ve=null;if(ve.photoFile)try{console.log("Uploading photo for member ".concat(je,"..."));const O=rj(fj,"fichajes-photos/".concat(Date.now(),"_").concat(ve.photoFile.name)),J=yield aj(O,ve.photoFile);console.log("Upload successful for member ".concat(je),J),Ve=yield sj(O)}catch(O){console.error("Error uploading photo ".concat(je,":"),O),p({message:"Aviso: No se pudo subir la foto ".concat(je+1),type:"error"})}return{name:ve.name,level:ve.level,image:Ve}})));console.log("Preparing Firestore document..."),p({message:"Guardando en base de datos...",type:"loading"});const Y={type:z,contact:ce,createdAt:new Date,name:z==="team"?L:((R=Ae[0])==null?void 0:R.name)||"Sin nombre",level:z==="team"?"Varios":((S=Ae[0])==null?void 0:S.level)||"Amateur",image:((ge=Ae[0])==null?void 0:ge.image)||null,isGroup:z==="team",course:"N/A",members:Ae},re=yield fl(kn(lt,"free_agents"),Y);console.log("Document saved successfully with ID:",re.id),p({message:"Fichaje publicado con xito!",type:"success"}),E(!1),X([{id:"init-1",name:"",level:"Amateur",photoFile:null,photoPreview:null}]),ne(""),fe("")}catch(Ae){console.error("CRITICAL ERROR in handleSave:",Ae),p({message:"Error crtico: "+Ae.message,type:"error"})}finally{console.log("Finishing save process (submitting = false)"),u(!1)}});return m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white relative overflow-x-hidden font-sans",children:[m.jsx("div",{className:"absolute inset-0 bg-sky-400/5 blur-[120px] pointer-events-none"}),m.jsxs("div",{className:"relative z-10 p-6 flex items-center justify-between",children:[m.jsx(tr,{to:"/",className:"bg-white/5 text-white p-3 rounded-full shadow-lg border border-white/10 hover:bg-white/10 transition-all",children:m.jsx(Ob,{size:24})}),m.jsx("div",{className:"bg-primary px-6 py-2 transform rotate-1 shadow-[4px_4px_0px_black] border-2 border-black",children:m.jsx("h1",{className:"text-3xl font-black uppercase text-black",children:"Mercado de Fichajes"})}),m.jsx("button",{onClick:()=>{E(!0),j("choice"),X([{id:"init-1",name:"",level:"Amateur",photoFile:null,photoPreview:null}]),ne(""),fe("")},className:"bg-sky-400 text-black p-3 rounded-full shadow-lg transform hover:rotate-6 transition-all border-2 border-black",children:m.jsx(Xc,{size:24})})]}),m.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto my-12 p-2 md:p-12 rounded-[2.5rem] border-[12px] border-[#5d4037]/60 shadow-[0_30px_60px_-12px_rgba(0,0,0,0.7)] overflow-hidden bg-[#d8b08c]",children:[m.jsx("div",{className:"absolute inset-0 opacity-100 pointer-events-none",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/cork-board.png")'}}),m.jsxs("div",{className:"relative z-20 pt-8 pb-16",children:[m.jsxs("div",{className:"max-w-md mx-auto mb-16 bg-yellow-100 p-6 shadow-xl transform -rotate-2 border border-yellow-200/50 relative font-['Patrick_Hand'] text-black",children:[m.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-red-600 shadow-lg z-20 border border-red-800"}),m.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Busca tu equipo ideal!"}),m.jsx("p",{className:"text-center text-lg leading-tight uppercase opacity-90",children:"Aqu encontrars jugadores buscando equipo y equipos buscando jugadores. Contacta y completa tu team!"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-16 px-4",children:i?m.jsx("div",{className:"col-span-full text-center py-20",children:m.jsx("p",{className:"text-xl font-['Patrick_Hand'] animate-pulse text-black",children:"Cargando fichajes..."})}):a.length===0?m.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-12 opacity-90 text-black",children:[m.jsx("div",{className:"text-7xl mb-6 animate-bounce",children:""}),m.jsx("h3",{className:"text-3xl font-black uppercase mb-2 text-center transform -rotate-2",children:"El mercado est vaco!"}),m.jsxs("p",{className:"text-xl font-['Patrick_Hand'] text-center max-w-md leading-relaxed mb-8",children:["No hay nadie por aqu...",m.jsx("br",{}),m.jsx("span",{className:"font-bold text-red-700 bg-yellow-200 px-2 transform rotate-1 inline-block",children:"S el primer fichaje disponible!"})]}),m.jsx("div",{className:"text-5xl animate-pulse",children:""})]}):a.map(w=>m.jsx("div",{className:"flex justify-center",children:m.jsx(Oj,{player:w,onClick:()=>y(w)})},w.id))})]})]}),m.jsx(ba,{isOpen:!!g,onClose:()=>y(null),children:g&&m.jsxs("div",{className:"text-center p-8 text-black font-sans",children:[m.jsx("h2",{className:"text-4xl font-black mb-4 uppercase italic transform -skew-x-6 leading-none",children:g.name}),m.jsxs("p",{className:"text-xl mb-8",children:["Quieres contactar con ",g.isGroup?"este equipo":"este jugador","?"]}),m.jsxs("p",{className:"text-xl mb-8",children:["Quieres contactar con ",g.isGroup?"este equipo":"este jugador","?"]}),m.jsx("a",{href:"mailto:braisrd11@gmail.com?subject=Inters en Fichaje: ".concat(g.name," (ID: ").concat(g.id,")&body=Hola, estoy interesado en contactar con ").concat(g.name,". Mi contacto es..."),className:"bg-green-500 text-black font-black text-2xl py-4 px-8 rounded-xl shadow-[4px_4px_0px_black] border-2 border-black hover:translate-y-1 hover:shadow-[2px_2px_0px_black] transition-all inline-block",children:" CONTACTAR (va Admin)"})]})}),m.jsx(ba,{isOpen:b,onClose:()=>E(!1),children:m.jsx("div",{className:"p-8 text-black font-sans",children:A==="choice"?m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-4xl font-black mb-8 uppercase italic transform -skew-x-6 leading-none",children:"Qu quieres publicar?"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("button",{onClick:()=>{G("player"),j("form")},className:"p-8 border-4 border-black shadow-[8px_8px_0px_black] hover:translate-x-1 hover:translate-y-1 hover:shadow-[4px_4px_0px_black] transition-all bg-sky-400 group",children:[m.jsx("div",{className:"text-5xl mb-4 group-hover:scale-110 transition-transform",children:""}),m.jsx("span",{className:"text-2xl font-black uppercase",children:"Soy Jugador"})]}),m.jsxs("button",{onClick:()=>{G("team"),j("form")},className:"p-8 border-4 border-black shadow-[8px_8px_0px_black] hover:translate-x-1 hover:translate-y-1 hover:shadow-[4px_4px_0px_black] transition-all bg-purple-400 group",children:[m.jsx("div",{className:"text-5xl mb-4 group-hover:scale-110 transition-transform",children:""}),m.jsx("span",{className:"text-2xl font-black uppercase",children:"Somos un Equipo"})]})]})]}):m.jsxs("form",{className:"space-y-6",onSubmit:V,children:[l&&m.jsx("div",{className:"absolute inset-0 bg-white/80 z-50 flex items-center justify-center backdrop-blur-sm",children:m.jsx("p",{className:"text-2xl font-black animate-bounce",children:"Subiendo ficha..."})}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:z==="player"?"REGISTRO JUGADOR":"REGISTRO EQUIPO"}),m.jsx("button",{type:"button",onClick:()=>j("choice"),className:"text-xs font-bold underline opacity-50 hover:opacity-100",children:"VOLVER"})]}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[z==="team"&&m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-black text-xs uppercase mb-1",children:"Nombre del Equipo"}),m.jsx("input",{required:!0,value:L,onChange:w=>ne(w.target.value),className:"w-full border-2 border-black p-3 outline-none focus:bg-sky-50 shadow-[4px_4px_0px_black]",placeholder:"Ej: Los Galcticos de INEF"})]}),m.jsx("div",{className:"space-y-8",children:ae.map((w,R)=>m.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-300 relative bg-gray-50/50",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("span",{className:"font-black text-[10px] bg-black text-white px-2 py-0.5 uppercase tracking-widest",children:z==="team"?"MIEMBRO #".concat(R+1):"TUS DATOS"}),z==="team"&&ae.length>1&&m.jsx("button",{type:"button",onClick:()=>D(w.id),className:"text-red-500 font-bold text-xs uppercase hover:underline",children:"Eliminar"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block font-black text-[10px] uppercase mb-1",children:"Nombre / Nickname"}),m.jsx("input",{required:!0,value:w.name,onChange:S=>I(w.id,"name",S.target.value),className:"w-full border-2 border-black p-2 text-sm outline-none focus:bg-white",placeholder:"Ej: SuperKiller7"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-black text-[10px] uppercase mb-1",children:"Nivel Subjetivo"}),m.jsxs("select",{value:w.level,onChange:S=>I(w.id,"level",S.target.value),className:"w-full border-2 border-black p-2 text-sm outline-none bg-white",children:[m.jsx("option",{children:"Amateur"}),m.jsx("option",{children:"Pachanga"}),m.jsx("option",{children:"Competitivo"})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block font-black text-[10px] uppercase mb-1",children:"Foto (Opcional)"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 border-2 border-black bg-gray-200 flex items-center justify-center overflow-hidden",children:w.photoPreview?m.jsx("img",{src:w.photoPreview,className:"w-full h-full object-cover"}):m.jsx(Xc,{size:16,className:"text-gray-400"})}),m.jsx("input",{type:"file",accept:"image/*",onChange:S=>{const ge=S.target.files[0];C(w.id,ge)},className:"text-xs file:hidden text-gray-500 cursor-pointer"})]})]})]})]},w.id))}),z==="team"&&m.jsxs("button",{type:"button",onClick:ye,className:"w-full border-2 border-black border-dashed py-3 text-xs font-black uppercase hover:bg-black hover:text-white transition-all flex items-center justify-center gap-2",children:[m.jsx(Xc,{size:14})," Aadir Miembro"]}),m.jsxs("div",{className:"pt-4",children:[m.jsx("label",{className:"block font-black text-xs uppercase mb-1",children:"Contacto General (IG / WhatsApp)"}),m.jsx("input",{required:!0,value:ce,onChange:w=>fe(w.target.value),className:"w-full border-2 border-black p-3 outline-none focus:bg-sky-50 shadow-[4px_4px_0px_black]",placeholder:"@tuusuario o telfono"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-black text-white font-black py-4 uppercase tracking-[0.2em] shadow-[4px_4px_0px_#38bdf8] hover:scale-[1.02] transition-all",children:z==="team"?"PUBLICAR EQUIPO":"PUBLICAR PERFIL"})]})})}),f&&m.jsx(Vj,{message:f.message,type:f.type,onClose:()=>p(null)})]})},Pj=()=>(navigator.userAgent||navigator.vendor||window.opera).indexOf("Instagram")>-1,zj=()=>{const[a,e]=U.useState(!1),i=()=>{navigator.clipboard.writeText(window.location.href),e(!0),setTimeout(()=>e(!1),2e3)};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/95 backdrop-blur-sm",children:m.jsx("div",{className:"w-full max-w-md p-6 border rounded-2xl bg-gray-900/90 border-white/10 shadow-2xl",children:m.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[m.jsx("div",{className:"p-4 rounded-full bg-pink-500/10 text-pink-500",children:m.jsx(Sh,{size:48})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ests navegando desde Instagram"}),m.jsx("p",{className:"text-gray-300",children:"Para asegurar que todas las funciones de la web funcionen correctamente, por favor abre la pgina en tu navegador predeterminado."})]}),m.jsxs("div",{className:"w-full space-y-4",children:[m.jsxs("div",{className:"p-4 text-sm text-left rounded-lg bg-white/5 border border-white/10",children:[m.jsx("p",{className:"font-semibold text-white mb-2",children:"Cmo hacerlo:"}),m.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-gray-300",children:[m.jsxs("li",{children:["Toca los tres puntos ",m.jsx("span",{className:"inline-block px-1.5 py-0.5 mx-1 font-mono text-xs bg-gray-700 rounded",children:"..."})," arriba a la derecha"]}),m.jsxs("li",{children:["Selecciona ",m.jsx("span",{className:"font-medium text-white",children:'"Abrir en el navegador"'})]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t border-white/10"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"px-2 text-gray-500 bg-gray-900/90",children:"O copia el enlace"})})]}),m.jsx("button",{onClick:i,className:"flex items-center justify-center w-full px-4 py-3 space-x-2 font-medium transition-colors rounded-lg bg-pink-600 hover:bg-pink-700 text-white active:bg-pink-800",children:a?m.jsxs(m.Fragment,{children:[m.jsx(Y2,{size:20}),m.jsx("span",{children:"Enlace copiado!"})]}):m.jsxs(m.Fragment,{children:[m.jsx(lS,{size:20}),m.jsx("span",{children:"Copiar enlace de la web"})]})})]})]})})})};function Bj(){return Pj()?m.jsx(zj,{}):m.jsxs(D2,{basename:"/",children:[m.jsx(xw,{}),m.jsxs("div",{className:"min-h-[100dvh] w-full",children:[m.jsxs(l2,{children:[m.jsx(Kc,{path:"/",element:m.jsx(Rj,{})}),m.jsx(Kc,{path:"/liga",element:m.jsx(kj,{})}),m.jsx(Kc,{path:"/fichajes",element:m.jsx(Uj,{})})]}),m.jsx(gj,{})]})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"}).then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});mT.createRoot(document.getElementById("root")).render(m.jsx(U.StrictMode,{children:m.jsx(Bj,{})}))});export default qj();
