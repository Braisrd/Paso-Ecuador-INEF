function nI(){import.meta.url,import("_").catch(()=>1),(async function*(){})().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function gw(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Vd={exports:{}},co={};var J0;function yw(){if(J0)return co;J0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return co.Fragment=e,co.jsx=i,co.jsxs=i,co}var W0;function vw(){return W0||(W0=1,Vd.exports=yw()),Vd.exports}var m=vw(),kd={exports:{}},Se={};var ev;function _w(){if(ev)return Se;ev=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,L={};function X(k,Z,le){this.props=k,this.context=Z,this.refs=L,this.updater=le||z}X.prototype.isReactComponent={},X.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},X.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ae(){}ae.prototype=X.prototype;function W(k,Z,le){this.props=k,this.context=Z,this.refs=L,this.updater=le||z}var ue=W.prototype=new ae;ue.constructor=W,Q(ue,X.prototype),ue.isPureReactComponent=!0;var pe=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(k,Z,le){var ie=le.ref;return{$$typeof:a,type:k,key:Z,ref:ie!==void 0?ie:null,props:le}}function V(k,Z){return D(k.type,Z,k.props)}function w(k){return typeof k=="object"&&k!==null&&k.$$typeof===a}function C(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return Z[le]})}var A=/\/+/g;function we(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?C(""+k.key):Z.toString(36)}function Ue(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ye,ye):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Y(k,Z,le,ie,me){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(be){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case a:case e:Ne=!0;break;case b:return Ne=k._init,Y(Ne(k._payload),Z,le,ie,me)}}if(Ne)return me=me(k),Ne=ie===""?"."+we(k,0):ie,pe(me)?(le="",Ne!=null&&(le=Ne.replace(A,"$&/")+"/"),Y(me,Z,le,"",function(An){return An})):me!=null&&(w(me)&&(me=V(me,le+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(A,"$&/")+"/")+Ne)),Z.push(me)),1;Ne=0;var he=ie===""?".":ie+":";if(pe(k))for(var He=0;He<k.length;He++)ie=k[He],be=he+we(ie,He),Ne+=Y(ie,Z,le,be,me);else if(He=O(k),typeof He=="function")for(k=He.call(k),He=0;!(ie=k.next()).done;)ie=ie.value,be=he+we(ie,He++),Ne+=Y(ie,Z,le,be,me);else if(be==="object"){if(typeof k.then=="function")return Y(Ue(k),Z,le,ie,me);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function re(k,Z,le){if(k==null)return k;var ie=[],me=0;return Y(k,ie,"","",function(be){return Z.call(le,be,me++)}),ie}function ge(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var Ie=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ze={map:re,forEach:function(k,Z,le){re(k,function(){Z.apply(this,arguments)},le)},count:function(k){var Z=0;return re(k,function(){Z++}),Z},toArray:function(k){return re(k,function(Z){return Z})||[]},only:function(k){if(!w(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=E,Se.Children=ze,Se.Component=X,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=W,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,Z,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=Q({},k.props),me=k.key;if(Z!=null)for(be in Z.key!==void 0&&(me=""+Z.key),Z)!R.call(Z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Z.ref===void 0||(ie[be]=Z[be]);var be=arguments.length-2;if(be===1)ie.children=le;else if(1<be){for(var Ne=Array(be),he=0;he<be;he++)Ne[he]=arguments[he+2];ie.children=Ne}return D(k.type,me,ie)},Se.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Se.createElement=function(k,Z,le){var ie,me={},be=null;if(Z!=null)for(ie in Z.key!==void 0&&(be=""+Z.key),Z)R.call(Z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=Z[ie]);var Ne=arguments.length-2;if(Ne===1)me.children=le;else if(1<Ne){for(var he=Array(Ne),He=0;He<Ne;He++)he[He]=arguments[He+2];me.children=he}if(k&&k.defaultProps)for(ie in Ne=k.defaultProps,Ne)me[ie]===void 0&&(me[ie]=Ne[ie]);return D(k,be,me)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:p,render:k}},Se.isValidElement=w,Se.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:ge}},Se.memo=function(k,Z){return{$$typeof:y,type:k,compare:Z===void 0?null:Z}},Se.startTransition=function(k){var Z=I.T,le={};I.T=le;try{var ie=k(),me=I.S;me!==null&&me(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ye,Ie)}catch(be){Ie(be)}finally{Z!==null&&le.types!==null&&(Z.types=le.types),I.T=Z}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(k){return I.H.use(k)},Se.useActionState=function(k,Z,le){return I.H.useActionState(k,Z,le)},Se.useCallback=function(k,Z){return I.H.useCallback(k,Z)},Se.useContext=function(k){return I.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,Z){return I.H.useDeferredValue(k,Z)},Se.useEffect=function(k,Z){return I.H.useEffect(k,Z)},Se.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(k,Z,le){return I.H.useImperativeHandle(k,Z,le)},Se.useInsertionEffect=function(k,Z){return I.H.useInsertionEffect(k,Z)},Se.useLayoutEffect=function(k,Z){return I.H.useLayoutEffect(k,Z)},Se.useMemo=function(k,Z){return I.H.useMemo(k,Z)},Se.useOptimistic=function(k,Z){return I.H.useOptimistic(k,Z)},Se.useReducer=function(k,Z,le){return I.H.useReducer(k,Z,le)},Se.useRef=function(k){return I.H.useRef(k)},Se.useState=function(k){return I.H.useState(k)},Se.useSyncExternalStore=function(k,Z,le){return I.H.useSyncExternalStore(k,Z,le)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.1",Se}var tv;function Vm(){return tv||(tv=1,kd.exports=_w()),kd.exports}var U=Vm();const bw=gw(U);var Md={exports:{}},ho={},Ld={exports:{}},Ud={};var nv;function xw(){return nv||(nv=1,(function(a){function e(Y,re){var ge=Y.length;Y.push(re);e:for(;0<ge;){var Ie=ge-1>>>1,ze=Y[Ie];if(0<o(ze,re))Y[Ie]=re,Y[ge]=ze,ge=Ie;else break e}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var re=Y[0],ge=Y.pop();if(ge!==re){Y[0]=ge;e:for(var Ie=0,ze=Y.length,k=ze>>>1;Ie<k;){var Z=2*(Ie+1)-1,le=Y[Z],ie=Z+1,me=Y[ie];if(0>o(le,ge))ie<ze&&0>o(me,le)?(Y[Ie]=me,Y[ie]=ge,Ie=ie):(Y[Ie]=le,Y[Z]=ge,Ie=Z);else if(ie<ze&&0>o(me,ge))Y[Ie]=me,Y[ie]=ge,Ie=ie;else break e}}return re}function o(Y,re){var ge=Y.sortIndex-re.sortIndex;return ge!==0?ge:Y.id-re.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var g=[],y=[],b=1,E=null,S=3,O=!1,z=!1,Q=!1,L=!1,X=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ue(Y){for(var re=i(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=Y)s(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=i(y)}}function pe(Y){if(Q=!1,ue(Y),!z)if(i(g)!==null)z=!0,ye||(ye=!0,C());else{var re=i(y);re!==null&&Ue(pe,re.startTime-Y)}}var ye=!1,I=-1,R=5,D=-1;function V(){return L?!0:!(a.unstable_now()-D<R)}function w(){if(L=!1,ye){var Y=a.unstable_now();D=Y;var re=!0;try{e:{z=!1,Q&&(Q=!1,ae(I),I=-1),O=!0;var ge=S;try{t:{for(ue(Y),E=i(g);E!==null&&!(E.expirationTime>Y&&V());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,S=E.priorityLevel;var ze=Ie(E.expirationTime<=Y);if(Y=a.unstable_now(),typeof ze=="function"){E.callback=ze,ue(Y),re=!0;break t}E===i(g)&&s(g),ue(Y)}else s(g);E=i(g)}if(E!==null)re=!0;else{var k=i(y);k!==null&&Ue(pe,k.startTime-Y),re=!1}}break e}finally{E=null,S=ge,O=!1}re=void 0}}finally{re?C():ye=!1}}}var C;if(typeof W=="function")C=function(){W(w)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,we=A.port2;A.port1.onmessage=w,C=function(){we.postMessage(null)}}else C=function(){X(w,0)};function Ue(Y,re){I=X(function(){Y(a.unstable_now())},re)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var ge=S;S=re;try{return Y()}finally{S=ge}},a.unstable_requestPaint=function(){L=!0},a.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=S;S=Y;try{return re()}finally{S=ge}},a.unstable_scheduleCallback=function(Y,re,ge){var Ie=a.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ie+ge:Ie):ge=Ie,Y){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ge+ze,Y={id:b++,callback:re,priorityLevel:Y,startTime:ge,expirationTime:ze,sortIndex:-1},ge>Ie?(Y.sortIndex=ge,e(y,Y),i(g)===null&&Y===i(y)&&(Q?(ae(I),I=-1):Q=!0,Ue(pe,ge-Ie))):(Y.sortIndex=ze,e(g,Y),z||O||(z=!0,ye||(ye=!0,C()))),Y},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(Y){var re=S;return function(){var ge=S;S=re;try{return Y.apply(this,arguments)}finally{S=ge}}}})(Ud)),Ud}var iv;function Ew(){return iv||(iv=1,Ld.exports=xw()),Ld.exports}var Pd={exports:{}},Xt={};var av;function ww(){if(av)return Xt;av=1;var a=Vm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Xt.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},Xt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Xt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:O}):b==="script"&&s.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Xt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Xt.requestFormReset=function(g){s.d.r(g)},Xt.unstable_batchedUpdates=function(g,y){return g(y)},Xt.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.1",Xt}var sv;function Tw(){if(sv)return Pd.exports;sv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Pd.exports=ww(),Pd.exports}var rv;function Sw(){if(rv)return ho;rv=1;var a=Ew(),e=Vm(),i=Tw();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return g(h),t;if(d===l)return g(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===r){_=!0,r=h,l=d;break}if(T===l){_=!0,l=h,r=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===r){_=!0,r=d,l=h;break}if(T===l){_=!0,l=d,r=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case X:return"Profiler";case L:return"StrictMode";case pe:return"Suspense";case ye:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case W:return t.displayName||"Context";case ae:return(t._context.displayName||"Context")+".Consumer";case ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:we(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return we(t(n))}catch(r){}}return null}var Ue=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ie=[],ze=-1;function k(t){return{current:t}}function Z(t){0>ze||(t.current=Ie[ze],Ie[ze]=null,ze--)}function le(t,n){ze++,Ie[ze]=t.current,t.current=n}var ie=k(null),me=k(null),be=k(null),Ne=k(null);function he(t,n){switch(le(be,n),le(me,t),le(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?x0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=x0(n),t=E0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ie),le(ie,t)}function He(){Z(ie),Z(me),Z(be)}function An(t){t.memoizedState!==null&&le(Ne,t);var n=ie.current,r=E0(n,t.type);n!==r&&(le(me,t),le(ie,r))}function oi(t){me.current===t&&(Z(ie),Z(me)),Ne.current===t&&(Z(Ne),ro._currentValue=ge)}var pa,ga;function xt(t){if(pa===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);pa=n&&n[1]||"",ga=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+pa+t+ga}var Nn=!1;function ui(t,n){if(!t||Nn)return"";Nn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var F=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){F=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){F=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var j=_.split("\n"),H=T.split("\n");for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===H.length)for(l=j.length-1,h=H.length-1;1<=l&&0<=h&&j[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==H[h]){var $="\n"+j[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Nn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?xt(r):""}function ya(t,n){switch(t.tag){case 26:case 27:case 5:return xt(t.type);case 16:return xt("Lazy");case 13:return t.child!==n&&n!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return ui(t.type,!1);case 11:return ui(t.type.render,!1);case 1:return ui(t.type,!0);case 31:return xt("Activity");default:return""}}function ol(t){try{var n="",r=null;do n+=ya(t,r),r=t,t=t.return;while(t);return n}catch(l){return"\nError generating stack: "+l.message+"\n"+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=a.unstable_scheduleCallback,va=a.unstable_cancelCallback,kh=a.unstable_shouldYield,Xo=a.unstable_requestPaint,tn=a.unstable_now,ms=a.unstable_getCurrentPriorityLevel,ul=a.unstable_ImmediatePriority,cl=a.unstable_UserBlockingPriority,_a=a.unstable_NormalPriority,Mh=a.unstable_LowPriority,Zo=a.unstable_IdlePriority,Jo=a.log,Wo=a.unstable_setDisableYieldValue,Gn=null,Bt=null;function Rn(t){if(typeof Jo=="function"&&Wo(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,t)}catch(n){}}var gt=Math.clz32?Math.clz32:tu,eu=Math.log,er=Math.LN2;function tu(t){return t>>>=0,t===0?32:31-(eu(t)/er|0)|0}var ci=256,ps=262144,wt=4194304;function hi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=hi(l):(_&=T,_!==0?h=hi(_):r||(r=T&~t,r!==0&&(h=hi(r))))):(T=l&~d,T!==0?h=hi(T):_!==0?h=hi(_):r||(r=l&~t,r!==0&&(h=hi(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Qn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function di(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function gs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uh(t,n,r,l,h,d){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,j=t.expirationTimes,H=t.hiddenUpdates;for(r=_&~r;0<r;){var $=31-gt(r),te=1<<$;T[$]=0,j[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}r&=~te}l!==0&&ys(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function ys(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-gt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function hl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-gt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function fl(t,n){var r=n&-n;return r=(r&42)!==0?1:vs(r),(r&(t.suspendedLanes|n))!==0?0:r}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function iu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:G0(t.type))}function Kn(t,n){var r=re.p;try{return re.p=t,n()}finally{re.p=r}}var Yn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Yn,Lt="__reactProps$"+Yn,mi="__reactContainer$"+Yn,tr="__reactEvents$"+Yn,Ph="__reactListeners$"+Yn,au="__reactHandles$"+Yn,su="__reactResources$"+Yn,pi="__reactMarker$"+Yn;function nr(t){delete t[Tt],delete t[Lt],delete t[tr],delete t[Ph],delete t[au]}function gi(t){var n=t[Tt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mi]||r[Tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=C0(t);t!==null;){if(r=t[Tt])return r;t=C0(t)}return n}t=r,r=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[mi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function yi(t){var n=t[su];return n||(n=t[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(t){t[pi]=!0}var dl=new Set,ml={};function vi(t,n){_i(t,n),_i(t+"Capture",n)}function _i(t,n){for(ml[t]=n,t=0;t<n.length;t++)dl.add(n[t])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},yl={};function ru(t){return Et.call(yl,t)?!0:Et.call(gl,t)?!1:pl.test(t)?yl[t]=!0:(gl[t]=!0,!1)}function ir(t,n,r){if(ru(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function yn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function At(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ba(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $e(t){if(!t._valueTracker){var n=ba(t)?"checked":"value";t._valueTracker=vl(t,n,""+t[n])}}function _s(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ba(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(n){return t.body}}var bs=/[\n"\\]/g;function sn(t){return t.replace(bs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ar(t,n,r,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?_l(t,_,Ut(n)):r!=null?_l(t,_,Ut(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function lu(t,n,r,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){$e(t);return}r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l!=null?l:h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function _l(t,n,r){n==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xa(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ou(t,n,r){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ut(r):""}function Ea(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ut(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),$e(t)}function rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||uu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function xl(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&bl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&bl(t,d,n[d])}function sr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(t){return wa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var El=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ta=null,xi=null;function xs(t){var n=Cn(t);if(n&&(t=n.stateNode)){var r=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ar(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ar(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&_s(l)}break e;case"textarea":ou(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&xa(t,!!r.multiple,n,!1)}}}var lr=!1;function Sa(t,n,r){if(lr)return t(n,r);lr=!0;try{var l=t(n);return l}finally{if(lr=!1,(Ta!==null||xi!==null)&&(ic(),Ta&&(n=Ta,t=xi,xi=Ta=null,xs(n),t)))for(n=0;n<t.length;n++)xs(t[n])}}function Xn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Lt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch(t){Es=!1}var Ei=null,wl=null,ws=null;function Tl(){if(ws)return ws;var t,n=wl,r=n.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===h[d-l];l++);return ws=h.slice(t,1<l?1-l:void 0)}function Ts(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Zn(){return!1}function qt(t){function n(r,l,h,d,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Zn,this.isPropagationStopped=Zn,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=qt(qi),Aa=E({},qi,{view:0,detail:0}),Sl=qt(Aa),Na,or,Ti,ur=E({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Na=t.screenX-Ti.screenX,or=t.screenY-Ti.screenY):or=Na=0,Ti=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:or}}),Al=qt(ur),Ss=E({},ur,{dataTransfer:0}),hu=qt(Ss),fu=E({},Aa,{relatedTarget:0}),As=qt(fu),Nl=E({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=qt(Nl),cr=E({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mu=qt(cr),pu=E({},qi,{data:0}),Si=qt(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vu[t])?!!n[t]:!1}function Ra(){return _u}var nn=E({},Aa,{key:function(t){if(t.key){var n=gu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bu=qt(nn),xu=E({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=qt(xu),c=E({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),v=qt(c),x=E({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=qt(x),B=E({},ur,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(B),se=E({},qi,{newState:0,oldState:0}),Re=qt(se),yt=[9,13,27,32],Qe=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var jn=In&&"TextEvent"in window&&!ot,Ai=In&&(!Qe||ot&&8<ot&&11>=ot),Jn=" ",Wn=!1;function Ns(t,n){switch(t){case"keyup":return yt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function z1(t,n){switch(t){case"compositionend":return hr(n);case"keypress":return n.which!==32?null:(Wn=!0,Jn);case"textInput":return t=n.data,t===Jn&&Wn?null:t;default:return null}}function B1(t,n){if(fr)return t==="compositionend"||!Qe&&Ns(t,n)?(t=Tl(),ws=wl=Ei=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!q1[t.type]:n==="textarea"}function Op(t,n,r,l){Ta?xi?xi.push(l):xi=[l]:Ta=l,n=cc(n,"onChange"),0<n.length&&(r=new wi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Rl=null,Cl=null;function H1(t){p0(t,0)}function Eu(t){var n=gn(t);if(_s(n))return t}function Vp(t,n){if(t==="change")return n}var kp=!1;if(In){var zh;if(In){var Bh="oninput"in document;if(!Bh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Bh=typeof Mp.oninput=="function"}zh=Bh}else zh=!1;kp=zh&&(!document.documentMode||9<document.documentMode)}function Lp(){Rl&&(Rl.detachEvent("onpropertychange",Up),Cl=Rl=null)}function Up(t){if(t.propertyName==="value"&&Eu(Cl)){var n=[];Op(n,Cl,t,Dn(t)),Sa(H1,n)}}function F1(t,n,r){t==="focusin"?(Lp(),Rl=n,Cl=r,Rl.attachEvent("onpropertychange",Up)):t==="focusout"&&Lp()}function G1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(Cl)}function Q1(t,n){if(t==="click")return Eu(n)}function K1(t,n){if(t==="input"||t==="change")return Eu(n)}function Y1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var vn=typeof Object.is=="function"?Object.is:Y1;function Dl(t,n){if(vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Et.call(n,h)||!vn(t[h],n[h]))return!1}return!0}function Pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zp(t,n){var r=Pp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pp(r)}}function Bp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=bi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch(l){r=!1}if(r)t=n.contentWindow;else break;n=bi(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var $1=In&&"documentMode"in document&&11>=document.documentMode,dr=null,Hh=null,Il=null,Fh=!1;function Hp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fh||dr==null||dr!==bi(l)||(l=dr,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&Dl(Il,l)||(Il=l,l=cc(Hh,"onSelect"),0<l.length&&(n=new wi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=dr)))}function Rs(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var mr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Gh={},Fp={};In&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Cs(t){if(Gh[t])return Gh[t];if(!mr[t])return t;var n=mr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Fp)return Gh[t]=n[r];return t}var Gp=Cs("animationend"),Qp=Cs("animationiteration"),Kp=Cs("animationstart"),X1=Cs("transitionrun"),Z1=Cs("transitionstart"),J1=Cs("transitioncancel"),Yp=Cs("transitionend"),$p=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ei(t,n){$p.set(t,n),vi(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],pr=0,Kh=0;function Tu(){for(var t=pr,n=Kh=pr=0;n<t;){var r=On[n];On[n++]=null;var l=On[n];On[n++]=null;var h=On[n];On[n++]=null;var d=On[n];if(On[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Xp(r,h,d)}}function Su(t,n,r,l){On[pr++]=t,On[pr++]=n,On[pr++]=r,On[pr++]=l,Kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,n,r,l){return Su(t,n,r,l),Au(t)}function Ds(t,n){return Su(t,null,null,n),Au(t)}function Xp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-gt(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function Au(t){if(50<Wl)throw Wl=0,ad=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var gr={};function W1(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,r,l){return new W1(t,n,r,l)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var r=t.alternate;return r===null?(r=_n(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Zp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,r,l,h,d){var _=0;if(l=t,typeof t=="function")$h(t)&&(_=1);else if(typeof t=="string")_=aw(t,r,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=_n(31,r,n,h),t.elementType=D,t.lanes=d,t;case Q:return Is(r.children,h,d,n);case L:_=8,h|=24;break;case X:return t=_n(12,r,n,h|2),t.elementType=X,t.lanes=d,t;case pe:return t=_n(13,r,n,h),t.elementType=pe,t.lanes=d,t;case ye:return t=_n(19,r,n,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:_=10;break e;case ae:_=9;break e;case ue:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=_n(_,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Is(t,n,r,l){return t=_n(7,t,l,n),t.lanes=r,t}function Xh(t,n,r){return t=_n(6,t,null,n),t.lanes=r,t}function Jp(t){var n=_n(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,r){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wp=new WeakMap;function Vn(t,n){if(typeof t=="object"&&t!==null){var r=Wp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ol(n)},Wp.set(t,n),n)}return{value:t,source:n,stack:ol(n)}}var yr=[],vr=0,Ru=null,jl=0,kn=[],Mn=0,Ca=null,Ni=1,Ri="";function Gi(t,n){yr[vr++]=jl,yr[vr++]=Ru,Ru=t,jl=n}function eg(t,n,r){kn[Mn++]=Ni,kn[Mn++]=Ri,kn[Mn++]=Ca,Ca=t;var l=Ni;t=Ri;var h=32-gt(l)-1;l&=~(1<<h),r+=1;var d=32-gt(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-gt(n)+h|r<<h|l,Ri=d+t}else Ni=1<<d|r<<h|l,Ri=t}function Jh(t){t.return!==null&&(Gi(t,1),eg(t,1,0))}function Wh(t){for(;t===Ru;)Ru=yr[--vr],yr[vr]=null,jl=yr[--vr],yr[vr]=null;for(;t===Ca;)Ca=kn[--Mn],kn[Mn]=null,Ri=kn[--Mn],kn[Mn]=null,Ni=kn[--Mn],kn[Mn]=null}function tg(t,n){kn[Mn++]=Ni,kn[Mn++]=Ri,kn[Mn++]=Ca,Ni=n.id,Ri=n.overflow,Ca=t}var Ht=null,at=null,Pe=!1,Da=null,Ln=!1,ef=Error(s(519));function Ia(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Vn(n,t)),ef}function ng(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Tt]=t,n[Lt]=l,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(r=0;r<to.length;r++)Oe(to[r],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),lu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),Ea(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||_0(n.textContent,r)?(l.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),l.onScroll!=null&&Oe("scroll",n),l.onScrollEnd!=null&&Oe("scrollend",n),l.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||Ia(t,!0)}function ig(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ht=Ht.return}}function _r(t){if(t!==Ht)return!1;if(!Pe)return ig(t),Pe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_d(t.type,t.memoizedProps)),r=!r),r&&at&&Ia(t),ig(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=R0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=R0(t)}else n===27?(n=at,Ga(t.type)?(t=Td,Td=null,at=t):at=n):at=Ht?Pn(t.stateNode.nextSibling):null;return!0}function js(){at=Ht=null,Pe=!1}function tf(){var t=Da;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Da=null),t}function Ol(t){Da===null?Da=[t]:Da.push(t)}var nf=k(null),Os=null,Qi=null;function ja(t,n,r){le(nf,n._currentValue),n._currentValue=r}function Ki(t){t._currentValue=nf.current,Z(nf)}function af(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function sf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var j=0;j<n.length;j++)if(T.context===n[j]){d.lanes|=r,T=d.alternate,T!==null&&(T.lanes|=r),af(d.return,r,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,d=_.alternate,d!==null&&(d.lanes|=r),af(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function br(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ne.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ro):t=[ro])}h=h.return}t!==null&&sf(n,t,r,l),n.flags|=262144}function Cu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Os=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return ag(Os,t)}function Du(t,n){return Os===null&&Vs(t),ag(t,n)}function ag(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Qi=Qi.next=n;return r}var eE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},tE=a.unstable_scheduleCallback,nE=a.unstable_NormalPriority,Nt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new eE,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&tE(nE,function(){t.controller.abort()})}var kl=null,lf=0,xr=0,Er=null;function iE(t,n){if(kl===null){var r=kl=[];lf=0,xr=cd(),Er={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lf++,n.then(sg,sg),n}function sg(){if(--lf===0&&kl!==null){Er!==null&&(Er.status="fulfilled");var t=kl;kl=null,xr=0,Er=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function aE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var rg=Y.S;Y.S=function(t,n){Hy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&iE(t,n),rg!==null&&rg(t,n)};var ks=k(null);function of(){var t=ks.current;return t!==null?t:nt.pooledCache}function Iu(t,n){n===null?le(ks,ks.current):le(ks,n.pool)}function lg(){var t=of();return t===null?null:{parent:Nt._currentValue,pool:t}}var wr=Error(s(460)),uf=Error(s(474)),ju=Error(s(542)),Ou={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ug(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then($n,$n),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hg(t),t;default:if(typeof n.status=="string")n.then($n,$n);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hg(t),t}throw Ls=n,wr}}function Ms(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ls=r,wr):r}}var Ls=null;function cg(){if(Ls===null)throw Error(s(459));var t=Ls;return Ls=null,t}function hg(t){if(t===wr||t===ju)throw Error(s(483))}var Tr=null,Ml=0;function Vu(t){var n=Ml;return Ml+=1,Tr===null&&(Tr=[]),ug(Tr,t,n)}function Ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){function n(P,M){if(t){var q=P.deletions;q===null?(P.deletions=[M],P.flags|=16):q.push(M)}}function r(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Fi(P,M),P.index=0,P.sibling=null,P}function d(P,M,q){return P.index=q,t?(q=P.alternate,q!==null?(q=q.index,q<M?(P.flags|=67108866,M):q):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,q,J){return M===null||M.tag!==6?(M=Xh(q,P.mode,J),M.return=P,M):(M=h(M,q),M.return=P,M)}function j(P,M,q,J){var ve=q.type;return ve===Q?$(P,M,q.props.children,J,q.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&Ms(ve)===M.type)?(M=h(M,q.props),Ll(M,q),M.return=P,M):(M=Nu(q.type,q.key,q.props,null,P.mode,J),Ll(M,q),M.return=P,M)}function H(P,M,q,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Zh(q,P.mode,J),M.return=P,M):(M=h(M,q.children||[]),M.return=P,M)}function $(P,M,q,J,ve){return M===null||M.tag!==7?(M=Is(q,P.mode,J,ve),M.return=P,M):(M=h(M,q),M.return=P,M)}function te(P,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Xh(""+M,P.mode,q),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return q=Nu(M.type,M.key,M.props,null,P.mode,q),Ll(q,M),q.return=P,q;case z:return M=Zh(M,P.mode,q),M.return=P,M;case R:return M=Ms(M),te(P,M,q)}if(Ue(M)||C(M))return M=Is(M,P.mode,q,null),M.return=P,M;if(typeof M.then=="function")return te(P,Vu(M),q);if(M.$$typeof===W)return te(P,Du(P,M),q);ku(P,M)}return null}function F(P,M,q,J){var ve=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:T(P,M,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===ve?j(P,M,q,J):null;case z:return q.key===ve?H(P,M,q,J):null;case R:return q=Ms(q),F(P,M,q,J)}if(Ue(q)||C(q))return ve!==null?null:$(P,M,q,J,null);if(typeof q.then=="function")return F(P,M,Vu(q),J);if(q.$$typeof===W)return F(P,M,Du(P,q),J);ku(P,q)}return null}function K(P,M,q,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(q)||null,T(M,P,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return P=P.get(J.key===null?q:J.key)||null,j(M,P,J,ve);case z:return P=P.get(J.key===null?q:J.key)||null,H(M,P,J,ve);case R:return J=Ms(J),K(P,M,q,J,ve)}if(Ue(J)||C(J))return P=P.get(q)||null,$(M,P,J,ve,null);if(typeof J.then=="function")return K(P,M,q,Vu(J),ve);if(J.$$typeof===W)return K(P,M,q,Du(M,J),ve);ku(M,J)}return null}function fe(P,M,q,J){for(var ve=null,Fe=null,de=M,De=M=0,ke=null;de!==null&&De<q.length;De++){de.index>De?(ke=de,de=null):ke=de.sibling;var Ge=F(P,de,q[De],J);if(Ge===null){de===null&&(de=ke);break}t&&de&&Ge.alternate===null&&n(P,de),M=d(Ge,M,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge,de=ke}if(De===q.length)return r(P,de),Pe&&Gi(P,De),ve;if(de===null){for(;De<q.length;De++)de=te(P,q[De],J),de!==null&&(M=d(de,M,De),Fe===null?ve=de:Fe.sibling=de,Fe=de);return Pe&&Gi(P,De),ve}for(de=l(de);De<q.length;De++)ke=K(de,P,De,q[De],J),ke!==null&&(t&&ke.alternate!==null&&de.delete(ke.key===null?De:ke.key),M=d(ke,M,De),Fe===null?ve=ke:Fe.sibling=ke,Fe=ke);return t&&de.forEach(function(Xa){return n(P,Xa)}),Pe&&Gi(P,De),ve}function xe(P,M,q,J){if(q==null)throw Error(s(151));for(var ve=null,Fe=null,de=M,De=M=0,ke=null,Ge=q.next();de!==null&&!Ge.done;De++,Ge=q.next()){de.index>De?(ke=de,de=null):ke=de.sibling;var Xa=F(P,de,Ge.value,J);if(Xa===null){de===null&&(de=ke);break}t&&de&&Xa.alternate===null&&n(P,de),M=d(Xa,M,De),Fe===null?ve=Xa:Fe.sibling=Xa,Fe=Xa,de=ke}if(Ge.done)return r(P,de),Pe&&Gi(P,De),ve;if(de===null){for(;!Ge.done;De++,Ge=q.next())Ge=te(P,Ge.value,J),Ge!==null&&(M=d(Ge,M,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return Pe&&Gi(P,De),ve}for(de=l(de);!Ge.done;De++,Ge=q.next())Ge=K(de,P,De,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&de.delete(Ge.key===null?De:Ge.key),M=d(Ge,M,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return t&&de.forEach(function(pw){return n(P,pw)}),Pe&&Gi(P,De),ve}function tt(P,M,q,J){if(typeof q=="object"&&q!==null&&q.type===Q&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var ve=q.key;M!==null;){if(M.key===ve){if(ve=q.type,ve===Q){if(M.tag===7){r(P,M.sibling),J=h(M,q.props.children),J.return=P,P=J;break e}}else if(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===R&&Ms(ve)===M.type){r(P,M.sibling),J=h(M,q.props),Ll(J,q),J.return=P,P=J;break e}r(P,M);break}else n(P,M);M=M.sibling}q.type===Q?(J=Is(q.props.children,P.mode,J,q.key),J.return=P,P=J):(J=Nu(q.type,q.key,q.props,null,P.mode,J),Ll(J,q),J.return=P,P=J)}return _(P);case z:e:{for(ve=q.key;M!==null;){if(M.key===ve)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){r(P,M.sibling),J=h(M,q.children||[]),J.return=P,P=J;break e}else{r(P,M);break}else n(P,M);M=M.sibling}J=Zh(q,P.mode,J),J.return=P,P=J}return _(P);case R:return q=Ms(q),tt(P,M,q,J)}if(Ue(q))return fe(P,M,q,J);if(C(q)){if(ve=C(q),typeof ve!="function")throw Error(s(150));return q=ve.call(q),xe(P,M,q,J)}if(typeof q.then=="function")return tt(P,M,Vu(q),J);if(q.$$typeof===W)return tt(P,M,Du(P,q),J);ku(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(r(P,M.sibling),J=h(M,q),J.return=P,P=J):(r(P,M),J=Xh(q,P.mode,J),J.return=P,P=J),_(P)):r(P,M)}return function(P,M,q,J){try{Ml=0;var ve=tt(P,M,q,J);return Tr=null,ve}catch(de){if(de===wr||de===ju)throw de;var Fe=_n(29,de,null,P.mode);return Fe.lanes=J,Fe.return=P,Fe}finally{}}}var Us=fg(!0),dg=fg(!1),Oa=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Va(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ka(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Au(t),Xp(t,null,r),n}return Su(t,l,n,r),Au(t)}function Ul(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,hl(t,r)}}function ff(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function Pl(){if(df){var t=Er;if(t!==null)throw t}}function zl(t,n,r,l){df=!1;var h=t.updateQueue;Oa=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var j=T,H=j.next;j.next=null,_===null?d=H:_.next=H,_=j;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=H:T.next=H,$.lastBaseUpdate=j))}if(d!==null){var te=h.baseState;_=0,$=H=j=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(Ve&F)===F:(l&F)===F){F!==0&&F===xr&&(df=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,xe=T;F=n;var tt=r;switch(xe.tag){case 1:if(fe=xe.payload,typeof fe=="function"){te=fe.call(tt,te,F);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=xe.payload,F=typeof fe=="function"?fe.call(tt,te,F):fe,F==null)break e;te=E({},te,F);break e;case 2:Oa=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(H=$=K,j=te):$=$.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(j=te),h.baseState=j,h.firstBaseUpdate=H,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),za|=_,t.lanes=_,t.memoizedState=te}}function mg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function pg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)mg(r[t],n)}var Sr=k(null),Mu=k(0);function gg(t,n){t=na,le(Mu,t),le(Sr,n),na=t|n.baseLanes}function mf(){le(Mu,na),le(Sr,Sr.current)}function pf(){na=Mu.current,Z(Sr),Z(Mu)}var bn=k(null),Un=null;function Ma(t){var n=t.alternate;le(vt,vt.current&1),le(bn,t),Un===null&&(n===null||Sr.current!==null||n.memoizedState!==null)&&(Un=t)}function gf(t){le(vt,vt.current),le(bn,t),Un===null&&(Un=t)}function yg(t){t.tag===22?(le(vt,vt.current),le(bn,t),Un===null&&(Un=t)):La()}function La(){le(vt,vt.current),le(bn,bn.current)}function xn(t){Z(bn),Un===t&&(Un=null),Z(vt)}var vt=k(0);function Lu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Ce=null,We=null,Rt=null,Uu=!1,Ar=!1,Ps=!1,Pu=0,Bl=0,Nr=null,sE=0;function dt(){throw Error(s(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!vn(t[r],n[r]))return!1;return!0}function vf(t,n,r,l,h,d){return Yi=d,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?ey:Of,Ps=!1,d=r(l,h),Ps=!1,Ar&&(d=_g(n,r,l,h)),vg(t),d}function vg(t){Y.H=Fl;var n=We!==null&&We.next!==null;if(Yi=0,Rt=We=Ce=null,Uu=!1,Bl=0,Nr=null,n)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&Cu(t)&&(Ct=!0))}function _g(t,n,r,l){Ce=t;var h=0;do{if(Ar&&(Nr=null),Bl=0,Ar=!1,25<=h)throw Error(s(301));if(h+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=ty,d=n(r,l)}while(Ar);return d}function rE(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?ql(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ce.flags|=1024),n}function _f(){var t=Pu!==0;return Pu=0,t}function bf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xf(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}Yi=0,Rt=We=Ce=null,Ar=!1,Bl=Pu=0,Nr=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ce.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(We===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=Rt===null?Ce.memoizedState:Rt.next;if(n!==null)Rt=n,We=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Ce.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(t){var n=Bl;return Bl+=1,Nr===null&&(Nr=[]),t=ug(Nr,t,n),n=Ce,(Rt===null?n.memoizedState:Rt.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?ey:Of),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ql(t);if(t.$$typeof===W)return Ft(t)}throw Error(s(438,String(t)))}function Ef(t){var n=null,r=Ce.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),Ce.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function $i(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=_t();return wf(n,We,t)}function wf(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=_=null,j=null,H=n,$=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Ve&te)===te:(Yi&te)===te){var F=H.revertLane;if(F===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===xr&&($=!0);else if((Yi&F)===F){H=H.next,F===xr&&($=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(T=j=te,_=d):j=j.next=te,Ce.lanes|=F,za|=F;te=H.action,Ps&&r(d,te),d=H.hasEagerState?H.eagerState:r(d,te)}else F={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(T=j=F,_=d):j=j.next=F,Ce.lanes|=te,za|=te;H=H.next}while(H!==null&&H!==n);if(j===null?_=d:j.next=T,!vn(d,t.memoizedState)&&(Ct=!0,$&&(r=Er,r!==null)))throw r;t.memoizedState=d,t.baseState=_,t.baseQueue=j,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var n=_t(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);vn(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function bg(t,n,r){var l=Ce,h=_t(),d=Pe;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!vn((We||h).memoizedState,r);if(_&&(h.memoizedState=r,Ct=!0),h=h.queue,Nf(wg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Rr(9,{destroy:void 0},Eg.bind(null,l,h,r,n),null),nt===null)throw Error(s(349));d||(Yi&127)!==0||xg(l,n,r)}return r}function xg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ce.updateQueue,n===null?(n=zu(),Ce.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Eg(t,n,r,l){n.value=r,n.getSnapshot=l,Tg(n)&&Sg(t)}function wg(t,n,r){return r(function(){Tg(n)&&Sg(t)})}function Tg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!vn(t,r)}catch(l){return!0}}function Sg(t){var n=Ds(t,2);n!==null&&hn(n,t,2)}function Sf(t){var n=an();if(typeof t=="function"){var r=t;if(t=r(),Ps){Rn(!0);try{r()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},n}function Ag(t,n,r,l){return t.baseState=r,wf(t,We,typeof l=="function"?l:$i)}function lE(t,n,r,l,h){if(Gu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,Ng(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Ng(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=Y.T,_={};Y.T=_;try{var T=r(h,l),j=Y.S;j!==null&&j(_,T),Rg(t,n,T)}catch(H){Af(t,n,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=r(h,l),Rg(t,n,d)}catch(H){Af(t,n,H)}}function Rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Cg(t,n,l)},function(l){return Af(t,n,l)}):Cg(t,n,r)}function Cg(t,n,r){n.status="fulfilled",n.value=r,Dg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ng(t,r)))}function Af(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Dg(n),n=n.next;while(n!==l)}t.action=null}function Dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function jg(t,n){if(Pe){var r=nt.formState;if(r!==null){e:{var l=Ce;if(Pe){if(at){t:{for(var h=at,d=Ln;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=Pn(h.nextSibling),l=h.data==="F!";break e}}Ia(l)}l=!1}l&&(n=r[0])}}return r=an(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},r.queue=l,r=Zg.bind(null,Ce,l),l.dispatch=r,l=Sf(!1),d=jf.bind(null,Ce,!1,l.queue),l=an(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=lE.bind(null,Ce,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Og(t){var n=_t();return Vg(n,We,t)}function Vg(t,n,r){if(n=wf(t,n,Ig)[0],t=qu($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ql(n)}catch(_){throw _===wr?ju:_}else l=n;n=_t();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Ce.flags|=2048,Rr(9,{destroy:void 0},oE.bind(null,h,r),null)),[l,d,t]}function oE(t,n){t.action=n}function kg(t){var n=_t(),r=We;if(r!==null)return Vg(n,r,t);_t(),n=n.memoizedState,r=_t();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Rr(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=zu(),Ce.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Mg(){return _t().memoizedState}function Hu(t,n,r,l){var h=an();Ce.flags|=t,h.memoizedState=Rr(1|n,{destroy:void 0},r,l===void 0?null:l)}function Fu(t,n,r,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&yf(l,We.memoizedState.deps)?h.memoizedState=Rr(n,d,r,l):(Ce.flags|=t,h.memoizedState=Rr(1|n,d,r,l))}function Lg(t,n){Hu(8390656,8,t,n)}function Nf(t,n){Fu(2048,8,t,n)}function uE(t){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=zu(),Ce.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ug(t){var n=_t().memoizedState;return uE({ref:n,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Pg(t,n){return Fu(4,2,t,n)}function zg(t,n){return Fu(4,4,t,n)}function Bg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qg(t,n,r){r=r!=null?r.concat([t]):null,Fu(4,4,Bg.bind(null,n,t),r)}function Rf(){}function Hg(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Fg(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=t(),Ps){Rn(!0);try{t()}finally{Rn(!1)}}return r.memoizedState=[l,n],l}function Cf(t,n,r){return r===void 0||(Yi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Gy(),Ce.lanes|=t,za|=t,r)}function Gg(t,n,r,l){return vn(r,n)?r:Sr.current!==null?(t=Cf(t,r,l),vn(t,n)||(Ct=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(Ve&261930)===0?(Ct=!0,t.memoizedState=r):(t=Gy(),Ce.lanes|=t,za|=t,n)}function Qg(t,n,r,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var _=Y.T,T={};Y.T=T,jf(t,!1,n,r);try{var j=h(),H=Y.S;if(H!==null&&H(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var $=aE(j,l);Hl(t,n,$,Tn(t))}else Hl(t,n,l,Tn(t))}catch(te){Hl(t,n,{then:function(){},status:"rejected",reason:te},Tn())}finally{re.p=d,_!==null&&T.types!==null&&(_.types=T.types),Y.T=_}}function cE(){}function Df(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Kg(t).queue;Qg(t,h,n,ge,r===null?cE:function(){return Yg(t),r(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ge},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Yg(t){var n=Kg(t);n.next===null&&(n=t.alternate.memoizedState),Hl(t,n.next.queue,{},Tn())}function If(){return Ft(ro)}function $g(){return _t().memoizedState}function Xg(){return _t().memoizedState}function hE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();t=Va(r);var l=ka(n,t,r);l!==null&&(hn(l,n,r),Ul(l,n,r)),n={cache:rf()},t.payload=n;return}n=n.return}}function fE(t,n,r){var l=Tn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Jg(n,r):(r=Yh(t,n,r,l),r!==null&&(hn(r,t,l),Wg(r,n,l)))}function Zg(t,n,r){var l=Tn();Hl(t,n,r,l)}function Hl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Jg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,r);if(h.hasEagerState=!0,h.eagerState=T,vn(T,_))return Su(t,n,h,0),nt===null&&Tu(),!1}catch(j){}finally{}if(r=Yh(t,n,h,l),r!==null)return hn(r,t,l),Wg(r,n,l),!0}return!1}function jf(t,n,r,l){if(l={lane:2,revertLane:cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(s(479))}else n=Yh(t,r,l,2),n!==null&&hn(n,t,2)}function Gu(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function Jg(t,n){Ar=Uu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Wg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,hl(t,r)}}var Fl={readContext:Ft,use:Bu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Fl.useEffectEvent=dt;var ey={readContext:Ft,use:Bu,useCallback:function(t,n){return an().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:Lg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Hu(4194308,4,Bg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var r=an();n=n===void 0?null:n;var l=t();if(Ps){Rn(!0);try{t()}finally{Rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=an();if(r!==void 0){var h=r(n);if(Ps){Rn(!0);try{r(n)}finally{Rn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=fE.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var n=an();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,r=Zg.bind(null,Ce,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=an();return Cf(r,t,n)},useTransition:function(){var t=Sf(!1);return t=Qg.bind(null,Ce,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ce,h=an();if(Pe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),nt===null)throw Error(s(349));(Ve&127)!==0||xg(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Lg(wg.bind(null,l,d,t),[t]),l.flags|=2048,Rr(9,{destroy:void 0},Eg.bind(null,l,d,r,n),null),r},useId:function(){var t=an(),n=nt.identifierPrefix;if(Pe){var r=Ri,l=Ni;r=(l&~(1<<32-gt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=sE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:jg,useActionState:jg,useOptimistic:function(t){var n=an();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,Ce,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return an().memoizedState=hE.bind(null,Ce)},useEffectEvent:function(t){var n=an(),r={impl:t};return n.memoizedState=r,function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Of={readContext:Ft,use:Bu,useCallback:Hg,useContext:Ft,useEffect:Nf,useImperativeHandle:qg,useInsertionEffect:Pg,useLayoutEffect:zg,useMemo:Fg,useReducer:qu,useRef:Mg,useState:function(){return qu($i)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=_t();return Gg(r,We.memoizedState,t,n)},useTransition:function(){var t=qu($i)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:ql(t),n]},useSyncExternalStore:bg,useId:$g,useHostTransitionStatus:If,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var r=_t();return Ag(r,We,t,n)},useMemoCache:Ef,useCacheRefresh:Xg};Of.useEffectEvent=Ug;var ty={readContext:Ft,use:Bu,useCallback:Hg,useContext:Ft,useEffect:Nf,useImperativeHandle:qg,useInsertionEffect:Pg,useLayoutEffect:zg,useMemo:Fg,useReducer:Tf,useRef:Mg,useState:function(){return Tf($i)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=_t();return We===null?Cf(r,t,n):Gg(r,We.memoizedState,t,n)},useTransition:function(){var t=Tf($i)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:ql(t),n]},useSyncExternalStore:bg,useId:$g,useHostTransitionStatus:If,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var r=_t();return We!==null?Ag(r,We,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Xg};ty.useEffectEvent=Ug;function Vf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Tn(),h=Va(l);h.payload=n,r!=null&&(h.callback=r),n=ka(t,h,l),n!==null&&(hn(n,t,l),Ul(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Tn(),h=Va(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ka(t,h,l),n!==null&&(hn(n,t,l),Ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Tn(),l=Va(r);l.tag=2,n!=null&&(l.callback=n),n=ka(t,l,r),n!==null&&(hn(n,t,r),Ul(n,t,r))}};function ny(t,n,r,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Dl(r,l)||!Dl(h,d):!0}function iy(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&kf.enqueueReplaceState(n,n.state,null)}function zs(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ay(t){wu(t)}function sy(t){console.error(t)}function ry(t){wu(t)}function Qu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,n,r){return r=Va(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(t,n)},r}function oy(t){return t=Va(t),t.tag=3,t}function uy(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ly(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ly(n,r,l),typeof h!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function dE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&br(n,r,h,!0),r=bn.current,r!==null){switch(r.tag){case 31:case 13:return Un===null?ac():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ld(t,l,h)),!1;case 22:return r.flags|=65536,l===Ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ld(t,l,h)),!1}throw Error(s(435,r.tag))}return ld(t,l,h),ac(),!1}if(Pe)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ef&&(t=Error(s(422),{cause:l}),Ol(Vn(t,r)))):(l!==ef&&(n=Error(s(423),{cause:l}),Ol(Vn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Vn(l,r),h=Mf(t.stateNode,l,h),ff(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,r),Jl===null?Jl=[d]:Jl.push(d),mt!==4&&(mt=2),n===null)return!0;l=Vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Mf(r.stateNode,l,t),ff(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ba===null||!Ba.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=oy(h),uy(h,t,r,l),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(s(461)),Ct=!1;function Gt(t,n,r,l){n.child=t===null?dg(n,null,r,l):Us(n,t.child,r,l)}function cy(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Vs(n),l=vf(t,n,r,_,d,h),T=_f(),t!==null&&!Ct?(bf(t,n,h),Xi(t,n,h)):(Pe&&T&&Jh(n),n.flags|=1,Gt(t,n,l,h),n.child)}function hy(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!$h(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,fy(t,n,d,l,h)):(t=Nu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Gf(t,h)){var _=d.memoizedProps;if(r=r.compare,r=r!==null?r:Dl,r(_,l)&&t.ref===n.ref)return Xi(t,n,h)}return n.flags|=1,t=Fi(d,l),t.ref=n.ref,t.return=n,n.child=t}function fy(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Dl(d,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=d,Gf(t,h))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,Xi(t,n,h)}return Uf(t,n,r,l,h)}function dy(t,n,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return my(t,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,d!==null?d.cachePool:null),d!==null?gg(n,d):mf(),yg(n);else return l=n.lanes=536870912,my(t,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Iu(n,d.cachePool),gg(n,d),La(),n.memoizedState=null):(t!==null&&Iu(n,null),mf(),La());return Gt(t,n,h,r),n.child}function Gl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(t,n,r,l,h){var d=of();return d=d===null?null:{parent:Nt._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Iu(n,null),mf(),yg(n),t!==null&&br(t,n,l,!0),n.childLanes=h,null}function Ku(t,n){return n=$u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function py(t,n,r){return Us(n,t.child,null,r),t=Ku(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function mE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Ku(n,l),n.lanes=536870912,Gl(null,t);if(gf(n),(t=at)?(t=N0(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ca!==null?{id:Ni,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=Jp(t),r.return=n,n.child=r,Ht=n,at=null)):t=null,t===null)throw Ia(n);return n.lanes=536870912,null}return Ku(n,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=py(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ct||br(t,n,r,!1),h=(r&t.childLanes)!==0,Ct||h){if(l=nt,l!==null&&(_=fl(l,r),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ds(t,_),hn(l,t,_),Lf;ac(),n=py(t,n,r)}else t=d.treeContext,at=Pn(_.nextSibling),Ht=n,Pe=!0,Da=null,Ln=!1,t!==null&&tg(n,t),n=Ku(n,l),n.flags|=4096;return n}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Yu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Uf(t,n,r,l,h){return Vs(n),r=vf(t,n,r,l,void 0,h),l=_f(),t!==null&&!Ct?(bf(t,n,h),Xi(t,n,h)):(Pe&&l&&Jh(n),n.flags|=1,Gt(t,n,r,h),n.child)}function gy(t,n,r,l,h,d){return Vs(n),n.updateQueue=null,r=_g(n,l,r,h),vg(t),l=_f(),t!==null&&!Ct?(bf(t,n,d),Xi(t,n,d)):(Pe&&l&&Jh(n),n.flags|=1,Gt(t,n,r,d),n.child)}function yy(t,n,r,l,h){if(Vs(n),n.stateNode===null){var d=gr,_=r.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},cf(n),_=r.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):gr,d.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Vf(n,r,_,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kf.enqueueReplaceState(d,d.state,null),zl(n,l,d,h),Pl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,j=zs(r,T);d.props=j;var H=d.context,$=r.contextType;_=gr,typeof $=="object"&&$!==null&&(_=Ft($));var te=r.getDerivedStateFromProps;$=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&iy(n,d,l,_),Oa=!1;var F=n.memoizedState;d.state=F,zl(n,l,d,h),Pl(),H=n.memoizedState,T||F!==H||Oa?(typeof te=="function"&&(Vf(n,r,te,l),H=n.memoizedState),(j=Oa||ny(n,r,j,l,F,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=_,l=j):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,hf(t,n),_=n.memoizedProps,$=zs(r,_),d.props=$,te=n.pendingProps,F=d.context,H=r.contextType,j=gr,typeof H=="object"&&H!==null&&(j=Ft(H)),T=r.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||F!==j)&&iy(n,d,l,j),Oa=!1,F=n.memoizedState,d.state=F,zl(n,l,d,h),Pl();var K=n.memoizedState;_!==te||F!==K||Oa||t!==null&&t.dependencies!==null&&Cu(t.dependencies)?(typeof T=="function"&&(Vf(n,r,T,l),K=n.memoizedState),($=Oa||ny(n,r,$,l,F,K,j)||t!==null&&t.dependencies!==null&&Cu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,j)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),d.props=l,d.state=K,d.context=j,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Yu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Us(n,t.child,null,h),n.child=Us(n,null,r,h)):Gt(t,n,r,h),n.memoizedState=d.state,t=n.child):t=Xi(t,n,h),t}function vy(t,n,r,l){return js(),n.flags|=256,Gt(t,n,r,l),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:lg()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function _y(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Ma(n):La(),(t=at)?(t=N0(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ca!==null?{id:Ni,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=Jp(t),r.return=n,n.child=r,Ht=n,at=null)):t=null,t===null)throw Ia(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(La(),h=n.mode,T=$u({mode:"hidden",children:T},h),l=Is(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=zf(r),l.childLanes=Bf(t,_,r),n.memoizedState=Pf,Gl(null,l)):(Ma(n),qf(n,T))}var j=t.memoizedState;if(j!==null&&(T=j.dehydrated,T!==null)){if(d)n.flags&256?(Ma(n),n.flags&=-257,n=Hf(t,n,r)):n.memoizedState!==null?(La(),n.child=t.child,n.flags|=128,n=null):(La(),T=l.fallback,h=n.mode,l=$u({mode:"visible",children:l.children},h),T=Is(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Us(n,t.child,null,r),l=n.child,l.memoizedState=zf(r),l.childLanes=Bf(t,_,r),n.memoizedState=Pf,n=Gl(null,l));else if(Ma(n),wd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Ol({value:l,source:null,stack:null}),n=Hf(t,n,r)}else if(Ct||br(t,n,r,!1),_=(r&t.childLanes)!==0,Ct||_){if(_=nt,_!==null&&(l=fl(_,r),l!==0&&l!==j.retryLane))throw j.retryLane=l,Ds(t,l),hn(_,t,l),Lf;Ed(T)||ac(),n=Hf(t,n,r)}else Ed(T)?(n.flags|=192,n.child=t.child,n=null):(t=j.treeContext,at=Pn(T.nextSibling),Ht=n,Pe=!0,Da=null,Ln=!1,t!==null&&tg(n,t),n=qf(n,l.children),n.flags|=4096);return n}return h?(La(),T=l.fallback,h=n.mode,j=t.child,H=j.sibling,l=Fi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,H!==null?T=Fi(H,T):(T=Is(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Gl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=zf(r):(h=T.cachePool,h!==null?(j=Nt._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=lg(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Bf(t,_,r),n.memoizedState=Pf,Gl(t.child,l)):(Ma(n),r=t.child,t=r.sibling,r=Fi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=_n(22,t,null,n),t.lanes=0,t}function Hf(t,n,r){return Us(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function by(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),af(t.return,n,r)}function Ff(t,n,r,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=d)}function xy(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,le(vt,_),Gt(t,n,l,r),l=Pe?jl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,r,n);else if(t.tag===19)by(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Lu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Ff(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Lu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Ff(n,!0,r,null,d,l);break;case"together":Ff(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),za|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(br(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Fi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Fi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Cu(t)))}function pE(t,n,r){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),ja(n,Nt,t.memoizedState.cache),js();break;case 27:case 5:An(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:ja(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ma(n),n.flags|=128,null):(r&n.child.childLanes)!==0?_y(t,n,r):(Ma(n),t=Xi(t,n,r),t!==null?t.sibling:null);Ma(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(br(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return xy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return n.lanes=0,dy(t,n,r,n.pendingProps);case 24:ja(n,Nt,t.memoizedState.cache)}return Xi(t,n,r)}function Ey(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!Gf(t,r)&&(n.flags&128)===0)return Ct=!1,pE(t,n,r);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(n.flags&1048576)!==0&&eg(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ms(n.elementType),n.type=t,typeof t=="function")$h(t)?(l=zs(t,l),n.tag=1,n=yy(null,n,t,l,r)):(n.tag=0,n=Uf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ue){n.tag=11,n=cy(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=hy(null,n,t,l,r);break e}}throw n=we(t)||t,Error(s(306,n,""))}}return n;case 0:return Uf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=zs(l,n.pendingProps),yy(t,n,l,h,r);case 3:e:{if(he(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,hf(t,n),zl(n,l,null,r);var _=n.memoizedState;if(l=_.cache,ja(n,Nt,l),l!==d.cache&&sf(n,[Nt],r,!0),Pl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=vy(t,n,l,r);break e}else if(l!==h){h=Vn(Error(s(424)),n),Ol(h),n=vy(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Pn(t.firstChild),Ht=n,Pe=!0,Da=null,Ln=!0,r=dg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(js(),l===h){n=Xi(t,n,r);break e}Gt(t,n,l,r)}n=n.child}return n;case 26:return Yu(t,n),t===null?(r=O0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pe||(r=n.type,t=n.pendingProps,l=hc(be.current).createElement(r),l[Tt]=n,l[Lt]=t,Qt(l,r,t),St(l),n.stateNode=l):n.memoizedState=O0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return An(n),t===null&&Pe&&(l=n.stateNode=D0(n.type,n.pendingProps,be.current),Ht=n,Ln=!0,h=at,Ga(n.type)?(Td=h,at=Pn(l.firstChild)):at=h),Gt(t,n,n.pendingProps.children,r),Yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=l=at)&&(l=GE(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Ht=n,at=Pn(l.firstChild),Ln=!1,h=!0):h=!1),h||Ia(n)),An(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,_d(h,d)?l=null:_!==null&&_d(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(t,n,rE,null,null,r),ro._currentValue=h),Yu(t,n),Gt(t,n,l,r),n.child;case 6:return t===null&&Pe&&((t=r=at)&&(r=QE(r,n.pendingProps,Ln),r!==null?(n.stateNode=r,Ht=n,at=null,t=!0):t=!1),t||Ia(n)),null;case 13:return _y(t,n,r);case 4:return he(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Us(n,null,l,r):Gt(t,n,l,r),n.child;case 11:return cy(t,n,n.type,n.pendingProps,r);case 7:return Gt(t,n,n.pendingProps,r),n.child;case 8:return Gt(t,n,n.pendingProps.children,r),n.child;case 12:return Gt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ja(n,n.type,l.value),Gt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Vs(n),h=Ft(h),l=l(h),n.flags|=1,Gt(t,n,l,r),n.child;case 14:return hy(t,n,n.type,n.pendingProps,r);case 15:return fy(t,n,n.type,n.pendingProps,r);case 19:return xy(t,n,r);case 31:return mE(t,n,r);case 22:return dy(t,n,r,n.pendingProps);case 24:return Vs(n),l=Ft(Nt),t===null?(h=of(),h===null&&(h=nt,d=rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},cf(n),ja(n,Nt,h)):((t.lanes&r)!==0&&(hf(t,n),zl(n,null,null,r),Pl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ja(n,Nt,l)):(l=d.cache,ja(n,Nt,l),l!==h.cache&&sf(n,[Nt],r,!0))),Gt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Zi(t){t.flags|=4}function Qf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw Ls=Ou,uf}else t.flags&=-16777217}function wy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U0(n))if($y())t.flags|=8192;else throw Ls=Ou,uf}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?nu():536870912,t.lanes|=n,jr|=n)}function Ql(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function gE(t,n,r){var l=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ki(Nt),He(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_r(n)?Zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),st(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Zi(n),d!==null?(st(n),wy(n,d)):(st(n),Qf(n,h,null,l,r))):d?d!==t.memoizedState?(Zi(n),st(n),wy(n,d)):(st(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(n),st(n),Qf(n,h,t,l,r)),null;case 27:if(oi(n),r=be.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return st(n),null}t=ie.current,_r(n)?ng(n):(t=D0(h,l,r),n.stateNode=t,Zi(n))}return st(n),null;case 5:if(oi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return st(n),null}if(d=ie.current,_r(n))ng(n);else{var _=hc(be.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=n,d[Lt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(n)}}return st(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=be.current,_r(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||_0(t.nodeValue,r)),t||Ia(n,!0)}else t=hc(t).createTextNode(l),t[Tt]=n,n.stateNode=t}return st(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=_r(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return st(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=_r(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),st(n),null);case 4:return He(),t===null&&md(n.stateNode.containerInfo),st(n),null;case 10:return Ki(n.type),st(n),null;case 19:if(Z(vt),l=n.memoizedState,l===null)return st(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Ql(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Lu(t),d!==null){for(n.flags|=128,Ql(l,!1),t=d.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Zp(r,t),r=r.sibling;return le(vt,vt.current&1|2),Pe&&Gi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>tc&&(n.flags|=128,h=!0,Ql(l,!1),n.lanes=4194304)}else{if(!h)if(t=Lu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return st(n),null}else 2*tn()-l.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,Ql(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,r=vt.current,le(vt,h?r&1|2:r&1),Pe&&Gi(n,l.treeForkCount),t):(st(n),null);case 22:case 23:return xn(n),pf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Z(ks),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ki(Nt),st(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function yE(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(Nt),He(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(s(340));js()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));js()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(vt),null;case 4:return He(),null;case 10:return Ki(n.type),null;case 22:case 23:return xn(n),pf(),t!==null&&Z(ks),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(Nt),null;case 25:return null;default:return null}}function Ty(t,n){switch(Wh(n),n.tag){case 3:Ki(Nt),He();break;case 26:case 27:case 5:oi(n);break;case 4:He();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:Z(vt);break;case 10:Ki(n.type);break;case 22:case 23:xn(n),pf(),t!==null&&Z(ks);break;case 24:Ki(Nt)}}function Kl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,_=r.inst;l=d(),_.destroy=l}r=r.next}while(r!==h)}}catch(T){Ze(n,n.return,T)}}function Ua(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var j=r,H=T;try{H()}catch($){Ze(h,j,$)}}}l=l.next}while(l!==d)}}catch($){Ze(n,n.return,$)}}function Sy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{pg(n,r)}catch(l){Ze(t,t.return,l)}}}function Ay(t,n,r){r.props=zs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ze(t,n,l)}}function Yl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ze(t,n,h)}}function Ci(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,n,h)}else r.current=null}function Ny(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function Kf(t,n,r){try{var l=t.stateNode;PE(l,t.type,r,n),l[Lt]=n}catch(h){Ze(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ga(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=$n));else if(l!==4&&(l===27&&Ga(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,r),t=t.sibling;t!==null;)$f(t,n,r),t=t.sibling}function Zu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ga(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Zu(t,n,r),t=t.sibling;t!==null;)Zu(t,n,r),t=t.sibling}function Cy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qt(n,l,r),n[Tt]=t,n[Lt]=r}catch(d){Ze(t,t.return,d)}}var Ji=!1,Dt=!1,Xf=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function vE(t,n){if(t=t.containerInfo,yd=vc,t=qp(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch(xe){r=null;break e}var _=0,T=-1,j=-1,H=0,$=0,te=t,F=null;t:for(;;){for(var K;te!==r||h!==0&&te.nodeType!==3||(T=_+h),te!==d||l!==0&&te.nodeType!==3||(j=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)F=te,te=K;for(;;){if(te===t)break t;if(F===r&&++H===h&&(T=_),F===d&&++$===l&&(j=_),(K=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=K}r=T===-1||j===-1?null:{start:T,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:t,selectionRange:r},vc=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var fe=zs(r.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Ze(r,r.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)xd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function Iy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ea(t,r),l&4&&Kl(5,r);break;case 1:if(ea(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Ze(r,r.return,_)}else{var h=zs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(r,r.return,_)}}l&64&&Sy(r),l&512&&Yl(r,r.return);break;case 3:if(ea(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{pg(t,n)}catch(_){Ze(r,r.return,_)}}break;case 27:n===null&&l&4&&Cy(r);case 26:case 5:ea(t,r),n===null&&l&4&&Ny(r),l&512&&Yl(r,r.return);break;case 12:ea(t,r);break;case 31:ea(t,r),l&4&&Vy(t,r);break;case 13:ea(t,r),l&4&&ky(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=NE.bind(null,r),KE(t,r))));break;case 22:if(l=r.memoizedState!==null||Ji,!l){n=n!==null&&n.memoizedState!==null||Dt,h=Ji;var d=Dt;Ji=l,(Dt=n)&&!d?ta(t,r,(r.subtreeFlags&8772)!==0):ea(t,r),Ji=h,Dt=d}break;case 30:break;default:ea(t,r)}}function jy(t){var n=t.alternate;n!==null&&(t.alternate=null,jy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&nr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,ln=!1;function Wi(t,n,r){for(r=r.child;r!==null;)Oy(t,n,r),r=r.sibling}function Oy(t,n,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,r)}catch(d){}switch(r.tag){case 26:Dt||Ci(r,n),Wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Dt||Ci(r,n);var l=ut,h=ln;Ga(r.type)&&(ut=r.stateNode,ln=!1),Wi(t,n,r),io(r.stateNode),ut=l,ln=h;break;case 5:Dt||Ci(r,n);case 6:if(l=ut,h=ln,ut=null,Wi(t,n,r),ut=l,ln=h,ut!==null)if(ln)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(r.stateNode)}catch(d){Ze(r,n,d)}else try{ut.removeChild(r.stateNode)}catch(d){Ze(r,n,d)}break;case 18:ut!==null&&(ln?(t=ut,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),zr(t)):S0(ut,r.stateNode));break;case 4:l=ut,h=ln,ut=r.stateNode.containerInfo,ln=!0,Wi(t,n,r),ut=l,ln=h;break;case 0:case 11:case 14:case 15:Ua(2,r,n),Dt||Ua(4,r,n),Wi(t,n,r);break;case 1:Dt||(Ci(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ay(r,n,l)),Wi(t,n,r);break;case 21:Wi(t,n,r);break;case 22:Dt=(l=Dt)||r.memoizedState!==null,Wi(t,n,r),Dt=l;break;default:Wi(t,n,r)}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{zr(t)}catch(r){Ze(n,n.return,r)}}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zr(t)}catch(r){Ze(n,n.return,r)}}function _E(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dy),n;default:throw Error(s(435,t.tag))}}function Ju(t,n){var r=_E(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=RE.bind(null,t,l);l.then(h,h)}})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ga(T.type)){ut=T.stateNode,ln=!1;break e}break;case 5:ut=T.stateNode,ln=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(ut===null)throw Error(s(160));Oy(d,_,h),ut=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)My(n,t),n=n.sibling}var ti=null;function My(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Ua(3,t,t.return),Kl(3,t),Ua(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(Dt||r===null||Ci(r,r.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ti;if(on(n,t),un(t),l&512&&(Dt||r===null||Ci(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,r),d[Tt]=t,St(d),l=d;break e;case"link":var _=M0("link","href",h).get(l+(r.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,r),h.head.appendChild(d);break;case"meta":if(_=M0("meta","content",h).get(l+(r.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,r),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else L0(h,t.type,t.stateNode);else t.stateNode=k0(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?L0(h,t.type,t.stateNode):k0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(Dt||r===null||Ci(r,r.return)),r!==null&&l&4&&Kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(Dt||r===null||Ci(r,r.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(fe){Ze(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(fe){Ze(t,t.return,fe)}}break;case 3:if(mc=null,h=ti,ti=fc(n.containerInfo),on(n,t),ti=h,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{zr(n.containerInfo)}catch(fe){Ze(t,t.return,fe)}Xf&&(Xf=!1,Ly(t));break;case 4:l=ti,ti=fc(t.stateNode.containerInfo),on(n,t),un(t),ti=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 22:h=t.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,H=Ji,$=Dt;if(Ji=H||h,Dt=$||j,on(n,t),Dt=$,Ji=H,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||j||Ji||Dt||Bs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){j=r=n;try{if(d=j.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=j.stateNode;var te=j.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Ze(j,j.return,fe)}}}else if(n.tag===6){if(r===null){j=n;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(fe){Ze(j,j.return,fe)}}}else if(n.tag===18){if(r===null){j=n;try{var K=j.stateNode;h?A0(K,!0):A0(j.stateNode,!1)}catch(fe){Ze(j,j.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ju(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ry(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=Yf(t);Zu(t,d,h);break;case 5:var _=r.stateNode;r.flags&32&&(rn(_,""),r.flags&=-33);var T=Yf(t);Zu(t,T,_);break;case 3:case 4:var j=r.stateNode.containerInfo,H=Yf(t);$f(t,H,j);break;default:throw Error(s(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ea(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function Bs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ua(4,n,n.return),Bs(n);break;case 1:Ci(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ay(n,n.return,r),Bs(n);break;case 27:io(n.stateNode);case 26:case 5:Ci(n,n.return),Bs(n);break;case 22:n.memoizedState===null&&Bs(n);break;case 30:Bs(n);break;default:Bs(n)}t=t.sibling}}function ta(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:ta(h,d,r),Kl(4,d);break;case 1:if(ta(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)mg(j[h],T)}catch(H){Ze(l,l.return,H)}}r&&_&64&&Sy(d),Yl(d,d.return);break;case 27:Cy(d);case 26:case 5:ta(h,d,r),r&&l===null&&_&4&&Ny(d),Yl(d,d.return);break;case 12:ta(h,d,r);break;case 31:ta(h,d,r),r&&_&4&&Vy(h,d);break;case 13:ta(h,d,r),r&&_&4&&ky(h,d);break;case 22:d.memoizedState===null&&ta(h,d,r),Yl(d,d.return);break;case 30:break;default:ta(h,d,r)}n=n.sibling}}function Zf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Vl(r))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vl(t))}function ni(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(t,n,r,l),n=n.sibling}function Uy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(t,n,r,l),h&2048&&Kl(9,n);break;case 1:ni(t,n,r,l);break;case 3:ni(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Vl(t)));break;case 12:if(h&2048){ni(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Ze(n,n.return,j)}}else ni(t,n,r,l);break;case 31:ni(t,n,r,l);break;case 13:ni(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?ni(t,n,r,l):$l(t,n):d._visibility&2?ni(t,n,r,l):(d._visibility|=2,Cr(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(_,n);break;case 24:ni(t,n,r,l),h&2048&&Jf(n.alternate,n);break;default:ni(t,n,r,l)}}function Cr(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,_=n,T=r,j=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Cr(d,_,T,j,h),Kl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Cr(d,_,T,j,h):$l(d,_):($._visibility|=2,Cr(d,_,T,j,h)),h&&H&2048&&Zf(_.alternate,_);break;case 24:Cr(d,_,T,j,h),h&&H&2048&&Jf(_.alternate,_);break;default:Cr(d,_,T,j,h)}n=n.sibling}}function $l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:$l(r,l),h&2048&&Zf(l.alternate,l);break;case 24:$l(r,l),h&2048&&Jf(l.alternate,l);break;default:$l(r,l)}n=n.sibling}}var Xl=8192;function Dr(t,n,r){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)Py(t,n,r),t=t.sibling}function Py(t,n,r){switch(t.tag){case 26:Dr(t,n,r),t.flags&Xl&&t.memoizedState!==null&&sw(r,ti,t.memoizedState,t.memoizedProps);break;case 5:Dr(t,n,r);break;case 3:case 4:var l=ti;ti=fc(t.stateNode.containerInfo),Dr(t,n,r),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,Dr(t,n,r),Xl=l):Dr(t,n,r));break;default:Dr(t,n,r)}}function zy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pt=l,qy(l,t)}zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:Zl(t),t.flags&2048&&Ua(9,t,t.return);break;case 3:Zl(t);break;case 12:Zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):Zl(t);break;default:Zl(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Pt=l,qy(l,t)}zy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ua(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function qy(t,n){for(;Pt!==null;){var r=Pt;switch(r.tag){case 0:case 11:case 15:Ua(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Pt=l;else e:for(r=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(jy(l),l===r){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var bE={getCacheForType:function(t){var n=Ft(Nt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ft(Nt).controller.signal}},xE=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,je=null,Ve=0,Xe=0,En=null,Pa=!1,Ir=!1,Wf=!1,na=0,mt=0,za=0,qs=0,ed=0,wn=0,jr=0,Jl=null,cn=null,td=!1,ec=0,Hy=0,tc=1/0,nc=null,Ba=null,kt=0,qa=null,Or=null,ia=0,nd=0,id=null,Fy=null,Wl=0,ad=null;function Tn(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:Y.T!==null?cd():iu()}function Gy(){if(wn===0)if((Ve&536870912)===0||Pe){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function hn(t,n,r){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Vr(t,0),Ha(t,Ve,wn,!1)),gs(t,r),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(qs|=r),mt===4&&Ha(t,Ve,wn,!1)),Di(t))}function Qy(t,n,r){if((Ke&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Qn(t,n),h=l?TE(t,n):rd(t,n,!0),d=l;do{if(h===0){Ir&&!l&&Ha(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!EE(r)){h=rd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=Jl;var j=T.current.memoizedState.isDehydrated;if(j&&(Vr(T,_).flags|=256),_=rd(T,_,!1),_!==2){if(Wf&&!j){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Vr(t,0),Ha(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ha(l,n,wn,!Pa);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=ec+300-tn(),10<h)){if(Ha(l,n,wn,!Pa),fi(l,0,!0)!==0)break e;ia=n,l.timeoutHandle=w0(Ky.bind(null,l,r,cn,nc,td,n,wn,qs,jr,Pa,d,"Throttled",-0,0),h);break e}Ky(l,r,cn,nc,td,n,wn,qs,jr,Pa,d,null,-0,0)}}break}while(!0);Di(t)}function Ky(t,n,r,l,h,d,_,T,j,H,$,te,F,K){if(t.timeoutHandle=-1,te=n.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Py(n,d,te);var fe=(d&62914560)===d?ec-tn():(d&4194048)===d?Hy-tn():0;if(fe=rw(te,fe),fe!==null){ia=d,t.cancelPendingCommit=fe(t0.bind(null,t,n,d,r,l,h,_,T,j,$,te,null,F,K)),Ha(t,d,_,!H);return}}t0(t,n,d,r,l,h,_,T,j)}function EE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch(_){return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ha(t,n,r,l){n&=~ed,n&=~qs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-gt(h),_=1<<d;l[d]=-1,h&=~_}r!==0&&ys(t,r,n)}function ic(){return(Ke&6)===0?(eo(0),!1):!0}function sd(){if(je!==null){if(Xe===0)var t=je.return;else t=je,Qi=Os=null,xf(t),Tr=null,Ml=0,t=je;for(;t!==null;)Ty(t.alternate,t),t=t.return;je=null}}function Vr(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,qE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ia=0,sd(),nt=t,je=r=Fi(t.current,null),Ve=n,Xe=0,En=null,Pa=!1,Ir=Qn(t,n),Wf=!1,jr=wn=ed=qs=za=mt=0,cn=Jl=null,td=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-gt(l),d=1<<h;n|=t[h],l&=~d}return na=n,Tu(),r}function Yy(t,n){Ce=null,Y.H=Fl,n===wr||n===ju?(n=cg(),Xe=3):n===uf?(n=cg(),Xe=4):Xe=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,je===null&&(mt=1,Qu(t,Vn(n,t.current)))}function $y(){var t=bn.current;return t===null?!0:(Ve&4194048)===Ve?Un===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Un:!1}function Xy(){var t=Y.H;return Y.H=Fl,t===null?Fl:t}function Zy(){var t=Y.A;return Y.A=bE,t}function ac(){mt=4,Pa||(Ve&4194048)!==Ve&&bn.current!==null||(Ir=!0),(za&134217727)===0&&(qs&134217727)===0||nt===null||Ha(nt,Ve,wn,!1)}function rd(t,n,r){var l=Ke;Ke|=2;var h=Xy(),d=Zy();(nt!==t||Ve!==n)&&(nc=null,Vr(t,n)),n=!1;var _=mt;e:do try{if(Xe!==0&&je!==null){var T=je,j=En;switch(Xe){case 8:sd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var H=Xe;if(Xe=0,En=null,kr(t,T,j,H),r&&Ir){_=0;break e}break;default:H=Xe,Xe=0,En=null,kr(t,T,j,H)}}wE(),_=mt;break}catch($){Yy(t,$)}while(!0);return n&&t.shellSuspendCounter++,Qi=Os=null,Ke=l,Y.H=h,Y.A=d,je===null&&(nt=null,Ve=0,Tu()),_}function wE(){for(;je!==null;)Jy(je)}function TE(t,n){var r=Ke;Ke|=2;var l=Xy(),h=Zy();nt!==t||Ve!==n?(nc=null,tc=tn()+500,Vr(t,n)):Ir=Qn(t,n);e:do try{if(Xe!==0&&je!==null){n=je;var d=En;t:switch(Xe){case 1:Xe=0,En=null,kr(t,n,d,1);break;case 2:case 9:if(og(d)){Xe=0,En=null,Wy(n);break}n=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Di(t)},d.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:og(d)?(Xe=0,En=null,Wy(n)):(Xe=0,En=null,kr(t,n,d,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var T=je;if(_?U0(_):T.stateNode.complete){Xe=0,En=null;var j=T.sibling;if(j!==null)je=j;else{var H=T.return;H!==null?(je=H,sc(H)):je=null}break t}}Xe=0,En=null,kr(t,n,d,5);break;case 6:Xe=0,En=null,kr(t,n,d,6);break;case 8:sd(),mt=6;break e;default:throw Error(s(462))}}SE();break}catch($){Yy(t,$)}while(!0);return Qi=Os=null,Y.H=l,Y.A=h,Ke=r,je!==null?0:(nt=null,Ve=0,Tu(),mt)}function SE(){for(;je!==null&&!kh();)Jy(je)}function Jy(t){var n=Ey(t.alternate,t,na);t.memoizedProps=t.pendingProps,n===null?sc(t):je=n}function Wy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=gy(r,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=gy(r,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:xf(n);default:Ty(r,n),n=je=Zp(n,na),n=Ey(r,n,na)}t.memoizedProps=t.pendingProps,n===null?sc(t):je=n}function kr(t,n,r,l){Qi=Os=null,xf(n),Tr=null,Ml=0;var h=n.return;try{if(dE(t,h,n,r,Ve)){mt=1,Qu(t,Vn(r,t.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;mt=1,Qu(t,Vn(r,t.current)),je=null;return}n.flags&32768?(Pe||l===1?t=!0:Ir||(Ve&536870912)!==0?t=!1:(Pa=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),e0(n,t)):sc(n)}function sc(t){var n=t;do{if((n.flags&32768)!==0){e0(n,Pa);return}t=n.return;var r=gE(n.alternate,n,na);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);mt===0&&(mt=5)}function e0(t,n){do{var r=yE(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);mt=6,je=null}function t0(t,n,r,l,h,d,_,T,j){t.cancelPendingCommit=null;do rc();while(kt!==0);if((Ke&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Kh,Uh(t,r,d,_,T,j),t===nt&&(je=nt=null,Ve=0),Or=n,qa=t,ia=r,nd=d,id=h,Fy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,CE(_a,function(){return r0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=re.p,re.p=2,_=Ke,Ke|=4;try{vE(t,n,r)}finally{Ke=_,re.p=h,Y.T=l}}kt=1,n0(),i0(),a0()}}function n0(){if(kt===1){kt=0;var t=qa,n=Or,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Y.T,Y.T=null;var l=re.p;re.p=2;var h=Ke;Ke|=4;try{My(n,t);var d=vd,_=qp(t.containerInfo),T=d.focusedElem,j=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Bp(T.ownerDocument.documentElement,T)){if(j!==null&&qh(T)){var H=j.start,$=j.end;if($===void 0&&($=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min($,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var K=F.getSelection(),fe=T.textContent.length,xe=Math.min(j.start,fe),tt=j.end===void 0?xe:Math.min(j.end,fe);!K.extend&&xe>tt&&(_=tt,tt=xe,xe=_);var P=zp(T,xe),M=zp(T,tt);if(P&&M&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var q=te.createRange();q.setStart(P.node,P.offset),K.removeAllRanges(),xe>tt?(K.addRange(q),K.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),K.addRange(q))}}}}for(te=[],K=T;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var J=te[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}vc=!!yd,vd=yd=null}finally{Ke=h,re.p=l,Y.T=r}}t.current=n,kt=2}}function i0(){if(kt===2){kt=0;var t=qa,n=Or,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Y.T,Y.T=null;var l=re.p;re.p=2;var h=Ke;Ke|=4;try{Iy(t,n.alternate,n)}finally{Ke=h,re.p=l,Y.T=r}}kt=3}}function a0(){if(kt===4||kt===3){kt=0,Xo();var t=qa,n=Or,r=ia,l=Fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?kt=5:(kt=0,Or=qa=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ba=null),zi(r),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch(j){}if(l!==null){n=Y.T,h=re.p,re.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Y.T=n,re.p=h}}(ia&3)!==0&&rc(),Di(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ad?Wl++:(Wl=0,ad=t):Wl=0,eo(0)}}function s0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Vl(n)))}function rc(){return n0(),i0(),a0(),r0()}function r0(){if(kt!==5)return!1;var t=qa,n=nd;nd=0;var r=zi(ia),l=Y.T,h=re.p;try{re.p=32>r?32:r,Y.T=null,r=id,id=null;var d=qa,_=ia;if(kt=0,Or=qa=null,ia=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,By(d.current),Uy(d,d.current,_,r),Ke=T,eo(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,d)}catch(j){}return!0}finally{re.p=h,Y.T=l,s0(t,n)}}function l0(t,n,r){n=Vn(r,n),n=Mf(t.stateNode,n,2),t=ka(t,n,2),t!==null&&(gs(t,2),Di(t))}function Ze(t,n,r){if(t.tag===3)l0(t,t,r);else for(;n!==null;){if(n.tag===3){l0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ba===null||!Ba.has(l))){t=Vn(r,t),r=oy(2),l=ka(n,r,2),l!==null&&(uy(r,l,n,t),gs(l,2),Di(l));break}}n=n.return}}function ld(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new xE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=AE.bind(null,t,n,r),n.then(t,t))}function AE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,nt===t&&(Ve&r)===r&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>tn()-ec?(Ke&2)===0&&Vr(t,0):ed|=r,jr===Ve&&(jr=0)),Di(t)}function o0(t,n){n===0&&(n=nu()),t=Ds(t,n),t!==null&&(gs(t,n),Di(t))}function NE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),o0(t,r)}function RE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),o0(t,r)}function CE(t,n){return Vt(t,n)}var lc=null,Mr=null,od=!1,oc=!1,ud=!1,Fa=0;function Di(t){t!==Mr&&t.next===null&&(Mr===null?lc=Mr=t:Mr=Mr.next=t),oc=!0,od||(od=!0,IE())}function eo(t,n){if(!ud&&oc){ud=!0;do for(var r=!1,l=lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,f0(l,d))}else d=Ve,d=fi(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(r=!0,f0(l,d));l=l.next}while(r);ud=!1}}function DE(){u0()}function u0(){oc=od=!1;var t=0;Fa!==0&&BE()&&(t=Fa);for(var n=tn(),r=null,l=lc;l!==null;){var h=l.next,d=c0(l,n);d===0?(l.next=null,r===null?lc=h:r.next=h,h===null&&(Mr=r)):(r=l,(t!==0||(d&3)!==0)&&(oc=!0)),l=h}kt!==0&&kt!==5||eo(t),Fa!==0&&(Fa=0)}function c0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),T=1<<_,j=h[_];j===-1?((T&r)===0||(T&l)!==0)&&(h[_]=Lh(T,n)):j<=n&&(t.expiredLanes|=T),d&=~T}if(n=nt,r=Ve,r=fi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Qn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&va(l),zi(r)){case 2:case 8:r=cl;break;case 32:r=_a;break;case 268435456:r=Zo;break;default:r=_a}return l=h0.bind(null,t),r=Vt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function h0(t,n){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(rc()&&t.callbackNode!==r)return null;var l=Ve;return l=fi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qy(t,l,n),c0(t,tn()),t.callbackNode!=null&&t.callbackNode===r?h0.bind(null,t):null)}function f0(t,n){if(rc())return null;Qy(t,n,!0)}function IE(){HE(function(){(Ke&6)!==0?Vt(ul,DE):u0()})}function cd(){if(Fa===0){var t=xr;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Fa=t}return Fa}function d0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rr(""+t)}function m0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function jE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=d0((h[Lt]||null).action),_=l.submitter;_&&(n=(n=_[Lt]||null)?d0(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new wi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fa!==0){var j=_?m0(h,_):new FormData(h);Df(r,{pending:!0,data:j,method:h.method,action:d},null,j)}}else typeof d=="function"&&(T.preventDefault(),j=_?m0(h,_):new FormData(h),Df(r,{pending:!0,data:j,method:h.method,action:d},d,j))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],OE=fd.toLowerCase(),VE=fd[0].toUpperCase()+fd.slice(1);ei(OE,"on"+VE)}ei(Gp,"onAnimationEnd"),ei(Qp,"onAnimationIteration"),ei(Kp,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(X1,"onTransitionRun"),ei(Z1,"onTransitionStart"),ei(J1,"onTransitionCancel"),ei(Yp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function p0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],j=T.instance,H=T.currentTarget;if(T=T.listener,j!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch($){wu($)}h.currentTarget=null,d=j}else for(_=0;_<l.length;_++){if(T=l[_],j=T.instance,H=T.currentTarget,T=T.listener,j!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch($){wu($)}h.currentTarget=null,d=j}}}}function Oe(t,n){var r=n[tr];r===void 0&&(r=n[tr]=new Set);var l=t+"__bubble";r.has(l)||(g0(n,t,2,!1),r.add(l))}function dd(t,n,r){var l=0;n&&(l|=4),g0(r,t,l,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[uc]){t[uc]=!0,dl.forEach(function(r){r!=="selectionchange"&&(kE.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uc]||(n[uc]=!0,dd("selectionchange",!1,n))}}function g0(t,n,r,l){switch(G0(n)){case 2:var h=uw;break;case 8:h=cw;break;default:h=Cd}r=h.bind(null,n,r,t),h=void 0,!Es||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function pd(t,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=gi(T),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Sa(function(){var H=d,$=Dn(r),te=[];e:{var F=$p.get(t);if(F!==void 0){var K=wi,fe=t;switch(t){case"keypress":if(Ts(r)===0)break e;case"keydown":case"keyup":K=bu;break;case"focusin":fe="focus",K=As;break;case"focusout":fe="blur",K=As;break;case"beforeblur":case"afterblur":K=As;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=v;break;case Gp:case Qp:case Kp:K=du;break;case Yp:K=N;break;case"scroll":case"scrollend":K=Sl;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Hi;break;case"toggle":case"beforetoggle":K=Re}var xe=(n&4)!==0,tt=!xe&&(t==="scroll"||t==="scrollend"),P=xe?F!==null?F+"Capture":null:F;xe=[];for(var M=H,q;M!==null;){var J=M;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||P===null||(J=Xn(M,P),J!=null&&xe.push(no(M,J,q))),tt)break;M=M.return}0<xe.length&&(F=new K(F,fe,null,r,$),te.push({event:F,listeners:xe}))}}if((n&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&r!==El&&(fe=r.relatedTarget||r.fromElement)&&(gi(fe)||fe[mi]))break e;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(fe=r.relatedTarget||r.toElement,K=H,fe=fe?gi(fe):null,fe!==null&&(tt=u(fe),xe=fe.tag,fe!==tt||xe!==5&&xe!==27&&xe!==6)&&(fe=null)):(K=null,fe=H),K!==fe)){if(xe=Al,J="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Hi,J="onPointerLeave",P="onPointerEnter",M="pointer"),tt=K==null?F:gn(K),q=fe==null?F:gn(fe),F=new xe(J,M+"leave",K,r,$),F.target=tt,F.relatedTarget=q,J=null,gi($)===H&&(xe=new xe(P,M+"enter",fe,r,$),xe.target=q,xe.relatedTarget=tt,J=xe),tt=J,K&&fe)t:{for(xe=ME,P=K,M=fe,q=0,J=P;J;J=xe(J))q++;J=0;for(var ve=M;ve;ve=xe(ve))J++;for(;0<q-J;)P=xe(P),q--;for(;0<J-q;)M=xe(M),J--;for(;q--;){if(P===M||M!==null&&P===M.alternate){xe=P;break t}P=xe(P),M=xe(M)}xe=null}else xe=null;K!==null&&y0(te,F,K,xe,!1),fe!==null&&tt!==null&&y0(te,tt,fe,xe,!0)}}e:{if(F=H?gn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Fe=Vp;else if(jp(F))if(kp)Fe=K1;else{Fe=G1;var de=F1}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&sr(H.elementType)&&(Fe=Vp):Fe=Q1;if(Fe&&(Fe=Fe(t,H))){Op(te,Fe,r,$);break e}de&&de(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&_l(F,"number",F.value)}switch(de=H?gn(H):window,t){case"focusin":(jp(de)||de.contentEditable==="true")&&(dr=de,Hh=H,Il=null);break;case"focusout":Il=Hh=dr=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Hp(te,r,$);break;case"selectionchange":if($1)break;case"keydown":case"keyup":Hp(te,r,$)}var De;if(Qe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else fr?Ns(t,r)&&(ke="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ke="onCompositionStart");ke&&(Ai&&r.locale!=="ko"&&(fr||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&fr&&(De=Tl()):(Ei=$,wl="value"in Ei?Ei.value:Ei.textContent,fr=!0)),de=cc(H,ke),0<de.length&&(ke=new Si(ke,t,null,r,$),te.push({event:ke,listeners:de}),De?ke.data=De:(De=hr(r),De!==null&&(ke.data=De)))),(De=jn?z1(t,r):B1(t,r))&&(ke=cc(H,"onBeforeInput"),0<ke.length&&(de=new Si("onBeforeInput","beforeinput",null,r,$),te.push({event:de,listeners:ke}),de.data=De)),jE(te,t,H,r,$)}p0(te,n)})}function no(t,n,r){return{instance:t,listener:n,currentTarget:r}}function cc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,r),h!=null&&l.unshift(no(t,h,d)),h=Xn(t,n),h!=null&&l.push(no(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ME(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y0(t,n,r,l,h){for(var d=n._reactName,_=[];r!==null&&r!==l;){var T=r,j=T.alternate,H=T.stateNode;if(T=T.tag,j!==null&&j===l)break;T!==5&&T!==26&&T!==27||H===null||(j=H,h?(H=Xn(r,d),H!=null&&_.unshift(no(r,H,j))):h||(H=Xn(r,d),H!=null&&_.push(no(r,H,j)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var LE=/\r\n?/g,UE=/\u0000|\uFFFD/g;function v0(t){return(typeof t=="string"?t:""+t).replace(LE,"\n").replace(UE,"")}function _0(t,n){return n=v0(n),v0(t)===n}function et(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,r,l);break;case"style":xl(t,l,d);break;case"data":if(n!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=rr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=rr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=rr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,ir(t,r,l))}}function gd(t,n,r,l,h,d){switch(r){case"style":xl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?rn(t,l):(typeof l=="number"||typeof l=="bigint")&&rn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[Lt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ir(t,r,l)}}}function Qt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var _=r[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:et(t,n,d,_,r,null)}}h&&et(t,n,"srcSet",r.srcSet,r,null),l&&et(t,n,"src",r.src,r,null);return;case"input":Oe("invalid",t);var T=d=_=h=null,j=null,H=null;for(l in r)if(r.hasOwnProperty(l)){var $=r[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":j=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:et(t,n,l,$,r,null)}}lu(t,d,T,j,H,_,h,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:et(t,n,h,T,r,null)}n=d,r=_,t.multiple=!!l,n!=null?xa(t,!!l,n,!1):r!=null&&xa(t,!!l,r,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(T=r[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(t,n,_,T,r,null)}Ea(t,l,h,d);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,n,j,l,r,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<to.length;l++)Oe(to[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(l=r[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:et(t,n,H,l,r,null)}return;default:if(sr(n)){for($ in r)r.hasOwnProperty($)&&(l=r[$],l!==void 0&&gd(t,n,$,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&et(t,n,T,l,r,null))}function PE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,j=null,H=null,$=null;for(K in r){var te=r[K];if(r.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=te;default:l.hasOwnProperty(K)||et(t,n,K,null,l,te)}}for(var F in l){var K=l[F];if(te=r[F],l.hasOwnProperty(F)&&(K!=null||te!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==te&&et(t,n,F,K,l,te)}}ar(t,_,T,j,H,$,d,h);return;case"select":K=_=T=F=null;for(d in r)if(j=r[d],r.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":K=j;default:l.hasOwnProperty(d)||et(t,n,d,null,l,j)}for(h in l)if(d=l[h],j=r[h],l.hasOwnProperty(h)&&(d!=null||j!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==j&&et(t,n,h,d,l,j)}n=T,r=_,l=K,F!=null?xa(t,!!r,F,!1):!!l!=!!r&&(n!=null?xa(t,!!r,n,!0):xa(t,!!r,r?[]:"",!1));return;case"textarea":K=F=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,n,T,null,l,h)}for(_ in l)if(h=l[_],d=r[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,n,_,h,l,d)}ou(t,F,K);return;case"option":for(var fe in r)if(F=r[fe],r.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:et(t,n,fe,null,l,F)}for(j in l)if(F=l[j],K=r[j],l.hasOwnProperty(j)&&F!==K&&(F!=null||K!=null))switch(j){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:et(t,n,j,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in r)F=r[xe],r.hasOwnProperty(xe)&&F!=null&&!l.hasOwnProperty(xe)&&et(t,n,xe,null,l,F);for(H in l)if(F=l[H],K=r[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:et(t,n,H,F,l,K)}return;default:if(sr(n)){for(var tt in r)F=r[tt],r.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&gd(t,n,tt,void 0,l,F);for($ in l)F=l[$],K=r[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||gd(t,n,$,F,l,K);return}}for(var P in r)F=r[P],r.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&et(t,n,P,null,l,F);for(te in l)F=l[te],K=r[te],!l.hasOwnProperty(te)||F===K||F==null&&K==null||et(t,n,te,F,l,K)}function b0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&b0(_)){for(_=0,T=h.responseEnd,l+=1;l<r.length;l++){var j=r[l],H=j.startTime;if(H>T)break;var $=j.transferSize,te=j.initiatorType;$&&b0(te)&&(j=j.responseEnd,_+=$*(j<T?1:(T-H)/(j-H)))}if(--l,n+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,vd=null;function hc(t){return t.nodeType===9?t:t.ownerDocument}function x0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function BE(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var w0=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(t){return T0.resolve(null).then(t).catch(FE)}:w0;function FE(t){setTimeout(function(){throw t})}function Ga(t){return t==="head"}function S0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),zr(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")io(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,io(r);for(var d=r.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[pi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=_}}else r==="body"&&io(t.ownerDocument.body);r=h}while(r);zr(n)}function A0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xd(r),nr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function GE(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function QE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pn(t.nextSibling),t===null))return null;return t}function N0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Pn(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function KE(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function R0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Pn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function C0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function D0(t,n,r){switch(n=hc(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function io(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nr(t)}var zn=new Map,I0=new Set;function fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var aa=re.d;re.d={f:YE,r:$E,D:XE,C:ZE,L:JE,m:WE,X:tw,S:ew,M:nw};function YE(){var t=aa.f(),n=ic();return t||n}function $E(t){var n=Cn(t);n!==null&&n.tag===5&&n.type==="form"?Yg(n):aa.r(t)}var Lr=typeof document>"u"?null:document;function j0(t,n,r){var l=Lr;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),I0.has(h)||(I0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Qt(n,"link",t),St(n),l.head.appendChild(n)))}}function XE(t){aa.D(t),j0("dns-prefetch",t,null)}function ZE(t,n){aa.C(t,n),j0("preconnect",t,n)}function JE(t,n,r){aa.L(t,n,r);var l=Lr;if(l&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(n){case"style":d=Ur(t);break;case"script":d=Pr(t)}zn.has(d)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),zn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(d))||n==="script"&&l.querySelector(so(d))||(n=l.createElement("link"),Qt(n,"link",t),St(n),l.head.appendChild(n)))}}function WE(t,n){aa.m(t,n);var r=Lr;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pr(t)}if(!zn.has(d)&&(t=E({rel:"modulepreload",href:t},n),zn.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(so(d)))return}l=r.createElement("link"),Qt(l,"link",t),St(l),r.head.appendChild(l)}}}function ew(t,n,r){aa.S(t,n,r);var l=Lr;if(l&&t){var h=yi(l).hoistableStyles,d=Ur(t);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(ao(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=zn.get(d))&&Sd(t,r);var j=_=l.createElement("link");St(j),Qt(j,"link",t),j._p=new Promise(function(H,$){j.onload=H,j.onerror=$}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function tw(t,n){aa.X(t,n);var r=Lr;if(r&&t){var l=yi(r).hoistableScripts,h=Pr(t),d=l.get(h);d||(d=r.querySelector(so(h)),d||(t=E({src:t,async:!0},n),(n=zn.get(h))&&Ad(t,n),d=r.createElement("script"),St(d),Qt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nw(t,n){aa.M(t,n);var r=Lr;if(r&&t){var l=yi(r).hoistableScripts,h=Pr(t),d=l.get(h);d||(d=r.querySelector(so(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=zn.get(h))&&Ad(t,n),d=r.createElement("script"),St(d),Qt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function O0(t,n,r,l){var h=(h=be.current)?fc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ur(r.href),r=yi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ur(r.href);var d=yi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(ao(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(t,r),d||iw(h,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pr(r),r=yi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ur(t){return'href="'+sn(t)+'"'}function ao(t){return'link[rel="stylesheet"]['+t+"]"}function V0(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function iw(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Qt(n,"link",r),St(n),t.head.appendChild(n))}function Pr(t){return'[src="'+sn(t)+'"]'}function so(t){return"script[async]"+t}function k0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return n.instance=l,St(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",h),dc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ur(r.href);var d=t.querySelector(ao(h));if(d)return n.state.loading|=4,n.instance=d,St(d),d;l=V0(r),(h=zn.get(h))&&Sd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(T,j){_.onload=T,_.onerror=j}),Qt(d,"link",l),n.state.loading|=4,dc(d,r.precedence,t),n.instance=d;case"script":return d=Pr(r.src),(h=t.querySelector(so(d)))?(n.instance=h,St(h),h):(l=r,(h=zn.get(d))&&(l=E({},r),Ad(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Qt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,dc(l,r.precedence,t));return n.instance}function dc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mc=null;function M0(t,n,r){if(mc===null){var l=new Map,h=mc=new Map;h.set(r,l)}else h=mc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[pi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function L0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function aw(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sw(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ur(l.href),d=n.querySelector(ao(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=pc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,St(d);return}d=n.ownerDocument||n,l=V0(l),(h=zn.get(h))&&Sd(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(T,j){_.onload=T,_.onerror=j}),Qt(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=pc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Nd=0;function rw(t,n){return t.stylesheets&&t.count===0&&yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&yc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*zE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function yc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,n.forEach(lw,t),gc=null,pc.call(t))}function lw(t,n){if(!(n.state.loading&4)){var r=gc.get(t);if(r)var l=r.get(null);else{r=new Map,gc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=r.get(_)||l,d===l&&r.set(null,h),r.set(_,h),this.count++,l=pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ro={$$typeof:W,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function ow(t,n,r,l,h,d,_,T,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function P0(t,n,r,l,h,d,_,T,j,H,$,te){return t=new ow(t,n,r,_,j,H,$,te,T),n=1,d===!0&&(n|=24),d=_n(3,null,null,n),t.current=d,d.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},cf(d),t}function z0(t){return t?(t=gr,t):gr}function B0(t,n,r,l,h,d){h=z0(h),l.context===null?l.context=h:l.pendingContext=h,l=Va(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=ka(t,l,n),r!==null&&(hn(r,t,n),Ul(r,t,n))}function q0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){q0(t,n),(t=t.alternate)&&q0(t,n)}function H0(t){if(t.tag===13||t.tag===31){var n=Ds(t,67108864);n!==null&&hn(n,t,67108864),Rd(t,67108864)}}function F0(t){if(t.tag===13||t.tag===31){var n=Tn();n=vs(n);var r=Ds(t,n);r!==null&&hn(r,t,n),Rd(t,n)}}var vc=!0;function uw(t,n,r,l){var h=Y.T;Y.T=null;var d=re.p;try{re.p=2,Cd(t,n,r,l)}finally{re.p=d,Y.T=h}}function cw(t,n,r,l){var h=Y.T;Y.T=null;var d=re.p;try{re.p=8,Cd(t,n,r,l)}finally{re.p=d,Y.T=h}}function Cd(t,n,r,l){if(vc){var h=Dd(l);if(h===null)pd(t,n,l,_c,r),Q0(t,l);else if(fw(h,t,n,r,l))l.stopPropagation();else if(Q0(t,l),n&4&&-1<hw.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var j=1<<31-gt(_);T.entanglements[1]|=j,_&=~j}Di(d),(Ke&6)===0&&(tc=tn()+500,eo(0))}}break;case 31:case 13:T=Ds(d,2),T!==null&&hn(T,d,2),ic(),Rd(d,2)}if(d=Dd(l),d===null&&pd(t,n,l,_c,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else pd(t,n,l,null,r)}}function Dd(t){return t=Dn(t),Id(t)}var _c=null;function Id(t){if(_c=null,t=gi(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _c=t,null}function G0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case ul:return 2;case cl:return 8;case _a:case Mh:return 32;case Zo:return 268435456;default:return 32}default:return 32}}var jd=!1,Qa=null,Ka=null,Ya=null,lo=new Map,oo=new Map,$a=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q0(t,n){switch(t){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function uo(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&H0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function fw(t,n,r,l,h){switch(n){case"focusin":return Qa=uo(Qa,t,n,r,l,h),!0;case"dragenter":return Ka=uo(Ka,t,n,r,l,h),!0;case"mouseover":return Ya=uo(Ya,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return lo.set(d,uo(lo.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,oo.set(d,uo(oo.get(d)||null,t,n,r,l,h)),!0}return!1}function K0(t){var n=gi(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){F0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Kn(t.priority,function(){F0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Dd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);El=l,r.target.dispatchEvent(l),El=null}else return n=Cn(r),n!==null&&H0(n),t.blockedOn=r,!1;n.shift()}return!0}function Y0(t,n,r){bc(t)&&r.delete(n)}function dw(){jd=!1,Qa!==null&&bc(Qa)&&(Qa=null),Ka!==null&&bc(Ka)&&(Ka=null),Ya!==null&&bc(Ya)&&(Ya=null),lo.forEach(Y0),oo.forEach(Y0)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,dw)))}var Ec=null;function $0(t){Ec!==t&&(Ec=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Id(l||r)===null)continue;break}var d=Cn(r);d!==null&&(t.splice(n,3),n-=3,Df(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function zr(t){function n(j){return xc(j,t)}Qa!==null&&xc(Qa,t),Ka!==null&&xc(Ka,t),Ya!==null&&xc(Ya,t),lo.forEach(n),oo.forEach(n);for(var r=0;r<$a.length;r++){var l=$a[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$a.length&&(r=$a[0],r.blockedOn===null);)K0(r),r.blockedOn===null&&$a.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],_=h[Lt]||null;if(typeof d=="function")_||$0(r);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)T=_.formAction;else if(Id(h)!==null)continue}else T=_.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),$0(r)}}}function X0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(t){this._internalRoot=t}wc.prototype.render=Od.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Tn();B0(r,l,t,n,null,null)},wc.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;B0(t.current,2,null,t,null,null),ic(),n[mi]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=iu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<$a.length&&n!==0&&n<$a[r].priority;r++);$a.splice(r,0,t),r===0&&K0(t)}};var Z0=e.version;if(Z0!=="19.2.1")throw Error(s(527,Z0,"19.2.1"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var mw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Gn=Tc.inject(mw),Bt=Tc}catch(t){}}return ho.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=ay,d=sy,_=ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=P0(t,1,!1,null,null,r,l,null,h,d,_,X0),t[mi]=n.current,md(t),new Od(n)},ho.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",d=ay,_=sy,T=ry,j=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(j=r.formState)),n=P0(t,1,!0,n,r!=null?r:null,l,h,j,d,_,T,X0),n.context=z0(null),r=n.current,l=Tn(),l=vs(l),h=Va(l),h.callback=null,ka(r,h,l),r=l,n.current.lanes=r,gs(n,r),Di(n),t[mi]=n.current,md(t),new wc(n)},ho.version="19.2.1",ho}var lv;function Aw(){if(lv)return Md.exports;lv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Md.exports=Sw(),Md.exports}var Nw=Aw();var ov="popstate";function Rw(a={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return sm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:No(o)}return Dw(e,i,null,a)}function ht(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function si(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(i){}}}function Cw(){return Math.random().toString(36).substring(2,10)}function uv(a,e){return{usr:a.state,key:a.key,idx:e}}function sm(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?tl(e):e,state:i,key:e&&e.key||s||Cw()}}function No({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function tl(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function Dw(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function E(){p="POP";let L=b(),X=L==null?null:L-y;y=L,g&&g({action:p,location:Q.location,delta:X})}function S(L,X){p="PUSH";let ae=sm(Q.location,L,X);y=b()+1;let W=uv(ae,y),ue=Q.createHref(ae);try{f.pushState(W,"",ue)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(ue)}u&&g&&g({action:p,location:Q.location,delta:1})}function O(L,X){p="REPLACE";let ae=sm(Q.location,L,X);y=b();let W=uv(ae,y),ue=Q.createHref(ae);f.replaceState(W,"",ue),u&&g&&g({action:p,location:Q.location,delta:0})}function z(L){return Iw(L)}let Q={get action(){return p},get location(){return a(o,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(ov,E),g=L,()=>{o.removeEventListener(ov,E),g=null}},createHref(L){return e(o,L)},createURL:z,encodeLocation(L){let X=z(L);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:O,go(L){return f.go(L)}};return Q}function Iw(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ht(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:No(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function K_(a,e,i="/"){return jw(a,e,i,!1)}function jw(a,e,i,s){let o=typeof e=="string"?tl(e):e,u=oa(o.pathname||"/",i);if(u==null)return null;let f=Y_(a);Ow(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=Fw(u);p=qw(f[g],y,s)}return p}function Y_(a,e=[],i=[],s="",o=!1){let u=(f,p,g=o,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;ht(b.relativePath.startsWith(s),'Absolute route path "'.concat(b.relativePath,'" nested under path "').concat(s,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),b.relativePath=b.relativePath.slice(s.length)}let E=ra([s,b.relativePath]),S=i.concat(b);f.children&&f.children.length>0&&(ht(f.index!==!0,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(E,'".')),Y_(f.children,e,S,E,g)),!(f.path==null&&!f.index)&&e.push({path:E,score:zw(E,f.index),routesMeta:S})};return a.forEach((f,p)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,p);else for(let y of $_(f.path))u(f,p,!0,y)}),e}function $_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=$_(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function Ow(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:Bw(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Vw=/^:[\w-]+$/,kw=3,Mw=2,Lw=1,Uw=10,Pw=-2,cv=a=>a==="*";function zw(a,e){let i=a.split("/"),s=i.length;return i.some(cv)&&(s+=Pw),e&&(s+=Mw),i.filter(o=>!cv(o)).reduce((o,u)=>o+(Vw.test(u)?kw:u===""?Lw:Uw),s)}function Bw(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function qw(a,e,i=!1){let{routesMeta:s}=a,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",E=Bc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),S=g.route;if(!E&&y&&i&&!s[s.length-1].route.index&&(E=Bc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:ra([u,E.pathname]),pathnameBase:$w(ra([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=ra([u,E.pathnameBase]))}return f}function Bc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=Hw(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:E},S)=>{if(b==="*"){let z=p[S]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const O=p[S];return E&&!O?y[b]=void 0:y[b]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function Hw(a,e=!1,i=!0){si(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'.concat(a,'" will be treated as if it were "').concat(a.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(a.replace(/\*$/,"/*"),'".'));let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Fw(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,'The URL path "'.concat(a,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(e,").")),a}}function oa(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var Gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qw=a=>Gw.test(a);function Kw(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?tl(a):a,u;if(i)if(Qw(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),si(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(f," -> ").concat(i))}i.startsWith("/")?u=hv(i.substring(1),"/"):u=hv(i,e)}else u=e;return{pathname:u,search:Xw(s),hash:Zw(o)}}function hv(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function zd(a,e,i,s){return"Cannot include a '".concat(a,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(s),"].  Please separate it out to the `to.").concat(i,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Yw(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function X_(a){let e=Yw(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Z_(a,e,i,s=!1){let o;typeof a=="string"?o=tl(a):(o={...a},ht(!o.pathname||!o.pathname.includes("?"),zd("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),zd("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),zd("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=i;else{let E=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=Kw(o,p),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var ra=a=>a.join("/").replace(/\/\/+/g,"/"),$w=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Xw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Zw=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Jw(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Ww(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J_=["POST","PUT","PATCH","DELETE"];new Set(J_);var eT=["GET",...J_];new Set(eT);var nl=U.createContext(null);nl.displayName="DataRouter";var lh=U.createContext(null);lh.displayName="DataRouterState";U.createContext(!1);var W_=U.createContext({isTransitioning:!1});W_.displayName="ViewTransition";var tT=U.createContext(new Map);tT.displayName="Fetchers";var nT=U.createContext(null);nT.displayName="Await";var li=U.createContext(null);li.displayName="Navigation";var zo=U.createContext(null);zo.displayName="Location";var da=U.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var km=U.createContext(null);km.displayName="RouteError";function iT(a,{relative:e}={}){ht(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=U.useContext(li),{hash:o,pathname:u,search:f}=qo(a,{relative:e}),p=u;return i!=="/"&&(p=u==="/"?i:ra([i,u])),s.createHref({pathname:p,search:f,hash:o})}function Bo(){return U.useContext(zo)!=null}function ma(){return ht(Bo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(zo).location}var eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tb(a){U.useContext(li).static||U.useLayoutEffect(a)}function aT(){let{isDataRoute:a}=U.useContext(da);return a?yT():sT()}function sT(){ht(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let a=U.useContext(nl),{basename:e,navigator:i}=U.useContext(li),{matches:s}=U.useContext(da),{pathname:o}=ma(),u=JSON.stringify(X_(s)),f=U.useRef(!1);return tb(()=>{f.current=!0}),U.useCallback((g,y={})=>{if(si(f.current,eb),!f.current)return;if(typeof g=="number"){i.go(g);return}let b=Z_(g,JSON.parse(u),o,y.relative==="path");a==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ra([e,b.pathname])),(y.replace?i.replace:i.push)(b,y.state,y)},[e,i,u,o,a])}U.createContext(null);function qo(a,{relative:e}={}){let{matches:i}=U.useContext(da),{pathname:s}=ma(),o=JSON.stringify(X_(i));return U.useMemo(()=>Z_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function rT(a,e){return nb(a,e)}function nb(a,e,i,s,o){var ae;ht(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(li),{matches:f}=U.useContext(da),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",b=p?p.pathnameBase:"/",E=p&&p.route;{let W=E&&E.path||"";ib(y,!E||W.endsWith("*")||W.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(y,'" (under <Route path="').concat(W,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(W,'"> to <Route path="').concat(W==="/"?"*":"".concat(W,"/*"),'">.'))}let S=ma(),O;if(e){let W=typeof e=="string"?tl(e):e;ht(b==="/"||((ae=W.pathname)==null?void 0:ae.startsWith(b)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(b,'" but pathname "').concat(W.pathname,'" was given in the `location` prop.')),O=W}else O=S;let z=O.pathname||"/",Q=z;if(b!=="/"){let W=b.replace(/^\//,"").split("/");Q="/"+z.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=K_(a,{pathname:Q});si(E||L!=null,'No routes matched location "'.concat(O.pathname).concat(O.search).concat(O.hash,'" ')),si(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,'Matched leaf route at location "'.concat(O.pathname).concat(O.search).concat(O.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let X=hT(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:ra([b,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?b:ra([b,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),f,i,s,o);return e&&X?U.createElement(zo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},X):X}function lT(){let a=gT(),e=Jw(a)?"".concat(a.status," ").concat(a.statusText):a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),i?U.createElement("pre",{style:o},i):null,f)}var oT=U.createElement(lT,null),uT=class extends U.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?U.createElement(da.Provider,{value:this.props.routeContext},U.createElement(km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cT({routeContext:a,match:e,children:i}){let s=U.useContext(nl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(da.Provider,{value:a},i)}function hT(a,e=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i==null?void 0:i.errors;if(f!=null){let b=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);ht(b>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(f).join(","))),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,g=-1;if(i)for(let b=0;b<u.length;b++){let E=u[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=b),E.route.id){let{loaderData:S,errors:O}=i,z=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!O||O[E.route.id]===void 0);if(E.route.lazy||z){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=i&&s?(b,E)=>{var S,O,z;s(b,{location:i.location,params:(z=(O=(S=i.matches)==null?void 0:S[0])==null?void 0:O.params)!=null?z:{},unstable_pattern:Ww(i.matches),errorInfo:E})}:void 0;return u.reduceRight((b,E,S)=>{let O,z=!1,Q=null,L=null;i&&(O=f&&E.route.id?f[E.route.id]:void 0,Q=E.route.errorElement||oT,p&&(g<0&&S===0?(ib("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,L=null):g===S&&(z=!0,L=E.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,S+1)),ae=()=>{let W;return O?W=Q:z?W=L:E.route.Component?W=U.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=b,U.createElement(cT,{match:E,routeContext:{outlet:b,matches:X,isDataRoute:i!=null},children:W})};return i&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?U.createElement(uT,{location:i.location,revalidation:i.revalidation,component:Q,error:O,children:ae(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:y}):ae()},null)}function Mm(a){return"".concat(a," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function fT(a){let e=U.useContext(nl);return ht(e,Mm(a)),e}function dT(a){let e=U.useContext(lh);return ht(e,Mm(a)),e}function mT(a){let e=U.useContext(da);return ht(e,Mm(a)),e}function Lm(a){let e=mT(a),i=e.matches[e.matches.length-1];return ht(i.route.id,"".concat(a,' can only be used on routes that contain a unique "id"')),i.route.id}function pT(){return Lm("useRouteId")}function gT(){var s;let a=U.useContext(km),e=dT("useRouteError"),i=Lm("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function yT(){let{router:a}=fT("useNavigate"),e=Lm("useNavigate"),i=U.useRef(!1);return tb(()=>{i.current=!0}),U.useCallback(async(o,u={})=>{si(i.current,eb),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var fv={};function ib(a,e,i){!e&&!fv[a]&&(fv[a]=!0,si(!1,i))}U.memo(vT);function vT({routes:a,future:e,state:i,unstable_onError:s}){return nb(a,void 0,i,s,e)}function rm(a){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _T({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ht(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof i=="string"&&(i=tl(i));let{pathname:y="/",search:b="",hash:E="",state:S=null,key:O="default"}=i,z=U.useMemo(()=>{let Q=oa(y,p);return Q==null?null:{location:{pathname:Q,search:b,hash:E,state:S,key:O},navigationType:s}},[p,y,b,E,S,O,s]);return si(z!=null,'<Router basename="'.concat(p,'"> is not able to match the URL "').concat(y).concat(b).concat(E,"\" because it does not start with the basename, so the <Router> won't render anything.")),z==null?null:U.createElement(li.Provider,{value:g},U.createElement(zo.Provider,{children:e,value:z}))}function bT({children:a,location:e}){return rT(lm(a),e)}function lm(a,e=[]){let i=[];return U.Children.forEach(a,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){i.push.apply(i,lm(s.props.children,u));return}ht(s.type===rm,"[".concat(typeof s.type=="string"?s.type:s.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lm(s.props.children,u)),i.push(f)}),i}var jc="get",Oc="application/x-www-form-urlencoded";function oh(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function xT(a){return oh(a)&&a.tagName.toLowerCase()==="button"}function ET(a){return oh(a)&&a.tagName.toLowerCase()==="form"}function wT(a){return oh(a)&&a.tagName.toLowerCase()==="input"}function TT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function ST(a,e){return a.button===0&&(!e||e==="_self")&&!TT(a)}var Sc=null;function AT(){if(Sc===null)try{new FormData(document.createElement("form"),0),Sc=!1}catch(a){Sc=!0}return Sc}var NT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(a){return a!=null&&!NT.has(a)?(si(!1,'"'.concat(a,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Oc,'"')),null):a}function RT(a,e){let i,s,o,u,f;if(ET(a)){let p=a.getAttribute("action");s=p?oa(p,e):null,i=a.getAttribute("method")||jc,o=Bd(a.getAttribute("enctype"))||Oc,u=new FormData(a)}else if(xT(a)||wT(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(s=g?oa(g,e):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||jc,o=Bd(a.getAttribute("formenctype"))||Bd(p.getAttribute("enctype"))||Oc,u=new FormData(p,a),!AT()){let{name:y,type:b,value:E}=a;if(b==="image"){let S=y?"".concat(y,"."):"";u.append("".concat(S,"x"),"0"),u.append("".concat(S,"y"),"0")}else y&&u.append(y,E)}}else{if(oh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=jc,s=null,o=Oc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Um(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function CT(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname="_root.".concat(i):e&&oa(s.pathname,e)==="/"?s.pathname="".concat(e.replace(/\/$/,""),"/_root.").concat(i):s.pathname="".concat(s.pathname.replace(/\/$/,""),".").concat(i),s}async function DT(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error("Error loading route module `".concat(a.module,"`, reloading page...")),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function jT(a,e,i){let s=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await DT(u,i);return f.links?f.links():[]}return[]}));return MT(s.flat(1).filter(IT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dv(a,e,i,s,o,u){let f=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>{var b;return i[y].pathname!==g.pathname||((b=i[y].route.path)==null?void 0:b.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{var E;let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function OT(a,e,{includeHydrateFallback:i}={}){return VT(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function VT(a){return[...new Set(a)]}function kT(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function MT(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let u=JSON.stringify(kT(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function ab(){let a=U.useContext(nl);return Um(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function LT(){let a=U.useContext(lh);return Um(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Pm=U.createContext(void 0);Pm.displayName="FrameworkContext";function sb(){let a=U.useContext(Pm);return Um(a,"You must render this element inside a <HydratedRouter> element"),a}function UT(a,e){let i=U.useContext(Pm),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:E}=e,S=U.useRef(null);U.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let Q=X=>{X.forEach(ae=>{f(ae.isIntersecting)})},L=new IntersectionObserver(Q,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[a]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let O=()=>{o(!0)},z=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,S,{}]:[u,S,{onFocus:fo(p,O),onBlur:fo(g,z),onMouseEnter:fo(y,O),onMouseLeave:fo(b,z),onTouchStart:fo(E,O)}]:[!1,S,{}]}function fo(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function PT({page:a,...e}){let{router:i}=ab(),s=U.useMemo(()=>K_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?U.createElement(BT,{page:a,matches:s,...e}):null}function zT(a){let{manifest:e,routeModules:i}=sb(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return jT(a,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,e,i]),s}function BT({page:a,matches:e,...i}){let s=ma(),{manifest:o,routeModules:u}=sb(),{basename:f}=ab(),{loaderData:p,matches:g}=LT(),y=U.useMemo(()=>dv(a,e,g,o,s,"data"),[a,e,g,o,s]),b=U.useMemo(()=>dv(a,e,g,o,s,"assets"),[a,e,g,o,s]),E=U.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let z=new Set,Q=!1;if(e.forEach(X=>{var W;let ae=o.routes[X.route.id];!ae||!ae.hasLoader||(!y.some(ue=>ue.route.id===X.route.id)&&X.route.id in p&&((W=u[X.route.id])!=null&&W.shouldRevalidate)||ae.hasClientLoader?Q=!0:z.add(X.route.id))}),z.size===0)return[];let L=CT(a,f,"data");return Q&&z.size>0&&L.searchParams.set("_routes",e.filter(X=>z.has(X.route.id)).map(X=>X.route.id).join(",")),[L.pathname+L.search]},[f,p,s,o,y,e,a,u]),S=U.useMemo(()=>OT(b,o),[b,o]),O=zT(b);return U.createElement(U.Fragment,null,E.map(z=>U.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...i})),S.map(z=>U.createElement("link",{key:z,rel:"modulepreload",href:z,...i})),O.map(({key:z,link:Q})=>U.createElement("link",{key:z,nonce:i.nonce,...Q})))}function qT(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var rb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rb&&(window.__reactRouterVersion="7.10.1")}catch(a){}function HT({basename:a,children:e,unstable_useTransitions:i,window:s}){let o=U.useRef();o.current==null&&(o.current=Rw({window:s,v5Compat:!0}));let u=o.current,[f,p]=U.useState({action:u.action,location:u.location}),g=U.useCallback(y=>{i===!1?p(y):U.startTransition(()=>p(y))},[i]);return U.useLayoutEffect(()=>u.listen(g),[u,g]),U.createElement(_T,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i===!0})}var lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ro=U.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:b,viewTransition:E,...S},O){let{basename:z,unstable_useTransitions:Q}=U.useContext(li),L=typeof y=="string"&&lb.test(y),X,ae=!1;if(typeof y=="string"&&L&&(X=y,rb))try{let V=new URL(window.location.href),w=y.startsWith("//")?new URL(V.protocol+y):new URL(y),C=oa(w.pathname,z);w.origin===V.origin&&C!=null?y=C+w.search+w.hash:ae=!0}catch(V){si(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let W=iT(y,{relative:o}),[ue,pe,ye]=UT(s,S),I=KT(y,{replace:f,state:p,target:g,preventScrollReset:b,relative:o,viewTransition:E,unstable_useTransitions:Q});function R(V){e&&e(V),V.defaultPrevented||I(V)}let D=U.createElement("a",{...S,...ye,href:X||W,onClick:ae||u?e:R,ref:qT(O,pe),target:g,"data-discover":!L&&i==="render"?"true":void 0});return ue&&!L?U.createElement(U.Fragment,null,D,U.createElement(PT,{page:W})):D});Ro.displayName="Link";var FT=U.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...y},b){let E=qo(f,{relative:y.relative}),S=ma(),O=U.useContext(lh),{navigator:z,basename:Q}=U.useContext(li),L=O!=null&&JT(E)&&p===!0,X=z.encodeLocation?z.encodeLocation(E).pathname:E.pathname,ae=S.pathname,W=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(ae=ae.toLowerCase(),W=W?W.toLowerCase():null,X=X.toLowerCase()),W&&Q&&(W=oa(W,Q)||W);const ue=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let pe=ae===X||!o&&ae.startsWith(X)&&ae.charAt(ue)==="/",ye=W!=null&&(W===X||!o&&W.startsWith(X)&&W.charAt(X.length)==="/"),I={isActive:pe,isPending:ye,isTransitioning:L},R=pe?e:void 0,D;typeof s=="function"?D=s(I):D=[s,pe?"active":null,ye?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return U.createElement(Ro,{...y,"aria-current":R,className:D,ref:b,style:V,to:f,viewTransition:p},typeof g=="function"?g(I):g)});FT.displayName="NavLink";var GT=U.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:u,method:f=jc,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:E,...S},O)=>{let{unstable_useTransitions:z}=U.useContext(li),Q=XT(),L=ZT(p,{relative:y}),X=f.toLowerCase()==="get"?"get":"post",ae=typeof p=="string"&&lb.test(p),W=ue=>{if(g&&g(ue),ue.defaultPrevented)return;ue.preventDefault();let pe=ue.nativeEvent.submitter,ye=(pe==null?void 0:pe.getAttribute("formmethod"))||f,I=()=>Q(pe||ue.currentTarget,{fetcherKey:e,method:ye,navigate:i,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:E});z&&i!==!1?U.startTransition(()=>I()):I()};return U.createElement("form",{ref:O,method:X,action:L,onSubmit:s?g:W,...S,"data-discover":!ae&&a==="render"?"true":void 0})});GT.displayName="Form";function QT(a){return"".concat(a," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ob(a){let e=U.useContext(nl);return ht(e,QT(a)),e}function KT(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:p}={}){let g=aT(),y=ma(),b=qo(a,{relative:u});return U.useCallback(E=>{if(ST(E,e)){E.preventDefault();let S=i!==void 0?i:No(y)===No(b),O=()=>g(a,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f});p?U.startTransition(()=>O()):O()}},[y,g,b,i,s,e,a,o,u,f,p])}var YT=0,$T=()=>"__".concat(String(++YT),"__");function XT(){let{router:a}=ob("useSubmit"),{basename:e}=U.useContext(li),i=pT(),s=a.fetch,o=a.navigate;return U.useCallback(async(u,f={})=>{let{action:p,method:g,encType:y,formData:b,body:E}=RT(u,e);if(f.navigate===!1){let S=f.fetcherKey||$T();await s(S,i,f.action||p,{preventScrollReset:f.preventScrollReset,formData:b,body:E,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||p,{preventScrollReset:f.preventScrollReset,formData:b,body:E,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,i])}function ZT(a,{relative:e}={}){let{basename:i}=U.useContext(li),s=U.useContext(da);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...qo(a||".",{relative:e})},f=ma();if(a==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let b=p.toString();u.search=b?"?".concat(b):""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ra([i,u.pathname])),No(u)}function JT(a,{relative:e}={}){let i=U.useContext(W_);ht(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ob("useViewTransitionState"),o=qo(a,{relative:e});if(!i.isTransitioning)return!1;let u=oa(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=oa(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Bc(o.pathname,f)!=null||Bc(o.pathname,u)!=null}const WT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),mv=a=>{const e=e2(a);return e.charAt(0).toUpperCase()+e.slice(1)},ub=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),t2=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var n2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i2=U.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...p},g)=>U.createElement("svg",{ref:g,...n2,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:ub("lucide",o),...!u&&!t2(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,b])=>U.createElement(y,b)),...Array.isArray(u)?u:[u]]));const lt=(a,e)=>{const i=U.forwardRef(({className:s,...o},u)=>U.createElement(i2,{ref:u,iconNode:e,className:ub("lucide-".concat(WT(mv(a))),"lucide-".concat(a),s),...o}));return i.displayName=mv(a),i};const a2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],s2=lt("bell",a2);const r2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pv=lt("calendar",r2);const l2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],o2=lt("check",l2);const u2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],c2=lt("chevron-down",u2);const h2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],f2=lt("chevron-left",h2);const d2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],m2=lt("chevron-right",d2);const p2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],qc=lt("circle-plus",p2);const g2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],y2=lt("copy",g2);const v2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_2=lt("database",v2);const b2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uh=lt("external-link",b2);const x2=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],E2=lt("ghost",x2);const w2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gv=lt("info",w2);const T2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],S2=lt("lock",T2);const A2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cb=lt("map-pin",A2);const N2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],R2=lt("plus",N2);const C2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D2=lt("save",C2);const I2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],j2=lt("search",I2);const O2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V2=lt("settings",O2);const k2=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],yv=lt("share-2",k2);const M2=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],L2=lt("share",M2);const U2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hb=lt("shield",U2);const P2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vv=lt("square-pen",P2);const z2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vc=lt("trash-2",z2);const B2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fb=lt("upload",B2);const q2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kr=lt("x",q2),H2=()=>{};var _v={};const db=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},F2=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],f=a[i++],p=a[i++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=a[i++],f=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,p=f?a[o+1]:0,g=o+2<a.length,y=g?a[o+2]:0,b=u>>2,E=(u&3)<<4|p>>4;let S=(p&15)<<2|y>>6,O=y&63;g||(O=64,f||(S=64)),s.push(i[b],i[E],i[S],i[O])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(db(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):F2(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const E=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||p==null||y==null||E==null)throw new G2;const S=u<<2|p>>4;if(s.push(S),y!==64){const O=p<<4&240|y>>2;if(s.push(O),E!==64){const z=y<<6&192|E;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class G2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q2=function(a){const e=db(a);return mb.encodeByteArray(e,!0)},Hc=function(a){return Q2(a).replace(/\./g,"")},K2=function(a){try{return mb.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $2=()=>Y2().__FIREBASE_DEFAULTS__,X2=()=>{if(typeof process>"u"||typeof _v>"u")return;const a=_v.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Z2=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const e=a&&K2(a[1]);return e&&JSON.parse(e)},zm=()=>{try{return H2()||$2()||X2()||Z2()}catch(a){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(a));return}},J2=a=>{var e,i;return(i=(e=zm())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},pb=a=>{const e=J2(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},gb=()=>{var a;return(a=zm())==null?void 0:a.config};class W2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function ch(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch(e){return!1}}async function yb(a){return(await fetch(a,{credentials:"include"})).ok}function vb(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:"https://securetoken.google.com/".concat(s),aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(f)),""].join(".")}const xo={};function eS(){const a={prod:[],emulator:[]};for(const e of Object.keys(xo))xo[e]?a.emulator.push(e):a.prod.push(e);return a}function tS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let bv=!1;function _b(a,e){if(typeof window>"u"||typeof document>"u"||!ch(window.location.host)||xo[a]===e||xo[a]||bv)return;xo[a]=e;function i(S){return"__firebase__banner__".concat(S)}const s="__firebase__banner",u=eS().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{bv=!0,f()},S}function b(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=tS(s),O=i("text"),z=document.getElementById(O)||document.createElement("span"),Q=i("learnmore"),L=document.getElementById(Q)||document.createElement("a"),X=i("preprendIcon"),ae=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;p(W),b(L,Q);const ue=y();g(ae,X),W.append(ae,z,L,ue),document.body.appendChild(W)}u?(z.innerText="Preview backend disconnected.",ae.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(ae.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',z.innerText="Preview backend running in this workspace."),z.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function nS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iS(){var e;const a=(e=zm())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(i){return!1}}function aS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bb(){try{return typeof indexedDB=="object"}catch(a){return!1}}function xb(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}function sS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const rS="FirebaseError";class cs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=rS,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o="".concat(this.service,"/").concat(e),u=this.errors[e],f=u?lS(u,s):"Error",p="".concat(this.serviceName,": ").concat(f," (").concat(o,").");return new cs(o,p,s)}}function lS(a,e){return a.replace(oS,(i,s)=>{const o=e[s];return o!=null?String(o):"<".concat(s,"?>")})}const oS=/\{\$([^}]+)}/g;function Fc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=a[o],f=e[o];if(xv(u)&&xv(f)){if(!Fc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function xv(a){return a!==null&&typeof a=="object"}function pn(a){return a&&a._delegate?a._delegate:a}class Mi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class uS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new W2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch(o){}}return this.instancesDeferred.get(i).promise}getImmediate(e){var o;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(o=e==null?void 0:e.optional)!=null?o:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(hS(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch(i){}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch(u){}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error("".concat(this.name,"(").concat(s,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,i){var f;const s=this.normalizeInstanceIdentifier(i),o=(f=this.onInitCallbacks.get(s))!=null?f:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch(u){}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch(o){}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cS(a){return a===Hs?void 0:a}function hS(a){return a.instantiationMode==="EAGER"}class fS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qe||(qe={}));const dS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},mS=qe.INFO,pS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},gS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=pS[e];if(o)console[o]("[".concat(s,"]  ").concat(a.name,":"),...i);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class Eb{constructor(e){this.name=e,this._logLevel=mS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const yS=(a,e)=>e.some(i=>a instanceof i);let Ev,wv;function vS(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wb=new WeakMap,om=new WeakMap,Tb=new WeakMap,qd=new WeakMap,Bm=new WeakMap;function bS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(la(a.result)),o()},f=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&wb.set(i,a)}).catch(()=>{}),Bm.set(e,a),e}function xS(a){if(om.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});om.set(a,e)}let um={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return om.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Tb.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return la(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function ES(a){um=a(um)}function wS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Hd(this),e,...i);return Tb.set(s,e.sort?e.sort():[e]),la(s)}:_S().includes(a)?function(...e){return a.apply(Hd(this),e),la(wb.get(this))}:function(...e){return la(a.apply(Hd(this),e))}}function TS(a){return typeof a=="function"?wS(a):(a instanceof IDBTransaction&&xS(a),yS(a,vS())?new Proxy(a,um):a)}function la(a){if(a instanceof IDBRequest)return bS(a);if(qd.has(a))return qd.get(a);const e=TS(a);return e!==a&&(qd.set(a,e),Bm.set(e,a)),e}const Hd=a=>Bm.get(a);function fh(a,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),p=la(f);return s&&f.addEventListener("upgradeneeded",g=>{s(la(f.result),g.oldVersion,g.newVersion,la(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}function Fd(a,{blocked:e}={}){const i=indexedDB.deleteDatabase(a);return e&&i.addEventListener("blocked",s=>e(s.oldVersion,s)),la(i).then(()=>{})}const SS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Gd=new Map;function Tv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=AS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SS.includes(i)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&g.done]))[0]};return Gd.set(e,u),u}ES(a=>({...a,get:(e,i,s)=>Tv(e,i)||a.get(e,i,s),has:(e,i)=>!!Tv(e,i)||a.has(e,i)}));class NS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RS(i)){const s=i.getImmediate();return"".concat(s.library,"/").concat(s.version)}else return null}).filter(i=>i).join(" ")}}function RS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",Sv="0.14.6";const ua=new Eb("@firebase/app"),CS="@firebase/app-compat",DS="@firebase/analytics-compat",IS="@firebase/analytics",jS="@firebase/app-check-compat",OS="@firebase/app-check",VS="@firebase/auth",kS="@firebase/auth-compat",MS="@firebase/database",LS="@firebase/data-connect",US="@firebase/database-compat",PS="@firebase/functions",zS="@firebase/functions-compat",BS="@firebase/installations",qS="@firebase/installations-compat",HS="@firebase/messaging",FS="@firebase/messaging-compat",GS="@firebase/performance",QS="@firebase/performance-compat",KS="@firebase/remote-config",YS="@firebase/remote-config-compat",$S="@firebase/storage",XS="@firebase/storage-compat",ZS="@firebase/firestore",JS="@firebase/ai",WS="@firebase/firestore-compat",eA="firebase",tA="12.6.0";const hm="[DEFAULT]",nA={[cm]:"fire-core",[CS]:"fire-core-compat",[IS]:"fire-analytics",[DS]:"fire-analytics-compat",[OS]:"fire-app-check",[jS]:"fire-app-check-compat",[VS]:"fire-auth",[kS]:"fire-auth-compat",[MS]:"fire-rtdb",[LS]:"fire-data-connect",[US]:"fire-rtdb-compat",[PS]:"fire-fn",[zS]:"fire-fn-compat",[BS]:"fire-iid",[qS]:"fire-iid-compat",[HS]:"fire-fcm",[FS]:"fire-fcm-compat",[GS]:"fire-perf",[QS]:"fire-perf-compat",[KS]:"fire-rc",[YS]:"fire-rc-compat",[$S]:"fire-gcs",[XS]:"fire-gcs-compat",[ZS]:"fire-fst",[WS]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[eA]:"fire-js-all"};const Gc=new Map,iA=new Map,fm=new Map;function Av(a,e){try{a.container.addComponent(e)}catch(i){ua.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(a.name),i)}}function ca(a){const e=a.name;if(fm.has(e))return ua.debug("There were multiple attempts to register component ".concat(e,".")),!1;fm.set(e,a);for(const i of Gc.values())Av(i,a);for(const i of iA.values())Av(i,a);return!0}function Ho(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Sb(a){return a==null?!1:a.settings!==void 0}const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new hh("app","Firebase",aA);class sA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const Ab=tA;function Nb(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:hm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Wa.create("bad-app-name",{appName:String(o)});if(i||(i=gb()),!i)throw Wa.create("no-options");const u=Gc.get(o);if(u){if(Fc(i,u.options)&&Fc(s,u.config))return u;throw Wa.create("duplicate-app",{appName:o})}const f=new fS(o);for(const g of fm.values())f.addComponent(g);const p=new sA(i,s,f);return Gc.set(o,p),p}function qm(a=hm){const e=Gc.get(a);if(!e&&a===hm&&gb())return Nb();if(!e)throw Wa.create("no-app",{appName:a});return e}function qn(a,e,i){var f;let s=(f=nA[a])!=null?f:a;i&&(s+="-".concat(i));const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const p=['Unable to register library "'.concat(s,'" with version "').concat(e,'":')];o&&p.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),o&&u&&p.push("and"),u&&p.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),ua.warn(p.join(" "));return}ca(new Mi("".concat(s,"-version"),()=>({library:s,version:e}),"VERSION"))}const rA="firebase-heartbeat-database",lA=1,Co="firebase-heartbeat-store";let Qd=null;function Rb(){return Qd||(Qd=fh(rA,lA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Co)}catch(i){console.warn(i)}}}}).catch(a=>{throw Wa.create("idb-open",{originalErrorMessage:a.message})})),Qd}async function oA(a){try{const i=(await Rb()).transaction(Co),s=await i.objectStore(Co).get(Cb(a));return await i.done,s}catch(e){if(e instanceof cs)ua.warn(e.message);else{const i=Wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ua.warn(i.message)}}}async function Nv(a,e){try{const s=(await Rb()).transaction(Co,"readwrite");await s.objectStore(Co).put(e,Cb(a)),await s.done}catch(i){if(i instanceof cs)ua.warn(i.message);else{const s=Wa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ua.warn(s.message)}}}function Cb(a){return"".concat(a.name,"!").concat(a.options.appId)}const uA=1024,cA=30;class hA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>cA){const f=mA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ua.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Rv(),{heartbeatsToSend:s,unsentEntries:o}=fA(this._heartbeatsCache.heartbeats),u=Hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ua.warn(i),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function fA(a,e=uA){const i=[];let s=a.slice();for(const o of a){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Cv(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Cv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!=null?s:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!=null?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Cv(a){return Hc(JSON.stringify({version:2,heartbeats:a})).length}function mA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}function pA(a){ca(new Mi("platform-logger",e=>new NS(e),"PRIVATE")),ca(new Mi("heartbeat",e=>new hA(e),"PRIVATE")),qn(cm,Sv,a),qn(cm,Sv,"esm2020"),qn("fire-js","")}pA("");var gA="firebase",yA="12.6.0";qn(gA,yA,"app");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var es,Db;(function(){var a;function e(I,R){function D(){}D.prototype=R.prototype,I.F=R.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(V,w,C){for(var A=Array(arguments.length-2),we=2;we<arguments.length;we++)A[we-2]=arguments[we];return R.prototype[w].apply(V,A)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,D){D||(D=0);const V=Array(16);if(typeof R=="string")for(var w=0;w<16;++w)V[w]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(w=0;w<16;++w)V[w]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=I.g[0],D=I.g[1],w=I.g[2];let C=I.g[3],A;A=R+(C^D&(w^C))+V[0]+3614090360&4294967295,R=D+(A<<7&4294967295|A>>>25),A=C+(w^R&(D^w))+V[1]+3905402710&4294967295,C=R+(A<<12&4294967295|A>>>20),A=w+(D^C&(R^D))+V[2]+606105819&4294967295,w=C+(A<<17&4294967295|A>>>15),A=D+(R^w&(C^R))+V[3]+3250441966&4294967295,D=w+(A<<22&4294967295|A>>>10),A=R+(C^D&(w^C))+V[4]+4118548399&4294967295,R=D+(A<<7&4294967295|A>>>25),A=C+(w^R&(D^w))+V[5]+1200080426&4294967295,C=R+(A<<12&4294967295|A>>>20),A=w+(D^C&(R^D))+V[6]+2821735955&4294967295,w=C+(A<<17&4294967295|A>>>15),A=D+(R^w&(C^R))+V[7]+4249261313&4294967295,D=w+(A<<22&4294967295|A>>>10),A=R+(C^D&(w^C))+V[8]+1770035416&4294967295,R=D+(A<<7&4294967295|A>>>25),A=C+(w^R&(D^w))+V[9]+2336552879&4294967295,C=R+(A<<12&4294967295|A>>>20),A=w+(D^C&(R^D))+V[10]+4294925233&4294967295,w=C+(A<<17&4294967295|A>>>15),A=D+(R^w&(C^R))+V[11]+2304563134&4294967295,D=w+(A<<22&4294967295|A>>>10),A=R+(C^D&(w^C))+V[12]+1804603682&4294967295,R=D+(A<<7&4294967295|A>>>25),A=C+(w^R&(D^w))+V[13]+4254626195&4294967295,C=R+(A<<12&4294967295|A>>>20),A=w+(D^C&(R^D))+V[14]+2792965006&4294967295,w=C+(A<<17&4294967295|A>>>15),A=D+(R^w&(C^R))+V[15]+1236535329&4294967295,D=w+(A<<22&4294967295|A>>>10),A=R+(w^C&(D^w))+V[1]+4129170786&4294967295,R=D+(A<<5&4294967295|A>>>27),A=C+(D^w&(R^D))+V[6]+3225465664&4294967295,C=R+(A<<9&4294967295|A>>>23),A=w+(R^D&(C^R))+V[11]+643717713&4294967295,w=C+(A<<14&4294967295|A>>>18),A=D+(C^R&(w^C))+V[0]+3921069994&4294967295,D=w+(A<<20&4294967295|A>>>12),A=R+(w^C&(D^w))+V[5]+3593408605&4294967295,R=D+(A<<5&4294967295|A>>>27),A=C+(D^w&(R^D))+V[10]+38016083&4294967295,C=R+(A<<9&4294967295|A>>>23),A=w+(R^D&(C^R))+V[15]+3634488961&4294967295,w=C+(A<<14&4294967295|A>>>18),A=D+(C^R&(w^C))+V[4]+3889429448&4294967295,D=w+(A<<20&4294967295|A>>>12),A=R+(w^C&(D^w))+V[9]+568446438&4294967295,R=D+(A<<5&4294967295|A>>>27),A=C+(D^w&(R^D))+V[14]+3275163606&4294967295,C=R+(A<<9&4294967295|A>>>23),A=w+(R^D&(C^R))+V[3]+4107603335&4294967295,w=C+(A<<14&4294967295|A>>>18),A=D+(C^R&(w^C))+V[8]+1163531501&4294967295,D=w+(A<<20&4294967295|A>>>12),A=R+(w^C&(D^w))+V[13]+2850285829&4294967295,R=D+(A<<5&4294967295|A>>>27),A=C+(D^w&(R^D))+V[2]+4243563512&4294967295,C=R+(A<<9&4294967295|A>>>23),A=w+(R^D&(C^R))+V[7]+1735328473&4294967295,w=C+(A<<14&4294967295|A>>>18),A=D+(C^R&(w^C))+V[12]+2368359562&4294967295,D=w+(A<<20&4294967295|A>>>12),A=R+(D^w^C)+V[5]+4294588738&4294967295,R=D+(A<<4&4294967295|A>>>28),A=C+(R^D^w)+V[8]+2272392833&4294967295,C=R+(A<<11&4294967295|A>>>21),A=w+(C^R^D)+V[11]+1839030562&4294967295,w=C+(A<<16&4294967295|A>>>16),A=D+(w^C^R)+V[14]+4259657740&4294967295,D=w+(A<<23&4294967295|A>>>9),A=R+(D^w^C)+V[1]+2763975236&4294967295,R=D+(A<<4&4294967295|A>>>28),A=C+(R^D^w)+V[4]+1272893353&4294967295,C=R+(A<<11&4294967295|A>>>21),A=w+(C^R^D)+V[7]+4139469664&4294967295,w=C+(A<<16&4294967295|A>>>16),A=D+(w^C^R)+V[10]+3200236656&4294967295,D=w+(A<<23&4294967295|A>>>9),A=R+(D^w^C)+V[13]+681279174&4294967295,R=D+(A<<4&4294967295|A>>>28),A=C+(R^D^w)+V[0]+3936430074&4294967295,C=R+(A<<11&4294967295|A>>>21),A=w+(C^R^D)+V[3]+3572445317&4294967295,w=C+(A<<16&4294967295|A>>>16),A=D+(w^C^R)+V[6]+76029189&4294967295,D=w+(A<<23&4294967295|A>>>9),A=R+(D^w^C)+V[9]+3654602809&4294967295,R=D+(A<<4&4294967295|A>>>28),A=C+(R^D^w)+V[12]+3873151461&4294967295,C=R+(A<<11&4294967295|A>>>21),A=w+(C^R^D)+V[15]+530742520&4294967295,w=C+(A<<16&4294967295|A>>>16),A=D+(w^C^R)+V[2]+3299628645&4294967295,D=w+(A<<23&4294967295|A>>>9),A=R+(w^(D|~C))+V[0]+4096336452&4294967295,R=D+(A<<6&4294967295|A>>>26),A=C+(D^(R|~w))+V[7]+1126891415&4294967295,C=R+(A<<10&4294967295|A>>>22),A=w+(R^(C|~D))+V[14]+2878612391&4294967295,w=C+(A<<15&4294967295|A>>>17),A=D+(C^(w|~R))+V[5]+4237533241&4294967295,D=w+(A<<21&4294967295|A>>>11),A=R+(w^(D|~C))+V[12]+1700485571&4294967295,R=D+(A<<6&4294967295|A>>>26),A=C+(D^(R|~w))+V[3]+2399980690&4294967295,C=R+(A<<10&4294967295|A>>>22),A=w+(R^(C|~D))+V[10]+4293915773&4294967295,w=C+(A<<15&4294967295|A>>>17),A=D+(C^(w|~R))+V[1]+2240044497&4294967295,D=w+(A<<21&4294967295|A>>>11),A=R+(w^(D|~C))+V[8]+1873313359&4294967295,R=D+(A<<6&4294967295|A>>>26),A=C+(D^(R|~w))+V[15]+4264355552&4294967295,C=R+(A<<10&4294967295|A>>>22),A=w+(R^(C|~D))+V[6]+2734768916&4294967295,w=C+(A<<15&4294967295|A>>>17),A=D+(C^(w|~R))+V[13]+1309151649&4294967295,D=w+(A<<21&4294967295|A>>>11),A=R+(w^(D|~C))+V[4]+4149444226&4294967295,R=D+(A<<6&4294967295|A>>>26),A=C+(D^(R|~w))+V[11]+3174756917&4294967295,C=R+(A<<10&4294967295|A>>>22),A=w+(R^(C|~D))+V[2]+718787259&4294967295,w=C+(A<<15&4294967295|A>>>17),A=D+(C^(w|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(w+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+C&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const D=R-this.blockSize,V=this.C;let w=this.h,C=0;for(;C<R;){if(w==0)for(;C<=D;)o(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<R;)if(V[w++]=I.charCodeAt(C++),w==this.blockSize){o(this,V),w=0;break}}else for(;C<R;)if(V[w++]=I[C++],w==this.blockSize){o(this,V),w=0;break}}this.h=w,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)I[R++]=this.g[D]>>>V&255;return I};function u(I,R){var D=p;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=R(I)}function f(I,R){this.h=R;const D=[];let V=!0;for(let w=I.length-1;w>=0;w--){const C=I[w]|0;V&&C==R||(D[w]=C,V=!1)}this.g=D}var p={};function g(I){return-128<=I&&I<128?u(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return L(y(-I));const R=[];let D=1;for(let V=0;I>=D;V++)R[V]=I/D|0,D*=4294967296;return new f(R,0)}function b(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return L(b(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(R,8));let V=E;for(let C=0;C<I.length;C+=8){var w=Math.min(8,I.length-C);const A=parseInt(I.substring(C,C+w),R);w<8?(w=y(Math.pow(R,w)),V=V.j(w).add(y(A))):(V=V.j(D),V=V.add(y(A)))}return V}var E=g(0),S=g(1),O=g(16777216);a=f.prototype,a.m=function(){if(Q(this))return-L(this).m();let I=0,R=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);I+=(V>=0?V:4294967296+V)*R,R*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(z(this))return"0";if(Q(this))return"-"+L(this).toString(I);const R=y(Math.pow(I,6));var D=this;let V="";for(;;){const w=ue(D,R).g;D=X(D,w.j(R));let C=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=w,z(D))return C+V;for(;C.length<6;)C="0"+C;V=C+V}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function z(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function Q(I){return I.h==-1}a.l=function(I){return I=X(this,I),Q(I)?-1:z(I)?0:1};function L(I){const R=I.g.length,D=[];for(let V=0;V<R;V++)D[V]=~I.g[V];return new f(D,~I.h).add(S)}a.abs=function(){return Q(this)?L(this):this},a.add=function(I){const R=Math.max(this.g.length,I.g.length),D=[];let V=0;for(let w=0;w<=R;w++){let C=V+(this.i(w)&65535)+(I.i(w)&65535),A=(C>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);V=A>>>16,C&=65535,A&=65535,D[w]=A<<16|C}return new f(D,D[D.length-1]&-2147483648?-1:0)};function X(I,R){return I.add(L(R))}a.j=function(I){if(z(this)||z(I))return E;if(Q(this))return Q(I)?L(this).j(L(I)):L(L(this).j(I));if(Q(I))return L(this.j(L(I)));if(this.l(O)<0&&I.l(O)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,D=[];for(var V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let w=0;w<I.g.length;w++){const C=this.i(V)>>>16,A=this.i(V)&65535,we=I.i(w)>>>16,Ue=I.i(w)&65535;D[2*V+2*w]+=A*Ue,ae(D,2*V+2*w),D[2*V+2*w+1]+=C*Ue,ae(D,2*V+2*w+1),D[2*V+2*w+1]+=A*we,ae(D,2*V+2*w+1),D[2*V+2*w+2]+=C*we,ae(D,2*V+2*w+2)}for(I=0;I<R;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=R;I<2*R;I++)D[I]=0;return new f(D,0)};function ae(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function W(I,R){this.g=I,this.h=R}function ue(I,R){if(z(R))throw Error("division by zero");if(z(I))return new W(E,E);if(Q(I))return R=ue(L(I),R),new W(L(R.g),L(R.h));if(Q(R))return R=ue(I,L(R)),new W(L(R.g),R.h);if(I.g.length>30){if(Q(I)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var D=S,V=R;V.l(I)<=0;)D=pe(D),V=pe(V);var w=ye(D,1),C=ye(V,1);for(V=ye(V,2),D=ye(D,2);!z(V);){var A=C.add(V);A.l(I)<=0&&(w=w.add(D),C=A),V=ye(V,1),D=ye(D,1)}return R=X(I,w.j(R)),new W(w,R)}for(w=E;I.l(R)>=0;){for(D=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),C=y(D),A=C.j(R);Q(A)||A.l(I)>0;)D-=V,C=y(D),A=C.j(R);z(C)&&(C=S),w=w.add(C),I=X(I,A)}return new W(w,I)}a.B=function(I){return ue(this,I).h},a.and=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)&I.i(V);return new f(D,this.h&I.h)},a.or=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)|I.i(V);return new f(D,this.h|I.h)},a.xor=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)^I.i(V);return new f(D,this.h^I.h)};function pe(I){const R=I.g.length+1,D=[];for(let V=0;V<R;V++)D[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(D,I.h)}function ye(I,R){const D=R>>5;R%=32;const V=I.g.length-D,w=[];for(let C=0;C<V;C++)w[C]=R>0?I.i(C+D)>>>R|I.i(C+D+1)<<32-R:I.i(C+D);return new f(w,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Db=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,es=f}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ib,po,jb,kc,dm,Ob,Vb,kb;(function(){var a,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var v=0;v<c.length;++v){var x=c[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=i(this);function o(c,v){if(v)e:{var x=s;c=c.split(".");for(var N=0;N<c.length-1;N++){var B=c[N];if(!(B in x))break e;x=x[B]}c=c[c.length-1],N=x[c],v=v(N),v!=N&&v!=null&&e(x,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var x=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&x.push([N,v[N]]);return x}});var u=u||{},f=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,x){return c.call.apply(c.bind,arguments)}function y(c,v,x){return y=g,y.apply(null,arguments)}function b(c,v){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function E(c,v){function x(){}x.prototype=v.prototype,c.Z=v.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(N,B,G){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return v.prototype[B].apply(N,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const v=c.length;if(v>0){const x=Array(v);for(let N=0;N<v;N++)x[N]=c[N];return x}return[]}function z(c,v){for(let N=1;N<arguments.length;N++){const B=arguments[N];var x=typeof B;if(x=x!="object"?x:B?Array.isArray(B)?"array":x:"null",x=="array"||x=="object"&&typeof B.length=="number"){x=c.length||0;const G=B.length||0;c.length=x+G;for(let se=0;se<G;se++)c[x+se]=B[se]}else c.push(B)}}class Q{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(c){f.setTimeout(()=>{throw c},0)}function X(){var c=I;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ae{constructor(){this.h=this.g=null}add(v,x){const N=W.get();N.set(v,x),this.h?this.h.next=N:this.g=N,this.h=N}}var W=new Q(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ye=!1,I=new ae,R=()=>{const c=Promise.resolve(void 0);pe=()=>{c.then(D)}};function D(){for(var c;c=X();){try{c.h.call(c.g)}catch(x){L(x)}var v=W;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}ye=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};f.addEventListener("test",x,v),f.removeEventListener("test",x,v)}catch(x){}return c})();function A(c){return/^[\s\xa0]*$/.test(c)}function we(c,v){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}E(we,w),we.prototype.init=function(c,v){const x=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(x=="mouseover"?v=c.fromElement:x=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),Y=0;function re(c,v,x,N,B){this.listener=c,this.proxy=null,this.src=v,this.type=x,this.capture=!!N,this.ha=B,this.key=++Y,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,v,x){for(const N in c)v.call(x,c[N],N,c)}function ze(c,v){for(const x in c)v.call(void 0,c[x],x,c)}function k(c){const v={};for(const x in c)v[x]=c[x];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,v){let x,N;for(let B=1;B<arguments.length;B++){N=arguments[B];for(x in N)c[x]=N[x];for(let G=0;G<Z.length;G++)x=Z[G],Object.prototype.hasOwnProperty.call(N,x)&&(c[x]=N[x])}}function ie(c){this.src=c,this.g={},this.h=0}ie.prototype.add=function(c,v,x,N,B){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=be(c,v,N,B);return se>-1?(v=c[se],x||(v.fa=!1)):(v=new re(v,this.src,G,!!N,B),v.fa=x,c.push(v)),v};function me(c,v){const x=v.type;if(x in c.g){var N=c.g[x],B=Array.prototype.indexOf.call(N,v,void 0),G;(G=B>=0)&&Array.prototype.splice.call(N,B,1),G&&(ge(v),c.g[x].length==0&&(delete c.g[x],c.h--))}}function be(c,v,x,N){for(let B=0;B<c.length;++B){const G=c[B];if(!G.da&&G.listener==v&&G.capture==!!x&&G.ha==N)return B}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),he={};function He(c,v,x,N,B){if(Array.isArray(v)){for(let G=0;G<v.length;G++)He(c,v[G],x,N,B);return null}return x=ol(x),c&&c[Ue]?c.J(v,x,p(N)?!!N.capture:!1,B):An(c,v,x,!1,N,B)}function An(c,v,x,N,B,G){if(!v)throw Error("Invalid event type");const se=p(B)?!!B.capture:!!B;let Re=ui(c);if(Re||(c[Ne]=Re=new ie(c)),x=Re.add(v,x,N,se,G),x.proxy)return x;if(N=oi(),x.proxy=N,N.src=c,N.listener=x,c.addEventListener)C||(B=se),B===void 0&&(B=!1),c.addEventListener(v.toString(),N,B);else if(c.attachEvent)c.attachEvent(xt(v.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function oi(){function c(x){return v.call(c.src,c.listener,x)}const v=Nn;return c}function pa(c,v,x,N,B){if(Array.isArray(v))for(var G=0;G<v.length;G++)pa(c,v[G],x,N,B);else N=p(N)?!!N.capture:!!N,x=ol(x),c&&c[Ue]?(c=c.i,G=String(v).toString(),G in c.g&&(v=c.g[G],x=be(v,x,N,B),x>-1&&(ge(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete c.g[G],c.h--)))):c&&(c=ui(c))&&(v=c.g[v.toString()],c=-1,v&&(c=be(v,x,N,B)),(x=c>-1?v[c]:null)&&ga(x))}function ga(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ue])me(v.i,c);else{var x=c.type,N=c.proxy;v.removeEventListener?v.removeEventListener(x,N,c.capture):v.detachEvent?v.detachEvent(xt(x),N):v.addListener&&v.removeListener&&v.removeListener(N),(x=ui(v))?(me(x,c),x.h==0&&(x.src=null,v[Ne]=null)):ge(c)}}}function xt(c){return c in he?he[c]:he[c]="on"+c}function Nn(c,v){if(c.da)c=!0;else{v=new we(v,this);const x=c.listener,N=c.ha||c.src;c.fa&&ga(c),c=x.call(N,v)}return c}function ui(c){return c=c[Ne],c instanceof ie?c:null}var ya="__closure_events_fn_"+(Math.random()*1e9>>>0);function ol(c){return typeof c=="function"?c:(c[ya]||(c[ya]=function(v){return c.handleEvent(v)}),c[ya])}function Et(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}E(Et,V),Et.prototype[Ue]=!0,Et.prototype.removeEventListener=function(c,v,x,N){pa(this,c,v,x,N)};function Vt(c,v){var x,N=c.G;if(N)for(x=[];N;N=N.G)x.push(N);if(c=c.M,N=v.type||v,typeof v=="string")v=new w(v,c);else if(v instanceof w)v.target=v.target||c;else{var B=v;v=new w(N,c),le(v,B)}B=!0;let G,se;if(x)for(se=x.length-1;se>=0;se--)G=v.g=x[se],B=va(G,N,!0,v)&&B;if(G=v.g=c,B=va(G,N,!0,v)&&B,B=va(G,N,!1,v)&&B,x)for(se=0;se<x.length;se++)G=v.g=x[se],B=va(G,N,!1,v)&&B}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const x=c.g[v];for(let N=0;N<x.length;N++)ge(x[N]);delete c.g[v],c.h--}}this.G=null},Et.prototype.J=function(c,v,x,N){return this.i.add(String(c),v,!1,x,N)},Et.prototype.K=function(c,v,x,N){return this.i.add(String(c),v,!0,x,N)};function va(c,v,x,N){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let G=0;G<v.length;++G){const se=v[G];if(se&&!se.da&&se.capture==x){const Re=se.listener,yt=se.ha||se.src;se.fa&&me(c.i,se),B=Re.call(yt,N)!==!1&&B}}return B&&!N.defaultPrevented}function kh(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(c,v||0)}function Xo(c){c.g=kh(()=>{c.g=null,c.i&&(c.i=!1,Xo(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class tn extends V{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){V.call(this),this.h=c,this.g={}}E(ms,V);var ul=[];function cl(c){Ie(c.g,function(v,x){this.g.hasOwnProperty(x)&&ga(v)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),cl(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=f.JSON.stringify,Mh=f.JSON.parse,Zo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Jo(){}function Wo(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){w.call(this,"d")}E(Bt,w);function Rn(){w.call(this,"c")}E(Rn,w);var gt={},eu=null;function er(){return eu=eu||new Et}gt.Ia="serverreachability";function tu(c){w.call(this,gt.Ia,c)}E(tu,w);function ci(c){const v=er();Vt(v,new tu(v))}gt.STAT_EVENT="statevent";function ps(c,v){w.call(this,gt.STAT_EVENT,c),this.stat=v}E(ps,w);function wt(c){const v=er();Vt(v,new ps(v,c))}gt.Ja="timingevent";function hi(c,v){w.call(this,gt.Ja,c),this.size=v}E(hi,w);function fi(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Lh(c,v,x,N,B,G){c.info(function(){if(c.g)if(G){var se="",Re=G.split("&");for(let Qe=0;Qe<Re.length;Qe++){var yt=Re[Qe].split("=");if(yt.length>1){const ot=yt[0];yt=yt[1];const jn=ot.split("_");se=jn.length>=2&&jn[1]=="type"?se+(ot+"="+yt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+N+") [attempt "+B+"]: "+v+"\n"+x+"\n"+se})}function nu(c,v,x,N,B,G,se){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+B+"]: "+v+"\n"+x+"\n"+G+" "+se})}function di(c,v,x,N){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Uh(c,x)+(N?" "+N:"")})}function gs(c,v){c.info(function(){return"TIMEOUT: "+v})}Qn.prototype.info=function(){};function Uh(c,v){if(!c.g)return v;if(!v)return null;try{const G=JSON.parse(v);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var x=G[c];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var B=N[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<N.length;se++)N[se]=""}}}}return _a(G)}catch(G){return v}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function vs(){}E(vs,Jo),vs.prototype.g=function(){return new XMLHttpRequest},fl=new vs;function zi(c){return encodeURIComponent(String(c))}function iu(c){var v=1;c=c.split(":");const x=[];for(;v>0&&c.length;)x.push(c.shift()),v--;return c.length&&x.push(c.join(":")),x}function Kn(c,v,x,N){this.j=c,this.i=v,this.l=x,this.S=N||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function mi(c,v,x){c.M=1,c.A=_s(At(v)),c.u=x,c.R=!0,tr(c,null)}function tr(c,v){c.F=Date.now(),pi(c),c.B=At(c.A);var x=c.B,N=c.S;Array.isArray(N)||(N=[String(N)]),sr(x.i,"t",N),c.C=0,x=c.j.L,c.h=new Yn,c.g=vu(c.j,x?v:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),v=c.V,x=c.g,N=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(ul[0]=B.toString()),B=ul);for(let G=0;G<B.length;G++){const se=He(x,B[G],N||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),ci(),Lh(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const v=this.O;v&&Zn(c)==3?v.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Zn(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Re!=4||yt==7||(yt==8||Qe<=0?ci(3):ci(2)),gi(this);var v=this.g.ca();this.X=v;var x=Ph(this);if(this.o=v==200,nu(this.i,this.v,this.B,this.l,this.S,Re,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,B=this.g;if((N=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(N)){var G=N;break t}}G=null}if(c=G)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,wt(12),gn(this),Cn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<x.length;)if(ot=su(this,x),ot==Lt){Re==4&&(this.m=4,wt(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,wt(15),di(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,ot,null),yi(this,ot);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||x.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,x,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(x.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Nl(se),se.P=!0,wt(11))}}else di(this.i,this.l,x,null),yi(this,x);Re==4&&gn(this),this.o&&!this.K&&(Re==4?mu(this.j,this):(this.o=!1,pi(this)))}else qi(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),gn(this),Cn(this)}}}catch(Re){}finally{}};function Ph(c){if(!au(c))return c.g.la();const v=qt(c.g);if(v==="")return"";let x="";const N=v.length,B=Zn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<N;G++)c.h.h=!0,x+=c.h.i.decode(v[G],{stream:!(B&&G==N-1)});return v.length=0,c.h.g+=x,c.C=0,c.h.g}function au(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function su(c,v){var x=c.C,N=v.indexOf("\n",x);return N==-1?Lt:(x=Number(v.substring(x,N)),isNaN(x)?Tt:(N+=1,N+x>v.length?Lt:(v=v.slice(N,N+x),c.C=N+x,v)))}Kn.prototype.cancel=function(){this.K=!0,gn(this)};function pi(c){c.T=Date.now()+c.H,nr(c,c.H)}function nr(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(y(c.aa,c),v)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(ci(),wt(17)),gn(this),this.m=2,Cn(this)):nr(this,this.T-c)};function Cn(c){c.j.I==0||c.K||mu(c.j,c)}function gn(c){gi(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,cl(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function yi(c,v){try{var x=c.j;if(x.I!=0&&(x.g==c||_i(x.h,c))){if(!c.L&&_i(x.h,c)&&x.I==3){try{var N=x.Ba.g.parse(v)}catch(Qe){N=null}if(Array.isArray(N)&&N.length==3){var B=N;if(B[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)cr(x),Na(x);else break e;As(x),wt(18)}}else x.xa=B[1],0<x.xa-x.K&&B[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=fi(y(x.Va,x),6e3));vi(x.h)<=1&&x.ta&&(x.ta=void 0)}else Si(x,11)}else if((c.L||x.g==c)&&cr(x),!A(v))for(B=x.Ba.g.parse(v),v=0;v<B.length;v++){let Qe=B[v];const ot=Qe[0];if(!(ot<=x.K))if(x.K=ot,Qe=Qe[1],x.I==2)if(Qe[0]=="c"){x.M=Qe[1],x.ba=Qe[2];const jn=Qe[3];jn!=null&&(x.ka=jn,x.j.info("VER="+x.ka));const Ai=Qe[4];Ai!=null&&(x.za=Ai,x.j.info("SVER="+x.za));const Jn=Qe[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(N=1.5*Jn,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Wn=c.g;if(Wn){const Ns=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var G=N.h;G.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(pl(G,G.h),G.h=null))}if(N.G){const hr=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;hr&&(N.wa=hr,$e(N.J,N.G,hr))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var se=c;if(N.na=yu(N,N.L?N.ba:null,N.W),se.L){gl(N.h,se);var Re=se,yt=N.O;yt&&(Re.H=yt),Re.D&&(gi(Re),pi(Re)),N.g=se}else fu(N);x.i.length>0&&Ti(x)}else Qe[0]!="stop"&&Qe[0]!="close"||Si(x,7);else x.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Si(x,7):Sl(x):Qe[0]!="noop"&&x.l&&x.l.qa(Qe),x.A=0)}}ci(4)}catch(Qe){}}var St=class{constructor(c,v){this.g=c,this.map=v}};function dl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function _i(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function pl(c,v){c.g?c.g.add(v):c.h=v}function gl(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}dl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const x of c.g.values())v=v.concat(x.G);return v}return O(c.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(c,v){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const N=c[x].indexOf("=");let B,G=null;N>=0?(B=c[x].substring(0,N),G=c[x].substring(N+1)):B=c[x],v(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof yn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ba(this,c.u),this.h=c.h,vl(this,cu(c.i)),this.m=c.m):c&&(v=String(c).match(ru))?(this.l=!1,Ut(this,v[1]||"",!0),this.o=bi(v[2]||""),this.g=bi(v[3]||"",!0),ba(this,v[4]),this.h=bi(v[5]||"",!0),vl(this,v[6]||"",!0),this.m=bi(v[7]||"")):(this.l=!1,this.i=new Ea(null,this.l))}yn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(bs(v,ar,!0),":");var x=this.g;return(x||v=="file")&&(c.push("//"),(v=this.o)&&c.push(bs(v,ar,!0),"@"),c.push(zi(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(bs(x,x.charAt(0)=="/"?_l:lu,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",bs(x,ou)),c.join("")},yn.prototype.resolve=function(c){const v=At(this);let x=!!c.j;x?Ut(v,c.j):x=!!c.o,x?v.o=c.o:x=!!c.g,x?v.g=c.g:x=c.u!=null;var N=c.h;if(x)ba(v,c.u);else if(x=!!c.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var B=v.h.lastIndexOf("/");B!=-1&&(N=v.h.slice(0,B+1)+N)}if(B=N,B==".."||B==".")N="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){N=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let se=0;se<B.length;){const Re=B[se++];Re=="."?N&&se==B.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),N&&se==B.length&&G.push("")):(G.push(Re),N=!0)}N=G.join("/")}else N=B}return x?v.h=N:x=c.i.toString()!=="",x?vl(v,cu(c.i)):x=!!c.m,x&&(v.m=c.m),v};function At(c){return new yn(c)}function Ut(c,v,x){c.j=x?bi(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function ba(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function vl(c,v,x){v instanceof Ea?(c.i=v,rr(c.i,c.l)):(x||(v=bs(v,xa)),c.i=new Ea(v,c.l))}function $e(c,v,x){c.i.set(v,x)}function _s(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,v,x){return typeof c=="string"?(c=encodeURI(c).replace(v,sn),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ar=/[#\/\?@]/g,lu=/[#\?:]/g,_l=/[#\?]/g,xa=/[#\?@]/g,ou=/#/g;function Ea(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ir(c.i,function(v,x){c.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}a=Ea.prototype,a.add=function(c,v){rn(this),this.i=null,c=wa(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(v),this.h+=1,this};function uu(c,v){rn(c),v=wa(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function bl(c,v){return rn(c),v=wa(c,v),c.g.has(v)}a.forEach=function(c,v){rn(this),this.g.forEach(function(x,N){x.forEach(function(B){c.call(v,B,N,this)},this)},this)};function xl(c,v){rn(c);let x=[];if(typeof v=="string")bl(c,v)&&(x=x.concat(c.g.get(wa(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)x=x.concat(c[v]);return x}a.set=function(c,v){return rn(this),this.i=null,c=wa(this,c),bl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},a.get=function(c,v){return c?(c=xl(this,c),c.length>0?String(c[0]):v):v};function sr(c,v,x){uu(c,v),x.length>0&&(c.i=null,c.g.set(wa(c,v),O(x)),c.h+=x.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var x=v[N];const B=zi(x);x=xl(this,x);for(let G=0;G<x.length;G++){let se=B;x[G]!==""&&(se+="="+zi(x[G])),c.push(se)}}return this.i=c.join("&")};function cu(c){const v=new Ea;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function wa(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function rr(c,v){v&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(x,N){const B=N.toLowerCase();N!=B&&(uu(this,N),sr(this,B,x))},c)),c.j=v}function $n(c,v){const x=new Qn;if(f.Image){const N=new Image;N.onload=b(Dn,x,"TestLoadImage: loaded",!0,v,N),N.onerror=b(Dn,x,"TestLoadImage: error",!1,v,N),N.onabort=b(Dn,x,"TestLoadImage: abort",!1,v,N),N.ontimeout=b(Dn,x,"TestLoadImage: timeout",!1,v,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else v(!1)}function El(c,v){const x=new Qn,N=new AbortController,B=setTimeout(()=>{N.abort(),Dn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:N.signal}).then(G=>{clearTimeout(B),G.ok?Dn(x,"TestPingServer: ok",!0,v):Dn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Dn(x,"TestPingServer: error",!1,v)})}function Dn(c,v,x,N,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),N(x)}catch(G){}}function Ta(){this.g=new Zo}function xi(c){this.i=c.Sb||null,this.h=c.ab||!1}E(xi,Jo),xi.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,v){Et.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(xs,Et),a=xs.prototype,a.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,Xn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function lr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Sa(this):Xn(this),this.readyState==3&&lr(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,Sa(this))},a.Na=function(c){this.g&&(this.response=c,Sa(this))},a.ga=function(){this.g&&Sa(this)};function Sa(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}a.setRequestHeader=function(c,v){this.A.append(c,v)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=v.next();return c.join("\r\n")};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let v="";return Ie(c,function(x,N){v+=N,v+=":",v+=x,v+="\r\n"}),v}function Es(c,v,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=In(x),typeof c=="string"?x!=null&&zi(x):$e(c,v,x))}function Je(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,Et);var Ei=/^https?$/i,wl=["POST","PUT"];a=Je.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,v,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(G){ws(this,G);return}if(c=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var B in N)x.set(B,N[B]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const G of N.keys())x.set(G,N.get(G));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(G=>G.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(wl,v,void 0)>=0)||N||B||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of x)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){ws(this,G)}};function ws(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Tl(c),Bi(c)}function Tl(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Bi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Je.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Ts(this):this.Xa())},a.Xa=function(){Ts(this)};function Ts(c){if(c.h&&typeof u<"u"){if(c.v&&Zn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var N;if(N=G===0){let se=String(c.D).match(ru)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),N=!Ei.test(se?se.toLowerCase():"")}x=N}if(x)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var B=Zn(c)>2?c.g.statusText:""}catch(se){B=""}c.l=B+" ["+c.ca()+"]",Tl(c)}}finally{Bi(c)}}}}function Bi(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,v||Vt(c,"ready");try{x.onreadystatechange=null}catch(N){}}}a.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch(c){return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},a.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Mh(v)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch(v){return null}}function qi(c){const v={};c=(c.g&&Zn(c)>=2&&c.g.getAllResponseHeaders()||"").split("\r\n");for(let N=0;N<c.length;N++){if(A(c[N]))continue;var x=iu(c[N]);const B=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const G=v[B]||[];v[B]=G,G.push(x)}ze(v,function(N){return N.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||v}function Aa(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new dl(c&&c.concurrentRequestLimit),this.Ba=new Ta,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Aa.prototype,a.ka=8,a.I=1,a.connect=function(c,v,x,N){wt(0),this.W=c,this.H=v||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=yu(this,null,this.W),Ti(this)};function Sl(c){if(or(c),c.I==3){var v=c.V++,x=At(c.J);if($e(x,"SID",c.M),$e(x,"RID",v),$e(x,"TYPE","terminate"),Ss(c,x),v=new Kn(c,c.j,v),v.M=2,v.A=_s(At(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(v.A.toString(),"")}catch(N){}!x&&f.Image&&(new Image().src=v.A,x=!0),x||(v.g=vu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),pi(v)}gu(c)}function Na(c){c.g&&(Nl(c),c.g.cancel(),c.g=null)}function or(c){Na(c),c.v&&(f.clearTimeout(c.v),c.v=null),cr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!ml(c.h)&&!c.m){c.m=!0;var v=c.Ea;pe||R(),ye||(pe(),ye=!0),I.add(v,c),c.D=0}}function ur(c,v){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(y(c.Ea,c,v),pu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Kn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=k(G),le(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=hu(this,B,v),x=At(this.J),$e(x,"RID",c),$e(x,"CVER",22),this.G&&$e(x,"X-HTTP-Session-Id",this.G),Ss(this,x),G&&(this.R?v="headers="+zi(In(G))+"&"+v:this.u&&Es(x,this.u,G)),pl(this.h,B),this.Ra&&$e(x,"TYPE","init"),this.S?($e(x,"$req",v),$e(x,"SID","null"),B.U=!0,mi(B,x,null)):mi(B,x,v),this.I=2}}else this.I==3&&(c?Al(this,c):this.i.length==0||ml(this.h)||Al(this))};function Al(c,v){var x;v?x=v.l:x=c.V++;const N=At(c.J);$e(N,"SID",c.M),$e(N,"RID",x),$e(N,"AID",c.K),Ss(c,N),c.u&&c.o&&Es(N,c.u,c.o),x=new Kn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),v&&(c.i=v.G.concat(c.i)),v=hu(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),pl(c.h,x),mi(x,N,v)}function Ss(c,v){c.H&&Ie(c.H,function(x,N){$e(v,N,x)}),c.l&&Ie({},function(x,N){$e(v,N,x)})}function hu(c,v,x){x=Math.min(c.i.length,x);const N=c.l?y(c.l.Ka,c.l,c):null;e:{var B=c.i;let Re=-1;for(;;){const yt=["count="+x];Re==-1?x>0?(Re=B[0].g,yt.push("ofs="+Re)):Re=0:yt.push("ofs="+Re);let Qe=!0;for(let ot=0;ot<x;ot++){var G=B[ot].g;const jn=B[ot].map;if(G-=Re,G<0)Re=Math.max(0,B[ot].g-100),Qe=!1;else try{G="req"+G+"_"||"";try{var se=jn instanceof Map?jn:Object.entries(jn);for(const[Ai,Jn]of se){let Wn=Jn;p(Jn)&&(Wn=_a(Jn)),yt.push(G+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw yt.push(G+"type="+encodeURIComponent("_badmap")),Ai}}catch(Ai){N&&N(jn)}}if(Qe){se=yt.join("&");break e}}se=void 0}return c=c.i.splice(0,x),v.G=c,se}function fu(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;pe||R(),ye||(pe(),ye=!0),I.add(v,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(y(c.Da,c),pu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(y(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Na(this),du(this))};function Nl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function du(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=At(c.na);$e(v,"RID","rpc"),$e(v,"SID",c.M),$e(v,"AID",c.K),$e(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(v,"TO",c.ia),$e(v,"TYPE","xmlhttp"),Ss(c,v),c.u&&c.o&&Es(v,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=_s(At(v)),x.u=null,x.R=!0,tr(x,c)}a.Va=function(){this.C!=null&&(this.C=null,Na(this),As(this),wt(19))};function cr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function mu(c,v){var x=null;if(c.g==v){cr(c),Nl(c),c.g=null;var N=2}else if(_i(c.h,v))x=v.G,gl(c.h,v),N=1;else return;if(c.I!=0){if(v.o)if(N==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var B=c.D;N=er(),Vt(N,new hi(N,x)),Ti(c)}else fu(c);else if(B=v.m,B==3||B==0&&v.X>0||!(N==1&&ur(c,v)||N==2&&As(c)))switch(x&&x.length>0&&(v=c.h,v.i=v.i.concat(x)),B){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function pu(c,v){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*v}function Si(c,v){if(c.j.info("Error code "+v),v==2){var x=y(c.bb,c),N=c.Ua;const B=!N;N=new yn(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(N,"https"),_s(N),B?$n(N.toString(),x):El(N.toString(),x)}else wt(2);c.I=0,c.l&&c.l.pa(v),gu(c),or(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function gu(c){if(c.I=0,c.ja=[],c.l){const v=yl(c.h);(v.length!=0||c.i.length!=0)&&(z(c.ja,v),z(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function yu(c,v,x){var N=x instanceof yn?At(x):new yn(x);if(N.g!="")v&&(N.g=v+"."+N.g),ba(N,N.u);else{var B=f.location;N=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const G=new yn(null);N&&Ut(G,N),v&&(G.g=v),B&&ba(G,B),x&&(G.h=x),N=G}return x=c.G,v=c.wa,x&&v&&$e(N,x,v),$e(N,"VER",c.ka),Ss(c,N),N}function vu(c,v,x){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Je(new xi({ab:x})):new Je(c.ma),v.Fa(c.L),v}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}a=_u.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ra(){}Ra.prototype.g=function(c,v){return new nn(c,v)};function nn(c,v){Et.call(this),this.g=new Aa(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!A(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!A(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Hi(this)}E(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Sl(this.g)},nn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=_a(c),c=x);v.i.push(new St(v.Ya++,c)),v.I==3&&Ti(v)},nn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,nn.Z.N.call(this)};function bu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const x in v){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}E(bu,Bt);function xu(){Rn.call(this),this.status=1}E(xu,Rn);function Hi(c){this.g=c}E(Hi,_u),Hi.prototype.ra=function(){Vt(this.g,"a")},Hi.prototype.qa=function(c){Vt(this.g,new bu(c))},Hi.prototype.pa=function(c){Vt(this.g,new xu)},Hi.prototype.oa=function(){Vt(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,kb=function(){return new Ra},Vb=function(){return er()},Ob=gt,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,kc=ys,hl.COMPLETE="complete",jb=hl,Wo.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,po=Wo,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Ib=Je}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore",jv="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let il="12.3.0";const Ks=new Eb("@firebase/firestore");function Br(){return Ks.logLevel}function ce(a,...e){if(Ks.logLevel<=qe.DEBUG){const i=e.map(Hm);Ks.debug("Firestore (".concat(il,"): ").concat(a),...i)}}function ha(a,...e){if(Ks.logLevel<=qe.ERROR){const i=e.map(Hm);Ks.error("Firestore (".concat(il,"): ").concat(a),...i)}}function Yr(a,...e){if(Ks.logLevel<=qe.WARN){const i=e.map(Hm);Ks.warn("Firestore (".concat(il,"): ").concat(a),...i)}}function Hm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch(e){return a}}function Ee(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Mb(a,s,i)}function Mb(a,e,i){let s="FIRESTORE (".concat(il,") INTERNAL ASSERTION FAILED: ").concat(e," (ID: ").concat(a.toString(16),")");if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch(o){s+=" CONTEXT: "+i}throw ha(s),new Error(s)}function Ye(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||Mb(e,o,s)}function Ae(a,e){return a}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ts{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Lb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class vA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class _A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class bA{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ye(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new Lb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class xA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new xA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(u.error.message));const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider","Received ".concat(f?"new":"existing"," token.")),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ye(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function TA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TA(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=e.charAt(o[u]%62))}return s}}function Me(a,e){return a<e?-1:a>e?1:0}function mm(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return Kd(o)===Kd(u)?Me(o,u):Kd(o)?1:-1}return Me(a.length,e.length)}const SA=55296,AA=57343;function Kd(a){const e=a.charCodeAt(0);return e>=SA&&e<=AA}function $r(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}const Vv="__name__";class Ii{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Ee(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return Me(e.length,i.length)}static compareSegments(e,i){const s=Ii.isNumericId(e),o=Ii.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class it extends Ii{construct(e,i,s){return new it(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(ee.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));i.push(...s.split("/").filter((o=>o.length>0)))}return new it(i)}static emptyPath(){return new it([])}}const NA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ii{construct(e,i,s){return new Yt(e,i,s)}static isValidIdentifier(e){return NA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new Yt([Vv])}static fromServerFormat(e){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));i.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new oe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(i)}static emptyPath(){return new Yt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return it.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}function Ub(a,e,i){if(!i)throw new oe(ee.INVALID_ARGUMENT,"Function ".concat(a,"() cannot be called with an empty ").concat(e,"."))}function RA(a,e,i,s){if(e===!0&&s===!0)throw new oe(ee.INVALID_ARGUMENT,"".concat(a," and ").concat(i," cannot be used together."))}function kv(a){if(!_e.isDocumentKey(a))throw new oe(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(a," has ").concat(a.length,"."))}function Mv(a){if(_e.isDocumentKey(a))throw new oe(ee.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(a," has ").concat(a.length,"."))}function Pb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function dh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a="".concat(a.substring(0,20),"...")),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?"a custom ".concat(e," object"):"an object"}}return typeof a=="function"?"a function":Ee(12329,{type:typeof a})}function Hn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new oe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(a);throw new oe(ee.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(i))}}return a}function Ot(a,e){const i={typeString:a};return e&&(i.value=e),i}function Fo(a,e){if(!Pb(a))throw new oe(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i="JSON missing required field: '".concat(s,"'");break}const f=a[s];if(o&&typeof f!==o){i="JSON field '".concat(s,"' must be a ").concat(o,".");break}if(u!==void 0&&f!==u.value){i="Expected '".concat(s,"' field to equal '").concat(u.value,"'");break}}if(i)throw new oe(ee.INVALID_ARGUMENT,i);return!0}const Lv=-62135596800,Uv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Uv);return new rt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Lv)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ot("string",rt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Do=-1;function CA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new rt(i+1,0):new rt(i,s));return new is(o,_e.empty(),e)}function DA(a){return new is(a.readTime,a.key,Do)}class is{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new is(Te.min(),_e.empty(),Do)}static max(){return new is(Te.max(),_e.empty(),Do)}}function IA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(a.documentKey,e.documentKey),i!==0?i:Me(a.largestBatchId,e.largestBatchId))}const jA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function al(a){if(a.code!==ee.FAILED_PRECONDITION||a.message!==jA)throw a;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ne?i:ne.resolve(i)}catch(i){return ne.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.reject(i)}static resolve(e){return new ne(((i,s)=>{i(e)}))}static reject(e){return new ne(((i,s)=>{s(e)}))}static waitFor(e){return new ne(((i,s)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&i()}),(g=>s(g)))})),f=!0,u===o&&i()}))}static or(e){let i=ne.resolve(!1);for(const s of e)i=i.next((o=>o?ne.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(e,i){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;i(e[y]).next((b=>{f[y]=b,++p,p===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,i){return new ne(((s,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):s()};u()}))}}function VA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function sl(a){return a.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const Gm=-1;function ph(a){return a==null}function Qc(a){return a===0&&1/a==-1/0}function kA(a){return typeof a=="number"&&Number.isInteger(a)&&!Qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const zb="";function MA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Pv(e)),e=LA(a.get(i),e);return Pv(e)}function LA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":i+="";break;case zb:i+="";break;default:i+=u}}return i}function Pv(a){return a+zb+""}function zv(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function hs(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Bb(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ft{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new ft(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push("".concat(i,":").concat(s)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s!=null?s:Kt.RED,this.left=o!=null?o:Kt.EMPTY,this.right=u!=null?u:Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,u){return new Kt(e!=null?e:this.key,i!=null?i:this.value,s!=null?s:this.color,o!=null?o:this.left,u!=null?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,s,o,u){return this}insert(e,i,s){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(e){return new Bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class Bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Sn([])}unionWith(e){let i=new Mt(Yt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Sn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return $r(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new qb("Invalid base64 string: "+u):u}})(e);return new $t(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const UA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(a){if(Ye(!!a,39018),typeof a=="string"){let e=0;const i=UA.exec(a);if(Ye(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(a.seconds),nanos:bt(a.nanos)}}function bt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ss(a){return typeof a=="string"?$t.fromBase64String(a):$t.fromUint8Array(a)}const Hb="server_timestamp",Fb="__type__",Gb="__previous_value__",Qb="__local_write_time__";function Qm(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[Fb])==null?void 0:s.stringValue)===Hb}function gh(a){const e=a.mapValue.fields[Gb];return Qm(e)?gh(e):e}function Io(a){const e=as(a.mapValue.fields[Qb].timestampValue);return new rt(e.seconds,e.nanos)}class PA{constructor(e,i,s,o,u,f,p,g,y,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const Kc="(default)";class jo{constructor(e,i){this.projectId=e,this.database=i||Kc}static empty(){return new jo("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(e){return e instanceof jo&&e.projectId===this.projectId&&e.database===this.database}}const Kb="__type__",zA="__max__",Rc={mapValue:{}},Yb="__vector__",Yc="value";function rs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Qm(a)?4:qA(a)?9007199254740991:BA(a)?10:11:Ee(28295,{value:a})}function Li(a,e){if(a===e)return!0;const i=rs(a);if(i!==rs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Io(a).isEqual(Io(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=as(o.timestampValue),p=as(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),p=bt(u.doubleValue);return f===p?Qc(f)===Qc(p):isNaN(f)&&isNaN(p)}return!1})(a,e);case 9:return $r(a.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(zv(f)!==zv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Li(f[g],p[g])))return!1;return!0})(a,e);default:return Ee(52216,{left:a})}}function Oo(a,e){return(a.values||[]).find((i=>Li(i,e)))!==void 0}function Xr(a,e){if(a===e)return 0;const i=rs(a),s=rs(e);if(i!==s)return Me(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Me(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=bt(u.integerValue||u.doubleValue),g=bt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return qv(a.timestampValue,e.timestampValue);case 4:return qv(Io(a),Io(e));case 5:return mm(a.stringValue,e.stringValue);case 6:return(function(u,f){const p=ss(u),g=ss(f);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=Me(p[y],g[y]);if(b!==0)return b}return Me(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Me(bt(u.latitude),bt(f.latitude));return p!==0?p:Me(bt(u.longitude),bt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Hv(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var S,O,z,Q;const p=u.fields||{},g=f.fields||{},y=(S=p[Yc])==null?void 0:S.arrayValue,b=(O=g[Yc])==null?void 0:O.arrayValue,E=Me(((z=y==null?void 0:y.values)==null?void 0:z.length)||0,((Q=b==null?void 0:b.values)==null?void 0:Q.length)||0);return E!==0?E:Hv(y,b)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Rc.mapValue&&f===Rc.mapValue)return 0;if(u===Rc.mapValue)return 1;if(f===Rc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let E=0;E<g.length&&E<b.length;++E){const S=mm(g[E],b[E]);if(S!==0)return S;const O=Xr(p[g[E]],y[b[E]]);if(O!==0)return O}return Me(g.length,b.length)})(a.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function qv(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Me(a,e);const i=as(a),s=as(e),o=Me(i.seconds,s.seconds);return o!==0?o:Me(i.nanos,s.nanos)}function Hv(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=Xr(i[o],s[o]);if(u)return u}return Me(i.length,s.length)}function Zr(a){return pm(a)}function pm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=as(i);return"time(".concat(s.seconds,",").concat(s.nanos,")")})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return ss(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return _e.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return"geo(".concat(i.latitude,",").concat(i.longitude,")")})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=pm(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+="".concat(f,":").concat(pm(i.fields[f]));return o+"}"})(a.mapValue):Ee(61005,{value:a})}function Mc(a){switch(rs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(a);return e?16+Mc(e):16;case 5:return 2*a.stringValue.length;case 6:return ss(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Mc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return hs(s.fields,((u,f)=>{o+=u.length+Mc(f)})),o})(a.mapValue);default:throw Ee(13486,{value:a})}}function Fv(a,e){return{referenceValue:"projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(e.path.canonicalString())}}function gm(a){return!!a&&"integerValue"in a}function Km(a){return!!a&&"arrayValue"in a}function Gv(a){return!!a&&"nullValue"in a}function Qv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Lc(a){return!!a&&"mapValue"in a}function BA(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[Kb])==null?void 0:s.stringValue)===Yb}function Eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return hs(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Eo(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Eo(a.arrayValue.values[i]);return e}return{...a}}function qA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===zA}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Lc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(i)}setAll(e){let i=Yt.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=p.popLast()}f?s[p.lastSegment()]=Eo(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(e){const i=this.field(e.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){hs(i,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Eo(this.value))}}function $b(a){const e=[];return hs(a.fields,((i,s)=>{const o=new Yt([i]);if(Lc(s)){const u=$b(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Sn(e)}class Wt{constructor(e,i,s,o,u,f,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,i,s,o){return new Wt(e,1,i,Te.min(),s,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class $c{constructor(e,i){this.position=e,this.inclusive=i}}function Kv(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),i.key):s=Xr(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Li(a.position[i],e.position[i]))return!1;return!0}class Vo{constructor(e,i="asc"){this.field=e,this.dir=i}}function HA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Xb{}class jt extends Xb{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new GA(e,i,s):i==="array-contains"?new YA(e,s):i==="in"?new $A(e,s):i==="not-in"?new XA(e,s):i==="array-contains-any"?new ZA(e,s):new jt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new QA(e,s):new KA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xr(i,this.value)):i!==null&&rs(this.value)===rs(i)&&this.matchesComparison(Xr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Xb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ri(e,i)}matches(e){return Zb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zb(a){return a.op==="and"}function Jb(a){return FA(a)&&Zb(a)}function FA(a){for(const e of a.filters)if(e instanceof ri)return!1;return!0}function ym(a){if(a instanceof jt)return a.field.canonicalString()+a.op.toString()+Zr(a.value);if(Jb(a))return a.filters.map((e=>ym(e))).join(",");{const e=a.filters.map((i=>ym(i))).join(",");return"".concat(a.op,"(").concat(e,")")}}function Wb(a,e){return a instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(a,e):a instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&Wb(f,o.filters[p])),!0):!1})(a,e):void Ee(19439)}function ex(a){return a instanceof jt?(function(i){return"".concat(i.field.canonicalString()," ").concat(i.op," ").concat(Zr(i.value))})(a):a instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(ex).join(" ,")+"}"})(a):"Filter"}class GA extends jt{constructor(e,i,s){super(e,i,s),this.key=_e.fromName(s.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class QA extends jt{constructor(e,i){super(e,"in",i),this.keys=tx("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class KA extends jt{constructor(e,i){super(e,"not-in",i),this.keys=tx("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function tx(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>_e.fromName(s.referenceValue)))}class YA extends jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&Oo(i.arrayValue,this.value)}}class $A extends jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class XA extends jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class ZA extends jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Oo(this.value.arrayValue,s)))}}class JA{constructor(e,i=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function $v(a,e=null,i=[],s=[],o=null,u=null,f=null){return new JA(a,e,i,s,o,u,f)}function Ym(a){const e=Ae(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>ym(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Zr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Zr(s))).join(",")),e.Te=i}return e.Te}function $m(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!HA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Wb(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Yv(a.startAt,e.startAt)&&Yv(a.endAt,e.endAt)}function vm(a){return _e.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class rl{constructor(e,i=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WA(a,e,i,s,o,u,f,p){return new rl(a,e,i,s,o,u,f,p)}function yh(a){return new rl(a)}function Xv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function nx(a){return a.collectionGroup!==null}function wo(a){const e=Ae(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Mt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Vo(u,s))})),i.has(Yt.keyField().canonicalString())||e.Ie.push(new Vo(Yt.keyField(),s))}return e.Ie}function ji(a){const e=Ae(a);return e.Ee||(e.Ee=eN(e,wo(a))),e.Ee}function eN(a,e){if(a.limitType==="F")return $v(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vo(o.field,u)}));const i=a.endAt?new $c(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new $c(a.startAt.position,a.startAt.inclusive):null;return $v(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function _m(a,e){const i=a.filters.concat([e]);return new rl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Xc(a,e,i){return new rl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function vh(a,e){return $m(ji(a),ji(e))&&a.limitType===e.limitType}function ix(a){return"".concat(Ym(ji(a)),"|lt:").concat(a.limitType)}function qr(a){return"Query(target=".concat((function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=", filters: [".concat(i.filters.map((o=>ex(o))).join(", "),"]")),ph(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=", orderBy: [".concat(i.orderBy.map((o=>(function(f){return"".concat(f.field.canonicalString()," (").concat(f.dir,")")})(o))).join(", "),"]")),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Zr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Zr(o))).join(",")),"Target(".concat(s,")")})(ji(a)),"; limitType=").concat(a.limitType,")")}function _h(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of wo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=Kv(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,wo(s),o)||s.endAt&&!(function(f,p,g){const y=Kv(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,wo(s),o))})(a,e)}function tN(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function ax(a){return(e,i)=>{let s=!1;for(const o of wo(a)){const u=nN(o,e,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function nN(a,e,i){const s=a.field.isKeyField()?_e.comparator(e.key,i.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Xr(g,y):Ee(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:a.dir})}}class Js{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((i,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Bb(this.inner)}size(){return this.innerSize}}const iN=new ft(_e.comparator);function fa(){return iN}const sx=new ft(_e.comparator);function go(...a){let e=sx;for(const i of a)e=e.insert(i.key,i);return e}function rx(a){let e=sx;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Fs(){return To()}function lx(){return To()}function To(){return new Js((a=>a.toString()),((a,e)=>a.isEqual(e)))}const aN=new ft(_e.comparator),sN=new Mt(_e.comparator);function Le(...a){let e=sN;for(const i of a)e=e.add(i);return e}const rN=new Mt(Me);function lN(){return rN}function Xm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function ox(a){return{integerValue:""+a}}function oN(a,e){return kA(e)?ox(e):Xm(a,e)}class bh{constructor(){this._=void 0}}function uN(a,e,i){return a instanceof Zc?(function(o,u){const f={fields:{[Fb]:{stringValue:Hb},[Qb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qm(u)&&(u=gh(u)),u&&(f.fields[Gb]=u),{mapValue:f}})(i,e):a instanceof ko?cx(a,e):a instanceof Mo?hx(a,e):(function(o,u){const f=ux(o,u),p=Zv(f)+Zv(o.Ae);return gm(f)&&gm(o.Ae)?ox(p):Xm(o.serializer,p)})(a,e)}function cN(a,e,i){return a instanceof ko?cx(a,e):a instanceof Mo?hx(a,e):i}function ux(a,e){return a instanceof Jc?(function(s){return gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Zc extends bh{}class ko extends bh{constructor(e){super(),this.elements=e}}function cx(a,e){const i=fx(e);for(const s of a.elements)i.some((o=>Li(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Mo extends bh{constructor(e){super(),this.elements=e}}function hx(a,e){let i=fx(e);for(const s of a.elements)i=i.filter((o=>!Li(o,s)));return{arrayValue:{values:i}}}class Jc extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Zv(a){return bt(a.integerValue||a.doubleValue)}function fx(a){return Km(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function hN(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof ko&&o instanceof ko||s instanceof Mo&&o instanceof Mo?$r(s.elements,o.elements,Li):s instanceof Jc&&o instanceof Jc?Li(s.Ae,o.Ae):s instanceof Zc&&o instanceof Zc})(a.transform,e.transform)}class fN{constructor(e,i){this.version=e,this.transformResults=i}}class Fn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class xh{}function dx(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Zm(a.key,Fn.none()):new Go(a.key,a.data,Fn.none());{const i=a.data,s=mn.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new fs(a.key,s,new Sn(o.toArray()),Fn.none())}}function dN(a,e,i){a instanceof Go?(function(o,u,f){const p=o.value.clone(),g=Wv(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,i):a instanceof fs?(function(o,u,f){if(!Uc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Wv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(mx(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function So(a,e,i,s){return a instanceof Go?(function(u,f,p,g){if(!Uc(u.precondition,f))return p;const y=u.value.clone(),b=e_(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,i,s):a instanceof fs?(function(u,f,p,g){if(!Uc(u.precondition,f))return p;const y=e_(u.fieldTransforms,g,f),b=f.data;return b.setAll(mx(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(a,e,i,s):(function(u,f,p){return Uc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,e,i)}function mN(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=ux(s.transform,o||null);u!=null&&(i===null&&(i=mn.empty()),i.set(s.field,u))}return i||null}function Jv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$r(s,o,((u,f)=>hN(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Go extends xh{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fs extends xh{constructor(e,i,s,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mx(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function Wv(a,e,i){const s=new Map;Ye(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const u=a[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,cN(f,p,i[o]))}return s}function e_(a,e,i){const s=new Map;for(const o of a){const u=o.transform,f=i.data.field(o.field);s.set(o.field,uN(u,f,e))}return s}class Zm extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pN extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gN{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dN(u,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=So(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=So(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=lx();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(o.key)?null:p;const g=dx(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&$r(this.mutations,e.mutations,((i,s)=>Jv(i,s)))&&$r(this.baseMutations,e.baseMutations,((i,s)=>Jv(i,s)))}}class Jm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return aN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Jm(e,i,s,o)}}class yN{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class vN{constructor(e,i){this.count=e,this.unchangedNames=i}}var It,Be;function _N(a){switch(a){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:a})}}function px(a){if(a===void 0)return ha("GRPC error has no .code"),ee.UNKNOWN;switch(a){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:a})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function bN(){return new TextEncoder}const xN=new es([4294967295,4294967295],0);function t_(a){const e=bN().encode(a),i=new Db;return i.update(e),new Uint8Array(i.digest())}function n_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([i,s],0),new es([o,u],0)]}class Wm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new yo("Invalid padding: ".concat(i));if(s<0)throw new yo("Invalid hash count: ".concat(s));if(e.length>0&&this.hashCount===0)throw new yo("Invalid hash count: ".concat(s));if(e.length===0&&i!==0)throw new yo("Invalid padding when bitmap length is 0: ".concat(i));this.ge=8*e.length-i,this.pe=es.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(es.fromNumber(s)));return o.compare(xN)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=t_(e),[s,o]=n_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Wm(u,o,i);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=t_(e),[s,o]=n_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(e,i,s,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Qo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Eh(Te.min(),o,new ft(Me),fa(),Le())}}class Qo{constructor(e,i,s,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Qo(s,i,Le(),Le(),Le())}}class Pc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class gx{constructor(e,i){this.targetId=e,this.Ce=i}}class yx{constructor(e,i,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class i_{constructor(){this.ve=0,this.Fe=a_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),i=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Qo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=a_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EN{constructor(e){this.Ge=e,this.ze=new Map,this.je=fa(),this.Je=Cc(),this.He=Cc(),this.Ye=new ft(Me)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(vm(u))if(s===0){const f=new _e(u.path);this.et(i,f,Wt.newNoDocument(f,Te.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let f,p;try{f=ss(s).toUint8Array()}catch(g){if(g instanceof qb)return Yr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Wm(f,o,u)}catch(g){return Yr(g instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p="projects/".concat(f.projectId,"/databases/").concat(f.database,"/documents/").concat(u.path.canonicalString());e.mightContain(p)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&vm(p.target)){const g=new _e(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Eh(e,i,this.Ye,this.je,s);return this.je=fa(),this.Je=Cc(),this.He=Cc(),this.Ye=new ft(Me),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new i_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Mt(Me),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Mt(Me),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Cc(){return new ft(_e.comparator)}function a_(){return new ft(_e.comparator)}const wN={asc:"ASCENDING",desc:"DESCENDING"},TN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SN={and:"AND",or:"OR"};class AN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(a,e){return a.useProto3Json||ph(e)?e:{value:e}}function Wc(a,e){return a.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function NN(a,e){return Wc(a,e.toTimestamp())}function Oi(a){return Ye(!!a,49232),Te.fromTimestamp((function(i){const s=as(i);return new rt(s.seconds,s.nanos)})(a))}function ep(a,e){return xm(a,e).canonicalString()}function xm(a,e){const i=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function _x(a){const e=it.fromString(a);return Ye(Tx(e),10190,{key:e.toString()}),e}function Em(a,e){return ep(a.databaseId,e.path)}function Yd(a,e){const i=_x(e);if(i.get(1)!==a.databaseId.projectId)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new _e(xx(i))}function bx(a,e){return ep(a.databaseId,e)}function RN(a){const e=_x(a);return e.length===4?it.emptyPath():xx(e)}function wm(a){return new it(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function xx(a){return Ye(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function s_(a,e,i){return{name:Em(a,e),fields:i.value.mapValue.fields}}function CN(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),$t.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$t.fromUint8Array(b||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const b=y.code===void 0?ee.UNKNOWN:px(y.code);return new oe(b,y.message||"")})(f);i=new yx(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Yd(a,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):Te.min(),p=new mn({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,p),y=s.targetIds||[],b=s.removedTargetIds||[];i=new Pc(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Yd(a,s.document),u=s.readTime?Oi(s.readTime):Te.min(),f=Wt.newNoDocument(o,u),p=s.removedTargetIds||[];i=new Pc([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Yd(a,s.document),u=s.removedTargetIds||[];i=new Pc([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new vN(o,u),p=s.targetId;i=new gx(p,f)}}return i}function DN(a,e){let i;if(e instanceof Go)i={update:s_(a,e.key,e.value)};else if(e instanceof Zm)i={delete:Em(a,e.key)};else if(e instanceof fs)i={update:s_(a,e.key,e.data),updateMask:PN(e.fieldMask)};else{if(!(e instanceof pN))return Ee(16599,{Vt:e.type});i={verify:Em(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Zc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ko)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Mo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:NN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(a,e.precondition)),i}function IN(a,e){return a&&a.length>0?(Ye(e!==void 0,14353),a.map((i=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(Te.min())&&(f=Oi(u)),new fN(f,o.transformResults||[])})(i,e)))):[]}function jN(a,e){return{documents:[bx(a,e.path)]}}function ON(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=bx(a,o);const u=(function(y){if(y.length!==0)return wx(ri.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(S){return{field:Hr(S.field),direction:MN(S.dir)}})(b)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=bm(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function VN(a){let e=RN(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];i.where&&(u=(function(E){const S=Ex(E);return S instanceof ri&&Jb(S)?S.getFilters():[S]})(i.where));let f=[];i.orderBy&&(f=(function(E){return E.map((S=>(function(z){return new Vo(Fr(z.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(S)))})(i.orderBy));let p=null;i.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,ph(S)?null:S})(i.limit));let g=null;i.startAt&&(g=(function(E){const S=!!E.before,O=E.values||[];return new $c(O,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(E){const S=!E.before,O=E.values||[];return new $c(O,S)})(i.endAt)),WA(e,o,f,u,p,"F",g,y)}function kN(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Ex(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Fr(i.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fr(i.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fr(i.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fr(i.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(a):a.fieldFilter!==void 0?(function(i){return jt.create(Fr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((s=>Ex(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(a):Ee(30097,{filter:a})}function MN(a){return wN[a]}function LN(a){return TN[a]}function UN(a){return SN[a]}function Hr(a){return{fieldPath:a.canonicalString()}}function Fr(a){return Yt.fromServerFormat(a.fieldPath)}function wx(a){return a instanceof jt?(function(i){if(i.op==="=="){if(Qv(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NAN"}};if(Gv(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Qv(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NAN"}};if(Gv(i.value))return{unaryFilter:{field:Hr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(i.field),op:LN(i.op),value:i.value}}})(a):a instanceof ri?(function(i){const s=i.getFilters().map((o=>wx(o)));return s.length===1?s[0]:{compositeFilter:{op:UN(i.op),filters:s}}})(a):Ee(54877,{filter:a})}function PN(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Tx(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Za{constructor(e,i,s,o,u=Te.min(),f=Te.min(),p=$t.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zN{constructor(e){this.yt=e}}function BN(a){const e=VN({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Xc(e,e.limit,"L"):e}class qN{constructor(){this.Cn=new HN}addToCollectionParentIndex(e,i){return this.Cn.add(i),ne.resolve()}getCollectionParents(e,i){return ne.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ne.resolve()}deleteFieldIndex(e,i){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,i){return ne.resolve()}getDocumentsMatchingTarget(e,i){return ne.resolve(null)}getIndexType(e,i){return ne.resolve(0)}getFieldIndexes(e,i){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,i){return ne.resolve(is.min())}getMinOffsetFromCollectionGroup(e,i){return ne.resolve(is.min())}updateCollectionGroup(e,i,s){return ne.resolve()}updateIndexEntries(e,i){return ne.resolve()}}class HN{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Mt(it.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}const r_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sx=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Sx,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Jr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jr(0)}static cr(){return new Jr(-1)}}const l_="LruGarbageCollector",FN=1048576;function o_([a,e],[i,s]){const o=Me(a,i);return o===0?Me(e,s):o}class GN{constructor(e){this.Ir=e,this.buffer=new Mt(o_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();o_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class QN{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(l_,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){sl(i)?ce(l_,"Ignoring IndexedDB error during garbage collection: ",i):await al(i)}await this.Vr(3e5)}))}}class KN{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return ne.resolve(mh.ce);const s=new GN(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(r_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(s," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),r_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,u,f,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(E)),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,i)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),Br()<=qe.DEBUG&&ce("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in ".concat(f-b,"ms\n	Determined least recently used ").concat(o," in ")+(p-f)+"ms\n"+"	Removed ".concat(u," targets in ")+(g-p)+"ms\n"+"	Removed ".concat(E," documents in ")+(y-g)+"ms\n"+"Total Duration: ".concat(y-b,"ms")),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function YN(a,e){return new KN(a,e)}class $N{constructor(){this.changes=new Js((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?ne.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class ZN{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&So(s.mutation,o,Sn.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Le()){const o=Fs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((u=>{let f=go();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Fs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Le())))}populateOverlays(e,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,s,o){let u=fa();const f=To(),p=(function(){return To()})();return i.forEach(((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof fs)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),So(b.mutation,y,b.mutation.getFieldMask(),rt.now())):f.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),i.forEach(((y,b)=>{var E;return p.set(y,new XN(b,(E=f.get(y))!=null?E:null))})),p)))}recalculateAndSaveOverlays(e,i){const s=To();let o=new ft(((f,p)=>f-p)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let b=s.get(g)||Sn.empty();b=p.applyToLocalView(y,b),s.set(g,b);const E=(o.get(p.batchId)||Le()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,E=lx();b.forEach((S=>{if(!u.has(S)){const O=dx(i.get(S),s.get(S));O!==null&&E.set(S,O),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):nx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-u.size):ne.resolve(Fs());let p=Do,g=u;return f.next((y=>ne.forEach(y,((b,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next((S=>{g=g.insert(b,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Le()))).next((b=>({batchId:p,changes:rx(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((s=>{let o=go();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const u=i.collectionGroup;let f=go();return this.indexManager.getCollectionParents(e,u).next((p=>ne.forEach(p,(g=>{const y=(function(E,S){return new rl(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((b=>{b.forEach(((E,S)=>{f=f.insert(E,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,Wt.newInvalidDocument(b)))}));let p=go();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&So(b.mutation,y,Sn.empty(),rt.now()),_h(i,y)&&(p=p.insert(g,y))})),p}))}}class JN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ne.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(i)),ne.resolve()}getNamedQuery(e,i){return ne.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:BN(o.bundledQuery),readTime:Oi(o.readTime)}})(i)),ne.resolve()}}class WN{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,i){return ne.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Fs();return ne.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,u)=>{this.St(e,i,u)})),ne.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,i,s){const o=Fs(),u=i.length+1,f=new _e(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let u=new ft(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=Fs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Fs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=o)););return ne.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new yN(i,s));let u=this.qr.get(i);u===void 0&&(u=Le(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class eR{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ne.resolve()}}class tp{constructor(){this.Qr=new Mt(zt.$r),this.Ur=new Mt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new zt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new zt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new _e(new it([])),s=new zt(i,e),o=new zt(i,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new it([])),s=new zt(i,e),o=new zt(i,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new zt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Me(e.Yr,i.Yr)}static Kr(e,i){return Me(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class tR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gN(u,i,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,i){return ne.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Mt(Me);return i.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new zt(new _e(u),0);let p=new Mt(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ye(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(i.mutations,(o=>{const u=new zt(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new zt(i,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class nR{constructor(e){this.ri=e,this.docs=(function(){return new ft(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return ne.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let s=fa();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let u=fa();const f=i.path,p=new _e(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||IA(DA(b),s)<=0||(o.has(b.key)||_h(i,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,i,s,o){Ee(9500)}ii(e,i){return ne.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new iR(this)}getSize(e){return ne.resolve(this.size)}}class iR extends $N{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class aR{constructor(e){this.persistence=e,this.si=new Js((i=>Ym(i)),$m),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new tp,this.targetCount=0,this.ai=Jr.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),ne.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Jr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ne.resolve()}updateTargetData(e,i){return this.Pr(i),ne.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,i,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return ne.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),ne.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ne.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return ne.resolve(s)}containsKey(e,i){return ne.resolve(this._i.containsKey(i))}}class Ax{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new eR,this.referenceDelegate=e(this),this.Pi=new aR(this),this.indexManager=new qN,this.remoteDocumentCache=(function(o){return new nR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new zN(i),this.Ii=new JN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new WN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new tR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ce("MemoryPersistence","Starting transaction:",e);const o=new sR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class sR extends OA{constructor(e){super(),this.currentSequenceNumber=e}}class np{constructor(e){this.persistence=e,this.Ri=new tp,this.Vi=null}static mi(e){return new np(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ne.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((u=>{u||i.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ne.or([()=>ne.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class eh{constructor(e,i){this.persistence=e,this.pi=new Js((s=>MA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=YN(this,i)}static mi(e,i){return new eh(e,i)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((p=>{p||(s++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Mc(e.data.value)),i}br(e,i,s){return ne.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ip{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Le(),o=Le();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ip(e,i.fromCache,s,o)}}class rR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aS()?8:VA(nS())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new rR;return this.Ss(e,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>u.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Br()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",qr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Br()<=qe.DEBUG&&ce("QueryEngine","Query:",qr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Br()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",qr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(i))):ne.resolve())}ys(e,i){if(Xv(i))return ne.resolve(null);let s=ji(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Xc(i,null,"F"),s=ji(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,f,g.readTime)?this.ys(e,Xc(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,s,o){return Xv(i)||o.isEqual(Te.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,o)?ne.resolve(null):(Br()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qr(i)),this.vs(e,f,i,CA(o,Do)).next((p=>p)))}))}Ds(e,i){let s=new Mt(ax(e));return i.forEach(((o,u)=>{_h(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,s){return Br()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",qr(i)),this.ps.getDocumentsMatchingQuery(e,i,is.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const ap="LocalStore",oR=3e8;class uR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ft(Me),this.xs=new Js((u=>Ym(u)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function cR(a,e,i,s){return new uR(a,e,i,s)}async function Nx(a,e){const i=Ae(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=Le();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function hR(a,e){const i=Ae(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,b){const E=y.batch,S=E.keys();let O=ne.resolve();return S.forEach((z=>{O=O.next((()=>b.getEntry(g,z))).next((Q=>{const L=y.docVersions.get(z);Ye(L!==null,48541),Q.version.compareTo(L)<0&&(E.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),b.addEntry(Q)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Le();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function Rx(a){const e=Ae(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function fR(a,e){const i=Ae(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((b,E)=>{const S=o.get(E);if(!S)return;p.push(i.Pi.removeMatchingKeys(u,b.removedDocuments,E).next((()=>i.Pi.addMatchingKeys(u,b.addedDocuments,E))));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken($t.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,s)),o=o.insert(E,O),(function(Q,L,X){return Q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=oR?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,O,b)&&p.push(i.Pi.updateTargetData(u,O))}));let g=fa(),y=Le();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(dR(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!s.isEqual(Te.min())){const b=i.Pi.getLastRemoteSnapshotVersion(u).next((E=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(b)}return ne.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=o,u)))}function dR(a,e,i){let s=Le(),o=Le();return i.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=fa();return i.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ce(ap,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function mR(a,e){const i=Ae(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function pR(a,e){const i=Ae(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Za(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Tm(a,e,i){const s=Ae(a),o=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!sl(f))throw f;ce(ap,"Failed to update sequence numbers for target ".concat(e,": ").concat(f))}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function u_(a,e,i){const s=Ae(a);let o=Te.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const E=Ae(g),S=E.xs.get(b);return S!==void 0?ne.resolve(E.Ms.get(S)):E.Pi.getTargetData(y,b)})(s,f,ji(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:Te.min(),i?u:Le()))).next((p=>(gR(s,tN(e),p),{documents:p,Qs:u})))))}function gR(a,e,i){let s=a.Os.get(e)||Te.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class c_{constructor(){this.activeTargetIds=lN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yR{constructor(){this.Mo=new c_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vR{Oo(e){}shutdown(){}}const h_="ConnectivityMonitor";class f_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(h_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(h_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function Sm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const $d="RestConnection",_R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko="projects/".concat(s,"/databases/").concat(o),this.Wo=this.databaseId.database===Kc?"project_id=".concat(s):"project_id=".concat(s,"&database_id=").concat(o)}Go(e,i,s,o,u){const f=Sm(),p=this.zo(e,i.toUriEncodedString());ce($d,"Sending RPC '".concat(e,"' ").concat(f,":"),p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),b=ch(y);return this.Jo(e,p,g,s,b).then((E=>(ce($d,"Received RPC '".concat(e,"' ").concat(f,": "),E),E)),(E=>{throw Yr($d,"RPC '".concat(e,"' ").concat(f," failed with error: "),E,"url: ",p,"request:",s),E}))}Ho(e,i,s,o,u,f){return this.Go(e,i,s,o,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const s=_R[e];return"".concat(this.Uo,"/v1/").concat(i,":").concat(s)}terminate(){}}class xR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class ER extends bR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,u){const f=Sm();return new Promise(((p,g)=>{const y=new Ib;y.setWithCredentials(!0),y.listenOnce(jb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const E=y.getResponseJson();ce(Zt,"XHR for RPC '".concat(e,"' ").concat(f," received:"),JSON.stringify(E)),p(E);break;case kc.TIMEOUT:ce(Zt,"RPC '".concat(e,"' ").concat(f," timed out")),g(new oe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const S=y.getStatus();if(ce(Zt,"RPC '".concat(e,"' ").concat(f," failed with status:"),S,"response text:",y.getResponseText()),S>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const z=O==null?void 0:O.error;if(z&&z.status&&z.message){const Q=(function(X){const ae=X.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ae)>=0?ae:ee.UNKNOWN})(z.status);g(new oe(Q,z.message))}else g(new oe(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Zt,"RPC '".concat(e,"' ").concat(f," completed."))}}));const b=JSON.stringify(o);ce(Zt,"RPC '".concat(e,"' ").concat(f," sending request:"),o),y.send(i,"POST",b,s,15)}))}T_(e,i,s){const o=Sm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=kb(),p=Vb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const b=u.join("");ce(Zt,"Creating RPC '".concat(e,"' stream ").concat(o,": ").concat(b),g);const E=f.createWebChannel(b,g);this.I_(E);let S=!1,O=!1;const z=new xR({Yo:L=>{O?ce(Zt,"Not sending because RPC '".concat(e,"' stream ").concat(o," is closed:"),L):(S||(ce(Zt,"Opening RPC '".concat(e,"' stream ").concat(o," transport.")),E.open(),S=!0),ce(Zt,"RPC '".concat(e,"' stream ").concat(o," sending:"),L),E.send(L))},Zo:()=>E.close()}),Q=(L,X,ae)=>{L.listen(X,(W=>{try{ae(W)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return Q(E,po.EventType.OPEN,(()=>{O||(ce(Zt,"RPC '".concat(e,"' stream ").concat(o," transport opened.")),z.o_())})),Q(E,po.EventType.CLOSE,(()=>{O||(O=!0,ce(Zt,"RPC '".concat(e,"' stream ").concat(o," transport closed")),z.a_(),this.E_(E))})),Q(E,po.EventType.ERROR,(L=>{O||(O=!0,Yr(Zt,"RPC '".concat(e,"' stream ").concat(o," transport errored. Name:"),L.name,"Message:",L.message),z.a_(new oe(ee.UNAVAILABLE,"The operation could not be completed")))})),Q(E,po.EventType.MESSAGE,(L=>{var X;if(!O){const ae=L.data[0];Ye(!!ae,16349);const W=ae,ue=(W==null?void 0:W.error)||((X=W[0])==null?void 0:X.error);if(ue){ce(Zt,"RPC '".concat(e,"' stream ").concat(o," received error:"),ue);const pe=ue.status;let ye=(function(D){const V=It[D];if(V!==void 0)return px(V)})(pe),I=ue.message;ye===void 0&&(ye=ee.INTERNAL,I="Unknown error status: "+pe+" with message "+ue.message),O=!0,z.a_(new oe(ye,I)),E.close()}else ce(Zt,"RPC '".concat(e,"' stream ").concat(o," received:"),ae),z.u_(ae)}})),Q(p,Ob.STAT_EVENT,(L=>{L.stat===dm.PROXY?ce(Zt,"RPC '".concat(e,"' stream ").concat(o," detected buffering proxy")):L.stat===dm.NOPROXY&&ce(Zt,"RPC '".concat(e,"' stream ").concat(o," detected no buffering proxy"))})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xd(){return typeof document<"u"?document:null}function wh(a){return new AN(a,!0)}class Cx{constructor(e,i,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ce("ExponentialBackoff","Backing off for ".concat(o," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(i," ms, last attempt: ").concat(s," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const d_="PersistentStream";class Dx{constructor(e,i,s,o,u,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cx(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(ha(i.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(d_,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(d_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wR extends Dx{constructor(e,i,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=CN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Oi(f.readTime):Te.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(u,f){let p;const g=f.target;if(p=vm(g)?{documents:jN(u,g)}:{query:ON(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=vx(u,f.resumeToken);const y=bm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){p.readTime=Wc(u,f.snapshotVersion.toTimestamp());const y=bm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=kN(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.q_(i)}}class TR extends Dx{constructor(e,i,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=IN(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>DN(this.serializer,s)))};this.q_(i)}}class SR{}class AR extends SR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,xm(i,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(ee.UNKNOWN,u.toString())}))}Ho(e,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,xm(i,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ha(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class RR{constructor(e,i,s,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ws(this)&&(ce(Ys,"Restarting streams for network reachability change."),await(async function(g){const y=Ae(g);y.Ea.add(4),await Ko(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Th(y)})(this))}))})),this.Ra=new NR(s,o)}}async function Th(a){if(Ws(a))for(const e of a.da)await e(!0)}async function Ko(a){for(const e of a.da)await e(!1)}function Ix(a,e){const i=Ae(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),op(i)?lp(i):ll(i).O_()&&rp(i,e))}function sp(a,e){const i=Ae(a),s=ll(i);i.Ia.delete(e),s.O_()&&jx(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ws(i)&&i.Ra.set("Unknown"))}function rp(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ll(a).Y_(e)}function jx(a,e){a.Va.Ue(e),ll(a).Z_(e)}function lp(a){a.Va=new EN({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),ll(a).start(),a.Ra.ua()}function op(a){return Ws(a)&&!ll(a).x_()&&a.Ia.size>0}function Ws(a){return Ae(a).Ea.size===0}function Ox(a){a.Va=void 0}async function CR(a){a.Ra.set("Online")}async function DR(a){a.Ia.forEach(((e,i)=>{rp(a,e)}))}async function IR(a,e){Ox(a),op(a)?(a.Ra.ha(e),lp(a)):a.Ra.set("Unknown")}async function jR(a,e,i){if(a.Ra.set("Online"),e instanceof yx&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(s){ce(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await th(a,s)}else if(e instanceof Pc?a.Va.Ze(e):e instanceof gx?a.Va.st(e):a.Va.tt(e),!i.isEqual(Te.min()))try{const s=await Rx(a.localStore);i.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),jx(u,g);const E=new Za(b.target,g,y,b.sequenceNumber);rp(u,E)})),u.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){ce(Ys,"Failed to raise snapshot:",s),await th(a,s)}}async function th(a,e,i){if(!sl(e))throw e;a.Ea.add(1),await Ko(a),a.Ra.set("Offline"),i||(i=()=>Rx(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ce(Ys,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Th(a)}))}function Vx(a,e){return e().catch((i=>th(a,i,e)))}async function Sh(a){const e=Ae(a),i=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;OR(e);)try{const o=await mR(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,VR(e,o)}catch(o){await th(e,o)}kx(e)&&Mx(e)}function OR(a){return Ws(a)&&a.Ta.length<10}function VR(a,e){a.Ta.push(e);const i=ls(a);i.O_()&&i.X_&&i.ea(e.mutations)}function kx(a){return Ws(a)&&!ls(a).x_()&&a.Ta.length>0}function Mx(a){ls(a).start()}async function kR(a){ls(a).ra()}async function MR(a){const e=ls(a);for(const i of a.Ta)e.ea(i.mutations)}async function LR(a,e,i){const s=a.Ta.shift(),o=Jm.from(s,e,i);await Vx(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Sh(a)}async function UR(a,e){e&&ls(a).X_&&await(async function(s,o){if((function(f){return _N(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await Vx(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Sh(s)}})(a,e),kx(a)&&Mx(a)}async function m_(a,e){const i=Ae(a);i.asyncQueue.verifyOperationInProgress(),ce(Ys,"RemoteStore received new credentials");const s=Ws(i);i.Ea.add(3),await Ko(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Th(i)}async function PR(a,e){const i=Ae(a);e?(i.Ea.delete(2),await Th(i)):e||(i.Ea.add(2),await Ko(i),i.Ra.set("Unknown"))}function ll(a){return a.ma||(a.ma=(function(i,s,o){const u=Ae(i);return u.sa(),new wR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:CR.bind(null,a),t_:DR.bind(null,a),r_:IR.bind(null,a),H_:jR.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),op(a)?lp(a):a.Ra.set("Unknown")):(await a.ma.stop(),Ox(a))}))),a.ma}function ls(a){return a.fa||(a.fa=(function(i,s,o){const u=Ae(i);return u.sa(),new TR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:kR.bind(null,a),r_:UR.bind(null,a),ta:MR.bind(null,a),na:LR.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Sh(a)):(await a.fa.stop(),a.Ta.length>0&&(ce(Ys,"Stopping write stream with ".concat(a.Ta.length," pending writes")),a.Ta=[]))}))),a.fa}class up{constructor(e,i,s,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,u){const f=Date.now()+s,p=new up(e,i,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(a,e){if(ha("AsyncQueue","".concat(e,": ").concat(a)),sl(a))return new oe(ee.UNAVAILABLE,"".concat(e,": ").concat(a));throw a}class Gr{static emptySet(e){return new Gr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||_e.comparator(i.key,s.key):(i,s)=>_e.comparator(i.key,s.key),this.keyedMap=go(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const s=new Gr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class p_{constructor(){this.ga=new ft(_e.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Wr{constructor(e,i,s,o,u,f,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new Wr(e,i,Gr.emptySet(i),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class zR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BR{constructor(){this.queries=g_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Ae(i),u=o.queries;o.queries=g_(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new oe(ee.ABORTED,"Firestore shutting down"))}}function g_(){return new Js((a=>ix(a)),vh)}async function Lx(a,e){const i=Ae(a);let s=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new zR,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=cp(f,"Initialization of query '".concat(qr(e.query),"' failed"));return void e.onError(p)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&hp(i)}async function Ux(a,e){const i=Ae(a),s=e.query;let o=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function qR(a,e){const i=Ae(a);let s=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&hp(i)}function HR(a,e,i){const s=Ae(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(e)}function hp(a){a.Ca.forEach((e=>{e.next()}))}var Am,y_;(y_=Am||(Am={})).Ma="default",y_.Cache="cache";class Px{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Wr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Wr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class zx{constructor(e){this.key=e}}class Bx{constructor(e){this.key=e}}class FR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=ax(e),this.tu=new Gr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new p_,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,E)=>{const S=o.get(b),O=_h(this.query,E)?E:null,z=!!S&&this.mutatedKeys.has(S.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;S&&O?S.data.isEqual(O.data)?z!==Q&&(s.track({type:3,doc:O}),L=!0):this.su(S,O)||(s.track({type:2,doc:O}),L=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!S&&O?(s.track({type:0,doc:O}),L=!0):S&&!O&&(s.track({type:1,doc:S}),L=!0,(g||y)&&(p=!0)),L&&(O?(f=f.add(O),u=Q?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,E)=>(function(O,z){const Q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return Q(O)-Q(z)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(s),o=o!=null?o:!1;const p=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Wr(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Bx(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new zx(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Le();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Wr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class GR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class QR{constructor(e){this.key=e,this.hu=!1}}class KR{constructor(e,i,s,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Js((p=>ix(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new tp,this.Vu={},this.mu=new Map,this.fu=Jr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YR(a,e,i=!0){const s=Kx(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qx(s,e,i,!0),o}async function $R(a,e){const i=Kx(a);await qx(i,e,!0,!1)}async function qx(a,e,i,s){const o=await pR(a.localStore,ji(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let p;return s&&(p=await XR(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&Ix(a.remoteStore,o),p}async function XR(a,e,i,s,o){a.pu=(E,S,O)=>(async function(Q,L,X,ae){let W=L.view.ru(X);W.Cs&&(W=await u_(Q.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,W))));const ue=ae&&ae.targetChanges.get(L.targetId),pe=ae&&ae.targetMismatches.get(L.targetId)!=null,ye=L.view.applyChanges(W,Q.isPrimaryClient,ue,pe);return __(Q,L.targetId,ye.au),ye.snapshot})(a,E,S,O);const u=await u_(a.localStore,e,!0),f=new FR(e,u.Qs),p=f.ru(u.documents),g=Qo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=f.applyChanges(p,a.isPrimaryClient,g);__(a,i,y.au);const b=new GR(e,i,f);return a.Tu.set(e,b),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function ZR(a,e,i){const s=Ae(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!vh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&sp(s.remoteStore,o.targetId),Nm(s,o.targetId)})).catch(al)):(Nm(s,o.targetId),await Tm(s.localStore,o.targetId,!0))}async function JR(a,e){const i=Ae(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),sp(i.remoteStore,s.targetId))}async function WR(a,e,i){const s=r4(a);try{const o=await(function(f,p){const g=Ae(f),y=rt.now(),b=p.reduce(((O,z)=>O.add(z.key)),Le());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let z=fa(),Q=Le();return g.Ns.getEntries(O,b).next((L=>{z=L,z.forEach(((X,ae)=>{ae.isValidDocument()||(Q=Q.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,z))).next((L=>{E=L;const X=[];for(const ae of p){const W=mN(ae,E.get(ae.key).overlayedDocument);W!=null&&X.push(new fs(ae.key,W,$b(W.value.mapValue),Fn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,X,p)})).next((L=>{S=L;const X=L.applyToLocalDocumentSet(E,Q);return g.documentOverlayCache.saveOverlays(O,L.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:rx(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ft(Me)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,i),await Yo(s,o.changes),await Sh(s.remoteStore)}catch(o){const u=cp(o,"Failed to persist write");i.reject(u)}}async function Hx(a,e){const i=Ae(a);try{const s=await fR(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ye(f.hu,14607):o.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await Yo(i,s,e)}catch(s){await al(s)}}function v_(a,e,i){const s=Ae(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Ae(f);g.onlineState=p;let y=!1;g.queries.forEach(((b,E)=>{for(const S of E.Sa)S.va(p)&&(y=!0)})),y&&hp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function e4(a,e,i){const s=Ae(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ft(_e.comparator);f=f.insert(u,Wt.newNoDocument(u,Te.min()));const p=Le().add(u),g=new Eh(Te.min(),new Map,new ft(Me),f,p);await Hx(s,g),s.du=s.du.remove(u),s.Au.delete(e),dp(s)}else await Tm(s.localStore,e,!1).then((()=>Nm(s,e,i))).catch(al)}async function t4(a,e){const i=Ae(a),s=e.batch.batchId;try{const o=await hR(i.localStore,e);Gx(i,s,null),Fx(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Yo(i,o)}catch(o){await al(o)}}async function n4(a,e,i){const s=Ae(a);try{const o=await(function(f,p){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Ye(E!==null,37113),b=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);Gx(s,e,i),Fx(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Yo(s,o)}catch(o){await al(o)}}function Fx(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Gx(a,e,i){const s=Ae(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Nm(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||Qx(a,s)}))}function Qx(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(sp(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),dp(a))}function __(a,e,i){for(const s of i)s instanceof zx?(a.Ru.addReference(s.key,e),i4(a,s)):s instanceof Bx?(ce(fp,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||Qx(a,s.key)):Ee(19791,{wu:s})}function i4(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ce(fp,"New document in limbo: "+i),a.Eu.add(s),dp(a))}function dp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new _e(it.fromString(e)),s=a.fu.next();a.Au.set(s,new QR(i)),a.du=a.du.insert(i,s),Ix(a.remoteStore,new Za(ji(yh(i.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function Yo(a,e,i){const s=Ae(a),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,i).then((y=>{var b;if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:(b=i==null?void 0:i.targetChanges.get(g.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=ip.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const b=Ae(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(y,(S=>ne.forEach(S.Es,(O=>b.persistence.referenceDelegate.addReference(E,S.targetId,O))).next((()=>ne.forEach(S.ds,(O=>b.persistence.referenceDelegate.removeReference(E,S.targetId,O)))))))))}catch(E){if(!sl(E))throw E;ce(ap,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const O=b.Ms.get(S),z=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(z);b.Ms=b.Ms.insert(S,Q)}}})(s.localStore,u))}async function a4(a,e){const i=Ae(a);if(!i.currentUser.isEqual(e)){ce(fp,"User change. New user:",e.toKey());const s=await Nx(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new oe(ee.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yo(i,s.Ls)}}function s4(a,e){const i=Ae(a),s=i.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Kx(a){const e=Ae(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e4.bind(null,e),e.Pu.H_=qR.bind(null,e.eventManager),e.Pu.yu=HR.bind(null,e.eventManager),e}function r4(a){const e=Ae(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n4.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return cR(this.persistence,new lR,e.initialUser,this.serializer)}Cu(e){return new Ax(np.mi,this.serializer)}Du(e){return new yR}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class l4 extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ye(this.persistence.referenceDelegate instanceof eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QN(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Ax((s=>eh.mi(s,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>v_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=a4.bind(null,this.syncEngine),await PR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BR})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),s=(function(u){return new ER(u)})(e.databaseInfo);return(function(u,f,p,g){return new AR(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,u,f,p){return new RR(s,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>v_(this.syncEngine,i,0)),(function(){return f_.v()?new f_:new vR})())}createSyncEngine(e,i){return(function(o,u,f,p,g,y,b){const E=new KR(o,u,f,p,g,y);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const u=Ae(o);ce(Ys,"RemoteStore shutting down."),u.Ea.add(5),await Ko(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Rm.provider={build:()=>new Rm};class Yx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const os="FirestoreClient";class o4{constructor(e,i,s,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=cp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Zd(a,e){a.asyncQueue.verifyOperationInProgress(),ce(os,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Nx(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function b_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await u4(a);ce(os,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>m_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>m_(e.remoteStore,o))),a._onlineComponents=e}async function u4(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ce(os,"Using user provided OfflineComponentProvider");try{await Zd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Yr("Error using user provided cache. Falling back to memory cache: "+i),await Zd(a,new nh)}}else ce(os,"Using default OfflineComponentProvider"),await Zd(a,new l4(void 0));return a._offlineComponents}async function $x(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ce(os,"Using user provided OnlineComponentProvider"),await b_(a,a._uninitializedComponentsProvider._online)):(ce(os,"Using default OnlineComponentProvider"),await b_(a,new Rm))),a._onlineComponents}function c4(a){return $x(a).then((e=>e.syncEngine))}async function Cm(a){const e=await $x(a),i=e.eventManager;return i.onListen=YR.bind(null,e.syncEngine),i.onUnlisten=ZR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$R.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=JR.bind(null,e.syncEngine),i}function h4(a,e,i={}){const s=new ts;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const b=new Yx({next:S=>{b.Nu(),f.enqueueAndForget((()=>Ux(u,E)));const O=S.docs.has(p);!O&&S.fromCache?y.reject(new oe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&g&&g.source==="server"?y.reject(new oe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Px(yh(p.path),b,{includeMetadataChanges:!0,qa:!0});return Lx(u,E)})(await Cm(a),a.asyncQueue,e,i,s))),s.promise}function Xx(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const x_=new Map;const Zx="firestore.googleapis.com",E_=!0;class w_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zx,this.ssl=E_}else this.host=e.host,this.ssl=(i=e.ssl)!=null?i:E_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FN)throw new oe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xx((s=e.experimentalLongPollingOptions)!=null?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new oe(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (must not be NaN)"));if(u.timeoutSeconds<5)throw new oe(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (minimum allowed value is 5)"));if(u.timeoutSeconds>30)throw new oe(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (maximum allowed value is 30)"))}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new vA;switch(s.type){case"firstParty":return new EA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=x_.get(i);s&&(ce("ComponentProvider","Removing Datastore"),x_.delete(i),s.terminate())})(this),Promise.resolve()}}function f4(a,e,i,s={}){var y;a=Hn(a,Ah);const o=ch(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},p="".concat(e,":").concat(i);o&&(yb("https://".concat(p)),_b("Firestore",!0)),u.host!==Zx&&u.host!==p&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!Fc(g,f)&&(a._setSettings(g),s.mockUserToken)){let b,E;if(typeof s.mockUserToken=="string")b=s.mockUserToken,E=Jt.MOCK_USER;else{b=vb(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new oe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(S)}a._authCredentials=new _A(new Lb(b,E))}}class ds{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class pt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Fo(i,pt._jsonSchema))return new pt(e,s||null,new _e(it.fromString(i.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ot("string",pt._jsonSchemaVersion),referencePath:Ot("string")};class ns extends ds{constructor(e,i,s){super(e,i,yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new _e(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function ii(a,e,...i){if(a=pn(a),Ub("collection","path",e),a instanceof Ah){const s=it.fromString(e,...i);return Mv(s),new ns(a,null,s)}{if(!(a instanceof pt||a instanceof ns))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(it.fromString(e,...i));return Mv(s),new ns(a.firestore,null,s)}}function dn(a,e,...i){if(a=pn(a),arguments.length===1&&(e=Fm.newId()),Ub("doc","path",e),a instanceof Ah){const s=it.fromString(e,...i);return kv(s),new pt(a,null,new _e(s))}{if(!(a instanceof pt||a instanceof ns))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(it.fromString(e,...i));return kv(s),new pt(a.firestore,a instanceof ns?a.converter:null,new _e(s))}}const T_="AsyncQueue";class S_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cx(this,"async_queue_retry"),this._c=()=>{const s=Xd();s&&ce(T_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;ce(T_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ha("INTERNAL UNHANDLED ERROR: ",A_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=up.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:A_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function A_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),e}function N_(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(a,["next","error","complete"])}class us extends Ah{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new S_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S_(e),this._firestoreClient=void 0,await e}}}function d4(a,e){const i=typeof a=="object"?a:qm(),s=typeof a=="string"?a:Kc,o=Ho(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pb("firestore");u&&f4(o,...u)}return o}function mp(a){if(a._terminated)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||m4(a),a._firestoreClient}function m4(a){var s,o,u;const e=a._freezeSettings(),i=(function(p,g,y,b){return new PA(p,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Xx(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new o4(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(a._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn($t.fromBase64String(e))}catch(i){throw new oe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fo(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ot("string",Bn._jsonSchemaVersion),bytes:Ot("string")};class Nh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pp{constructor(e){this._methodName=e}}class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(Fo(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ot("string",Vi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fo(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ki(e.vectorValues);throw new oe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Ot("string",ki._jsonSchemaVersion),vectorValues:Ot("object")};const p4=/^__.*__$/;class g4{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Go(e,this.data,i,this.fieldTransforms)}}class Jx{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new fs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Wx(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:a})}}class gp{constructor(e,i,s,o,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Wx(this.Ac)&&p4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class y4{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||wh(e)}Cc(e,i,s,o=!1){return new gp({Ac:e,methodName:i,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(a){const e=a._freezeSettings(),i=wh(a._databaseId);return new y4(a._databaseId,!!e.ignoreUndefinedProperties,i)}function e1(a,e,i,s,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,i,o);yp("Data must be an object, but it was:",f,s);const p=t1(s,f);let g,y;if(u.merge)g=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const E of u.mergeFields){const S=Dm(e,E,i);if(!f.contains(S))throw new oe(ee.INVALID_ARGUMENT,"Field '".concat(S,"' is specified in your field mask but missing from your input data."));i1(b,S)||b.push(S)}g=new Sn(b),y=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=f.fieldTransforms;return new g4(new mn(p),g,y)}class Ch extends pp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function v4(a,e,i,s){const o=a.Cc(1,e,i);yp("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();hs(s,((g,y)=>{const b=vp(e,g,i);y=pn(y);const E=o.yc(b);if(y instanceof Ch)u.push(b);else{const S=$o(y,E);S!=null&&(u.push(b),f.set(b,S))}}));const p=new Sn(u);return new Jx(f,p,o.fieldTransforms)}function _4(a,e,i,s,o,u){const f=a.Cc(1,e,i),p=[Dm(e,s,i)],g=[o];if(u.length%2!=0)throw new oe(ee.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let S=0;S<u.length;S+=2)p.push(Dm(e,u[S])),g.push(u[S+1]);const y=[],b=mn.empty();for(let S=p.length-1;S>=0;--S)if(!i1(y,p[S])){const O=p[S];let z=g[S];z=pn(z);const Q=f.yc(O);if(z instanceof Ch)y.push(O);else{const L=$o(z,Q);L!=null&&(y.push(O),b.set(O,L))}}const E=new Sn(y);return new Jx(b,E,f.fieldTransforms)}function b4(a,e,i,s=!1){return $o(i,a.Cc(s?4:3,e))}function $o(a,e){if(n1(a=pn(a)))return yp("Unsupported field value:",e,a),t1(a,e);if(a instanceof pp)return(function(s,o){if(!Wx(o.Ac))throw o.Sc("".concat(s._methodName,"() can only be used with update() and set()"));if(!o.path)throw o.Sc("".concat(s._methodName,"() is not currently supported inside arrays"));const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=$o(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Wc(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:vx(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc("Document reference is for database ".concat(f.projectId,"/").concat(f.database," but should be for database ").concat(u.projectId,"/").concat(u.database));return{referenceValue:ep(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(f,p){return{mapValue:{fields:{[Kb]:{stringValue:Yb},[Yc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Xm(p.serializer,y)}))}}}}}})(s,o);throw o.Sc("Unsupported field value: ".concat(dh(s)))})(a,e)}function t1(a,e){const i={};return Bb(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(a,((s,o)=>{const u=$o(o,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function n1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof rt||a instanceof Vi||a instanceof Bn||a instanceof pt||a instanceof pp||a instanceof ki)}function yp(a,e,i){if(!n1(i)||!Pb(i)){const s=dh(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Dm(a,e,i){if((e=pn(e))instanceof Nh)return e._internalPath;if(typeof e=="string")return vp(a,e);throw ih("Field path arguments must be of type string or ",a,!1,void 0,i)}const x4=new RegExp("[~\\*/\\[\\]]");function vp(a,e,i){if(e.search(x4)>=0)throw ih("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),a,!1,void 0,i);try{return new Nh(...e.split("."))._internalPath}catch(s){throw ih("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),a,!1,void 0,i)}}function ih(a,e,i,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p="Function ".concat(e,"() called with invalid data");i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=" in field ".concat(s)),f&&(g+=" in document ".concat(o)),g+=")"),new oe(ee.INVALID_ARGUMENT,p+a+g)}function i1(a,e){return a.some((i=>i.isEqual(e)))}class a1{constructor(e,i,s,o,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Dh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class E4 extends a1{data(){return super.data()}}function Dh(a,e){return typeof e=="string"?vp(a,e):e instanceof Nh?e._internalPath:e._delegate._internalPath}function w4(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new oe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class bp extends _p{}function el(a,e,...i){let s=[];e instanceof _p&&s.push(e),s=s.concat(i),(function(u){const f=u.filter((g=>g instanceof xp)).length,p=u.filter((g=>g instanceof Ih)).length;if(f>1||f>0&&p>0)throw new oe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Ih extends bp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ih(e,i,s)}_apply(e){const i=this._parse(e);return s1(e._query,i),new ds(e.firestore,e.converter,_m(e._query,i))}_parse(e){const i=Rh(e.firestore);return(function(u,f,p,g,y,b,E){let S;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new oe(ee.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(b,"' queries on documentId()."));if(b==="in"||b==="not-in"){D_(E,b);const z=[];for(const Q of E)z.push(C_(g,u,Q));S={arrayValue:{values:z}}}else S=C_(g,u,E)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||D_(E,b),S=b4(p,f,E,b==="in"||b==="not-in");return jt.create(y,b,S)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Jd(a,e,i){const s=e,o=Dh("where",a);return Ih._create(o,s,i)}class xp extends _p{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new xp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)s1(f,g),f=_m(f,g)})(e._query,i),new ds(e.firestore,e.converter,_m(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ep extends bp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ep(e,i)}_apply(e){const i=(function(o,u,f){if(o.startAt!==null)throw new oe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vo(u,f)})(e._query,this._field,this._direction);return new ds(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new rl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function R_(a,e="asc"){const i=e,s=Dh("orderBy",a);return Ep._create(s,i)}class wp extends bp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new wp(e,i,s)}_apply(e){return new ds(e.firestore,e.converter,Xc(e._query,this._limit,this._limitType))}}function T4(a){return wp._create("limit",a,"F")}function C_(a,e,i){if(typeof(i=pn(i))=="string"){if(i==="")throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nx(e)&&i.indexOf("/")!==-1)throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(i,"' contains a '/' character."));const s=e.path.child(it.fromString(i));if(!_e.isDocumentKey(s))throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(s,"' is not because it has an odd number of segments (").concat(s.length,")."));return Fv(a,new _e(s))}if(i instanceof pt)return Fv(a,i._key);throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(dh(i),"."))}function D_(a,e){if(!Array.isArray(a)||a.length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function s1(a,e){const i=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe(ee.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new oe(ee.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}class S4{convertValue(e,i="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return hs(e,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(e){var s,o,u;const i=(u=(o=(s=e.fields)==null?void 0:s[Yc].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>bt(f.doubleValue)));return new ki(i)}convertGeoPoint(e){return new Vi(bt(e.latitude),bt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=gh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const i=as(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=it.fromString(e);Ye(Tx(s),9688,{name:e});const o=new jo(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(i)||ha("Document ".concat(u," contains a document reference within a different database (").concat(o.projectId,"/").concat(o.database,") which is not supported. It will be treated as a reference in the current database (").concat(i.projectId,"/").concat(i.database,") instead.")),u}}function r1(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends a1{constructor(e,i,s,o,u,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Dh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:Ot("string",Qs._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class zc extends Qs{data(e={}){return super.data(e)}}class Qr{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new zc(this._firestore,this._userDataWriter,s.key,s,new vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new zc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new zc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),b=f.indexOf(p.doc.key)),{type:A4(p.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function A4(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:a})}}function N4(a){a=Hn(a,pt);const e=Hn(a.firestore,us);return h4(mp(e),a._key).then((i=>o1(e,a,i)))}Qr._jsonSchemaVersion="firestore/querySnapshot/1.0",Qr._jsonSchema={type:Ot("string",Qr._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class l1 extends S4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,i)}}function Ao(a,e,i){a=Hn(a,pt);const s=Hn(a.firestore,us),o=r1(a.converter,e,i);return jh(s,[e1(Rh(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Fn.none())])}function Im(a,e,i,...s){a=Hn(a,pt);const o=Hn(a.firestore,us),u=Rh(o);let f;return f=typeof(e=pn(e))=="string"||e instanceof Nh?_4(u,"updateDoc",a._key,e,i,s):v4(u,"updateDoc",a._key,e),jh(o,[f.toMutation(a._key,Fn.exists(!0))])}function jm(a){return jh(Hn(a.firestore,us),[new Zm(a._key,Fn.none())])}function Lo(a,e){const i=Hn(a.firestore,us),s=dn(a),o=r1(a.converter,e);return jh(i,[e1(Rh(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then((()=>s))}function Ja(a,...e){var g,y,b;a=pn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||N_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(N_(e[s])){const E=e[s];e[s]=(g=E.next)==null?void 0:g.bind(E),e[s+1]=(y=E.error)==null?void 0:y.bind(E),e[s+2]=(b=E.complete)==null?void 0:b.bind(E)}let u,f,p;if(a instanceof pt)f=Hn(a.firestore,us),p=yh(a._key.path),u={next:E=>{e[s]&&e[s](o1(f,a,E))},error:e[s+1],complete:e[s+2]};else{const E=Hn(a,ds);f=Hn(E.firestore,us),p=E._query;const S=new l1(f);u={next:O=>{e[s]&&e[s](new Qr(f,S,E,O))},error:e[s+1],complete:e[s+2]},w4(a._query)}return(function(S,O,z,Q){const L=new Yx(Q),X=new Px(O,L,z);return S.asyncQueue.enqueueAndForget((async()=>Lx(await Cm(S),X))),()=>{L.Nu(),S.asyncQueue.enqueueAndForget((async()=>Ux(await Cm(S),X)))}})(mp(f),p,o,u)}function jh(a,e){return(function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget((async()=>WR(await c4(s),o,u))),u.promise})(mp(a),e)}function o1(a,e,i){const s=i.docs.get(e._key),o=new l1(a);return new Qs(a,o,e._key,s,new vo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){il=o})(Ab),ca(new Mi("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new us(new bA(s.getProvider("auth-internal")),new wA(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),qn(Iv,jv,e),qn(Iv,jv,"esm2020")})();const u1="@firebase/installations",Tp="0.6.19";const c1=1e4,h1="w:".concat(Tp),f1="FIS_v2",R4="https://firebaseinstallations.googleapis.com/v1",C4=3600*1e3,D4="installations",I4="Installations";const j4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$s=new hh(D4,I4,j4);function d1(a){return a instanceof cs&&a.code.includes("request-failed")}function m1({projectId:a}){return"".concat(R4,"/projects/").concat(a,"/installations")}function p1(a){return{token:a.token,requestStatus:2,expiresIn:V4(a.expiresIn),creationTime:Date.now()}}async function g1(a,e){const s=(await e.json()).error;return $s.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function y1({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function O4(a,{refreshToken:e}){const i=y1(a);return i.append("Authorization",k4(e)),i}async function v1(a){const e=await a();return e.status>=500&&e.status<600?a():e}function V4(a){return Number(a.replace("s","000"))}function k4(a){return"".concat(f1," ").concat(a)}async function M4({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=m1(a),o=y1(a),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:i,authVersion:f1,appId:a.appId,sdkVersion:h1},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await v1(()=>fetch(s,p));if(g.ok){const y=await g.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:p1(y.authToken)}}else throw await g1("Create Installation",g)}function _1(a){return new Promise(e=>{setTimeout(e,a)})}function L4(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const U4=/^[cdef][\w-]{21}$/,Om="";function P4(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=z4(a);return U4.test(i)?i:Om}catch(a){return Om}}function z4(a){return L4(a).substr(0,22)}function Oh(a){return"".concat(a.appName,"!").concat(a.appId)}const b1=new Map;function x1(a,e){const i=Oh(a);E1(i,e),B4(i,e)}function E1(a,e){const i=b1.get(a);if(i)for(const s of i)s(e)}function B4(a,e){const i=q4();i&&i.postMessage({key:a,fid:e}),H4()}let Gs=null;function q4(){return!Gs&&"BroadcastChannel"in self&&(Gs=new BroadcastChannel("[Firebase] FID Change"),Gs.onmessage=a=>{E1(a.data.key,a.data.fid)}),Gs}function H4(){b1.size===0&&Gs&&(Gs.close(),Gs=null)}const F4="firebase-installations-database",G4=1,Xs="firebase-installations-store";let Wd=null;function Sp(){return Wd||(Wd=fh(F4,G4,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Xs)}}})),Wd}async function ah(a,e){const i=Oh(a),o=(await Sp()).transaction(Xs,"readwrite"),u=o.objectStore(Xs),f=await u.get(i);return await u.put(e,i),await o.done,(!f||f.fid!==e.fid)&&x1(a,e.fid),e}async function w1(a){const e=Oh(a),s=(await Sp()).transaction(Xs,"readwrite");await s.objectStore(Xs).delete(e),await s.done}async function Vh(a,e){const i=Oh(a),o=(await Sp()).transaction(Xs,"readwrite"),u=o.objectStore(Xs),f=await u.get(i),p=e(f);return p===void 0?await u.delete(i):await u.put(p,i),await o.done,p&&(!f||f.fid!==p.fid)&&x1(a,p.fid),p}async function Ap(a){let e;const i=await Vh(a.appConfig,s=>{const o=Q4(s),u=K4(a,o);return e=u.registrationPromise,u.installationEntry});return i.fid===Om?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function Q4(a){const e=a||{fid:P4(),registrationStatus:0};return T1(e)}function K4(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject($s.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Y4(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$4(a)}:{installationEntry:e}}async function Y4(a,e){try{const i=await M4(a,e);return ah(a.appConfig,i)}catch(i){throw d1(i)&&i.customData.serverCode===409?await w1(a.appConfig):await ah(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function $4(a){let e=await I_(a.appConfig);for(;e.registrationStatus===1;)await _1(100),e=await I_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Ap(a);return s||i}return e}function I_(a){return Vh(a,e=>{if(!e)throw $s.create("installation-not-found");return T1(e)})}function T1(a){return X4(a)?{fid:a.fid,registrationStatus:0}:a}function X4(a){return a.registrationStatus===1&&a.registrationTime+c1<Date.now()}async function Z4({appConfig:a,heartbeatServiceProvider:e},i){const s=J4(a,i),o=O4(a,i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:h1,appId:a.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},g=await v1(()=>fetch(s,p));if(g.ok){const y=await g.json();return p1(y)}else throw await g1("Generate Auth Token",g)}function J4(a,{fid:e}){return"".concat(m1(a),"/").concat(e,"/authTokens:generate")}async function Np(a,e=!1){let i;const s=await Vh(a.appConfig,u=>{if(!S1(u))throw $s.create("not-registered");const f=u.authToken;if(!e&&tC(f))return u;if(f.requestStatus===1)return i=W4(a,e),u;{if(!navigator.onLine)throw $s.create("app-offline");const p=iC(u);return i=eC(a,p),p}});return i?await i:s.authToken}async function W4(a,e){let i=await j_(a.appConfig);for(;i.authToken.requestStatus===1;)await _1(100),i=await j_(a.appConfig);const s=i.authToken;return s.requestStatus===0?Np(a,e):s}function j_(a){return Vh(a,e=>{if(!S1(e))throw $s.create("not-registered");const i=e.authToken;return aC(i)?{...e,authToken:{requestStatus:0}}:e})}async function eC(a,e){try{const i=await Z4(a,e),s={...e,authToken:i};return await ah(a.appConfig,s),i}catch(i){if(d1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await w1(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await ah(a.appConfig,s)}throw i}}function S1(a){return a!==void 0&&a.registrationStatus===2}function tC(a){return a.requestStatus===2&&!nC(a)}function nC(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+C4}function iC(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function aC(a){return a.requestStatus===1&&a.requestTime+c1<Date.now()}async function sC(a){const e=a,{installationEntry:i,registrationPromise:s}=await Ap(e);return s?s.catch(console.error):Np(e).catch(console.error),i.fid}async function rC(a,e=!1){const i=a;return await lC(i),(await Np(i,e)).token}async function lC(a){const{registrationPromise:e}=await Ap(a);e&&await e}function oC(a){if(!a||!a.options)throw em("App Configuration");if(!a.name)throw em("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw em(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function em(a){return $s.create("missing-app-config-values",{valueName:a})}const A1="installations",uC="installations-internal",cC=a=>{const e=a.getProvider("app").getImmediate(),i=oC(e),s=Ho(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},hC=a=>{const e=a.getProvider("app").getImmediate(),i=Ho(e,A1).getImmediate();return{getId:()=>sC(i),getToken:o=>rC(i,o)}};function fC(){ca(new Mi(A1,cC,"PUBLIC")),ca(new Mi(uC,hC,"PRIVATE"))}fC();qn(u1,Tp);qn(u1,Tp,"esm2020");const dC="/firebase-messaging-sw.js",mC="/firebase-cloud-messaging-push-scope",N1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pC="https://fcmregistrations.googleapis.com/v1",R1="google.c.a.c_id",gC="google.c.a.c_l",yC="google.c.a.ts",vC="google.c.a.e",O_=1e4;var V_;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(V_||(V_={}));var Uo;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(Uo||(Uo={}));function sa(a){const e=new Uint8Array(a);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _C(a){const e="=".repeat((4-a.length%4)%4),i=(a+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(i),o=new Uint8Array(s.length);for(let u=0;u<s.length;++u)o[u]=s.charCodeAt(u);return o}const tm="fcm_token_details_db",bC=5,k_="fcm_token_object_Store";async function xC(a){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(tm))return null;let e=null;return(await fh(tm,bC,{upgrade:async(s,o,u,f)=>{var y;if(o<2||!s.objectStoreNames.contains(k_))return;const p=f.objectStore(k_),g=await p.index("fcmSenderId").get(a);if(await p.clear(),!!g){if(o===2){const b=g;if(!b.auth||!b.p256dh||!b.endpoint)return;e={token:b.fcmToken,createTime:(y=b.createTime)!=null?y:Date.now(),subscriptionOptions:{auth:b.auth,p256dh:b.p256dh,endpoint:b.endpoint,swScope:b.swScope,vapidKey:typeof b.vapidKey=="string"?b.vapidKey:sa(b.vapidKey)}}}else if(o===3){const b=g;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:sa(b.auth),p256dh:sa(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:sa(b.vapidKey)}}}else if(o===4){const b=g;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:sa(b.auth),p256dh:sa(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:sa(b.vapidKey)}}}}}})).close(),await Fd(tm),await Fd("fcm_vapid_details_db"),await Fd("undefined"),EC(e)?e:null}function EC(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:e}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const wC="firebase-messaging-database",TC=1,Po="firebase-messaging-store";let nm=null;function C1(){return nm||(nm=fh(wC,TC,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Po)}}})),nm}async function SC(a){const e=D1(a),s=await(await C1()).transaction(Po).objectStore(Po).get(e);if(s)return s;{const o=await xC(a.appConfig.senderId);if(o)return await Rp(a,o),o}}async function Rp(a,e){const i=D1(a),o=(await C1()).transaction(Po,"readwrite");return await o.objectStore(Po).put(e,i),await o.done,e}function D1({appConfig:a}){return a.appId}const AC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},en=new hh("messaging","Messaging",AC);async function NC(a,e){const i=await Dp(a),s=I1(e),o={method:"POST",headers:i,body:JSON.stringify(s)};let u;try{u=await(await fetch(Cp(a.appConfig),o)).json()}catch(f){throw en.create("token-subscribe-failed",{errorInfo:f==null?void 0:f.toString()})}if(u.error){const f=u.error.message;throw en.create("token-subscribe-failed",{errorInfo:f})}if(!u.token)throw en.create("token-subscribe-no-token");return u.token}async function RC(a,e){const i=await Dp(a),s=I1(e.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let u;try{u=await(await fetch("".concat(Cp(a.appConfig),"/").concat(e.token),o)).json()}catch(f){throw en.create("token-update-failed",{errorInfo:f==null?void 0:f.toString()})}if(u.error){const f=u.error.message;throw en.create("token-update-failed",{errorInfo:f})}if(!u.token)throw en.create("token-update-no-token");return u.token}async function CC(a,e){const s={method:"DELETE",headers:await Dp(a)};try{const u=await(await fetch("".concat(Cp(a.appConfig),"/").concat(e),s)).json();if(u.error){const f=u.error.message;throw en.create("token-unsubscribe-failed",{errorInfo:f})}}catch(o){throw en.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function Cp({projectId:a}){return"".concat(pC,"/projects/").concat(a,"/registrations")}async function Dp({appConfig:a,installations:e}){const i=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)})}function I1({p256dh:a,auth:e,endpoint:i,vapidKey:s}){const o={web:{endpoint:i,auth:e,p256dh:a}};return s!==N1&&(o.web.applicationPubKey=s),o}const DC=10080*60*1e3;async function IC(a){const e=await OC(a.swRegistration,a.vapidKey),i={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:e.endpoint,auth:sa(e.getKey("auth")),p256dh:sa(e.getKey("p256dh"))},s=await SC(a.firebaseDependencies);if(s){if(VC(s.subscriptionOptions,i))return Date.now()>=s.createTime+DC?jC(a,{token:s.token,createTime:Date.now(),subscriptionOptions:i}):s.token;try{await CC(a.firebaseDependencies,s.token)}catch(o){console.warn(o)}return M_(a.firebaseDependencies,i)}else return M_(a.firebaseDependencies,i)}async function jC(a,e){try{const i=await RC(a.firebaseDependencies,e),s={...e,token:i,createTime:Date.now()};return await Rp(a.firebaseDependencies,s),i}catch(i){throw i}}async function M_(a,e){const s={token:await NC(a,e),createTime:Date.now(),subscriptionOptions:e};return await Rp(a,s),s.token}async function OC(a,e){const i=await a.pushManager.getSubscription();return i||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_C(e)})}function VC(a,e){const i=e.vapidKey===a.vapidKey,s=e.endpoint===a.endpoint,o=e.auth===a.auth,u=e.p256dh===a.p256dh;return i&&s&&o&&u}function L_(a){const e={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return kC(e,a),MC(e,a),LC(e,a),e}function kC(a,e){if(!e.notification)return;a.notification={};const i=e.notification.title;i&&(a.notification.title=i);const s=e.notification.body;s&&(a.notification.body=s);const o=e.notification.image;o&&(a.notification.image=o);const u=e.notification.icon;u&&(a.notification.icon=u)}function MC(a,e){e.data&&(a.data=e.data)}function LC(a,e){var o,u,f,p,g;if(!e.fcmOptions&&!((o=e.notification)!=null&&o.click_action))return;a.fcmOptions={};const i=(p=(u=e.fcmOptions)==null?void 0:u.link)!=null?p:(f=e.notification)==null?void 0:f.click_action;i&&(a.fcmOptions.link=i);const s=(g=e.fcmOptions)==null?void 0:g.analytics_label;s&&(a.fcmOptions.analyticsLabel=s)}function UC(a){return typeof a=="object"&&!!a&&R1 in a}function PC(a){if(!a||!a.options)throw im("App Configuration Object");if(!a.name)throw im("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=a;for(const s of e)if(!i[s])throw im(s);return{appName:a.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function im(a){return en.create("missing-app-config-values",{valueName:a})}class zC{constructor(e,i,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=PC(e);this.firebaseDependencies={app:e,appConfig:o,installations:i,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function BC(a){try{a.swRegistration=await navigator.serviceWorker.register(dC,{scope:mC}),a.swRegistration.update().catch(()=>{}),await qC(a.swRegistration)}catch(e){throw en.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function qC(a){return new Promise((e,i)=>{const s=setTimeout(()=>i(new Error("Service worker not registered after ".concat(O_," ms"))),O_),o=a.installing||a.waiting;a.active?(clearTimeout(s),e()):o?o.onstatechange=u=>{var f;((f=u.target)==null?void 0:f.state)==="activated"&&(o.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),i(new Error("No incoming service worker found.")))})}async function HC(a,e){if(!e&&!a.swRegistration&&await BC(a),!(!e&&a.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw en.create("invalid-sw-registration");a.swRegistration=e}}async function FC(a,e){e?a.vapidKey=e:a.vapidKey||(a.vapidKey=N1)}async function j1(a,e){if(!navigator)throw en.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw en.create("permission-blocked");return await FC(a,e==null?void 0:e.vapidKey),await HC(a,e==null?void 0:e.serviceWorkerRegistration),IC(a)}async function GC(a,e,i){const s=QC(e);(await a.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[R1],message_name:i[gC],message_time:i[yC],message_device_time:Math.floor(Date.now()/1e3)})}function QC(a){switch(a){case Uo.NOTIFICATION_CLICKED:return"notification_open";case Uo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function KC(a,e){const i=e.data;if(!i.isFirebaseMessaging)return;a.onMessageHandler&&i.messageType===Uo.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(L_(i)):a.onMessageHandler.next(L_(i)));const s=i.data;UC(s)&&s[vC]==="1"&&await GC(a,i.messageType,s)}const U_="@firebase/messaging",P_="0.12.23";const YC=a=>{const e=new zC(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>KC(e,i)),e},$C=a=>{const e=a.getProvider("messaging").getImmediate();return{getToken:s=>j1(e,s)}};function XC(){ca(new Mi("messaging",YC,"PUBLIC")),ca(new Mi("messaging-internal",$C,"PRIVATE")),qn(U_,P_),qn(U_,P_,"esm2020")}async function O1(){try{await xb()}catch(a){return!1}return typeof window<"u"&&bb()&&sS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function ZC(a,e){if(!navigator)throw en.create("only-available-in-window");return a.onMessageHandler=e,()=>{a.onMessageHandler=null}}function JC(a=qm()){return O1().then(e=>{if(!e)throw en.create("unsupported-browser")},e=>{throw en.create("indexed-db-unsupported")}),Ho(pn(a),"messaging").getImmediate()}async function WC(a,e){return a=pn(a),j1(a,e)}function eD(a,e){return a=pn(a),ZC(a,e)}XC();const V1="firebasestorage.googleapis.com",tD="storageBucket",nD=120*1e3,iD=600*1e3;class Pi extends cs{constructor(e,i,s=0){super(am(e),"Firebase Storage: ".concat(i," (").concat(am(e),")")),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ui;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ui||(Ui={}));function am(a){return"storage/"+a}function aD(){const a="An unknown error occurred, please check the error payload for server response.";return new Pi(Ui.UNKNOWN,a)}function sD(){return new Pi(Ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rD(){return new Pi(Ui.CANCELED,"User canceled the upload/download.")}function lD(a){return new Pi(Ui.INVALID_URL,"Invalid URL '"+a+"'.")}function oD(a){return new Pi(Ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function z_(a){return new Pi(Ui.INVALID_ARGUMENT,a)}function k1(){return new Pi(Ui.APP_DELETED,"The Firebase app was deleted.")}function uD(a){return new Pi(Ui.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ai{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=ai.makeFromUrl(e,i)}catch(o){return new ai(e,"")}if(s.path==="")return s;throw oD(e)}static makeFromUrl(e,i){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(ue){ue.path_=decodeURIComponent(ue.path)}const b="v[A-Za-z0-9_]+",E=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",O=new RegExp("^https?://".concat(E,"/").concat(b,"/b/").concat(o,"/o").concat(S),"i"),z={bucket:1,path:3},Q=i===V1?"(?:storage.googleapis.com|storage.cloud.google.com)":i,L="([^?#]*)",X=new RegExp("^https?://".concat(Q,"/").concat(o,"/").concat(L),"i"),W=[{regex:p,indices:g,postModify:u},{regex:O,indices:z,postModify:y},{regex:X,indices:{bucket:1,path:2},postModify:y}];for(let ue=0;ue<W.length;ue++){const pe=W[ue],ye=pe.regex.exec(e);if(ye){const I=ye[pe.indices.bucket];let R=ye[pe.indices.path];R||(R=""),s=new ai(I,R),pe.postModify(s);break}}if(s==null)throw lD(e);return s}}class cD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function hD(a,e,i){let s=1,o=null,u=null,f=!1,p=0;function g(){return p===2}let y=!1;function b(...L){y||(y=!0,e.apply(null,L))}function E(L){o=setTimeout(()=>{o=null,a(O,g())},L)}function S(){u&&clearTimeout(u)}function O(L,...X){if(y){S();return}if(L){S(),b.call(null,L,...X);return}if(g()||f){S(),b.call(null,L,...X);return}s<64&&(s*=2);let W;p===1?(p=2,W=0):W=(s+Math.random())*1e3,E(W)}let z=!1;function Q(L){z||(z=!0,S(),!y&&(o!==null?(L||(p=2),clearTimeout(o),E(0)):L||(p=1)))}return E(0),u=setTimeout(()=>{f=!0,Q(!0)},i),Q}function fD(a){a(!1)}function dD(a){return a!==void 0}function B_(a,e,i,s){if(s<e)throw z_("Invalid value for '".concat(a,"'. Expected ").concat(e," or greater."));if(s>i)throw z_("Invalid value for '".concat(a,"'. Expected ").concat(i," or less."))}function mD(a){const e=encodeURIComponent;let i="?";for(const s in a)if(a.hasOwnProperty(s)){const o=e(s)+"="+e(a[s]);i=i+o+"&"}return i=i.slice(0,-1),i}var sh;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(sh||(sh={}));function pD(a,e){const i=a>=500&&a<600,o=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return i||o||u}class gD{constructor(e,i,s,o,u,f,p,g,y,b,E,S=!0,O=!1){this.url_=e,this.method_=i,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=E,this.retry=S,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,Q)=>{this.resolve_=z,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Ic(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===sh.NO_ERROR,g=u.getStatus();if(!p||pD(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===sh.ABORT;s(!1,new Ic(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Ic(y,u))})},i=(s,o)=>{const u=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());dD(g)?u(g):u()}catch(g){f(g)}else if(p!==null){const g=aD();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?k1():rD();f(g)}else{const g=sD();f(g)}};this.canceled_?i(!1,new Ic(!1,null,!0)):this.backoffId_=hD(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ic{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function yD(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function vD(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function _D(a,e){e&&(a["X-Firebase-GMPID"]=e)}function bD(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function xD(a,e,i,s,o,u,f=!0,p=!1){const g=mD(a.urlParams),y=a.url+g,b=Object.assign({},a.headers);return _D(b,e),yD(b,i),vD(b,u),bD(b,s),new gD(y,a.method,b,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,o,f,p)}function ED(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function wD(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}class rh{constructor(e,i){this._service=e,i instanceof ai?this._location=i:this._location=ai.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new rh(e,i)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wD(this._location.path)}get storage(){return this._service}get parent(){const e=ED(this._location.path);if(e===null)return null;const i=new ai(this._location.bucket,e);return new rh(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw uD(e)}}function q_(a,e){const i=e==null?void 0:e[tD];return i==null?null:ai.makeFromBucketSpec(i,a)}function TD(a,e,i,s={}){a.host="".concat(e,":").concat(i);const o=ch(e);o&&(yb("https://".concat(a.host,"/b")),_b("Storage",!0)),a._isUsingEmulator=!0,a._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken=typeof u=="string"?u:vb(u,a.app.options.projectId))}class SD{constructor(e,i,s,o,u,f=!1){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=V1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nD,this._maxUploadRetryTime=iD,this._requests=new Set,o!=null?this._bucket=ai.makeFromBucketSpec(o,this._host):this._bucket=q_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=q_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){B_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){B_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Sb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rh(this,e)}_makeRequest(e,i,s,o,u=!0){if(this._deleted)return new cD(k1());{const f=xD(e,this._appId,s,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,i){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,o).getPromise()}}const H_="@firebase/storage",F_="0.14.0";const M1="storage";function AD(a=qm(),e){a=pn(a);const s=Ho(a,M1).getImmediate({identifier:e}),o=pb("storage");return o&&ND(s,...o),s}function ND(a,e,i,s={}){TD(a,e,i,s)}function RD(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),o=a.getProvider("app-check-internal");return new SD(i,s,o,e,Ab)}function CD(){ca(new Mi(M1,RD,"PUBLIC").setMultipleInstances(!0)),qn(H_,F_,""),qn(H_,F_,"esm2020")}CD();const DD={apiKey:"AIzaSyCmuNrhWE8Aw24_qUK23Qo4u_W5M6cAFN4",authDomain:"liga-multisport.firebaseapp.com",projectId:"liga-multisport",storageBucket:"liga-multisport.firebasestorage.app",messagingSenderId:"983340811794",appId:"1:983340811794:web:a86d9e3dbb620accebbacb",measurementId:"G-TPNXY1LNX9"},Ip=Nb(DD),ct=d4(Ip);AD(Ip);let _o=null;const ID=async()=>{try{await O1()&&"serviceWorker"in navigator&&"PushManager"in window?(_o=JC(Ip),console.log("Firebase Messaging initialized successfully.")):console.warn("Firebase Messaging not supported in this environment.")}catch(a){console.error("Critical error during Messaging initialization:",a)}};ID();const Zs=({isOpen:a,onClose:e,children:i,size:s="md"})=>{if(!a)return null;const o={sm:"max-w-sm",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"},u=o[s]||o.md;return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto",onClick:e,children:m.jsxs("div",{className:"bg-[#13131f] border border-white/10 rounded-2xl w-full ".concat(u," my-8 max-h-[90vh] overflow-y-auto relative shadow-2xl"),onClick:f=>f.stopPropagation(),children:[m.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10 p-2 bg-black/20 rounded-full hover:bg-black/50 transition-colors",children:m.jsx(Kr,{className:"w-5 h-5"})}),i]})})},jD=[{date:"2025-01-01",name:"Ao Nuevo"},{date:"2025-01-06",name:"Reyes"},{date:"2025-04-18",name:"Viernes Santo"},{date:"2025-05-01",name:"Da del Trabajo"},{date:"2025-08-15",name:"Asuncin"},{date:"2025-10-12",name:"Fiesta Nacional"},{date:"2025-11-01",name:"Todos los Santos"},{date:"2025-12-06",name:"Constitucin"},{date:"2025-12-08",name:"Inmaculada"},{date:"2025-12-25",name:"Navidad"}],OD=({events:a,currentMonth:e,setCurrentMonth:i,currentYear:s,setCurrentYear:o,onSelectDay:u})=>{const f=U.useMemo(()=>{const y=new Date(s,e,1),b=new Date(s,e+1,0).getDate(),E=y.getDay()===0?6:y.getDay()-1;return{days:Array(E).fill(null).concat([...Array(b).keys()].map(S=>S+1)),name:y.toLocaleString("es-ES",{month:"long"}).toUpperCase()}},[e,s]),p=()=>{e===0?(i(11),o(s-1)):i(e-1)},g=()=>{e===11?(i(0),o(s+1)):i(e+1)};return m.jsxs("div",{className:"glass-panel p-8 rounded-[2.5rem] w-full max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h2",{className:"text-3xl font-bold uppercase tracking-widest text-celestial",children:[f.name," ",m.jsx("span",{className:"text-white/30",children:s})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:p,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:m.jsx(f2,{className:"w-6 h-6"})}),m.jsx("button",{onClick:g,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:m.jsx(m2,{className:"w-6 h-6"})})]})]}),m.jsxs("div",{className:"grid grid-cols-7 gap-2 md:gap-4 text-center",children:[["L","M","X","J","V","S","D"].map(y=>m.jsx("div",{className:"font-bold text-gray-500 py-2",children:y},y)),f.days.map((y,b)=>{if(!y)return m.jsx("div",{},b);const E="".concat(s,"-").concat(String(e+1).padStart(2,"0"),"-").concat(String(y).padStart(2,"0")),S=a.filter(L=>L.date===E),O=jD.find(L=>L.date===E),z=[0,6].includes(new Date(s,e,y).getDay()),Q=[...new Set(S.map(L=>L.typeIcon))].slice(0,3);return m.jsxs("div",{onClick:()=>u({date:E,events:S,holiday:O}),className:"aspect-square flex flex-col items-center justify-start pt-2 rounded-xl text-lg font-bold relative group transition-all cursor-pointer border border-transparent \n                                ".concat(O?"bg-red-500/10 text-red-400 border-red-500/20":z?"bg-blue-500/10 text-blue-300":"hover:bg-white/5 text-gray-300"," \n                                ").concat(S.length>0?"ring-1 ring-celestial/50 bg-celestial/5":""),children:[y,m.jsx("div",{className:"absolute top-1 right-1 flex gap-0.5",children:Q.map((L,X)=>m.jsx("span",{className:"text-[10px] leading-none",children:L},X))}),m.jsx("div",{className:"flex flex-col gap-1 w-full px-1 mt-auto pb-1",children:S.slice(0,3).map((L,X)=>m.jsx("div",{className:"h-1.5 md:h-5 md:px-2 md:py-0.5 rounded-full text-[10px] uppercase tracking-wider font-bold truncate w-full text-left flex items-center",style:{backgroundColor:L.typeColor,color:"#000"},title:L.title,children:m.jsx("span",{className:"hidden md:inline",children:L.title})},X))})]},b)})]})]})},VD=({sections:a,onOpenSection:e,onOpenForm:i})=>{const s=a.filter(o=>{if(!o.active)return!1;const u=new Date;return u.setHours(0,0,0,0),!(o.startDate&&new Date(o.startDate)>u||o.endDate&&new Date(o.endDate)<u)});return s.length===0?null:m.jsx(m.Fragment,{children:s.map(o=>{const u=new Date;u.setHours(0,0,0,0);const f=o.endDate?new Date(o.endDate):null,p=f&&o.warningDays&&(f-u)/(1e3*60*60*24)<=o.warningDays&&f-u>=0;return m.jsx("section",{className:"py-12 px-4 md:px-8 max-w-7xl mx-auto w-full",children:m.jsxs("div",{className:"glass-panel p-8 md:p-12 rounded-3xl border-l-4 border-sky-400 relative overflow-hidden group cursor-pointer",onClick:()=>e(o),children:[p&&m.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-1 rounded-full text-sm font-bold animate-pulse z-20 shadow-lg border border-red-400",children:" ltimos Das"}),o.imageUrl&&m.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-full md:w-1/3 opacity-20",children:m.jsx("img",{src:o.imageUrl,className:"w-full h-full object-cover",alt:""})}),m.jsxs("div",{className:"relative z-10 max-w-3xl",children:[m.jsx("h2",{className:"text-4xl font-bold mb-4",children:o.title}),m.jsx("p",{className:"text-lg text-gray-300 mb-6 whitespace-pre-line line-clamp-3",children:o.description}),m.jsx("div",{className:"flex flex-wrap gap-4",children:m.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-full font-bold bg-sky-400 text-black hover:bg-sky-500 transition-colors",children:["Ver Completo ",m.jsx(uh,{className:"w-5 h-5"})]})})]})]})},o.id)})})},kD=()=>{const{pathname:a}=ma();return m.jsx("nav",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[60] animate-fade-in-up",children:m.jsxs("div",{className:"bg-black/80 backdrop-blur-xl border border-white/10 px-6 py-4 rounded-3xl flex items-center gap-6 shadow-2xl",children:[m.jsx(Ro,{to:"/",className:"text-sm font-black tracking-widest uppercase transition-colors ".concat(a==="/"?"text-primary":"text-gray-500 hover:text-white"),children:"Inicio"}),m.jsx(Ro,{to:"/liga",className:"text-sm font-black tracking-widest uppercase transition-colors ".concat(a==="/liga"?"text-primary":"text-gray-500 hover:text-white"),children:"Liga"})]})})},L1=()=>{const{pathname:a}=ma();return U.useEffect(()=>{window.scrollTo(0,0)},[a]),null},bo=a=>{if(!a)return new Date;if(a instanceof Date)return a;if(typeof a=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(a)){const[e,i,s]=a.split("-").map(Number);return new Date(e,i-1,s)}if(typeof a=="string"&&a.includes("-")){const e=new Date(a);if(!isNaN(e.getTime()))return e;const i=a.replace(/-/g,"/"),s=new Date(i);if(!isNaN(s.getTime()))return s}return new Date(a)},U1=({event:a,onOpenForm:e})=>{if(a.actionType==="none")return null;const i="w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all hover:scale-[1.02] ";return a.actionType==="link"&&a.actionLink?m.jsxs("a",{href:a.actionLink,target:"_blank",rel:"noopener noreferrer",className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:[a.actionLabel||"Ms Informacin"," ",m.jsx(uh,{className:"w-5 h-5"})]}):a.actionType==="form"?m.jsx("button",{onClick:()=>e(a),className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:a.actionLabel||"Inscribirse"}):null},MD=({event:a,onClose:e,onOpenForm:i})=>{const s=()=>{const o=encodeURIComponent(a.title),u=encodeURIComponent(a.description||""),f=encodeURIComponent(a.location||""),p=a.date.replace(/-/g,""),g=a.time?a.time.replace(/:/g,"")+"00":"000000",y="https://calendar.google.com/calendar/render?action=TEMPLATE&text=".concat(o,"&dates=").concat(p,"T").concat(g,"/").concat(p,"T235959&details=").concat(u,"&location=").concat(f);window.open(y,"_blank")};return m.jsx(Zs,{isOpen:!0,onClose:e,size:"lg",children:m.jsxs("div",{className:"relative animate-fade-in",children:[a.imageUrl&&m.jsx("div",{className:"w-full h-64 md:h-80 overflow-hidden",children:m.jsx("img",{src:a.imageUrl,className:"w-full h-full object-cover",alt:a.title})}),m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"inline-block px-3 py-1 mb-4 rounded-full text-xs font-bold uppercase border",style:{color:a.typeColor,borderColor:a.typeColor,backgroundColor:"".concat(a.typeColor,"20")},children:[a.typeIcon," ",a.typeName]}),m.jsx("h2",{className:"text-4xl font-black mb-2 text-white leading-tight",children:a.title}),m.jsxs("div",{className:"flex items-center gap-2 text-sky-400 font-bold mb-4",children:[m.jsx(pv,{className:"w-5 h-5"}),bo(a.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),a.time&&m.jsxs("span",{className:"ml-1",children:["| ",a.time]})]}),a.location&&m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-6 font-medium",children:[m.jsx(cb,{className:"w-5 h-5"})," ",a.location]}),m.jsx("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/10 mb-6",children:m.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:a.description})}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx(U1,{event:a,onOpenForm:i}),m.jsxs("button",{onClick:s,className:"w-full py-3 rounded-xl border border-white/20 hover:bg-white/10 flex items-center justify-center gap-2 text-gray-300 transition-all font-bold",children:[m.jsx(pv,{className:"w-5 h-5"})," Aadir a Google Calendar"]})]})]})]})})},LD=({event:a,onClose:e})=>{var p;const[i,s]=U.useState({}),[o,u]=U.useState(!1),f=async g=>{g.preventDefault(),u(!0);try{await Lo(ii(ct,"event_registrations"),{eventId:a.id,eventTitle:a.title,submittedAt:new Date().toISOString(),...i}),alert("Inscripcin Enviada con xito!"),e()}catch(y){console.error(y),alert("Error al enviar la inscripcin. Por favor, intntalo de nuevo.")}finally{u(!1)}};return m.jsx(Zs,{isOpen:!0,onClose:e,children:m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Inscripcin"}),m.jsx("h3",{className:"text-xl text-sky-400 mb-6",children:a.title}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[(p=a.customFields)==null?void 0:p.map(g=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:g.label}),g.type==="select"?m.jsxs("select",{required:!0,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",onChange:y=>s({...i,[g.label]:y.target.value}),children:[m.jsx("option",{value:"",children:"Selecciona..."}),g.options.split(",").map(y=>m.jsx("option",{value:y.trim(),children:y.trim()},y))]}):m.jsx("input",{required:!0,type:g.type,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",placeholder:g.label,onChange:y=>s({...i,[g.label]:y.target.value})})]},g.id)),m.jsx("button",{disabled:o,className:"w-full bg-sky-400 text-black font-bold py-3 rounded-xl mt-4 hover:bg-sky-500 transition-all disabled:opacity-50",children:o?"Enviando...":"Confirmar Inscripcin"}),m.jsx("p",{className:"text-[10px] text-gray-500 text-center mt-2",children:"Al inscribirte, aceptas que tus datos sean compartidos con la organizacin."})]})]})})},UD=({onClick:a,hasUnread:e})=>m.jsxs("button",{onClick:a,className:"p-3 bg-white/5 text-gray-400 rounded-full shadow-lg hover:text-white transition-all relative border border-white/5 active:scale-95",children:[m.jsx(s2,{className:"w-5 h-5"}),e&&m.jsx("span",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full border-2 border-[#0a0a0f] animate-pulse"})]}),PD=({isOpen:a,onClose:e,announcements:i,permission:s,onRequestPermission:o})=>m.jsx(Zs,{isOpen:a,onClose:e,size:"lg",children:m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:""})," Buzn de Avisos"]})}),s!=="granted"&&m.jsxs("div",{className:"bg-sky-400/10 border border-sky-400/20 p-4 rounded-2xl mb-6 flex flex-col md:flex-row items-center gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-bold text-sky-400 text-sm",children:"Quieres recibir avisos al mvil?"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Activa las notificaciones para no perderte ningn cambio de ltima hora."})]}),m.jsx("button",{onClick:o,className:"bg-sky-400 text-black px-4 py-2 rounded-lg font-bold text-xs whitespace-nowrap hover:scale-105 transition-transform",children:"Activar Notificaciones"})]}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[i.map((u,f)=>m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 group hover:bg-white/10 transition-all border-l-4 border-l-sky-400",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-lg text-white",children:u.title}),m.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:new Date(u.date).toLocaleDateString()})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-wrap",children:u.body})]},u.id||f)),i.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"text-4xl mb-4 opacity-20",children:""}),m.jsx("p",{className:"text-gray-500 italic",children:"No hay avisos nuevos por ahora."})]})]})]})}),zD=({isOpen:a,onClose:e,onInstall:i,isIOS:s})=>a?s?m.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:m.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-400/5 blur-3xl -mr-16 -mt-16 group-hover:bg-sky-400/10 transition-all"}),m.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-500 hover:text-white transition-colors",children:m.jsx(Kr,{className:"w-5 h-5"})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 bg-sky-400/10 rounded-3xl flex items-center justify-center text-4xl mb-6 mx-auto border border-sky-400/20 shadow-inner",children:""}),m.jsx("h4",{className:"font-black text-white text-2xl mb-2",children:"Descarga la App"}),m.jsx("p",{className:"text-gray-400 text-sm max-w-[250px] mx-auto leading-relaxed",children:"Instala la aplicacin en tu iPhone para un acceso ms rpido."})]}),m.jsxs("div",{className:"space-y-6 max-w-[280px] mx-auto",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-xl flex items-center justify-center shrink-0 border border-white/5 text-sky-400 font-bold",children:"1"}),m.jsxs("div",{className:"text-left",children:[m.jsxs("p",{className:"text-white font-bold text-sm flex items-center gap-2",children:['Pulsa el botn "Compartir" ',m.jsx(L2,{className:"w-4 h-4 text-sky-400"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ubicado en la barra inferior de Safari."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-xl flex items-center justify-center shrink-0 border border-white/5 text-sky-400 font-bold",children:"2"}),m.jsxs("div",{className:"text-left",children:[m.jsxs("p",{className:"text-white font-bold text-sm flex items-center gap-2",children:['"Aadir a pantalla de inicio" ',m.jsx(qc,{className:"w-4 h-4 text-sky-400"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Busca esta opcin en el men que aparece."})]})]})]}),m.jsx("button",{onClick:e,className:"w-full mt-10 bg-white/5 hover:bg-white/10 text-white font-bold py-4 rounded-2xl transition-all border border-white/5 text-xs uppercase tracking-widest",children:"Entendido"})]})}):m.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:m.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-6 rounded-[2.5rem] shadow-2xl flex items-center gap-6 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-400/5 blur-3xl -mr-16 -mt-16 group-hover:bg-sky-400/10 transition-all"}),m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:m.jsx(Kr,{className:"w-5 h-5"})}),m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-400 to-blue-600 rounded-2xl flex items-center justify-center text-3xl shadow-lg shrink-0",children:""}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-extrabold text-white text-lg leading-tight mb-1",children:"Instalar Aplicacin"}),m.jsx("p",{className:"text-[10px] text-gray-400 leading-tight pr-4",children:"Accede ms rpido y disfruta de una mejor experiencia desde tu pantalla de inicio."})]}),m.jsx("button",{onClick:i,className:"bg-sky-400 hover:bg-sky-300 text-black px-6 py-4 rounded-2xl font-black text-xs transition-all hover:scale-105 active:scale-95 shadow-lg shadow-sky-400/20 uppercase tracking-widest shrink-0",children:"Instalar"})]})}):null,G_=({value:a,onChange:e})=>{const i=o=>new Promise((u,f)=>{const p=new FileReader;p.readAsDataURL(o),p.onload=g=>{const y=new Image;y.src=g.target.result,y.onload=()=>{const b=document.createElement("canvas"),E=800,S=E/y.width;b.width=E,b.height=y.height*S,b.getContext("2d").drawImage(y,0,0,b.width,b.height);const z=b.toDataURL("image/jpeg",.7);u(z)}},p.onerror=g=>f(g)}),s=async o=>{const u=o[0];if(u)try{const f=await i(u);e(f)}catch(f){alert("Error al procesar la imagen")}};return m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex gap-2",onDragOver:o=>o.preventDefault(),onDrop:o=>{o.preventDefault(),s(o.dataTransfer.files)},children:[m.jsx("input",{type:"text",value:a||"",onChange:o=>e(o.target.value),onPaste:o=>{o.clipboardData.files.length&&s(o.clipboardData.files)},placeholder:"Imagen (URL, Pegar o Arrastrar)",className:"flex-1 bg-black/40 p-3 rounded border border-white/10 text-white"}),m.jsxs("label",{className:"cursor-pointer bg-white/10 hover:bg-white/20 p-3 rounded border border-white/10 flex items-center justify-center",children:[m.jsx(fb,{className:"w-5 h-5"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o=>s(o.target.files)})]})]}),a&&m.jsx("img",{src:a,className:"h-24 rounded object-contain border border-white/10 bg-black/40 w-full",alt:"Preview"})]})},P1=({fields:a,onChange:e})=>{const i=()=>e([...a,{id:Date.now(),label:"",type:"text",options:""}]),s=()=>e([...a,{id:Date.now(),label:"Nombre Completo",type:"text",options:""},{id:Date.now()+1,label:"Email",type:"text",options:""},{id:Date.now()+2,label:"Comentarios",type:"text",options:""}]),o=(u,f,p)=>e(a.map(g=>g.id===u?{...g,[f]:p}:g));return m.jsxs("div",{className:"space-y-4 border border-white/10 p-4 rounded bg-black/20",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-sm uppercase text-gray-400",children:"Campos del Formulario"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:s,className:"text-xs bg-white/10 px-2 py-1 rounded hover:bg-white/20",children:"+ Presets"}),m.jsxs("button",{type:"button",onClick:i,className:"text-sky-400 text-sm font-bold flex items-center gap-1",children:[m.jsx(R2,{className:"w-4 h-4"})," Aadir Campo"]})]})]}),a.map(u=>m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center bg-white/5 p-2 rounded",children:[m.jsx("input",{value:u.label,onChange:f=>o(u.id,"label",f.target.value),placeholder:"Etiqueta",className:"col-span-4 bg-black/40 p-2 rounded text-sm"}),m.jsxs("select",{value:u.type,onChange:f=>o(u.id,"type",f.target.value),className:"col-span-3 bg-black/40 p-2 rounded text-sm text-gray-300",children:[m.jsx("option",{value:"text",children:"Texto"}),m.jsx("option",{value:"number",children:"Nmero"}),m.jsx("option",{value:"select",children:"Desplegable"})]}),m.jsx("input",{value:u.options,onChange:f=>o(u.id,"options",f.target.value),placeholder:"Opciones (sep. por coma)",className:"col-span-4 bg-black/40 p-2 rounded text-sm",disabled:u.type!=="select"}),m.jsx("button",{type:"button",onClick:()=>e(a.filter(f=>f.id!==u.id)),className:"col-span-1 text-red-400 flex justify-center",children:m.jsx(Kr,{className:"w-4 h-4"})})]},u.id)),a.length===0&&m.jsx("p",{className:"text-xs text-center text-gray-500",children:"Aade campos para el formulario."})]})},BD=({buttons:a,onChange:e})=>{const i=()=>e([...a||[],{id:Date.now(),label:"",type:"link",link:"",style:"primary",customFields:[]}]),s=(u,f,p)=>e(a.map(g=>g.id===u?{...g,[f]:p}:g)),o=u=>e(a.filter(f=>f.id!==u));return m.jsxs("div",{className:"space-y-3 bg-black/20 p-3 rounded border border-white/10",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("label",{className:"text-sm font-bold text-gray-400",children:"Botones de Accin"}),m.jsx("button",{type:"button",onClick:i,className:"text-xs bg-sky-400 text-black px-2 py-1 rounded font-bold",children:"+ Aadir"})]}),(a||[]).map(u=>m.jsxs("div",{className:"bg-white/5 p-2 rounded relative",children:[m.jsx("button",{type:"button",onClick:()=>o(u.id),"aria-label":"Eliminar botn",className:"absolute top-2 right-2 text-red-500",children:m.jsx(Kr,{className:"w-4 h-4"})}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 pr-6",children:[m.jsx("input",{value:u.label,onChange:f=>s(u.id,"label",f.target.value),placeholder:"Texto del Botn",className:"bg-black/40 p-2 rounded text-sm w-full"}),m.jsxs("select",{value:u.type||"link",onChange:f=>s(u.id,"type",f.target.value),className:"bg-black/40 p-2 rounded text-sm w-full",children:[m.jsx("option",{value:"link",children:"Enlace"}),m.jsx("option",{value:"form",children:"Formulario"})]})]}),m.jsx("div",{className:"mb-2",children:m.jsxs("select",{value:u.style,onChange:f=>s(u.id,"style",f.target.value),className:"w-full bg-black/40 p-2 rounded text-sm",children:[m.jsx("option",{value:"primary",children:"Azul (Principal)"}),m.jsx("option",{value:"secondary",children:"Blanco (Secundario)"}),m.jsx("option",{value:"outline",children:"Borde (Discreto)"}),m.jsx("option",{value:"gradient",children:"Gradiente (Destacado)"})]})}),u.type==="link"&&m.jsx("input",{value:u.link,onChange:f=>s(u.id,"link",f.target.value),placeholder:"https://...",className:"w-full bg-black/40 p-2 rounded text-sm"}),u.type==="form"&&m.jsx("div",{className:"mt-2 pl-2 border-l-2 border-sky-400/30",children:m.jsx(P1,{fields:u.customFields||[],onChange:f=>s(u.id,"customFields",f)})})]},u.id)),(!a||a.length===0)&&m.jsx("p",{className:"text-xs text-center text-gray-600",children:"Sin botones."})]})},qD=({isOpen:a,onClose:e,events:i,eventTypes:s,announcements:o,specialSections:u,onOpenDB:f,onOpenStats:p,fcmToken:g})=>{const[y,b]=U.useState("events"),E={title:"",date:"",time:"",location:"",typeId:"tournament",description:"",imageUrl:"",actionType:"none",actionLabel:"",actionLink:"",customFields:[],pollOptions:[]},[S,O]=U.useState(E),[z,Q]=U.useState(null),[L,X]=U.useState({name:"",color:"#6366f1",icon:""}),[ae,W]=U.useState(u||[]);bw.useEffect(()=>{W(u||[])},[u]);const ue=async w=>{w.preventDefault();try{const C=s.find(we=>we.id===S.typeId),A={...S,typeColor:(C==null?void 0:C.color)||"#6366f1",typeIcon:(C==null?void 0:C.icon)||"",typeName:(C==null?void 0:C.name)||"Evento"};z?await Im(dn(ct,"events",z),A):await Lo(ii(ct,"events"),{...A,surveyCount:0}),alert("Evento guardado con xito"),O(E),Q(null)}catch(C){console.error(C),alert("Error al guardar evento")}},pe=async w=>{confirm("Ests seguro de que quieres eliminar este evento?")&&await jm(dn(ct,"events",w))},ye=async()=>{if(!L.name)return;const w=[...s,{...L,id:Date.now().toString()}];await Ao(dn(ct,"config","eventTypes"),{types:w}),X({name:"",color:"#6366f1",icon:""})},I=async w=>{if(["party","tournament","tickets","special"].includes(w)){alert("Este tipo base no se puede eliminar.");return}const C=s.filter(A=>A.id!==w);await Ao(dn(ct,"config","eventTypes"),{types:C})},R=w=>{W(w.map(C=>({...C,buttons:C.buttons||[]})))},D=async()=>{try{await Ao(dn(ct,"config","specialSections"),{sections:ae}),alert("Secciones especiales guardadas con xito")}catch(w){alert("Error al guardar las secciones")}},V=async w=>{w.preventDefault();const C=w.target.title.value,A=w.target.body.value;if(confirm("Deseas publicar este aviso? Todos los usuarios vern una notificacin."))try{await Lo(ii(ct,"announcements"),{title:C,body:A,date:new Date().toISOString()}),alert("Anuncio publicado"),w.target.reset()}catch(we){alert("Error al publicar anuncio")}};return m.jsx(Zs,{isOpen:a,onClose:e,size:"xl",children:m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Panel de Administracin"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-500 transition-colors flex items-center gap-2",children:[m.jsx(_2,{className:"w-4 h-4"})," Base de Datos"]}),m.jsx("div",{className:"flex bg-black/40 p-1 rounded-xl",children:[{id:"events",l:"Eventos"},{id:"types",l:"Categoras"},{id:"special",l:"Landing"},{id:"inbox",l:"Buzn"}].map(w=>m.jsx("button",{onClick:()=>b(w.id),className:"px-4 py-2 rounded-lg font-bold text-sm transition-all ".concat(y===w.id?"bg-primary text-black shadow-lg shadow-primary/20":"text-gray-400 hover:text-white"),children:w.l},w.id))})]})]}),m.jsxs("div",{className:"custom-scrollbar overflow-y-auto max-h-[70vh] pr-2",children:[y==="events"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in",children:[m.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[m.jsxs("h3",{className:"font-bold text-primary flex items-center gap-2",children:[z?m.jsx(vv,{className:"w-4 h-4"}):m.jsx(qc,{className:"w-4 h-4"}),z?"Editando Evento":"Nuevo Evento"]}),m.jsx("input",{value:S.title,onChange:w=>O({...S,title:w.target.value}),placeholder:"Ttulo del Evento",required:!0,className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 focus:border-primary outline-none"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsx("input",{value:S.date,onChange:w=>O({...S,date:w.target.value}),type:"date",required:!0,className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),m.jsx("input",{value:S.time,onChange:w=>O({...S,time:w.target.value}),type:"time",className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),m.jsx("select",{value:S.typeId,onChange:w=>O({...S,typeId:w.target.value}),className:"bg-black/40 p-3 rounded-xl border border-white/5",children:s.map(w=>m.jsxs("option",{value:w.id,children:[w.icon," ",w.name]},w.id))})]}),m.jsx("input",{value:S.location,onChange:w=>O({...S,location:w.target.value}),placeholder:"Ubicacin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),m.jsx("textarea",{value:S.description,onChange:w=>O({...S,description:w.target.value}),placeholder:"Descripcin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5",rows:"3"}),m.jsx(G_,{value:S.imageUrl,onChange:w=>O({...S,imageUrl:w})}),m.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-3 tracking-widest",children:"Accin Interactiva"}),m.jsxs("select",{value:S.actionType,onChange:w=>O({...S,actionType:w.target.value}),className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3",children:[m.jsx("option",{value:"none",children:"Sin botn adicional"}),m.jsx("option",{value:"form",children:"Formulario de registro personalizado"}),m.jsx("option",{value:"link",children:"Enlace externo"})]}),["link","form"].includes(S.actionType)&&m.jsx("input",{value:S.actionLabel,onChange:w=>O({...S,actionLabel:w.target.value}),placeholder:"Texto del botn",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3"}),S.actionType==="link"&&m.jsx("input",{value:S.actionLink,onChange:w=>O({...S,actionLink:w.target.value}),placeholder:"URL del enlace (https://...)",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),S.actionType==="form"&&m.jsx(P1,{fields:S.customFields||[],onChange:w=>O({...S,customFields:w})})]}),m.jsx("button",{className:"w-full bg-primary text-black py-4 rounded-xl font-bold hover:bg-sky-500 transition-all shadow-lg shadow-primary/20",children:z?"Actualizar Evento":"Crear Evento"}),z&&m.jsx("button",{type:"button",onClick:()=>{Q(null),O(E)},className:"w-full text-gray-500 text-xs mt-2 uppercase font-bold tracking-widest hover:text-white transition-colors",children:"Cancelar Edicin"})]}),m.jsxs("div",{className:"space-y-2 max-h-[600px] overflow-y-auto custom-scrollbar",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Eventos Existentes"}),i.map(w=>m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl group hover:bg-white/10 border border-white/5 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-xl",children:w.typeIcon}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm",children:w.title}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono uppercase",children:new Date(w.date).toLocaleDateString()})]})]}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[m.jsx("button",{onClick:()=>p(w),className:"bg-green-500/20 text-green-400 p-2 text-[10px] font-bold rounded-lg border border-green-500/30 hover:bg-green-500/40",children:"DATA"}),m.jsx("button",{onClick:()=>{O({...w}),Q(w.id)},className:"text-primary p-2 hover:bg-primary/10 rounded-lg",children:m.jsx(vv,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>pe(w.id),className:"text-red-500 p-2 hover:bg-red-500/10 rounded-lg",children:m.jsx(Vc,{className:"w-4 h-4"})})]})]},w.id)),i.length===0&&m.jsx("p",{className:"text-center py-8 text-gray-600 italic",children:"No hay eventos creados."})]})]}),y==="types"&&m.jsxs("div",{className:"animate-fade-in space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-4 gap-4 bg-white/5 p-6 rounded-2xl border border-white/5",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Nombre Categora"}),m.jsx("input",{value:L.name,onChange:w=>X({...L,name:w.target.value}),placeholder:"Ej: Cena",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Color"}),m.jsx("input",{value:L.color,onChange:w=>X({...L,color:w.target.value}),type:"color",className:"bg-black/40 p-2 h-12 w-full rounded-xl cursor-pointer"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Icono/Emoji"}),m.jsx("input",{value:L.icon,onChange:w=>X({...L,icon:w.target.value}),placeholder:"",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 text-center text-xl"})]}),m.jsx("button",{onClick:ye,className:"col-span-4 bg-primary text-black py-3 rounded-xl font-bold hover:bg-sky-500 transition-all",children:"Aadir Nueva Categora"})]}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(w=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/5 border border-white/10",style:{borderLeft:"6px solid ".concat(w.color)},children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:w.icon}),m.jsx("span",{className:"font-bold",children:w.name})]}),!["party","tournament","tickets","special"].includes(w.id)&&m.jsx("button",{onClick:()=>I(w.id),className:"text-red-500 hover:bg-red-500/10 p-2 rounded-lg transition-colors",children:m.jsx(Vc,{className:"w-4 h-4"})})]},w.id))})]}),y==="special"&&m.jsxs("div",{className:"animate-fade-in space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5",children:[m.jsx("h3",{className:"font-bold text-gray-400 uppercase text-xs tracking-widest",children:"Secciones Especiales (Polls & Landing)"}),m.jsx("button",{onClick:()=>R([...ae,{id:Date.now(),title:"",description:"",imageUrl:"",active:!0,buttons:[],startDate:"",endDate:"",warningDays:"",link:"",linkText:"",pollOptions:[],pollCounts:{}}]),className:"bg-white/10 px-4 py-2 rounded-lg font-bold hover:bg-white/20 transition-all text-xs",children:"+ Aadir Seccin"})]}),m.jsx("div",{className:"space-y-6",children:ae.map(w=>m.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 space-y-4 relative group",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-4",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg border-white/10 bg-black/40 text-primary",checked:w.active,onChange:C=>R(ae.map(A=>A.id===w.id?{...A,active:C.target.checked}:A))}),m.jsx("span",{className:"font-bold text-sm ".concat(w.active?"text-green-400":"text-gray-500"),children:w.active?"Visible en Landing":"Oculta"})]}),m.jsx("button",{onClick:()=>R(ae.filter(C=>C.id!==w.id)),className:"text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-500/10 px-3 py-1 rounded-lg",children:"Eliminar"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{value:w.title,onChange:C=>R(ae.map(A=>A.id===w.id?{...A,title:C.target.value}:A)),placeholder:"Ttulo de la Seccin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary"}),m.jsx("textarea",{value:w.description,onChange:C=>R(ae.map(A=>A.id===w.id?{...A,description:C.target.value}:A)),placeholder:"Breve descripcin para la landing...",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary",rows:"3"})]}),m.jsx("div",{className:"space-y-4",children:m.jsx(G_,{value:w.imageUrl,onChange:C=>R(ae.map(A=>A.id===w.id?{...A,imageUrl:C}:A))})})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-black/20 p-4 rounded-2xl",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Inicio"}),m.jsx("input",{type:"date",value:w.startDate||"",onChange:C=>R(ae.map(A=>A.id===w.id?{...A,startDate:C.target.value}:A)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Fin"}),m.jsx("input",{type:"date",value:w.endDate||"",onChange:C=>R(ae.map(A=>A.id===w.id?{...A,endDate:C.target.value}:A)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:'Aviso "Cierre"'}),m.jsx("input",{type:"number",placeholder:"Das restantes",value:w.warningDays||"",onChange:C=>R(ae.map(A=>A.id===w.id?{...A,warningDays:C.target.value}:A)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]})]}),m.jsx(BD,{buttons:w.buttons||[],onChange:C=>R(ae.map(A=>A.id===w.id?{...A,buttons:C}:A))})]},w.id))}),m.jsx("button",{onClick:D,className:"w-full bg-primary text-black py-4 rounded-2xl font-black text-lg hover:bg-sky-500 transition-all shadow-xl shadow-primary/20",children:"GUARDAR CAMBIOS EN LA WEB"})]}),y==="inbox"&&m.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[m.jsxs("form",{onSubmit:V,className:"bg-white/5 p-8 rounded-3xl border border-white/5 space-y-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-primary flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-xl",children:""}),"Enviar Notificacin / Aviso"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Asunto"}),m.jsx("input",{name:"title",required:!0,placeholder:"Ej: Nueva fiesta confirmada",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Mensaje Completo"}),m.jsx("textarea",{name:"body",required:!0,rows:"4",placeholder:"Describe los detalles aqu...",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-sky-400 to-blue-500 text-black font-black py-4 rounded-2xl hover:scale-[1.01] transition-all shadow-lg shadow-primary/20 uppercase tracking-widest",children:"Publicar Aviso Global"})]}),m.jsxs("div",{className:"bg-yellow-500/5 border border-yellow-500/20 p-6 rounded-2xl",children:[m.jsx("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:" Notificaciones Push"}),m.jsx("p",{className:"text-xs text-gray-400 leading-relaxed mb-4",children:"Este panel aade mensajes al Buzn interno de la App. Para enviar notificaciones que hagan vibrar el mvil (Push), utiliza el panel de Firebase Messaging."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"text-[10px] bg-yellow-500/20 text-yellow-200 px-4 py-2 rounded-lg hover:bg-yellow-500/30 font-bold transition-all uppercase tracking-tighter",children:"Ir a Consola Firebase"}),m.jsx("button",{type:"button",onClick:()=>{const w=document.querySelector('input[name="title"]').value,C=document.querySelector('textarea[name="body"]').value;if(!w||!C){alert("Escribe algo primero.");return}navigator.clipboard.writeText("Ttulo: ".concat(w,"\nTexto: ").concat(C)),alert("Copiado al portapapeles. Ahora ve a Firebase y pgalo!"),window.open("https://console.firebase.google.com/u/0/project/liga-multisport/notification/compose","_blank")},className:"text-[10px] bg-white/10 text-white px-4 py-2 rounded-lg hover:bg-white/20 font-bold transition-all uppercase tracking-tighter",children:"COPIAR DATOS"})]})]}),m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 mt-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"font-bold text-xs text-gray-500 uppercase tracking-widest",children:"Estado Notificaciones"}),m.jsx("span",{className:"text-[10px] px-2 py-1 rounded border ".concat(g?"bg-green-500/10 border-green-500 text-green-500":"bg-red-500/10 border-red-500 text-red-500"),children:g?"ACTIVO":"SIN TOKEN"})]}),g?m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsx("p",{className:"font-mono text-[10px] text-gray-400 truncate flex-1 bg-black/30 p-2 rounded",children:g}),m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(g),alert("Token copiado")},className:"bg-white/10 text-white px-3 py-2 rounded-lg text-xs font-bold hover:bg-white/20 transition-all shrink-0",children:"COPIAR"})]}):m.jsxs("div",{className:"text-[10px] text-gray-500",children:[m.jsx("p",{children:"No se ha generado token. Posibles causas:"}),m.jsxs("ul",{className:"list-disc ml-4 mt-1 space-y-1",children:[m.jsx("li",{children:"No has aceptado permisos (Icono candado )."}),m.jsx("li",{children:"Ests en modo incgnito."}),m.jsx("li",{children:"Problema de conexin con Firebase."})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Historial Reciente"}),o.map(w=>m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5 hover:bg-white/10 transition-all",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm",children:w.title}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono italic",children:new Date(w.date).toLocaleString()})]}),m.jsx("button",{onClick:()=>confirm("Borrar aviso?")&&jm(dn(ct,"announcements",w.id)),className:"text-red-500 hover:bg-red-500/10 p-3 rounded-full transition-all",children:m.jsx(Vc,{className:"w-4 h-4"})})]},w.id)),o.length===0&&m.jsx("p",{className:"text-center text-gray-600 italic py-8 text-sm",children:"No hay avisos anteriores."})]})]})]})]})})},HD=({onClose:a,onSuccess:e})=>{const[i,s]=U.useState(""),[o,u]=U.useState(!1),f=async p=>{p.preventDefault(),u(!0);try{const g=dn(ct,"config","settings"),y=await N4(g);let b="PasoWeb2526";y.exists()?b=y.data().adminPassword||"PasoWeb2526":await Ao(g,{adminPassword:"PasoWeb2526"}),i===b?e():alert("Contrasea incorrecta")}catch(g){console.error(g),alert("Error de verificacin con el servidor")}finally{u(!1)}};return m.jsx(Zs,{isOpen:!0,onClose:a,children:m.jsxs("div",{className:"p-8 text-center animate-fade-in",children:[m.jsx("div",{className:"w-16 h-16 bg-sky-400/20 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("span",{className:"text-3xl",children:""})}),m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acceso Admin"}),m.jsxs("form",{onSubmit:f,children:[m.jsx("input",{type:"password",autoFocus:!0,autoComplete:"current-password",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-center text-white text-xl tracking-widest mb-4 placeholder-gray-600 focus:border-sky-400 outline-none transition-all",placeholder:"",value:i,onChange:p=>s(p.target.value)}),m.jsxs("div",{className:"flex gap-2 justify-center",children:[m.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"}),m.jsx("button",{disabled:o||!i,className:"px-8 py-2 bg-sky-400 text-black font-bold rounded-lg hover:bg-sky-500 transition-all disabled:opacity-50",children:o?"Verificando...":"Entrar"})]})]})]})})},FD=({onBack:a,events:e,specialSections:i})=>{const[s,o]=U.useState(null),[u,f]=U.useState([]),p=U.useMemo(()=>{const b=(e||[]).map(S=>({...S,type:"event",label:"Evento"})),E=(i||[]).filter(S=>(S.buttons||[]).some(O=>O.type==="form")||(S.pollOptions||[]).length>0).map(S=>({...S,type:"section",label:"Seccin"}));return[...b,...E]},[e,i]),g=p.find(b=>b.id===s);U.useEffect(()=>{if(!s||!g)return;let b;return g.type==="event"?b=Ja(el(ii(ct,"event_registrations"),Jd("eventId","==",s)),E=>f(E.docs.map(S=>S.data()))):b=Ja(el(ii(ct,"event_registrations"),Jd("eventId",">=","section_".concat(s)),Jd("eventId","<=","section_".concat(s,""))),E=>f(E.docs.map(S=>S.data()))),()=>b&&b()},[s,g]);const y=()=>{if(!g||u.length===0)return;const b=["ID Origen","Nombre","Email",...Object.keys(u[0]||{}).filter(L=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(L)),"Fecha"],E=u.map(L=>[L.eventTitle||"-",L.nombre||"-",L.email||"-",...Object.keys(L).filter(X=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(X)).map(X=>L[X]),L.submittedAt].join("	")),S=[b.join("	"),...E].join("\n"),O=new Blob([S],{type:"text/tab-separated-values"}),z=URL.createObjectURL(O),Q=document.createElement("a");Q.href=z,Q.download="".concat(g.title,"_data.xls"),Q.click()};return m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white p-8 flex flex-col animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[m.jsx("h1",{className:"text-3xl font-black text-sky-400",children:"BASE DE DATOS"}),m.jsx("button",{onClick:a,className:"px-6 py-2 bg-white/10 hover:bg-white/20 rounded-lg font-bold transition-colors",children:"Volver"})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 flex-1 overflow-hidden",children:[m.jsxs("div",{className:"w-full md:w-1/4 h-64 md:h-full overflow-y-auto pr-4 border-b md:border-b-0 md:border-r border-white/10 space-y-2 custom-scrollbar",children:[m.jsx("h3",{className:"font-bold text-gray-400 mb-4 sticky top-0 bg-[#0a0a0f] py-2",children:"tems"}),p.map(b=>m.jsxs("button",{onClick:()=>o(b.id),className:"w-full text-left p-3 rounded transition-all flex justify-between items-center ".concat(s===b.id?"bg-sky-400 text-black font-bold":"hover:bg-white/5 text-gray-300"),children:[m.jsx("span",{className:"truncate",children:b.title}),m.jsx("span",{className:"text-[10px] opacity-70 border px-1 rounded uppercase font-mono",children:b.label})]},b.id))]}),m.jsxs("div",{className:"flex-1 overflow-y-auto bg-black/20 rounded-2xl p-6 border border-white/5 custom-scrollbar",children:[!s&&m.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 italic",children:"Selecciona un tem de la izquierda para ver los registros."}),g&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-end mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-4xl font-bold mb-2",children:g.title}),m.jsxs("div",{className:"text-gray-400 text-sm font-mono",children:["ID: ",g.id]})]}),m.jsxs("button",{onClick:y,className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded font-bold text-sm flex items-center gap-2 transition-all",children:[m.jsx(fb,{className:"w-4 h-4 rotate-180"})," Exportar Excel"]})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[m.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Tipo"}),m.jsx("div",{className:"text-2xl font-bold text-sky-400 uppercase",children:g.type})]}),m.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Registros"}),m.jsx("div",{className:"text-2xl font-bold text-purple-400",children:u.length})]})]}),m.jsx("h3",{className:"font-bold mb-4 text-sky-400",children:"Registros Recibidos"}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[m.jsx("thead",{className:"text-xs uppercase bg-white/5 text-gray-200",children:m.jsx("tr",{children:["Origen","Fecha","Nombre","Email",...Object.keys(u[0]||{}).filter(b=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(b))].map(b=>m.jsx("th",{className:"px-4 py-3",children:b},b))})}),m.jsx("tbody",{children:u.map((b,E)=>{var S;return m.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[m.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:((S=b.eventTitle)==null?void 0:S.split("-")[1])||"General"}),m.jsx("td",{className:"px-4 py-2",children:new Date(b.submittedAt).toLocaleDateString()}),m.jsx("td",{className:"px-4 py-2 font-bold text-white",children:b.nombre||"-"}),m.jsx("td",{className:"px-4 py-2",children:b.email||"-"}),Object.keys(b).filter(O=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(O)).map(O=>m.jsx("td",{className:"px-4 py-2",children:typeof b[O]=="object"?JSON.stringify(b[O]):b[O]},O))]},E)})})]}),u.length===0&&m.jsx("p",{className:"text-center py-8 italic text-gray-600",children:"No hay registros an para este tem."})]})]})]})]})]})},GD=()=>{const[a,e]=U.useState(null),[i,s]=U.useState(!1),[o,u]=U.useState(!1),[f,p]=U.useState(!1);return U.useEffect(()=>{const b=/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream;u(b);const S=(()=>{const z=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;return p(z),z})();b&&!S&&(localStorage.getItem("pwa_prompt_dismissed")||s(!0));const O=z=>{console.log("PWA: beforeinstallprompt event fired"),z.preventDefault(),e(z);const Q=localStorage.getItem("pwa_prompt_dismissed");console.log("PWA: dismissed from storage:",Q),!S&&!Q&&s(!0)};return window.addEventListener("beforeinstallprompt",O),()=>window.removeEventListener("beforeinstallprompt",O)},[]),{showInstall:i,setShowInstall:s,install:()=>{o||a&&(a.prompt(),a.userChoice.then(b=>{b.outcome==="accepted"&&(s(!1),localStorage.setItem("pwa_installed","true")),e(null)}))},dismiss:()=>{s(!1),localStorage.setItem("pwa_prompt_dismissed",Date.now().toString())},isIOS:o,isStandalone:f}},QD=()=>{const[a,e]=U.useState(Notification.permission),[i,s]=U.useState(null),o=async()=>{const u="Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window;if(!_o||!u){console.warn("Messaging systems not available or supported.");return}try{const f=await Notification.requestPermission();if(e(f),f==="granted"){console.log("Permission granted. retrieving token...");let p;try{p=await navigator.serviceWorker.ready,console.log("Service Worker ready:",p)}catch(y){console.error("Error waiting for SW ready:",y)}const g=await WC(_o,{vapidKey:"BJZr34oV68SKsSBbxY-rB7xzbcKQ4DjIIsgtW-y8SW5I-4dGHIpeHsmIo7mQEMMXNK8ov5RqMRKw7-IWD1_Oa4M",serviceWorkerRegistration:p});if(g){console.log("Token retrieved:",g),s(g);try{await Ao(dn(ct,"fcm_tokens",g),{token:g,lastSeen:new Date,userAgent:navigator.userAgent},{merge:!0}),console.log("Token saved to Firestore")}catch(y){console.error("Error saving to DB:",y),alert("Error guardando token: "+y.message)}}else console.log("No registration token available. Request permission to generate one.")}}catch(f){console.error("An error occurred while retrieving token. ",f),alert("Error token: "+f.message)}};return U.useEffect(()=>{if(a==="granted"&&_o)try{const u=eD(_o,f=>{console.log("Message received. ",f),Notification.permission==="granted"&&new Notification(f.notification.title,{body:f.notification.body,icon:"/logo.png"})});return()=>u()}catch(u){console.warn("Error setting up onMessage listener:",u)}},[a]),{permission:a,requestPermission:o,fcmToken:i}},KD=()=>{const[a,e]=U.useState([]),[i,s]=U.useState([]),[o,u]=U.useState([]),[f,p]=U.useState([]),[g,y]=U.useState("app"),[b,E]=U.useState(null),[S,O]=U.useState(null),[z,Q]=U.useState(null),[L,X]=U.useState(null),[ae,W]=U.useState(null),[ue,pe]=U.useState(!1),[ye,I]=U.useState(!1),[R,D]=U.useState(!1),[V,w]=U.useState(!1),[C,A]=U.useState(!1),[we,Ue]=U.useState(new Date().getMonth()),[Y,re]=U.useState(new Date().getFullYear()),{showInstall:ge,isIOS:Ie,install:ze,dismiss:k}=GD(),{permission:Z,requestPermission:le,fcmToken:ie}=QD();U.useEffect(()=>{const he=el(ii(ct,"events"),R_("date","asc")),He=Ja(he,xt=>{e(xt.docs.map(Nn=>({id:Nn.id,...Nn.data()})))}),An=Ja(dn(ct,"config","eventTypes"),xt=>{xt.exists()&&s(xt.data().types||[])}),oi=el(ii(ct,"announcements"),R_("date","desc"),T4(20)),pa=Ja(oi,xt=>{const Nn=xt.docs.map(ya=>({id:ya.id,...ya.data()}));u(Nn);const ui=localStorage.getItem("last_inbox_view");Nn.length>0&&(!ui||bo(Nn[0].date)>new Date(ui))&&A(!0)}),ga=Ja(dn(ct,"config","specialSections"),xt=>{xt.exists()&&p(xt.data().sections||[])});return()=>{He(),An(),pa(),ga()}},[]),U.useEffect(()=>{if(Z==="default"){const he=setTimeout(()=>{const He=localStorage.getItem("last_notification_prompt"),An=Date.now(),oi=1440*60*1e3;(!He||An-parseInt(He)>oi)&&(w(!0),localStorage.setItem("last_notification_prompt",An.toString()),console.log("Smart Onboarding: Triggering notification prompt"))},1e4);return()=>clearTimeout(he)}},[Z]);const me=()=>{w(!0),A(!1),localStorage.setItem("last_inbox_view",new Date().toISOString())},be=he=>{W(he)},Ne=a.filter(he=>bo(he.date)>=new Date().setHours(0,0,0,0));return g==="database"?m.jsx(FD,{events:a,specialSections:f,onBack:()=>y("app")}):m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white font-sans selection:bg-sky-500/30",children:[m.jsx(L1,{}),m.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[m.jsx(UD,{onClick:me,hasUnread:C}),ye&&m.jsx("button",{onClick:()=>D(!0),className:"p-3 bg-primary text-white rounded-full shadow-lg hover:bg-primary/80 transition-all border border-primary/30",children:m.jsx(V2,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>ye?I(!1):pe(!0),className:"p-3 rounded-full shadow-lg transition-all ".concat(ye?"bg-red-500 text-white":"bg-white/5 text-gray-400 hover:text-white border border-white/10"),children:m.jsx(S2,{className:"w-5 h-5"})})]}),m.jsxs("section",{className:"min-h-[90vh] flex flex-col items-center justify-center p-6 relative overflow-hidden bg-celestial",children:[m.jsx("div",{className:"absolute inset-0 bg-sky-400/5 blur-[120px] pointer-events-none"}),m.jsx("div",{className:"relative w-64 h-64 md:w-80 md:h-80 mb-8 animate-float",children:m.jsx("img",{src:"./logo.png",className:"w-full h-full object-contain drop-shadow-[0_0_40px_rgba(56,189,248,0.5)]",alt:"Logo"})}),m.jsxs("h1",{className:"text-6xl md:text-9xl font-black text-center tracking-tighter mb-4",children:[m.jsx("span",{className:"text-white",children:"PASO DE "}),m.jsx("span",{className:"text-sky-400 text-glow",children:"ECUADOR"})]}),m.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light tracking-[0.2em] mb-12 uppercase",children:"INEF 25/26"}),m.jsx("a",{href:"#events",className:"px-10 py-4 rounded-full bg-sky-400 text-black font-black text-lg hover:shadow-[0_0_30px_rgba(56,189,248,0.5)] transition-all transform hover:scale-105",children:"PRXIMOS EVENTOS"})]}),m.jsx(VD,{sections:f,onOpenSection:Q,onOpenForm:he=>X(he)}),m.jsx("section",{id:"events",className:"py-24 px-4 md:px-8 bg-celestial-gradient border-y border-white/5",children:m.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[m.jsxs("h2",{className:"text-4xl font-bold mb-16 flex items-center gap-4",children:[m.jsx("span",{className:"w-2 h-12 bg-sky-400 rounded-full shadow-[0_0_15px_rgba(56,189,248,0.5)]"}),"Prximamente"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Ne.map(he=>m.jsxs("div",{onClick:()=>O(he),className:"bg-white/5 backdrop-blur-md p-6 rounded-[2.5rem] border border-white/5 hover:bg-white/10 transition-all group relative overflow-hidden flex flex-col cursor-pointer transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-sky-400/5",children:[m.jsxs("div",{className:"absolute top-6 right-6 px-3 py-1 rounded-full text-[10px] font-black uppercase border bg-black/50 backdrop-blur-md z-10 tracking-widest",style:{color:he.typeColor,borderColor:he.typeColor},children:[he.typeIcon," ",he.typeName]}),he.imageUrl&&m.jsxs("div",{className:"w-full h-56 mb-6 rounded-3xl overflow-hidden relative",children:[m.jsx("img",{src:he.imageUrl,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000",alt:he.title}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-6",children:m.jsx("span",{className:"text-white font-bold text-sm",children:"Ver Detalles"})})]}),m.jsxs("div",{className:"text-sky-400 font-black tracking-widest text-xs mb-3 uppercase",children:[bo(he.date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"}),he.time&&m.jsxs("span",{className:"ml-2",children:[" ",he.time]})]}),m.jsx("h3",{className:"text-3xl font-black text-white mb-3 leading-tight group-hover:text-sky-400 transition-colors",children:he.title}),he.location&&m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-4",children:[m.jsx(cb,{className:"w-4 h-4 text-sky-400"})," ",he.location]}),m.jsx("div",{className:"mt-auto",onClick:He=>He.stopPropagation(),children:m.jsx(U1,{event:he,onOpenForm:X})})]},he.id))})]})}),m.jsxs("section",{className:"relative py-40 overflow-hidden bg-deep",children:[m.jsx("div",{className:"absolute inset-0 bg-transparent"}),m.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-16 items-center",children:[m.jsxs("div",{className:"animate-fade-in-left",children:[m.jsxs("h2",{className:"text-6xl md:text-8xl font-black mb-8 tracking-tighter leading-none",children:[m.jsx("span",{className:"bg-gradient-to-r from-white to-gray-500 bg-clip-text text-transparent",children:"LIGA"}),m.jsx("br",{}),m.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),m.jsx("p",{className:"text-gray-400 text-xl mb-12 leading-relaxed max-w-md font-medium",children:"Compite en torneos exclusivos, acumula puntos para el ranking anual y convirtete en la leyenda de INEF."}),m.jsxs(Ro,{to:"/liga",className:"inline-flex items-center gap-4 px-10 py-5 rounded-full bg-gradient-to-r from-primary to-secondary text-white font-black text-xl hover:scale-105 transition-all shadow-[0_10px_40px_rgba(79,70,229,0.3)] active:scale-95",children:["VER CLASIFICACIN ",m.jsx(uh,{className:"w-6 h-6"})]})]}),m.jsxs("div",{className:"relative group animate-fade-in-right",children:[m.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-indigo-500 to-purple-600 blur-[80px] opacity-10 group-hover:opacity-30 transition-opacity duration-1000"}),m.jsxs("div",{className:"glass-panel p-8 rounded-[3rem] border border-white/10 transform rotate-[-3deg] group-hover:rotate-1 transition-all duration-700 shadow-2xl bg-black/40 backdrop-blur-xl",children:[m.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-white/10 pb-6",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-600 flex items-center justify-center font-black text-black text-2xl border-2 border-yellow-200 outline outline-4 outline-yellow-400/20",children:"#1"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-black tracking-widest mb-1",children:"Top Ranking"}),m.jsx("div",{className:"font-black text-2xl text-white",children:"LDER"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-full overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-3/4"})}),m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-5/6 overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-purple-500/50 w-1/2"})}),m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-2/3 overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-2/3"})})]})]})]})]})]}),m.jsx("section",{className:"py-24 px-4 md:px-8 bg-celestial-gradient",children:m.jsx("div",{className:"max-w-6xl mx-auto w-full",children:m.jsx(OD,{events:a,currentMonth:we,setCurrentMonth:Ue,currentYear:Y,setCurrentYear:re,onSelectDay:E})})}),m.jsx("footer",{className:"py-20 border-t border-white/5 bg-deep",children:m.jsxs("div",{className:"flex flex-col items-center gap-8",children:[m.jsxs("div",{className:"flex gap-8",children:[m.jsx("a",{href:"https://www.instagram.com/pasoecuadorinef26/",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-gradient-to-br hover:from-purple-600 hover:to-orange-500 transition-all hover:scale-110 border border-white/5",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),m.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),m.jsx("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]})}),m.jsx("a",{href:"https://www.tiktok.com/@pasoecuadorinef26",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-black hover:border hover:border-sky-400 hover:text-sky-400 transition-all hover:scale-110 border border-white/5",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]}),m.jsx("p",{className:"text-gray-600 text-xs font-bold tracking-widest uppercase",children:" 2025 Paso de Ecuador INEF 25/26"})]})}),m.jsx(Zs,{isOpen:!!b,onClose:()=>E(null),children:b&&m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsx("h2",{className:"text-3xl font-black capitalize",children:bo(b.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})}),m.jsxs("div",{className:"space-y-4",children:[b.events.map(he=>m.jsx("div",{onClick:()=>{O(he),E(null)},className:"bg-white/5 p-6 rounded-3xl border-l-4 cursor-pointer hover:bg-white/10 transition-all group",style:{borderColor:he.typeColor},children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-xl group-hover:text-sky-400 transition-colors",children:he.title}),m.jsxs("div",{className:"text-xs opacity-50 flex items-center gap-2 mt-1 uppercase tracking-widest",children:[he.typeIcon," ",he.typeName]})]}),m.jsx("div",{className:"text-xs text-sky-400 font-bold uppercase border border-sky-400/30 px-3 py-1 rounded-full group-hover:bg-sky-400 group-hover:text-black transition-all",children:"Ver Ms"})]})},he.id)),b.events.length===0&&m.jsx("p",{className:"text-center text-gray-500 py-12 italic",children:"No hay eventos programados para este da."})]})]})}),S&&m.jsx(MD,{event:S,onClose:()=>O(null),onOpenForm:he=>{O(null),X(he)}}),m.jsx(Zs,{isOpen:!!z,onClose:()=>Q(null),children:z&&m.jsxs("div",{className:"relative",children:[z.imageUrl&&m.jsx("div",{className:"w-full h-80",children:m.jsx("img",{src:z.imageUrl,className:"w-full h-full object-cover",alt:""})}),m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-4xl font-black mb-4 text-white",children:z.title}),m.jsx("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 mb-8",children:m.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap text-lg",children:z.description})}),m.jsx("div",{className:"flex flex-wrap gap-4",children:(z.buttons||[]).map(he=>m.jsx("button",{className:"px-8 py-3 rounded-xl font-bold bg-sky-400 text-black hover:bg-sky-500 transition-all shadow-lg",onClick:()=>{he.type==="form"?(X({id:"section_".concat(z.id,"_").concat(he.id),title:"".concat(z.title," - ").concat(he.label),customFields:he.customFields||[]}),Q(null)):he.link&&window.open(he.link,"_blank")},children:he.label},he.id))})]})]})}),L&&m.jsx(LD,{event:L,onClose:()=>X(null)}),m.jsx(PD,{isOpen:V,onClose:()=>w(!1),announcements:o,permission:Z,onRequestPermission:le}),ue&&m.jsx(HD,{onClose:()=>pe(!1),onSuccess:()=>{I(!0),pe(!1),D(!0)}}),m.jsx(qD,{isOpen:R,onClose:()=>D(!1),events:a,eventTypes:i,announcements:o,specialSections:f,onOpenDB:()=>{D(!1),y("database")},onOpenStats:be,fcmToken:ie}),m.jsx(zD,{isOpen:ge,onClose:k,onInstall:ze,isIOS:Ie})]})},mo=a=>a?a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():"",YD=(a,e=!1)=>a?new Date(a).toLocaleDateString("es-ES",{day:"numeric",month:"short",...e&&{hour:"2-digit",minute:"2-digit"}}):"",$D="Se trata de una liga individual en la que daremos 100 a la persona ganadora al final del curso.\nLos puntos se obtienen participando en torneos y ganndolos, siendo los puntos obtenidos:\n\n **+1 punto** por participar\n **+3 puntos** por quedar segundo/a\n **+5 puntos** por quedar primero/a",Q_=({isOpen:a,onClose:e,children:i})=>a?m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),m.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-[#0f0f16] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up flex flex-col max-h-[90vh]",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-20",children:m.jsx(Kr,{className:"w-6 h-6"})}),i]})]}):null,XD=({player:a,rank:e,onClick:i})=>{const s=e===1?"rank-1":e===2?"rank-2":e===3?"rank-3":"text-gray-500",o=e===1?"bg-yellow-500/10 border-yellow-500/20":"bg-[#1c1c2e]/50 hover:bg-[#1c1c2e] border-white/5";return m.jsxs("div",{onClick:i,className:"group relative flex items-center p-4 rounded-xl border transition-all duration-300 cursor-pointer ".concat(o),children:[m.jsx("div",{className:"w-12 h-12 flex items-center justify-center text-2xl font-black mr-4 ".concat(s),children:e<=3?"#"+e:e}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-lg ".concat(e===1?"text-white":"text-gray-200"," group-hover:text-primary transition-colors"),children:a.name}),e===1&&m.jsx("span",{className:"text-xs text-yellow-500 font-medium tracking-wider",children:"LDER ACTUAL"})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-2xl font-bold text-white tracking-tight",children:a.displayPoints!==void 0?a.displayPoints:a.points}),m.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"PUNTOS"})]}),m.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary/0 to-secondary/0 opacity-0 group-hover:opacity-5 transition-opacity pointer-events-none"})]})},ZD=({players:a,processTournament:e,goBack:i,manualDelete:s,manualUpdatePoints:o,password:u,setPassword:f,description:p,setDescription:g})=>{const[y,b]=U.useState(""),[E,S]=U.useState(new Date().toISOString().split("T")[0]),[O,z]=U.useState(""),[Q,L]=U.useState(""),[X,ae]=U.useState(""),[W,ue]=U.useState(!1),[pe,ye]=U.useState(""),[I,R]=U.useState(""),[D,V]=U.useState(p),w=A=>{if(A.preventDefault(),!y)return alert("Ponle nombre al torneo");e(y,E,O,Q,X),z(""),L(""),ae(""),b("")},C=()=>{if(pe!==u){alert("La contrasea actual no es correcta.");return}if(!I){alert("Escribe una nueva contrasea");return}f(I),alert("Contrasea cambiada exitosamente"),R(""),ye("")};return m.jsx("div",{className:"min-h-screen p-4 md:p-8 pb-32 bg-liga",children:m.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"flex flex-col gap-8",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>ue(!W),className:"flex-1 glass-panel p-4 rounded-2xl flex items-center justify-center gap-2 font-bold hover:bg-white/5 transition-colors text-gray-300",children:[m.jsx(hb,{className:"w-5 h-5"})," ",W?"Volver a Torneos":"Configuracin"]}),m.jsx("button",{onClick:i,className:"glass-panel px-6 rounded-2xl text-red-400 hover:bg-white/5 transition-colors font-bold",children:"Salir"})]}),W?m.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit space-y-8 animate-fade-in-up",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Configuracin"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Descripcin de la Liga"}),m.jsx("textarea",{className:"w-full h-40 bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-primary focus:outline-none",value:D,onChange:A=>V(A.target.value)}),m.jsxs("button",{onClick:()=>{g(D),alert("Descripcin actualizada")},className:"px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg text-sm font-bold flex items-center gap-2",children:[m.jsx(D2,{className:"w-4 h-4"})," Guardar Texto"]})]}),m.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-4",children:[m.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Seguridad"}),m.jsx("input",{type:"password",placeholder:"Contrasea Actual",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none mb-2",value:pe,onChange:A=>ye(A.target.value)}),m.jsx("input",{type:"password",placeholder:"Nueva Contrasea",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none",value:I,onChange:A=>R(A.target.value)}),m.jsx("button",{onClick:C,className:"px-4 py-2 bg-secondary/20 hover:bg-secondary/30 text-secondary rounded-lg text-sm font-bold",children:"Actualizar Contrasea"})]})]}):m.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit animate-fade-in-up",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[m.jsx(qc,{className:"text-secondary w-6 h-6"})," Nuevo Torneo"]})}),m.jsxs("form",{onSubmit:w,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Nombre Torneo"}),m.jsx("input",{type:"text",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",placeholder:"Ej: Torneo FIFA",value:y,onChange:A=>b(A.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Fecha"}),m.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",value:E,onChange:A=>S(A.target.value)})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"flex justify-between text-xs uppercase font-bold text-yellow-500 mb-2",children:m.jsx("span",{children:" 1 Puesto (+5 pts)"})}),m.jsx("textarea",{className:"w-full h-24 bg-yellow-900/10 border border-yellow-500/20 rounded-xl p-3 text-sm text-white focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Nombres...",value:O,onChange:A=>z(A.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-300 mb-2 block",children:" 2 Puesto (+3 pts)"}),m.jsx("textarea",{className:"w-full h-24 bg-white/5 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-gray-500 focus:outline-none",placeholder:"Nombres...",value:Q,onChange:A=>L(A.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-primary mb-2 block",children:"Participantes (+1 pt)"}),m.jsx("textarea",{className:"w-full h-32 bg-primary/5 border border-primary/20 rounded-xl p-3 text-sm text-white focus:border-primary focus:outline-none",placeholder:"Lista de nombres...",value:X,onChange:A=>ae(A.target.value)}),m.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"* El sistema evitar duplicar puntos si alguien ya est en 1 o 2 puesto."})]})]}),m.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-primary to-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-primary/25 transition-all transform hover:scale-[1.02]",children:"Guardar Resultados"})]})]})]}),m.jsxs("div",{className:"glass-panel p-6 rounded-3xl h-[800px] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-white mb-6",children:["Base de Datos (",a.length,")"]}),m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-2",children:a.map(A=>m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5 group",children:[m.jsx("span",{className:"font-medium text-gray-300",children:A.name}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-white",children:[A.points," pts"]}),m.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>o(A.id,1),className:"text-green-400 hover:bg-green-500/20 p-2 rounded",title:"+1",children:m.jsx(qc,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>o(A.id,-1),className:"text-yellow-400 hover:bg-yellow-500/20 p-2 rounded",title:"-1",children:m.jsx("div",{className:"w-4 h-4 flex items-center justify-center font-bold text-xs",children:"-"})}),m.jsx("button",{onClick:()=>s(A.id),className:"text-red-500 hover:bg-red-500/20 p-2 rounded",title:"Eliminar",children:m.jsx(Vc,{className:"w-4 h-4"})})]})]})]},A.id))})]})]})})},JD=()=>{const[a,e]=U.useState("public"),[i,s]=U.useState([]),[o,u]=U.useState([]),[f,p]=U.useState(()=>localStorage.getItem("liga_description")||$D),[g,y]=U.useState(()=>localStorage.getItem("liga_password")||"4321"),[b,E]=U.useState(""),[S,O]=U.useState(null),[z,Q]=U.useState("ALL"),[L,X]=U.useState(!1),[ae,W]=U.useState(!1),[ue,pe]=U.useState("");U.useEffect(()=>{const w=Ja(el(ii(ct,"players")),A=>{s(A.docs.map(we=>({id:we.id,...we.data()})))}),C=Ja(el(ii(ct,"tournaments")),A=>{const we=A.docs.map(Ue=>({id:Ue.id,...Ue.data()}));we.sort((Ue,Y)=>new Date(Y.date)-new Date(Ue.date)),u(we)});return()=>{w(),C()}},[]),U.useEffect(()=>{localStorage.setItem("liga_description",f)},[f]),U.useEffect(()=>{localStorage.setItem("liga_password",g)},[g]);const ye=async(w,C,A,we,Ue)=>{const Y=ie=>ie.split(/[\n,]+/).map(me=>me.trim()).filter(Boolean),re=Y(A),ge=Y(we),Ie=Y(Ue),ze=new Set,k=[],Z=(ie,me,be)=>{const Ne=mo(ie);ze.has(Ne)||(ze.add(Ne),k.push({name:ie,points:me,type:be}))};re.forEach(ie=>Z(ie,5,"1 Puesto")),ge.forEach(ie=>Z(ie,3,"2 Puesto")),Ie.forEach(ie=>Z(ie,1,"Participacin"));for(const ie of k){let me=i.find(be=>mo(be.name)===mo(ie.name));if(me){const be=[...me.history||[],{tournament:w,points:ie.points,date:C,type:ie.type}],Ne=me.points+ie.points,he=[...me.wins||[]];ie.type==="1 Puesto"&&he.push(new Date(C).getTime());try{await Im(dn(ct,"players",me.id),{history:be,points:Ne,wins:he})}catch(He){console.error("Error updating player",ie.name,He)}}else{const be={name:ie.name,points:ie.points,wins:ie.type==="1 Puesto"?[new Date(C).getTime()]:[],history:[{tournament:w,points:ie.points,date:C,type:ie.type}]};try{await Lo(ii(ct,"players"),be)}catch(Ne){console.error("Error creating player",ie.name,Ne)}}}const le={name:w,date:C,winners:re};try{await Lo(ii(ct,"tournaments"),le),alert("Torneo guardado y sincronizado.")}catch(ie){alert("Error guardando torneo: "+ie.message)}},I=async w=>{if(confirm("Seguro que quieres borrar a este jugador?"))try{await jm(dn(ct,"players",w))}catch(C){alert("Error eliminando: "+C.message)}},R=async(w,C)=>{const A=i.find(we=>we.id===w);if(A)try{await Im(dn(ct,"players",w),{points:Math.max(0,A.points+C)})}catch(we){console.error(we)}},D=U.useMemo(()=>{let w=[...i];if(z!=="ALL"){const C=o.find(A=>A.id===z);C&&(w=w.map(A=>{const we=A.history?A.history.filter(Ue=>Ue.tournament===C.name).reduce((Ue,Y)=>Ue+Y.points,0):0;return{...A,displayPoints:we}}).filter(A=>A.displayPoints>0))}else w=w.map(C=>({...C,displayPoints:C.points}));w.sort((C,A)=>{const we=C.displayPoints,Ue=A.displayPoints;if(Ue!==we)return Ue-we;const Y=C.wins&&C.wins.length>0?Math.max(...C.wins):0;return(A.wins&&A.wins.length>0?Math.max(...A.wins):0)-Y});for(let C=0;C<w.length;C++)C>0?w[C].displayPoints===w[C-1].displayPoints?w[C].realRank=w[C-1].realRank:w[C].realRank=C+1:w[C].realRank=1;return b&&(w=w.filter(C=>mo(C.name).includes(mo(b)))),w},[i,b,z,o]),V=D.length>0?D[0]:null;return a==="public"?m.jsxs("div",{className:"min-h-screen bg-liga text-white p-4 selection:bg-primary selection:text-white",children:[m.jsxs("div",{className:"relative py-12 px-4 overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),m.jsx("div",{className:"absolute top-6 right-6 z-20 flex gap-2",children:m.jsx("button",{onClick:()=>X(!0),className:"p-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 transition-colors group",children:m.jsx(gv,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})})}),m.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[m.jsxs("h1",{className:"text-4xl md:text-7xl font-black mb-2 tracking-tighter",children:[m.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-gray-400 bg-clip-text text-transparent",children:"LIGA"}),m.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent text-glow ml-2 md:ml-4 tracking-[0.05em] drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),m.jsx("p",{className:"text-blue-200/60 uppercase tracking-[0.3em] font-bold text-sm mb-12",children:"Paso de Ecuador 25/26"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-12",children:[m.jsxs("div",{className:"glass p-4 rounded-2xl",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:z==="ALL"?"Lder Actual":"Ganador Torneo"}),m.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-yellow-200 to-yellow-600 bg-clip-text text-transparent text-center truncate",children:V?V.name:"-"})]}),m.jsxs("div",{className:"glass p-4 rounded-2xl",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Jugadores"}),m.jsx("div",{className:"text-2xl font-bold text-white text-center",children:i.length})]}),m.jsxs("div",{className:"glass p-4 rounded-2xl hidden md:block",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Torneos"}),m.jsx("div",{className:"text-2xl font-bold text-white text-center",children:o.length})]})]}),m.jsxs("div",{className:"max-w-2xl mx-auto flex flex-col md:flex-row gap-4 mb-8",children:[m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:m.jsx(j2,{className:"text-gray-500 w-5 h-5 group-focus-within:text-primary transition-colors"})}),m.jsx("input",{type:"text",placeholder:"Buscar jugador...",className:"w-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-12 pr-6 text-white focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-all shadow-xl",value:b,onChange:w=>E(w.target.value)})]}),m.jsxs("div",{className:"relative md:w-64",children:[m.jsxs("select",{className:"w-full h-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-4 pr-10 text-white focus:outline-none focus:border-primary/50 appearance-none cursor-pointer",value:z,onChange:w=>Q(w.target.value),children:[m.jsx("option",{value:"ALL",children:"Clasificacin Global"}),o.map(w=>m.jsx("option",{value:w.id,children:w.name},w.id))]}),m.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none",children:m.jsx(c2,{className:"text-gray-500 w-4 h-4"})})]})]})]})]}),m.jsxs("div",{className:"max-w-3xl mx-auto px-4 pb-20 space-y-3",children:[D.map(w=>m.jsx(XD,{player:w,rank:w.realRank,onClick:()=>O(w)},w.id)),D.length===0&&m.jsxs("div",{className:"text-center py-20 text-gray-600",children:[m.jsx(E2,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),m.jsx("p",{children:"No se encontraron jugadores"})]})]}),m.jsxs("div",{className:"fixed bottom-6 right-6 z-30 flex flex-col gap-3",children:[m.jsx("button",{onClick:async()=>{const w=window.location.href,C="Liga Multisport - Clasificacin";if(navigator.share)try{await navigator.share({title:C,text:"Mira la clasificacin en directo!",url:w})}catch(A){}else navigator.clipboard.writeText(w),alert("Enlace copiado al portapapeles")},className:"w-12 h-12 rounded-full bg-primary hover:bg-primary/80 text-white flex items-center justify-center transition-all shadow-lg shadow-primary/30 transform hover:scale-110",title:"Compartir Web",children:m.jsx(yv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>e("login"),className:"w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-700 border border-white/10 text-white flex items-center justify-center transition-all shadow-lg transform hover:scale-110",children:m.jsx(hb,{className:"w-5 h-5"})})]}),L&&m.jsx(Q_,{isOpen:L,onClose:()=>X(!1),children:m.jsxs("div",{className:"p-8",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[m.jsx(gv,{className:"w-6 h-6 text-primary"})," Qu es Liga Multisport?"]}),m.jsx("div",{className:"prose prose-invert text-gray-300 whitespace-pre-line leading-relaxed",children:f})]})}),S&&m.jsx(Q_,{isOpen:!!S,onClose:()=>O(null),children:m.jsxs("div",{className:"p-8 flex-1 overflow-auto custom-scrollbar",children:[m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[S.name,m.jsx("button",{onClick:()=>{const w="Voy #".concat(S.realRank," en la Liga Multisport con ").concat(S.points," puntos! Me superas?");navigator.share?navigator.share({text:w,url:window.location.href}):(navigator.clipboard.writeText(w+" "+window.location.href),alert("Texto copiado"))},className:"p-2 bg-primary/20 text-primary hover:text-white hover:bg-primary rounded-full transition-all",title:"Compartir mi puesto",children:m.jsx(yv,{className:"w-4 h-4"})})]}),m.jsxs("p",{className:"text-primary font-bold text-xl",children:[S.points," Puntos Totales"]})]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-xs uppercase font-bold text-gray-500 tracking-wider",children:"Historial de Torneos"}),S.history&&S.history.slice().reverse().map((w,C)=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/5",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-white",children:w.tournament||"Torneo Desconocido"}),m.jsx("div",{className:"text-xs text-gray-500",children:YD(w.date)})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"font-bold ".concat(["1 Puesto","2 Puesto"].includes(w.type)?"text-yellow-500":"text-gray-300"),children:w.type}),m.jsxs("div",{className:"text-sm font-mono text-primary",children:["+",w.points," pts"]})]})]},C)),(!S.history||S.history.length===0)&&m.jsx("p",{className:"text-gray-600 text-center py-8",children:"Sin historial detallado"})]})]})})]}):a==="login"?m.jsxs("div",{className:"min-h-screen transition-all duration-700 bg-liga flex items-center justify-center px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-primary/5"}),m.jsxs("div",{className:"glass-panel p-10 rounded-3xl w-full max-w-md relative z-10 text-center space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acceso Administrador"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Introduce la clave de seguridad"})]}),m.jsx("input",{type:"password",autoFocus:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-center text-3xl tracking-[1em] text-white focus:outline-none focus:border-secondary transition-colors",value:ue,onChange:w=>{pe(w.target.value),w.target.value===g&&(e("admin"),W(!0))}}),m.jsx("button",{onClick:()=>{e("public"),pe("")},className:"text-gray-500 hover:text-white text-sm",children:"Cancelar"})]})]}):m.jsx(ZD,{players:i,processTournament:ye,goBack:()=>{e("public"),pe("")},manualDelete:I,manualUpdatePoints:R,password:g,setPassword:y,description:f,setDescription:p})},WD=()=>(navigator.userAgent||navigator.vendor||window.opera).indexOf("Instagram")>-1,eI=()=>{const[a,e]=U.useState(!1),i=()=>{navigator.clipboard.writeText(window.location.href),e(!0),setTimeout(()=>e(!1),2e3)};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/95 backdrop-blur-sm",children:m.jsx("div",{className:"w-full max-w-md p-6 border rounded-2xl bg-gray-900/90 border-white/10 shadow-2xl",children:m.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[m.jsx("div",{className:"p-4 rounded-full bg-pink-500/10 text-pink-500",children:m.jsx(uh,{size:48})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ests navegando desde Instagram"}),m.jsx("p",{className:"text-gray-300",children:"Para asegurar que todas las funciones de la web funcionen correctamente, por favor abre la pgina en tu navegador predeterminado."})]}),m.jsxs("div",{className:"w-full space-y-4",children:[m.jsxs("div",{className:"p-4 text-sm text-left rounded-lg bg-white/5 border border-white/10",children:[m.jsx("p",{className:"font-semibold text-white mb-2",children:"Cmo hacerlo:"}),m.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-gray-300",children:[m.jsxs("li",{children:["Toca los tres puntos ",m.jsx("span",{className:"inline-block px-1.5 py-0.5 mx-1 font-mono text-xs bg-gray-700 rounded",children:"..."})," arriba a la derecha"]}),m.jsxs("li",{children:["Selecciona ",m.jsx("span",{className:"font-medium text-white",children:'"Abrir en el navegador"'})]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t border-white/10"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"px-2 text-gray-500 bg-gray-900/90",children:"O copia el enlace"})})]}),m.jsx("button",{onClick:i,className:"flex items-center justify-center w-full px-4 py-3 space-x-2 font-medium transition-colors rounded-lg bg-pink-600 hover:bg-pink-700 text-white active:bg-pink-800",children:a?m.jsxs(m.Fragment,{children:[m.jsx(o2,{size:20}),m.jsx("span",{children:"Enlace copiado!"})]}):m.jsxs(m.Fragment,{children:[m.jsx(y2,{size:20}),m.jsx("span",{children:"Copiar enlace de la web"})]})})]})]})})})};function tI(){if(WD())return m.jsx(eI,{});const a=()=>{try{if(window.location.hostname.includes("github.io"))return"/Paso-Ecuador-INEF"}catch(e){console.error("Error detecting basename context:",e)}return"/"};return m.jsxs(HT,{basename:a(),children:[m.jsx(L1,{}),m.jsxs("div",{className:"min-h-[100dvh] w-full",children:[m.jsxs(bT,{children:[m.jsx(rm,{path:"/",element:m.jsx(KD,{})}),m.jsx(rm,{path:"/liga",element:m.jsx(JD,{})})]}),m.jsx(kD,{})]})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./firebase-messaging-sw.js",{scope:"./"}).then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});Nw.createRoot(document.getElementById("root")).render(m.jsx(U.StrictMode,{children:m.jsx(tI,{})}));export{nI as __vite_legacy_guard};
