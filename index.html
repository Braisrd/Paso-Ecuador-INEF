<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="./logo.png" />
  <link rel="manifest" href="./manifest.json" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Paso de Ecuador INEF 25/26</title>
  <meta name="theme-color" content="#0a0a0f" />
  <meta name="description"
    content="Web oficial del Paso de Ecuador INEF 25/26 - Eventos, Calendario y Liga Multisport." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">
</head>

<body>
  <!-- GLOBAL ERROR HANDLER & INSTAGRAM DETECTION (DEBUG MODE) -->
  <script>
    (function () {
      // 1. Error Trap
      window.onerror = function (msg, url, lineNo, columnNo, error) {
        showErrorScreen(msg, url, lineNo, columnNo, error);
        return false;
      };

      window.onunhandledrejection = function (event) {
        showErrorScreen(event.reason || 'Unhandled Promise Rejection', '', '', '', event.reason);
      };

      function showErrorScreen(msg, url, line, col, error) {
        // Create error overlay if it doesn't exist
        let overlay = document.getElementById('error-overlay');
        if (!overlay) {
          overlay = document.createElement('div');
          overlay.id = 'error-overlay';
          overlay.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:#8b0000;color:white;z-index:999999;padding:20px;font-family:monospace;overflow:auto;box-sizing:border-box;';
          document.body.appendChild(overlay);

          const title = document.createElement('h2');
          title.textContent = '⚠️ CRITICAL ERROR';
          title.style.borderBottom = '1px solid white';
          overlay.appendChild(title);
        }

        const errDiv = document.createElement('div');
        errDiv.style.marginBottom = '20px';
        errDiv.style.borderBottom = '1px dashed #ffcccc';
        errDiv.style.paddingBottom = '10px';

        let stack = error && error.stack ? error.stack : 'No stack trace';
        errDiv.innerHTML = `
          <strong>Message:</strong> ${msg}<br>
          <strong>Location:</strong> ${url}:${line}:${col}<br>
          <pre style="background:rgba(0,0,0,0.3);padding:10px;white-space:pre-wrap;">${stack}</pre>
        `;
        overlay.appendChild(errDiv);
      }

      // 2. Instagram Detection Banner (Raw JS)
      var ua = navigator.userAgent || navigator.vendor || window.opera;
      if (ua.indexOf('Instagram') > -1) {
        var banner = document.createElement('div');
        banner.style.cssText = 'position:fixed;top:0;left:0;width:100%;background:#E1306C;color:white;text-align:center;padding:12px;z-index:999998;font-family:sans-serif;font-weight:bold;box-shadow:0 4px 12px rgba(0,0,0,0.3);';
        banner.innerHTML = '⚠️ NAVEGADOR INSTAGRAM DETECTADO<br><span style="font-size:0.8em;font-weight:normal;">Toca los 3 puntos (•••) y selecciona "Abrir en el navegador" para evitar errores.</span>';
        document.body.appendChild(banner);

        // Adjust body to not hide under banner
        document.body.style.marginTop = '60px';
      }
    })();
  </script>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
</body>

</html>