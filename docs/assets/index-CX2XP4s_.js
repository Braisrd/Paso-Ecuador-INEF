(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Gx(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var wd={exports:{}},so={};var Bv;function Qx(){if(Bv)return so;Bv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return so.Fragment=e,so.jsx=i,so.jsxs=i,so}var qv;function Kx(){return qv||(qv=1,wd.exports=Qx()),wd.exports}var y=Kx(),Td={exports:{}},we={};var Hv;function Yx(){if(Hv)return we;Hv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,z={};function $(O,Z,oe){this.props=O,this.context=Z,this.refs=z,this.updater=oe||F}$.prototype.isReactComponent={},$.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},$.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=$.prototype;function re(O,Z,oe){this.props=O,this.context=Z,this.refs=z,this.updater=oe||F}var ye=re.prototype=new ie;ye.constructor=re,Y(ye,$.prototype),ye.isPureReactComponent=!0;var ve=Array.isArray;function _e(){}var I={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function V(O,Z,oe){var ae=oe.ref;return{$$typeof:a,type:O,key:Z,ref:ae!==void 0?ae:null,props:oe}}function S(O,Z){return V(O.type,Z,O.props)}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function R(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return Z[oe]})}var C=/\/+/g;function Se(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?R(""+O.key):Z.toString(36)}function Le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(_e,_e):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,Z,oe,ae,ne){var ge=typeof O;(ge==="undefined"||ge==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(ge){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case a:case e:Ae=!0;break;case E:return Ae=O._init,K(Ae(O._payload),Z,oe,ae,ne)}}if(Ae)return ne=ne(O),Ae=ae===""?"."+Se(O,0):ae,ve(ne)?(oe="",Ae!=null&&(oe=Ae.replace(C,"$&/")+"/"),K(ne,Z,oe,"",function(Oi){return Oi})):ne!=null&&(A(ne)&&(ne=S(ne,oe+(ne.key==null||O&&O.key===ne.key?"":(""+ne.key).replace(C,"$&/")+"/")+Ae)),Z.push(ne)),1;Ae=0;var st=ae===""?".":ae+":";if(ve(O))for(var $e=0;$e<O.length;$e++)ae=O[$e],ge=st+Se(ae,$e),Ae+=K(ae,Z,oe,ge,ne);else if($e=k(O),typeof $e=="function")for(O=$e.call(O),$e=0;!(ae=O.next()).done;)ae=ae.value,ge=st+Se(ae,$e++),Ae+=K(ae,Z,oe,ge,ne);else if(ge==="object"){if(typeof O.then=="function")return K(Le(O),Z,oe,ae,ne);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function le(O,Z,oe){if(O==null)return O;var ae=[],ne=0;return K(O,ae,"","",function(ge){return Z.call(oe,ge,ne++)}),ae}function de(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var De=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ze={map:le,forEach:function(O,Z,oe){le(O,function(){Z.apply(this,arguments)},oe)},count:function(O){var Z=0;return le(O,function(){Z++}),Z},toArray:function(O){return le(O,function(Z){return Z})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=x,we.Children=ze,we.Component=$,we.Fragment=i,we.Profiler=o,we.PureComponent=re,we.StrictMode=s,we.Suspense=v,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,Z,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=Y({},O.props),ne=O.key;if(Z!=null)for(ge in Z.key!==void 0&&(ne=""+Z.key),Z)!D.call(Z,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Z.ref===void 0||(ae[ge]=Z[ge]);var ge=arguments.length-2;if(ge===1)ae.children=oe;else if(1<ge){for(var Ae=Array(ge),st=0;st<ge;st++)Ae[st]=arguments[st+2];ae.children=Ae}return V(O.type,ne,ae)},we.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},we.createElement=function(O,Z,oe){var ae,ne={},ge=null;if(Z!=null)for(ae in Z.key!==void 0&&(ge=""+Z.key),Z)D.call(Z,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ne[ae]=Z[ae]);var Ae=arguments.length-2;if(Ae===1)ne.children=oe;else if(1<Ae){for(var st=Array(Ae),$e=0;$e<Ae;$e++)st[$e]=arguments[$e+2];ne.children=st}if(O&&O.defaultProps)for(ae in Ae=O.defaultProps,Ae)ne[ae]===void 0&&(ne[ae]=Ae[ae]);return V(O,ge,ne)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:m,render:O}},we.isValidElement=A,we.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:de}},we.memo=function(O,Z){return{$$typeof:g,type:O,compare:Z===void 0?null:Z}},we.startTransition=function(O){var Z=I.T,oe={};I.T=oe;try{var ae=O(),ne=I.S;ne!==null&&ne(oe,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(_e,De)}catch(ge){De(ge)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),I.T=Z}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(O){return I.H.use(O)},we.useActionState=function(O,Z,oe){return I.H.useActionState(O,Z,oe)},we.useCallback=function(O,Z){return I.H.useCallback(O,Z)},we.useContext=function(O){return I.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,Z){return I.H.useDeferredValue(O,Z)},we.useEffect=function(O,Z){return I.H.useEffect(O,Z)},we.useEffectEvent=function(O){return I.H.useEffectEvent(O)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(O,Z,oe){return I.H.useImperativeHandle(O,Z,oe)},we.useInsertionEffect=function(O,Z){return I.H.useInsertionEffect(O,Z)},we.useLayoutEffect=function(O,Z){return I.H.useLayoutEffect(O,Z)},we.useMemo=function(O,Z){return I.H.useMemo(O,Z)},we.useOptimistic=function(O,Z){return I.H.useOptimistic(O,Z)},we.useReducer=function(O,Z,oe){return I.H.useReducer(O,Z,oe)},we.useRef=function(O){return I.H.useRef(O)},we.useState=function(O){return I.H.useState(O)},we.useSyncExternalStore=function(O,Z,oe){return I.H.useSyncExternalStore(O,Z,oe)},we.useTransition=function(){return I.H.useTransition()},we.version="19.2.1",we}var Fv;function wm(){return Fv||(Fv=1,Td.exports=Yx()),Td.exports}var L=wm();const Xx=Gx(L);var Sd={exports:{}},lo={},Ad={exports:{}},Nd={};var Gv;function $x(){return Gv||(Gv=1,(function(a){function e(K,le){var de=K.length;K.push(le);e:for(;0<de;){var De=de-1>>>1,ze=K[De];if(0<o(ze,le))K[De]=le,K[de]=ze,de=De;else break e}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var le=K[0],de=K.pop();if(de!==le){K[0]=de;e:for(var De=0,ze=K.length,O=ze>>>1;De<O;){var Z=2*(De+1)-1,oe=K[Z],ae=Z+1,ne=K[ae];if(0>o(oe,de))ae<ze&&0>o(ne,oe)?(K[De]=ne,K[ae]=de,De=ae):(K[De]=oe,K[Z]=de,De=Z);else if(ae<ze&&0>o(ne,de))K[De]=ne,K[ae]=de,De=ae;else break e}}return le}function o(K,le){var de=K.sortIndex-le.sortIndex;return de!==0?de:K.id-le.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var v=[],g=[],E=1,x=null,N=3,k=!1,F=!1,Y=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ye(K){for(var le=i(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=K)s(g),le.sortIndex=le.expirationTime,e(v,le);else break;le=i(g)}}function ve(K){if(Y=!1,ye(K),!F)if(i(v)!==null)F=!0,_e||(_e=!0,R());else{var le=i(g);le!==null&&Le(ve,le.startTime-K)}}var _e=!1,I=-1,D=5,V=-1;function S(){return z?!0:!(a.unstable_now()-V<D)}function A(){if(z=!1,_e){var K=a.unstable_now();V=K;var le=!0;try{e:{F=!1,Y&&(Y=!1,ie(I),I=-1),k=!0;var de=N;try{t:{for(ye(K),x=i(v);x!==null&&!(x.expirationTime>K&&S());){var De=x.callback;if(typeof De=="function"){x.callback=null,N=x.priorityLevel;var ze=De(x.expirationTime<=K);if(K=a.unstable_now(),typeof ze=="function"){x.callback=ze,ye(K),le=!0;break t}x===i(v)&&s(v),ye(K)}else s(v);x=i(v)}if(x!==null)le=!0;else{var O=i(g);O!==null&&Le(ve,O.startTime-K),le=!1}}break e}finally{x=null,N=de,k=!1}le=void 0}}finally{le?R():_e=!1}}}var R;if(typeof re=="function")R=function(){re(A)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Se=C.port2;C.port1.onmessage=A,R=function(){Se.postMessage(null)}}else R=function(){$(A,0)};function Le(K,le){I=$(function(){K(a.unstable_now())},le)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(K){switch(N){case 1:case 2:case 3:var le=3;break;default:le=N}var de=N;N=le;try{return K()}finally{N=de}},a.unstable_requestPaint=function(){z=!0},a.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=N;N=K;try{return le()}finally{N=de}},a.unstable_scheduleCallback=function(K,le,de){var De=a.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,K){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=de+ze,K={id:E++,callback:le,priorityLevel:K,startTime:de,expirationTime:ze,sortIndex:-1},de>De?(K.sortIndex=de,e(g,K),i(v)===null&&K===i(g)&&(Y?(ie(I),I=-1):Y=!0,Le(ve,de-De))):(K.sortIndex=ze,e(v,K),F||k||(F=!0,_e||(_e=!0,R()))),K},a.unstable_shouldYield=S,a.unstable_wrapCallback=function(K){var le=N;return function(){var de=N;N=le;try{return K.apply(this,arguments)}finally{N=de}}}})(Nd)),Nd}var Qv;function Zx(){return Qv||(Qv=1,Ad.exports=$x()),Ad.exports}var Cd={exports:{}},$t={};var Kv;function Jx(){if(Kv)return $t;Kv=1;var a=wm();function e(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,g,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:v,containerInfo:g,implementation:E}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(v,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(v,g,null,E)},$t.flushSync=function(v){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,v)return v()}finally{f.T=g,s.p=E,s.d.f()}},$t.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},$t.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},$t.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var E=g.as,x=m(E,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:k}):E==="script"&&s.d.X(v,{crossOrigin:x,integrity:N,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},$t.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,x=m(E,g.crossOrigin);s.d.L(v,E,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(v,g){if(typeof v=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},$t.requestFormReset=function(v){s.d.r(v)},$t.unstable_batchedUpdates=function(v,g){return v(g)},$t.useFormState=function(v,g,E){return f.H.useFormState(v,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var Yv;function Wx(){if(Yv)return Cd.exports;Yv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Cd.exports=Jx(),Cd.exports}var Xv;function ew(){if(Xv)return lo;Xv=1;var a=Zx(),e=wm(),i=Wx();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return v(h),t;if(d===l)return v(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=d;else{for(var _=!1,w=h.child;w;){if(w===r){_=!0,r=h,l=d;break}if(w===l){_=!0,l=h,r=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===r){_=!0,r=d,l=h;break}if(w===l){_=!0,l=d,r=h;break}w=w.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,N=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case $:return"Profiler";case z:return"StrictMode";case ve:return"Suspense";case _e:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Se(t.type)||"Memo";case D:n=t._payload,t=t._init;try{return Se(t(n))}catch{}}return null}var Le=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],ze=-1;function O(t){return{current:t}}function Z(t){0>ze||(t.current=De[ze],De[ze]=null,ze--)}function oe(t,n){ze++,De[ze]=t.current,t.current=n}var ae=O(null),ne=O(null),ge=O(null),Ae=O(null);function st(t,n){switch(oe(ge,n),oe(ne,t),oe(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=cv(n),t=hv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ae),oe(ae,t)}function $e(){Z(ae),Z(ne),Z(ge)}function Oi(t){t.memoizedState!==null&&oe(Ae,t);var n=ae.current,r=hv(n,t.type);n!==r&&(oe(ne,t),oe(ae,r))}function Xt(t){ne.current===t&&(Z(ae),Z(ne)),Ae.current===t&&(Z(Ae),no._currentValue=de)}var mn,Mi;function pn(t){if(mn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);mn=n&&n[1]||"",Mi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mn+t+Mi}var nl=!1;function lr(t,n){if(!t||nl)return"";nl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var H=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){H=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){H=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var j=_.split(`
`),q=w.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===q.length)for(l=j.length-1,h=q.length-1;1<=l&&0<=h&&j[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==q[h]){var X=`
`+j[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{nl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?pn(r):""}function il(t,n){switch(t.tag){case 26:case 27:case 5:return pn(t.type);case 16:return pn("Lazy");case 13:return t.child!==n&&n!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return lr(t.type,!1);case 11:return lr(t.type.render,!1);case 1:return lr(t.type,!0);case 31:return pn("Activity");default:return""}}function al(t){try{var n="",r=null;do n+=il(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,jt=a.unstable_scheduleCallback,ha=a.unstable_cancelCallback,Th=a.unstable_shouldYield,Ho=a.unstable_requestPaint,en=a.unstable_now,or=a.unstable_getCurrentPriorityLevel,rl=a.unstable_ImmediatePriority,sl=a.unstable_UserBlockingPriority,fa=a.unstable_NormalPriority,Sh=a.unstable_LowPriority,Fo=a.unstable_IdlePriority,Go=a.log,Qo=a.unstable_setDisableYieldValue,Hn=null,Pt=null;function Nn(t){if(typeof Go=="function"&&Qo(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Hn,t)}catch{}}var gt=Math.clz32?Math.clz32:Yo,Ko=Math.log,Xr=Math.LN2;function Yo(t){return t>>>=0,t===0?32:31-(Ko(t)/Xr|0)|0}var si=256,ur=262144,xt=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=li(l):(_&=w,_!==0?h=li(_):r||(r=w&~t,r!==0&&(h=li(r))))):(w=l&~d,w!==0?h=li(w):_!==0?h=li(_):r||(r=l&~t,r!==0&&(h=li(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ah(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function cr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nh(t,n,r,l,h,d){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var w=t.entanglements,j=t.expirationTimes,q=t.hiddenUpdates;for(r=_&~r;0<r;){var X=31-gt(r),ee=1<<X;w[X]=0,j[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var Q=H[X];Q!==null&&(Q.lane&=-536870913)}r&=~ee}l!==0&&hr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function hr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-gt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function ll(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-gt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function ol(t,n){var r=n&-n;return r=(r&42)!==0?1:fr(r),(r&(t.suspendedLanes|n))!==0?0:r}function fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $o(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Ov(t.type))}function Gn(t,n){var r=le.p;try{return le.p=t,n()}finally{le.p=r}}var Qn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Qn,kt="__reactProps$"+Qn,ci="__reactContainer$"+Qn,$r="__reactEvents$"+Qn,Ch="__reactListeners$"+Qn,Zo="__reactHandles$"+Qn,Jo="__reactResources$"+Qn,hi="__reactMarker$"+Qn;function Zr(t){delete t[wt],delete t[kt],delete t[$r],delete t[Ch],delete t[Zo]}function fi(t){var n=t[wt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ci]||r[wt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=vv(t);t!==null;){if(r=t[wt])return r;t=vv(t)}return n}t=r,r=t.parentNode}return null}function Cn(t){if(t=t[wt]||t[ci]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function di(t){var n=t[Jo];return n||(n=t[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[hi]=!0}var ul=new Set,cl={};function mi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(cl[t]=n,t=0;t<n.length;t++)ul.add(n[t])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function Wo(t){return Et.call(dl,t)?!0:Et.call(fl,t)?!1:hl.test(t)?dl[t]=!0:(fl[t]=!0,!1)}function Jr(t,n,r){if(Wo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function yn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function St(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function da(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ml(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=da(t)?"checked":"value";t._valueTracker=ml(t,n,""+t[n])}}function dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=da(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mr=/[\n"\\]/g;function rn(t){return t.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wr(t,n,r,l,h,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?pl(t,_,Lt(n)):r!=null?pl(t,_,Lt(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Lt(w):t.removeAttribute("name")}function eu(t,n,r,l,h,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Ke(t);return}r=r!=null?""+Lt(r):"",n=n!=null?""+Lt(n):r,w||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function pl(t,n,r){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ma(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function tu(t,n,r){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Lt(r):""}function pa(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Le(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Lt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Ke(t)}function sn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||nu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function yl(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&gl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&gl(t,d,n[d])}function es(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ga=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ts(t){return ga.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var vl=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,yi=null;function pr(t){var n=Cn(t);if(n&&(t=n.stateNode)){var r=t[kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Wr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));Wr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&dr(l)}break e;case"textarea":tu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ma(t,!!r.multiple,n,!1)}}}var ns=!1;function va(t,n,r){if(ns)return t(n,r);ns=!0;try{var l=t(n);return l}finally{if(ns=!1,(ya!==null||yi!==null)&&($u(),ya&&(n=ya,t=yi,yi=ya=null,pr(n),t)))for(n=0;n<t.length;n++)pr(t[n])}}function Yn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[kt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(Dn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{gr=!1}var vi=null,_l=null,yr=null;function bl(){if(yr)return yr;var t,n=_l,r=n.length,l,h="value"in vi?vi.value:vi.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===h[d-l];l++);return yr=h.slice(t,1<l?1-l:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Xn(){return!1}function Bt(t){function n(r,l,h,d,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(r=t[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Xn,this.isPropagationStopped=Xn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Bt(Ui),_a=x({},Ui,{view:0,detail:0}),El=Bt(_a),ba,is,bi,as=x({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(ba=t.screenX-bi.screenX,is=t.screenY-bi.screenY):is=ba=0,bi=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:is}}),xl=Bt(as),_r=x({},as,{dataTransfer:0}),au=Bt(_r),ru=x({},_a,{relatedTarget:0}),br=Bt(ru),wl=x({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),su=Bt(wl),rs=x({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lu=Bt(rs),ou=x({},Ui,{data:0}),Ei=Bt(ou),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=hu[t])?!!n[t]:!1}function Ea(){return fu}var tn=x({},_a,{key:function(t){if(t.key){var n=uu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),du=Bt(tn),mu=x({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Bt(mu),c=x({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),p=Bt(c),b=x({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Bt(b),P=x({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Bt(P),se=x({},Ui,{newState:0,oldState:0}),Ne=Bt(se),yt=[9,13,27,32],Fe=Dn&&"CompositionEvent"in window,lt=null;Dn&&"documentMode"in document&&(lt=document.documentMode);var In=Dn&&"TextEvent"in window&&!lt,xi=Dn&&(!Fe||lt&&8<lt&&11>=lt),$n=" ",Zn=!1;function Er(t,n){switch(t){case"keyup":return yt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ss(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function pE(t,n){switch(t){case"compositionend":return ss(n);case"keypress":return n.which!==32?null:(Zn=!0,$n);case"textInput":return t=n.data,t===$n&&Zn?null:t;default:return null}}function gE(t,n){if(ls)return t==="compositionend"||!Fe&&Er(t,n)?(t=bl(),yr=_l=vi=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var yE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!yE[t.type]:n==="textarea"}function xp(t,n,r,l){ya?yi?yi.push(l):yi=[l]:ya=l,n=ic(n,"onChange"),0<n.length&&(r=new _i("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Tl=null,Sl=null;function vE(t){av(t,0)}function pu(t){var n=gn(t);if(dr(n))return t}function wp(t,n){if(t==="change")return n}var Tp=!1;if(Dn){var Rh;if(Dn){var Dh="oninput"in document;if(!Dh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Dh=typeof Sp.oninput=="function"}Rh=Dh}else Rh=!1;Tp=Rh&&(!document.documentMode||9<document.documentMode)}function Ap(){Tl&&(Tl.detachEvent("onpropertychange",Np),Sl=Tl=null)}function Np(t){if(t.propertyName==="value"&&pu(Sl)){var n=[];xp(n,Sl,t,Rn(t)),va(vE,n)}}function _E(t,n,r){t==="focusin"?(Ap(),Tl=n,Sl=r,Tl.attachEvent("onpropertychange",Np)):t==="focusout"&&Ap()}function bE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pu(Sl)}function EE(t,n){if(t==="click")return pu(n)}function xE(t,n){if(t==="input"||t==="change")return pu(n)}function wE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var vn=typeof Object.is=="function"?Object.is:wE;function Al(t,n){if(vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Et.call(n,h)||!vn(t[h],n[h]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rp(t,n){var r=Cp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function Dp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ip(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=gi(t.document)}return n}function Ih(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var TE=Dn&&"documentMode"in document&&11>=document.documentMode,os=null,Vh=null,Nl=null,jh=!1;function Vp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||os==null||os!==gi(l)||(l=os,"selectionStart"in l&&Ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Al(Nl,l)||(Nl=l,l=ic(Vh,"onSelect"),0<l.length&&(n=new _i("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=os)))}function xr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var us={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Oh={},jp={};Dn&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function wr(t){if(Oh[t])return Oh[t];if(!us[t])return t;var n=us[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in jp)return Oh[t]=n[r];return t}var Op=wr("animationend"),Mp=wr("animationiteration"),kp=wr("animationstart"),SE=wr("transitionrun"),AE=wr("transitionstart"),NE=wr("transitioncancel"),Lp=wr("transitionend"),Up=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Jn(t,n){Up.set(t,n),mi(n,[t])}var gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],cs=0,kh=0;function yu(){for(var t=cs,n=kh=cs=0;n<t;){var r=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var d=Vn[n];if(Vn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&zp(r,h,d)}}function vu(t,n,r,l){Vn[cs++]=t,Vn[cs++]=n,Vn[cs++]=r,Vn[cs++]=l,kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lh(t,n,r,l){return vu(t,n,r,l),_u(t)}function Tr(t,n){return vu(t,null,null,n),_u(t)}function zp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-gt(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function _u(t){if(50<Xl)throw Xl=0,Kf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var hs={};function CE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,r,l){return new CE(t,n,r,l)}function Uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,n){var r=t.alternate;return r===null?(r=_n(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function bu(t,n,r,l,h,d){var _=0;if(l=t,typeof t=="function")Uh(t)&&(_=1);else if(typeof t=="string")_=jx(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=_n(31,r,n,h),t.elementType=V,t.lanes=d,t;case Y:return Sr(r.children,h,d,n);case z:_=8,h|=24;break;case $:return t=_n(12,r,n,h|2),t.elementType=$,t.lanes=d,t;case ve:return t=_n(13,r,n,h),t.elementType=ve,t.lanes=d,t;case _e:return t=_n(19,r,n,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case ye:_=11;break e;case I:_=14;break e;case D:_=16,l=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=_n(_,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Sr(t,n,r,l){return t=_n(7,t,l,n),t.lanes=r,t}function zh(t,n,r){return t=_n(6,t,null,n),t.lanes=r,t}function Bp(t){var n=_n(18,null,null,0);return n.stateNode=t,n}function Ph(t,n,r){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var r=qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:al(n)},qp.set(t,n),n)}return{value:t,source:n,stack:al(n)}}var fs=[],ds=0,Eu=null,Cl=0,On=[],Mn=0,xa=null,wi=1,Ti="";function Bi(t,n){fs[ds++]=Cl,fs[ds++]=Eu,Eu=t,Cl=n}function Hp(t,n,r){On[Mn++]=wi,On[Mn++]=Ti,On[Mn++]=xa,xa=t;var l=wi;t=Ti;var h=32-gt(l)-1;l&=~(1<<h),r+=1;var d=32-gt(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-gt(n)+h|r<<h|l,Ti=d+t}else wi=1<<d|r<<h|l,Ti=t}function Bh(t){t.return!==null&&(Bi(t,1),Hp(t,1,0))}function qh(t){for(;t===Eu;)Eu=fs[--ds],fs[ds]=null,Cl=fs[--ds],fs[ds]=null;for(;t===xa;)xa=On[--Mn],On[Mn]=null,Ti=On[--Mn],On[Mn]=null,wi=On[--Mn],On[Mn]=null}function Fp(t,n){On[Mn++]=wi,On[Mn++]=Ti,On[Mn++]=xa,wi=n.id,Ti=n.overflow,xa=t}var qt=null,it=null,Ue=!1,wa=null,kn=!1,Hh=Error(s(519));function Ta(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rl(jn(n,t)),Hh}function Gp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[wt]=t,n[kt]=l,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<Zl.length;r++)Ve(Zl[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),eu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),pa(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ov(n.textContent,r)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Ta(t,!0)}function Qp(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qt=qt.return}}function ms(t){if(t!==qt)return!1;if(!Ue)return Qp(t),Ue=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||od(t.type,t.memoizedProps)),r=!r),r&&it&&Ta(t),Qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=yv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=yv(t)}else n===27?(n=it,Ua(t.type)?(t=dd,dd=null,it=t):it=n):it=qt?Un(t.stateNode.nextSibling):null;return!0}function Ar(){it=qt=null,Ue=!1}function Fh(){var t=wa;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),wa=null),t}function Rl(t){wa===null?wa=[t]:wa.push(t)}var Gh=O(null),Nr=null,qi=null;function Sa(t,n,r){oe(Gh,n._currentValue),n._currentValue=r}function Hi(t){t._currentValue=Gh.current,Z(Gh)}function Qh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Kh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var j=0;j<n.length;j++)if(w.context===n[j]){d.lanes|=r,w=d.alternate,w!==null&&(w.lanes|=r),Qh(d.return,r,t),l||(_=null);break e}d=w.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,d=_.alternate,d!==null&&(d.lanes|=r),Qh(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ps(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(h===Ae.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(no):t=[no])}h=h.return}t!==null&&Kh(n,t,r,l),n.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cr(t){Nr=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Kp(Nr,t)}function wu(t,n){return Nr===null&&Cr(t),Kp(t,n)}function Kp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},qi===null){if(t===null)throw Error(s(308));qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else qi=qi.next=n;return r}var RE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},DE=a.unstable_scheduleCallback,IE=a.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new RE,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&DE(IE,function(){t.controller.abort()})}var Il=null,Xh=0,gs=0,ys=null;function VE(t,n){if(Il===null){var r=Il=[];Xh=0,gs=Wf(),ys={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Xh++,n.then(Yp,Yp),n}function Yp(){if(--Xh===0&&Il!==null){ys!==null&&(ys.status="fulfilled");var t=Il;Il=null,gs=0,ys=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function jE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Xp=K.S;K.S=function(t,n){Vy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&VE(t,n),Xp!==null&&Xp(t,n)};var Rr=O(null);function $h(){var t=Rr.current;return t!==null?t:tt.pooledCache}function Tu(t,n){n===null?oe(Rr,Rr.current):oe(Rr,n.pool)}function $p(){var t=$h();return t===null?null:{parent:At._currentValue,pool:t}}var vs=Error(s(460)),Zh=Error(s(474)),Su=Error(s(542)),Au={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Kn,Kn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t}throw Ir=n,vs}}function Dr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ir=r,vs):r}}var Ir=null;function Wp(){if(Ir===null)throw Error(s(459));var t=Ir;return Ir=null,t}function eg(t){if(t===vs||t===Su)throw Error(s(483))}var _s=null,Vl=0;function Nu(t){var n=Vl;return Vl+=1,_s===null&&(_s=[]),Jp(_s,t,n)}function jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Cu(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tg(t){function n(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function r(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Pi(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,M,B,J){return M===null||M.tag!==6?(M=zh(B,U.mode,J),M.return=U,M):(M=h(M,B),M.return=U,M)}function j(U,M,B,J){var me=B.type;return me===Y?X(U,M,B.props.children,J,B.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===D&&Dr(me)===M.type)?(M=h(M,B.props),jl(M,B),M.return=U,M):(M=bu(B.type,B.key,B.props,null,U.mode,J),jl(M,B),M.return=U,M)}function q(U,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Ph(B,U.mode,J),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function X(U,M,B,J,me){return M===null||M.tag!==7?(M=Sr(B,U.mode,J,me),M.return=U,M):(M=h(M,B),M.return=U,M)}function ee(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=zh(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return B=bu(M.type,M.key,M.props,null,U.mode,B),jl(B,M),B.return=U,B;case F:return M=Ph(M,U.mode,B),M.return=U,M;case D:return M=Dr(M),ee(U,M,B)}if(Le(M)||R(M))return M=Sr(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return ee(U,Nu(M),B);if(M.$$typeof===re)return ee(U,wu(U,M),B);Cu(U,M)}return null}function H(U,M,B,J){var me=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:w(U,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===me?j(U,M,B,J):null;case F:return B.key===me?q(U,M,B,J):null;case D:return B=Dr(B),H(U,M,B,J)}if(Le(B)||R(B))return me!==null?null:X(U,M,B,J,null);if(typeof B.then=="function")return H(U,M,Nu(B),J);if(B.$$typeof===re)return H(U,M,wu(U,B),J);Cu(U,B)}return null}function Q(U,M,B,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,w(M,U,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return U=U.get(J.key===null?B:J.key)||null,j(M,U,J,me);case F:return U=U.get(J.key===null?B:J.key)||null,q(M,U,J,me);case D:return J=Dr(J),Q(U,M,B,J,me)}if(Le(J)||R(J))return U=U.get(B)||null,X(M,U,J,me,null);if(typeof J.then=="function")return Q(U,M,B,Nu(J),me);if(J.$$typeof===re)return Q(U,M,B,wu(M,J),me);Cu(M,J)}return null}function he(U,M,B,J){for(var me=null,qe=null,fe=M,Re=M=0,Oe=null;fe!==null&&Re<B.length;Re++){fe.index>Re?(Oe=fe,fe=null):Oe=fe.sibling;var He=H(U,fe,B[Re],J);if(He===null){fe===null&&(fe=Oe);break}t&&fe&&He.alternate===null&&n(U,fe),M=d(He,M,Re),qe===null?me=He:qe.sibling=He,qe=He,fe=Oe}if(Re===B.length)return r(U,fe),Ue&&Bi(U,Re),me;if(fe===null){for(;Re<B.length;Re++)fe=ee(U,B[Re],J),fe!==null&&(M=d(fe,M,Re),qe===null?me=fe:qe.sibling=fe,qe=fe);return Ue&&Bi(U,Re),me}for(fe=l(fe);Re<B.length;Re++)Oe=Q(fe,U,Re,B[Re],J),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Re:Oe.key),M=d(Oe,M,Re),qe===null?me=Oe:qe.sibling=Oe,qe=Oe);return t&&fe.forEach(function(Ha){return n(U,Ha)}),Ue&&Bi(U,Re),me}function be(U,M,B,J){if(B==null)throw Error(s(151));for(var me=null,qe=null,fe=M,Re=M=0,Oe=null,He=B.next();fe!==null&&!He.done;Re++,He=B.next()){fe.index>Re?(Oe=fe,fe=null):Oe=fe.sibling;var Ha=H(U,fe,He.value,J);if(Ha===null){fe===null&&(fe=Oe);break}t&&fe&&Ha.alternate===null&&n(U,fe),M=d(Ha,M,Re),qe===null?me=Ha:qe.sibling=Ha,qe=Ha,fe=Oe}if(He.done)return r(U,fe),Ue&&Bi(U,Re),me;if(fe===null){for(;!He.done;Re++,He=B.next())He=ee(U,He.value,J),He!==null&&(M=d(He,M,Re),qe===null?me=He:qe.sibling=He,qe=He);return Ue&&Bi(U,Re),me}for(fe=l(fe);!He.done;Re++,He=B.next())He=Q(fe,U,Re,He.value,J),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?Re:He.key),M=d(He,M,Re),qe===null?me=He:qe.sibling=He,qe=He);return t&&fe.forEach(function(Fx){return n(U,Fx)}),Ue&&Bi(U,Re),me}function et(U,M,B,J){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var me=B.key;M!==null;){if(M.key===me){if(me=B.type,me===Y){if(M.tag===7){r(U,M.sibling),J=h(M,B.props.children),J.return=U,U=J;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===D&&Dr(me)===M.type){r(U,M.sibling),J=h(M,B.props),jl(J,B),J.return=U,U=J;break e}r(U,M);break}else n(U,M);M=M.sibling}B.type===Y?(J=Sr(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=bu(B.type,B.key,B.props,null,U.mode,J),jl(J,B),J.return=U,U=J)}return _(U);case F:e:{for(me=B.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){r(U,M.sibling),J=h(M,B.children||[]),J.return=U,U=J;break e}else{r(U,M);break}else n(U,M);M=M.sibling}J=Ph(B,U.mode,J),J.return=U,U=J}return _(U);case D:return B=Dr(B),et(U,M,B,J)}if(Le(B))return he(U,M,B,J);if(R(B)){if(me=R(B),typeof me!="function")throw Error(s(150));return B=me.call(B),be(U,M,B,J)}if(typeof B.then=="function")return et(U,M,Nu(B),J);if(B.$$typeof===re)return et(U,M,wu(U,B),J);Cu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(r(U,M.sibling),J=h(M,B),J.return=U,U=J):(r(U,M),J=zh(B,U.mode,J),J.return=U,U=J),_(U)):r(U,M)}return function(U,M,B,J){try{Vl=0;var me=et(U,M,B,J);return _s=null,me}catch(fe){if(fe===vs||fe===Su)throw fe;var qe=_n(29,fe,null,U.mode);return qe.lanes=J,qe.return=U,qe}finally{}}}var Vr=tg(!0),ng=tg(!1),Aa=!1;function Jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=_u(t),zp(t,null,r),n}return vu(t,l,n,r),_u(t)}function Ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ll(t,r)}}function ef(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var tf=!1;function Ml(){if(tf){var t=ys;if(t!==null)throw t}}function kl(t,n,r,l){tf=!1;var h=t.updateQueue;Aa=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var j=w,q=j.next;j.next=null,_===null?d=q:_.next=q,_=j;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==_&&(w===null?X.firstBaseUpdate=q:w.next=q,X.lastBaseUpdate=j))}if(d!==null){var ee=h.baseState;_=0,X=q=j=null,w=d;do{var H=w.lane&-536870913,Q=H!==w.lane;if(Q?(je&H)===H:(l&H)===H){H!==0&&H===gs&&(tf=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,be=w;H=n;var et=r;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){ee=he.call(et,ee,H);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,H=typeof he=="function"?he.call(et,ee,H):he,H==null)break e;ee=x({},ee,H);break e;case 2:Aa=!0}}H=w.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(q=X=Q,j=ee):X=X.next=Q,_|=H;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(j=ee),h.baseState=j,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),ja|=_,t.lanes=_,t.memoizedState=ee}}function ig(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ag(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ig(r[t],n)}var bs=O(null),Ru=O(0);function rg(t,n){t=Ji,oe(Ru,t),oe(bs,n),Ji=t|n.baseLanes}function nf(){oe(Ru,Ji),oe(bs,bs.current)}function af(){Ji=Ru.current,Z(bs),Z(Ru)}var bn=O(null),Ln=null;function Ra(t){var n=t.alternate;oe(vt,vt.current&1),oe(bn,t),Ln===null&&(n===null||bs.current!==null||n.memoizedState!==null)&&(Ln=t)}function rf(t){oe(vt,vt.current),oe(bn,t),Ln===null&&(Ln=t)}function sg(t){t.tag===22?(oe(vt,vt.current),oe(bn,t),Ln===null&&(Ln=t)):Da()}function Da(){oe(vt,vt.current),oe(bn,bn.current)}function En(t){Z(bn),Ln===t&&(Ln=null),Z(vt)}var vt=O(0);function Du(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||hd(r)||fd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,Ce=null,Je=null,Nt=null,Iu=!1,Es=!1,jr=!1,Vu=0,Ll=0,xs=null,OE=0;function ft(){throw Error(s(321))}function sf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!vn(t[r],n[r]))return!1;return!0}function lf(t,n,r,l,h,d){return Fi=d,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Hg:xf,jr=!1,d=r(l,h),jr=!1,Es&&(d=og(n,r,l,h)),lg(t),d}function lg(t){K.H=Pl;var n=Je!==null&&Je.next!==null;if(Fi=0,Nt=Je=Ce=null,Iu=!1,Ll=0,xs=null,n)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&xu(t)&&(Ct=!0))}function og(t,n,r,l){Ce=t;var h=0;do{if(Es&&(xs=null),Ll=0,Es=!1,25<=h)throw Error(s(301));if(h+=1,Nt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Fg,d=n(r,l)}while(Es);return d}function ME(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Ul(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ce.flags|=1024),n}function of(){var t=Vu!==0;return Vu=0,t}function uf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function cf(t){if(Iu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Iu=!1}Fi=0,Nt=Je=Ce=null,Es=!1,Ll=Vu=0,xs=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function _t(){if(Je===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=Nt===null?Ce.memoizedState:Nt.next;if(n!==null)Nt=n,Je=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Nt===null?Ce.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var n=Ll;return Ll+=1,xs===null&&(xs=[]),t=Jp(xs,t,n),n=Ce,(Nt===null?n.memoizedState:Nt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Hg:xf),t}function Ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===re)return Ht(t)}throw Error(s(438,String(t)))}function hf(t){var n=null,r=Ce.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ju(),Ce.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=S;return n.index++,r}function Gi(t,n){return typeof n=="function"?n(t):n}function Mu(t){var n=_t();return ff(n,Je,t)}function ff(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var w=_=null,j=null,q=n,X=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(je&ee)===ee:(Fi&ee)===ee){var H=q.revertLane;if(H===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===gs&&(X=!0);else if((Fi&H)===H){q=q.next,H===gs&&(X=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(w=j=ee,_=d):j=j.next=ee,Ce.lanes|=H,ja|=H;ee=q.action,jr&&r(d,ee),d=q.hasEagerState?q.eagerState:r(d,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(w=j=H,_=d):j=j.next=H,Ce.lanes|=ee,ja|=ee;q=q.next}while(q!==null&&q!==n);if(j===null?_=d:j.next=w,!vn(d,t.memoizedState)&&(Ct=!0,X&&(r=ys,r!==null)))throw r;t.memoizedState=d,t.baseState=_,t.baseQueue=j,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function df(t){var n=_t(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);vn(d,n.memoizedState)||(Ct=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function ug(t,n,r){var l=Ce,h=_t(),d=Ue;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!vn((Je||h).memoizedState,r);if(_&&(h.memoizedState=r,Ct=!0),h=h.queue,gf(fg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,ws(9,{destroy:void 0},hg.bind(null,l,h,r,n),null),tt===null)throw Error(s(349));d||(Fi&127)!==0||cg(l,n,r)}return r}function cg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ce.updateQueue,n===null?(n=ju(),Ce.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hg(t,n,r,l){n.value=r,n.getSnapshot=l,dg(n)&&mg(t)}function fg(t,n,r){return r(function(){dg(n)&&mg(t)})}function dg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!vn(t,r)}catch{return!0}}function mg(t){var n=Tr(t,2);n!==null&&hn(n,t,2)}function mf(t){var n=nn();if(typeof t=="function"){var r=t;if(t=r(),jr){Nn(!0);try{r()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},n}function pg(t,n,r,l){return t.baseState=r,ff(t,Je,typeof l=="function"?l:Gi)}function kE(t,n,r,l,h){if(Uu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,gg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function gg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=K.T,_={};K.T=_;try{var w=r(h,l),j=K.S;j!==null&&j(_,w),yg(t,n,w)}catch(q){pf(t,n,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=r(h,l),yg(t,n,d)}catch(q){pf(t,n,q)}}function yg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){vg(t,n,l)},function(l){return pf(t,n,l)}):vg(t,n,r)}function vg(t,n,r){n.status="fulfilled",n.value=r,_g(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,gg(t,r)))}function pf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,_g(n),n=n.next;while(n!==l)}t.action=null}function _g(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bg(t,n){return n}function Eg(t,n){if(Ue){var r=tt.formState;if(r!==null){e:{var l=Ce;if(Ue){if(it){t:{for(var h=it,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Un(h.nextSibling),l=h.data==="F!";break e}}Ta(l)}l=!1}l&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},r.queue=l,r=Pg.bind(null,Ce,l),l.dispatch=r,l=mf(!1),d=Ef.bind(null,Ce,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=kE.bind(null,Ce,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function xg(t){var n=_t();return wg(n,Je,t)}function wg(t,n,r){if(n=ff(t,n,bg)[0],t=Mu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ul(n)}catch(_){throw _===vs?Su:_}else l=n;n=_t();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Ce.flags|=2048,ws(9,{destroy:void 0},LE.bind(null,h,r),null)),[l,d,t]}function LE(t,n){t.action=n}function Tg(t){var n=_t(),r=Je;if(r!==null)return wg(n,r,t);_t(),n=n.memoizedState,r=_t();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function ws(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=ju(),Ce.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Sg(){return _t().memoizedState}function ku(t,n,r,l){var h=nn();Ce.flags|=t,h.memoizedState=ws(1|n,{destroy:void 0},r,l===void 0?null:l)}function Lu(t,n,r,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&sf(l,Je.memoizedState.deps)?h.memoizedState=ws(n,d,r,l):(Ce.flags|=t,h.memoizedState=ws(1|n,d,r,l))}function Ag(t,n){ku(8390656,8,t,n)}function gf(t,n){Lu(2048,8,t,n)}function UE(t){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=ju(),Ce.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ng(t){var n=_t().memoizedState;return UE({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Cg(t,n){return Lu(4,2,t,n)}function Rg(t,n){return Lu(4,4,t,n)}function Dg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ig(t,n,r){r=r!=null?r.concat([t]):null,Lu(4,4,Dg.bind(null,n,t),r)}function yf(){}function Vg(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&sf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function jg(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&sf(n,l[1]))return l[0];if(l=t(),jr){Nn(!0);try{t()}finally{Nn(!1)}}return r.memoizedState=[l,n],l}function vf(t,n,r){return r===void 0||(Fi&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Oy(),Ce.lanes|=t,ja|=t,r)}function Og(t,n,r,l){return vn(r,n)?r:bs.current!==null?(t=vf(t,r,l),vn(t,n)||(Ct=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(je&261930)===0?(Ct=!0,t.memoizedState=r):(t=Oy(),Ce.lanes|=t,ja|=t,n)}function Mg(t,n,r,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=K.T,w={};K.T=w,Ef(t,!1,n,r);try{var j=h(),q=K.S;if(q!==null&&q(w,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=jE(j,l);zl(t,n,X,Tn(t))}else zl(t,n,l,Tn(t))}catch(ee){zl(t,n,{then:function(){},status:"rejected",reason:ee},Tn())}finally{le.p=d,_!==null&&w.types!==null&&(_.types=w.types),K.T=_}}function zE(){}function _f(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=kg(t).queue;Mg(t,h,n,de,r===null?zE:function(){return Lg(t),r(l)})}function kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lg(t){var n=kg(t);n.next===null&&(n=t.alternate.memoizedState),zl(t,n.next.queue,{},Tn())}function bf(){return Ht(no)}function Ug(){return _t().memoizedState}function zg(){return _t().memoizedState}function PE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();t=Na(r);var l=Ca(n,t,r);l!==null&&(hn(l,n,r),Ol(l,n,r)),n={cache:Yh()},t.payload=n;return}n=n.return}}function BE(t,n,r){var l=Tn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Uu(t)?Bg(n,r):(r=Lh(t,n,r,l),r!==null&&(hn(r,t,l),qg(r,n,l)))}function Pg(t,n,r){var l=Tn();zl(t,n,r,l)}function zl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uu(t))Bg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,w=d(_,r);if(h.hasEagerState=!0,h.eagerState=w,vn(w,_))return vu(t,n,h,0),tt===null&&yu(),!1}catch{}finally{}if(r=Lh(t,n,h,l),r!==null)return hn(r,t,l),qg(r,n,l),!0}return!1}function Ef(t,n,r,l){if(l={lane:2,revertLane:Wf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uu(t)){if(n)throw Error(s(479))}else n=Lh(t,r,l,2),n!==null&&hn(n,t,2)}function Uu(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function Bg(t,n){Es=Iu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ll(t,r)}}var Pl={readContext:Ht,use:Ou,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Pl.useEffectEvent=ft;var Hg={readContext:Ht,use:Ou,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Ag,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ku(4194308,4,Dg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var r=nn();n=n===void 0?null:n;var l=t();if(jr){Nn(!0);try{t()}finally{Nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=nn();if(r!==void 0){var h=r(n);if(jr){Nn(!0);try{r(n)}finally{Nn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=BE.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=mf(t);var n=t.queue,r=Pg.bind(null,Ce,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:yf,useDeferredValue:function(t,n){var r=nn();return vf(r,t,n)},useTransition:function(){var t=mf(!1);return t=Mg.bind(null,Ce,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ce,h=nn();if(Ue){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),tt===null)throw Error(s(349));(je&127)!==0||cg(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Ag(fg.bind(null,l,d,t),[t]),l.flags|=2048,ws(9,{destroy:void 0},hg.bind(null,l,d,r,n),null),r},useId:function(){var t=nn(),n=tt.identifierPrefix;if(Ue){var r=Ti,l=wi;r=(l&~(1<<32-gt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Vu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=OE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:bf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ef.bind(null,Ce,!0,r),r.dispatch=n,[t,n]},useMemoCache:hf,useCacheRefresh:function(){return nn().memoizedState=PE.bind(null,Ce)},useEffectEvent:function(t){var n=nn(),r={impl:t};return n.memoizedState=r,function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},xf={readContext:Ht,use:Ou,useCallback:Vg,useContext:Ht,useEffect:gf,useImperativeHandle:Ig,useInsertionEffect:Cg,useLayoutEffect:Rg,useMemo:jg,useReducer:Mu,useRef:Sg,useState:function(){return Mu(Gi)},useDebugValue:yf,useDeferredValue:function(t,n){var r=_t();return Og(r,Je.memoizedState,t,n)},useTransition:function(){var t=Mu(Gi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:ug,useId:Ug,useHostTransitionStatus:bf,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=_t();return pg(r,Je,t,n)},useMemoCache:hf,useCacheRefresh:zg};xf.useEffectEvent=Ng;var Fg={readContext:Ht,use:Ou,useCallback:Vg,useContext:Ht,useEffect:gf,useImperativeHandle:Ig,useInsertionEffect:Cg,useLayoutEffect:Rg,useMemo:jg,useReducer:df,useRef:Sg,useState:function(){return df(Gi)},useDebugValue:yf,useDeferredValue:function(t,n){var r=_t();return Je===null?vf(r,t,n):Og(r,Je.memoizedState,t,n)},useTransition:function(){var t=df(Gi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:ug,useId:Ug,useHostTransitionStatus:bf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var r=_t();return Je!==null?pg(r,Je,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:hf,useCacheRefresh:zg};Fg.useEffectEvent=Ng;function wf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Tf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Tn(),h=Na(l);h.payload=n,r!=null&&(h.callback=r),n=Ca(t,h,l),n!==null&&(hn(n,t,l),Ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Tn(),h=Na(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ca(t,h,l),n!==null&&(hn(n,t,l),Ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Tn(),l=Na(r);l.tag=2,n!=null&&(l.callback=n),n=Ca(t,l,r),n!==null&&(hn(n,t,r),Ol(n,t,r))}};function Gg(t,n,r,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Al(r,l)||!Al(h,d):!0}function Qg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Tf.enqueueReplaceState(n,n.state,null)}function Or(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Kg(t){gu(t)}function Yg(t){console.error(t)}function Xg(t){gu(t)}function zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(t,n,r){return r=Na(r),r.tag=3,r.payload={element:null},r.callback=function(){zu(t,n)},r}function Zg(t){return t=Na(t),t.tag=3,t}function Jg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){$g(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){$g(n,r,l),typeof h!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function qE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ps(n,r,h,!0),r=bn.current,r!==null){switch(r.tag){case 31:case 13:return Ln===null?Zu():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Au?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),$f(t,l,h)),!1;case 22:return r.flags|=65536,l===Au?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),$f(t,l,h)),!1}throw Error(s(435,r.tag))}return $f(t,l,h),Zu(),!1}if(Ue)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Hh&&(t=Error(s(422),{cause:l}),Rl(jn(t,r)))):(l!==Hh&&(n=Error(s(423),{cause:l}),Rl(jn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,r),h=Sf(t.stateNode,l,h),ef(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,r),Yl===null?Yl=[d]:Yl.push(d),dt!==4&&(dt=2),n===null)return!0;l=jn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Sf(r.stateNode,l,t),ef(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Oa===null||!Oa.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Zg(h),Jg(h,t,r,l),ef(r,h),!1}r=r.return}while(r!==null);return!1}var Af=Error(s(461)),Ct=!1;function Ft(t,n,r,l){n.child=t===null?ng(n,null,r,l):Vr(n,t.child,r,l)}function Wg(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Cr(n),l=lf(t,n,r,_,d,h),w=of(),t!==null&&!Ct?(uf(t,n,h),Qi(t,n,h)):(Ue&&w&&Bh(n),n.flags|=1,Ft(t,n,l,h),n.child)}function ey(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!Uh(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,ty(t,n,d,l,h)):(t=bu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Of(t,h)){var _=d.memoizedProps;if(r=r.compare,r=r!==null?r:Al,r(_,l)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=Pi(d,l),t.ref=n.ref,t.return=n,n.child=t}function ty(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Al(d,l)&&t.ref===n.ref)if(Ct=!1,n.pendingProps=l=d,Of(t,h))(t.flags&131072)!==0&&(Ct=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return Nf(t,n,r,l,h)}function ny(t,n,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return iy(t,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tu(n,d!==null?d.cachePool:null),d!==null?rg(n,d):nf(),sg(n);else return l=n.lanes=536870912,iy(t,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Tu(n,d.cachePool),rg(n,d),Da(),n.memoizedState=null):(t!==null&&Tu(n,null),nf(),Da());return Ft(t,n,h,r),n.child}function Bl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(t,n,r,l,h){var d=$h();return d=d===null?null:{parent:At._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Tu(n,null),nf(),sg(n),t!==null&&ps(t,n,l,!0),n.childLanes=h,null}function Pu(t,n){return n=qu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ay(t,n,r){return Vr(n,t.child,null,r),t=Pu(n,n.pendingProps),t.flags|=2,En(n),n.memoizedState=null,t}function HE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Pu(n,l),n.lanes=536870912,Bl(null,t);if(rf(n),(t=it)?(t=gv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xa!==null?{id:wi,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,qt=n,it=null)):t=null,t===null)throw Ta(n);return n.lanes=536870912,null}return Pu(n,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=ay(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ct||ps(t,n,r,!1),h=(r&t.childLanes)!==0,Ct||h){if(l=tt,l!==null&&(_=ol(l,r),_!==0&&_!==d.retryLane))throw d.retryLane=_,Tr(t,_),hn(l,t,_),Af;Zu(),n=ay(t,n,r)}else t=d.treeContext,it=Un(_.nextSibling),qt=n,Ue=!0,wa=null,kn=!1,t!==null&&Fp(n,t),n=Pu(n,l),n.flags|=4096;return n}return t=Pi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Bu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Nf(t,n,r,l,h){return Cr(n),r=lf(t,n,r,l,void 0,h),l=of(),t!==null&&!Ct?(uf(t,n,h),Qi(t,n,h)):(Ue&&l&&Bh(n),n.flags|=1,Ft(t,n,r,h),n.child)}function ry(t,n,r,l,h,d){return Cr(n),n.updateQueue=null,r=og(n,l,r,h),lg(t),l=of(),t!==null&&!Ct?(uf(t,n,d),Qi(t,n,d)):(Ue&&l&&Bh(n),n.flags|=1,Ft(t,n,r,d),n.child)}function sy(t,n,r,l,h){if(Cr(n),n.stateNode===null){var d=hs,_=r.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Tf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Jh(n),_=r.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):hs,d.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(wf(n,r,_,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Tf.enqueueReplaceState(d,d.state,null),kl(n,l,d,h),Ml(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var w=n.memoizedProps,j=Or(r,w);d.props=j;var q=d.context,X=r.contextType;_=hs,typeof X=="object"&&X!==null&&(_=Ht(X));var ee=r.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==_)&&Qg(n,d,l,_),Aa=!1;var H=n.memoizedState;d.state=H,kl(n,l,d,h),Ml(),q=n.memoizedState,w||H!==q||Aa?(typeof ee=="function"&&(wf(n,r,ee,l),q=n.memoizedState),(j=Aa||Gg(n,r,j,l,H,q,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),d.props=l,d.state=q,d.context=_,l=j):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Wh(t,n),_=n.memoizedProps,X=Or(r,_),d.props=X,ee=n.pendingProps,H=d.context,q=r.contextType,j=hs,typeof q=="object"&&q!==null&&(j=Ht(q)),w=r.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||H!==j)&&Qg(n,d,l,j),Aa=!1,H=n.memoizedState,d.state=H,kl(n,l,d,h),Ml();var Q=n.memoizedState;_!==ee||H!==Q||Aa||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof w=="function"&&(wf(n,r,w,l),Q=n.memoizedState),(X=Aa||Gg(n,r,X,l,H,Q,j)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,j)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=j,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Bu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Vr(n,t.child,null,h),n.child=Vr(n,null,r,h)):Ft(t,n,r,h),n.memoizedState=d.state,t=n.child):t=Qi(t,n,h),t}function ly(t,n,r,l){return Ar(),n.flags|=256,Ft(t,n,r,l),n.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:$p()}}function Df(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function oy(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ue){if(h?Ra(n):Da(),(t=it)?(t=gv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:xa!==null?{id:wi,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},r=Bp(t),r.return=n,n.child=r,qt=n,it=null)):t=null,t===null)throw Ta(n);return fd(t)?n.lanes=32:n.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(Da(),h=n.mode,w=qu({mode:"hidden",children:w},h),l=Sr(l,h,r,null),w.return=n,l.return=n,w.sibling=l,n.child=w,l=n.child,l.memoizedState=Rf(r),l.childLanes=Df(t,_,r),n.memoizedState=Cf,Bl(null,l)):(Ra(n),If(n,w))}var j=t.memoizedState;if(j!==null&&(w=j.dehydrated,w!==null)){if(d)n.flags&256?(Ra(n),n.flags&=-257,n=Vf(t,n,r)):n.memoizedState!==null?(Da(),n.child=t.child,n.flags|=128,n=null):(Da(),w=l.fallback,h=n.mode,l=qu({mode:"visible",children:l.children},h),w=Sr(w,h,r,null),w.flags|=2,l.return=n,w.return=n,l.sibling=w,n.child=l,Vr(n,t.child,null,r),l=n.child,l.memoizedState=Rf(r),l.childLanes=Df(t,_,r),n.memoizedState=Cf,n=Bl(null,l));else if(Ra(n),fd(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,Rl({value:l,source:null,stack:null}),n=Vf(t,n,r)}else if(Ct||ps(t,n,r,!1),_=(r&t.childLanes)!==0,Ct||_){if(_=tt,_!==null&&(l=ol(_,r),l!==0&&l!==j.retryLane))throw j.retryLane=l,Tr(t,l),hn(_,t,l),Af;hd(w)||Zu(),n=Vf(t,n,r)}else hd(w)?(n.flags|=192,n.child=t.child,n=null):(t=j.treeContext,it=Un(w.nextSibling),qt=n,Ue=!0,wa=null,kn=!1,t!==null&&Fp(n,t),n=If(n,l.children),n.flags|=4096);return n}return h?(Da(),w=l.fallback,h=n.mode,j=t.child,q=j.sibling,l=Pi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,q!==null?w=Pi(q,w):(w=Sr(w,h,r,null),w.flags|=2),w.return=n,l.return=n,l.sibling=w,n.child=l,Bl(null,l),l=n.child,w=t.child.memoizedState,w===null?w=Rf(r):(h=w.cachePool,h!==null?(j=At._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=$p(),w={baseLanes:w.baseLanes|r,cachePool:h}),l.memoizedState=w,l.childLanes=Df(t,_,r),n.memoizedState=Cf,Bl(t.child,l)):(Ra(n),r=t.child,t=r.sibling,r=Pi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function If(t,n){return n=qu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function qu(t,n){return t=_n(22,t,null,n),t.lanes=0,t}function Vf(t,n,r){return Vr(n,t.child,null,r),t=If(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function uy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Qh(t.return,n,r)}function jf(t,n,r,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=d)}function cy(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,w=(_&2)!==0;if(w?(_=_&1|2,n.flags|=128):_&=1,oe(vt,_),Ft(t,n,l,r),l=Ue?Cl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,r,n);else if(t.tag===19)uy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Du(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),jf(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Du(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}jf(n,!0,r,null,d,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ja|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ps(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Pi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Pi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Of(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function FE(t,n,r){switch(n.tag){case 3:st(n,n.stateNode.containerInfo),Sa(n,At,t.memoizedState.cache),Ar();break;case 27:case 5:Oi(n);break;case 4:st(n,n.stateNode.containerInfo);break;case 10:Sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ra(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(Ra(n),t=Qi(t,n,r),t!==null?t.sibling:null);Ra(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ps(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return cy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(vt,vt.current),l)break;return null;case 22:return n.lanes=0,ny(t,n,r,n.pendingProps);case 24:Sa(n,At,t.memoizedState.cache)}return Qi(t,n,r)}function hy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ct=!0;else{if(!Of(t,r)&&(n.flags&128)===0)return Ct=!1,FE(t,n,r);Ct=(t.flags&131072)!==0}else Ct=!1,Ue&&(n.flags&1048576)!==0&&Hp(n,Cl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Dr(n.elementType),n.type=t,typeof t=="function")Uh(t)?(l=Or(t,l),n.tag=1,n=sy(null,n,t,l,r)):(n.tag=0,n=Nf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ye){n.tag=11,n=Wg(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=ey(null,n,t,l,r);break e}}throw n=Se(t)||t,Error(s(306,n,""))}}return n;case 0:return Nf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Or(l,n.pendingProps),sy(t,n,l,h,r);case 3:e:{if(st(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Wh(t,n),kl(n,l,null,r);var _=n.memoizedState;if(l=_.cache,Sa(n,At,l),l!==d.cache&&Kh(n,[At],r,!0),Ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=ly(t,n,l,r);break e}else if(l!==h){h=jn(Error(s(424)),n),Rl(h),n=ly(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Un(t.firstChild),qt=n,Ue=!0,wa=null,kn=!0,r=ng(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ar(),l===h){n=Qi(t,n,r);break e}Ft(t,n,l,r)}n=n.child}return n;case 26:return Bu(t,n),t===null?(r=xv(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ue||(r=n.type,t=n.pendingProps,l=ac(ge.current).createElement(r),l[wt]=n,l[kt]=t,Gt(l,r,t),Tt(l),n.stateNode=l):n.memoizedState=xv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oi(n),t===null&&Ue&&(l=n.stateNode=_v(n.type,n.pendingProps,ge.current),qt=n,kn=!0,h=it,Ua(n.type)?(dd=h,it=Un(l.firstChild)):it=h),Ft(t,n,n.pendingProps.children,r),Bu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ue&&((h=l=it)&&(l=bx(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,qt=n,it=Un(l.firstChild),kn=!1,h=!0):h=!1),h||Ta(n)),Oi(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,od(h,d)?l=null:_!==null&&od(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(t,n,ME,null,null,r),no._currentValue=h),Bu(t,n),Ft(t,n,l,r),n.child;case 6:return t===null&&Ue&&((t=r=it)&&(r=Ex(r,n.pendingProps,kn),r!==null?(n.stateNode=r,qt=n,it=null,t=!0):t=!1),t||Ta(n)),null;case 13:return oy(t,n,r);case 4:return st(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Vr(n,null,l,r):Ft(t,n,l,r),n.child;case 11:return Wg(t,n,n.type,n.pendingProps,r);case 7:return Ft(t,n,n.pendingProps,r),n.child;case 8:return Ft(t,n,n.pendingProps.children,r),n.child;case 12:return Ft(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Sa(n,n.type,l.value),Ft(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Cr(n),h=Ht(h),l=l(h),n.flags|=1,Ft(t,n,l,r),n.child;case 14:return ey(t,n,n.type,n.pendingProps,r);case 15:return ty(t,n,n.type,n.pendingProps,r);case 19:return cy(t,n,r);case 31:return HE(t,n,r);case 22:return ny(t,n,r,n.pendingProps);case 24:return Cr(n),l=Ht(At),t===null?(h=$h(),h===null&&(h=tt,d=Yh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},Jh(n),Sa(n,At,h)):((t.lanes&r)!==0&&(Wh(t,n),kl(n,null,null,r),Ml()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sa(n,At,l)):(l=d.cache,Sa(n,At,l),l!==h.cache&&Kh(n,[At],r,!0))),Ft(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ki(t){t.flags|=4}function Mf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Ir=Au,Zh}else t.flags&=-16777217}function fy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nv(n))if(Uy())t.flags|=8192;else throw Ir=Au,Zh}function Hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xo():536870912,t.lanes|=n,Ns|=n)}function ql(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function GE(t,n,r){var l=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Hi(At),$e(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ms(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fh())),at(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Ki(n),d!==null?(at(n),fy(n,d)):(at(n),Mf(n,h,null,l,r))):d?d!==t.memoizedState?(Ki(n),at(n),fy(n,d)):(at(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ki(n),at(n),Mf(n,h,t,l,r)),null;case 27:if(Xt(n),r=ge.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return at(n),null}t=ae.current,ms(n)?Gp(n):(t=_v(h,l,r),n.stateNode=t,Ki(n))}return at(n),null;case 5:if(Xt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return at(n),null}if(d=ae.current,ms(n))Gp(n);else{var _=ac(ge.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[wt]=n,d[kt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ki(n)}}return at(n),Mf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=ge.current,ms(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ov(t.nodeValue,r)),t||Ta(n,!0)}else t=ac(t).createTextNode(l),t[wt]=n,n.stateNode=t}return at(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=ms(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),t=!1}else r=Fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(s(558))}return at(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ms(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=n}else Ar(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),h=!1}else h=Fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Hu(n,n.updateQueue),at(n),null);case 4:return $e(),t===null&&id(n.stateNode.containerInfo),at(n),null;case 10:return Hi(n.type),at(n),null;case 19:if(Z(vt),l=n.memoizedState,l===null)return at(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)ql(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Du(t),d!==null){for(n.flags|=128,ql(l,!1),t=d.updateQueue,n.updateQueue=t,Hu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Pp(r,t),r=r.sibling;return oe(vt,vt.current&1|2),Ue&&Bi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&en()>Yu&&(n.flags|=128,h=!0,ql(l,!1),n.lanes=4194304)}else{if(!h)if(t=Du(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Hu(n,t),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return at(n),null}else 2*en()-l.renderingStartTime>Yu&&r!==536870912&&(n.flags|=128,h=!0,ql(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,r=vt.current,oe(vt,h?r&1|2:r&1),Ue&&Bi(n,l.treeForkCount),t):(at(n),null);case 22:case 23:return En(n),af(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),r=n.updateQueue,r!==null&&Hu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Z(Rr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Hi(At),at(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function QE(t,n){switch(qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(At),$e(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Xt(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(s(340));Ar()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(En(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ar()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(vt),null;case 4:return $e(),null;case 10:return Hi(n.type),null;case 22:case 23:return En(n),af(),t!==null&&Z(Rr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hi(At),null;case 25:return null;default:return null}}function dy(t,n){switch(qh(n),n.tag){case 3:Hi(At),$e();break;case 26:case 27:case 5:Xt(n);break;case 4:$e();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:Z(vt);break;case 10:Hi(n.type);break;case 22:case 23:En(n),af(),t!==null&&Z(Rr);break;case 24:Hi(At)}}function Hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,_=r.inst;l=d(),_.destroy=l}r=r.next}while(r!==h)}}catch(w){Xe(n,n.return,w)}}function Ia(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,h=n;var j=r,q=w;try{q()}catch(X){Xe(h,j,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(n,n.return,X)}}function my(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ag(n,r)}catch(l){Xe(t,t.return,l)}}}function py(t,n,r){r.props=Or(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xe(t,n,l)}}function Fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Xe(t,n,h)}}function Si(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xe(t,n,h)}else r.current=null}function gy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Xe(t,t.return,h)}}function kf(t,n,r){try{var l=t.stateNode;mx(l,t.type,r,n),l[kt]=n}catch(h){Xe(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ua(t.type)||t.tag===4}function Lf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Kn));else if(l!==4&&(l===27&&Ua(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Uf(t,n,r),t=t.sibling;t!==null;)Uf(t,n,r),t=t.sibling}function Fu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ua(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Fu(t,n,r),t=t.sibling;t!==null;)Fu(t,n,r),t=t.sibling}function vy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,l,r),n[wt]=t,n[kt]=r}catch(d){Xe(t,t.return,d)}}var Yi=!1,Rt=!1,zf=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function KE(t,n){if(t=t.containerInfo,sd=hc,t=Ip(t),Ih(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var _=0,w=-1,j=-1,q=0,X=0,ee=t,H=null;t:for(;;){for(var Q;ee!==r||h!==0&&ee.nodeType!==3||(w=_+h),ee!==d||l!==0&&ee.nodeType!==3||(j=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)H=ee,ee=Q;for(;;){if(ee===t)break t;if(H===r&&++q===h&&(w=_),H===d&&++X===l&&(j=_),(Q=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Q}r=w===-1||j===-1?null:{start:w,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(ld={focusedElem:t,selectionRange:r},hc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var he=Or(r.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Xe(r,r.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)cd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function by(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:$i(t,r),l&4&&Hl(5,r);break;case 1:if($i(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Xe(r,r.return,_)}else{var h=Or(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(r,r.return,_)}}l&64&&my(r),l&512&&Fl(r,r.return);break;case 3:if($i(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ag(t,n)}catch(_){Xe(r,r.return,_)}}break;case 27:n===null&&l&4&&vy(r);case 26:case 5:$i(t,r),n===null&&l&4&&gy(r),l&512&&Fl(r,r.return);break;case 12:$i(t,r);break;case 31:$i(t,r),l&4&&wy(t,r);break;case 13:$i(t,r),l&4&&Ty(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=nx.bind(null,r),xx(t,r))));break;case 22:if(l=r.memoizedState!==null||Yi,!l){n=n!==null&&n.memoizedState!==null||Rt,h=Yi;var d=Rt;Yi=l,(Rt=n)&&!d?Zi(t,r,(r.subtreeFlags&8772)!==0):$i(t,r),Yi=h,Rt=d}break;case 30:break;default:$i(t,r)}}function Ey(t){var n=t.alternate;n!==null&&(t.alternate=null,Ey(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Zr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function Xi(t,n,r){for(r=r.child;r!==null;)xy(t,n,r),r=r.sibling}function xy(t,n,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Hn,r)}catch{}switch(r.tag){case 26:Rt||Si(r,n),Xi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Rt||Si(r,n);var l=ot,h=ln;Ua(r.type)&&(ot=r.stateNode,ln=!1),Xi(t,n,r),Wl(r.stateNode),ot=l,ln=h;break;case 5:Rt||Si(r,n);case 6:if(l=ot,h=ln,ot=null,Xi(t,n,r),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(r.stateNode)}catch(d){Xe(r,n,d)}else try{ot.removeChild(r.stateNode)}catch(d){Xe(r,n,d)}break;case 18:ot!==null&&(ln?(t=ot,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ms(t)):mv(ot,r.stateNode));break;case 4:l=ot,h=ln,ot=r.stateNode.containerInfo,ln=!0,Xi(t,n,r),ot=l,ln=h;break;case 0:case 11:case 14:case 15:Ia(2,r,n),Rt||Ia(4,r,n),Xi(t,n,r);break;case 1:Rt||(Si(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&py(r,n,l)),Xi(t,n,r);break;case 21:Xi(t,n,r);break;case 22:Rt=(l=Rt)||r.memoizedState!==null,Xi(t,n,r),Rt=l;break;default:Xi(t,n,r)}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ms(t)}catch(r){Xe(n,n.return,r)}}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ms(t)}catch(r){Xe(n,n.return,r)}}function YE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _y),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _y),n;default:throw Error(s(435,t.tag))}}function Gu(t,n){var r=YE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=ix.bind(null,t,l);l.then(h,h)}})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,_=n,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Ua(w.type)){ot=w.stateNode,ln=!1;break e}break;case 5:ot=w.stateNode,ln=!1;break e;case 3:case 4:ot=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(ot===null)throw Error(s(160));xy(d,_,h),ot=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,t),n=n.sibling}var Wn=null;function Sy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Ia(3,t,t.return),Hl(3,t),Ia(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(Rt||r===null||Si(r,r.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Wn;if(on(n,t),un(t),l&512&&(Rt||r===null||Si(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,r),d[wt]=t,Tt(d),l=d;break e;case"link":var _=Sv("link","href",h).get(l+(r.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(w,1);break t}}d=h.createElement(l),Gt(d,l,r),h.head.appendChild(d);break;case"meta":if(_=Sv("meta","content",h).get(l+(r.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(w,1);break t}}d=h.createElement(l),Gt(d,l,r),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,Tt(d),l=d}t.stateNode=l}else Av(h,t.type,t.stateNode);else t.stateNode=Tv(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?Av(h,t.type,t.stateNode):Tv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(Rt||r===null||Si(r,r.return)),r!==null&&l&4&&kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(Rt||r===null||Si(r,r.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(he){Xe(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,kf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(zf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){Xe(t,t.return,he)}}break;case 3:if(lc=null,h=Wn,Wn=rc(n.containerInfo),on(n,t),Wn=h,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ms(n.containerInfo)}catch(he){Xe(t,t.return,he)}zf&&(zf=!1,Ay(t));break;case 4:l=Wn,Wn=rc(t.stateNode.containerInfo),on(n,t),un(t),Wn=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gu(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ku=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gu(t,l)));break;case 22:h=t.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,q=Yi,X=Rt;if(Yi=q||h,Rt=X||j,on(n,t),Rt=X,Yi=q,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||j||Yi||Rt||Mr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){j=r=n;try{if(d=j.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=j.stateNode;var ee=j.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Xe(j,j.return,he)}}}else if(n.tag===6){if(r===null){j=n;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(he){Xe(j,j.return,he)}}}else if(n.tag===18){if(r===null){j=n;try{var Q=j.stateNode;h?pv(Q,!0):pv(j.stateNode,!1)}catch(he){Xe(j,j.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Gu(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gu(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(yy(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=Lf(t);Fu(t,d,h);break;case 5:var _=r.stateNode;r.flags&32&&(sn(_,""),r.flags&=-33);var w=Lf(t);Fu(t,w,_);break;case 3:case 4:var j=r.stateNode.containerInfo,q=Lf(t);Uf(t,q,j);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(t,n.alternate,n),n=n.sibling}function Mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ia(4,n,n.return),Mr(n);break;case 1:Si(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&py(n,n.return,r),Mr(n);break;case 27:Wl(n.stateNode);case 26:case 5:Si(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}t=t.sibling}}function Zi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(h,d,r),Hl(4,d);break;case 1:if(Zi(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)ig(j[h],w)}catch(q){Xe(l,l.return,q)}}r&&_&64&&my(d),Fl(d,d.return);break;case 27:vy(d);case 26:case 5:Zi(h,d,r),r&&l===null&&_&4&&gy(d),Fl(d,d.return);break;case 12:Zi(h,d,r);break;case 31:Zi(h,d,r),r&&_&4&&wy(h,d);break;case 13:Zi(h,d,r),r&&_&4&&Ty(h,d);break;case 22:d.memoizedState===null&&Zi(h,d,r),Fl(d,d.return);break;case 30:break;default:Zi(h,d,r)}n=n.sibling}}function Pf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Dl(r))}function Bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t))}function ei(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(t,n,r,l),n=n.sibling}function Ny(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,r,l),h&2048&&Hl(9,n);break;case 1:ei(t,n,r,l);break;case 3:ei(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){ei(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Xe(n,n.return,j)}}else ei(t,n,r,l);break;case 31:ei(t,n,r,l);break;case 13:ei(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?ei(t,n,r,l):Gl(t,n):d._visibility&2?ei(t,n,r,l):(d._visibility|=2,Ts(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pf(_,n);break;case 24:ei(t,n,r,l),h&2048&&Bf(n.alternate,n);break;default:ei(t,n,r,l)}}function Ts(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,_=n,w=r,j=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Ts(d,_,w,j,h),Hl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ts(d,_,w,j,h):Gl(d,_):(X._visibility|=2,Ts(d,_,w,j,h)),h&&q&2048&&Pf(_.alternate,_);break;case 24:Ts(d,_,w,j,h),h&&q&2048&&Bf(_.alternate,_);break;default:Ts(d,_,w,j,h)}n=n.sibling}}function Gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Gl(r,l),h&2048&&Pf(l.alternate,l);break;case 24:Gl(r,l),h&2048&&Bf(l.alternate,l);break;default:Gl(r,l)}n=n.sibling}}var Ql=8192;function Ss(t,n,r){if(t.subtreeFlags&Ql)for(t=t.child;t!==null;)Cy(t,n,r),t=t.sibling}function Cy(t,n,r){switch(t.tag){case 26:Ss(t,n,r),t.flags&Ql&&t.memoizedState!==null&&Ox(r,Wn,t.memoizedState,t.memoizedProps);break;case 5:Ss(t,n,r);break;case 3:case 4:var l=Wn;Wn=rc(t.stateNode.containerInfo),Ss(t,n,r),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,Ss(t,n,r),Ql=l):Ss(t,n,r));break;default:Ss(t,n,r)}}function Ry(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ut=l,Iy(l,t)}Ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&Ia(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Qu(t)):Kl(t);break;default:Kl(t)}}function Qu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ut=l,Iy(l,t)}Ry(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ia(8,n,n.return),Qu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Qu(n));break;default:Qu(n)}t=t.sibling}}function Iy(t,n){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Ia(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ut=l;else e:for(r=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(Ey(l),l===r){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var XE={getCacheForType:function(t){var n=Ht(At),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ht(At).controller.signal}},$E=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ie=null,je=0,Ye=0,xn=null,Va=!1,As=!1,qf=!1,Ji=0,dt=0,ja=0,kr=0,Hf=0,wn=0,Ns=0,Yl=null,cn=null,Ff=!1,Ku=0,Vy=0,Yu=1/0,Xu=null,Oa=null,Ot=0,Ma=null,Cs=null,Wi=0,Gf=0,Qf=null,jy=null,Xl=0,Kf=null;function Tn(){return(Ge&2)!==0&&je!==0?je&-je:K.T!==null?Wf():$o()}function Oy(){if(wn===0)if((je&536870912)===0||Ue){var t=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function hn(t,n,r){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Rs(t,0),ka(t,je,wn,!1)),cr(t,r),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(kr|=r),dt===4&&ka(t,je,wn,!1)),Ai(t))}function My(t,n,r){if((Ge&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Fn(t,n),h=l?WE(t,n):Xf(t,n,!0),d=l;do{if(h===0){As&&!l&&ka(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!ZE(r)){h=Xf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var w=t;h=Yl;var j=w.current.memoizedState.isDehydrated;if(j&&(Rs(w,_).flags|=256),_=Xf(w,_,!1),_!==2){if(qf&&!j){w.errorRecoveryDisabledLanes|=d,kr|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Rs(t,0),ka(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ka(l,n,wn,!Va);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Ku+300-en(),10<h)){if(ka(l,n,wn,!Va),oi(l,0,!0)!==0)break e;Wi=n,l.timeoutHandle=fv(ky.bind(null,l,r,cn,Xu,Ff,n,wn,kr,Ns,Va,d,"Throttled",-0,0),h);break e}ky(l,r,cn,Xu,Ff,n,wn,kr,Ns,Va,d,null,-0,0)}}break}while(!0);Ai(t)}function ky(t,n,r,l,h,d,_,w,j,q,X,ee,H,Q){if(t.timeoutHandle=-1,ee=n.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Cy(n,d,ee);var he=(d&62914560)===d?Ku-en():(d&4194048)===d?Vy-en():0;if(he=Mx(ee,he),he!==null){Wi=d,t.cancelPendingCommit=he(Fy.bind(null,t,n,d,r,l,h,_,w,j,X,ee,null,H,Q)),ka(t,d,_,!q);return}}Fy(t,n,d,r,l,h,_,w,j)}function ZE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ka(t,n,r,l){n&=~Hf,n&=~kr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-gt(h),_=1<<d;l[d]=-1,h&=~_}r!==0&&hr(t,r,n)}function $u(){return(Ge&6)===0?($l(0),!1):!0}function Yf(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,qi=Nr=null,cf(t),_s=null,Vl=0,t=Ie;for(;t!==null;)dy(t.alternate,t),t=t.return;Ie=null}}function Rs(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,yx(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Wi=0,Yf(),tt=t,Ie=r=Pi(t.current,null),je=n,Ye=0,xn=null,Va=!1,As=Fn(t,n),qf=!1,Ns=wn=Hf=kr=ja=dt=0,cn=Yl=null,Ff=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-gt(l),d=1<<h;n|=t[h],l&=~d}return Ji=n,yu(),r}function Ly(t,n){Ce=null,K.H=Pl,n===vs||n===Su?(n=Wp(),Ye=3):n===Zh?(n=Wp(),Ye=4):Ye=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ie===null&&(dt=1,zu(t,jn(n,t.current)))}function Uy(){var t=bn.current;return t===null?!0:(je&4194048)===je?Ln===null:(je&62914560)===je||(je&536870912)!==0?t===Ln:!1}function zy(){var t=K.H;return K.H=Pl,t===null?Pl:t}function Py(){var t=K.A;return K.A=XE,t}function Zu(){dt=4,Va||(je&4194048)!==je&&bn.current!==null||(As=!0),(ja&134217727)===0&&(kr&134217727)===0||tt===null||ka(tt,je,wn,!1)}function Xf(t,n,r){var l=Ge;Ge|=2;var h=zy(),d=Py();(tt!==t||je!==n)&&(Xu=null,Rs(t,n)),n=!1;var _=dt;e:do try{if(Ye!==0&&Ie!==null){var w=Ie,j=xn;switch(Ye){case 8:Yf(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var q=Ye;if(Ye=0,xn=null,Ds(t,w,j,q),r&&As){_=0;break e}break;default:q=Ye,Ye=0,xn=null,Ds(t,w,j,q)}}JE(),_=dt;break}catch(X){Ly(t,X)}while(!0);return n&&t.shellSuspendCounter++,qi=Nr=null,Ge=l,K.H=h,K.A=d,Ie===null&&(tt=null,je=0,yu()),_}function JE(){for(;Ie!==null;)By(Ie)}function WE(t,n){var r=Ge;Ge|=2;var l=zy(),h=Py();tt!==t||je!==n?(Xu=null,Yu=en()+500,Rs(t,n)):As=Fn(t,n);e:do try{if(Ye!==0&&Ie!==null){n=Ie;var d=xn;t:switch(Ye){case 1:Ye=0,xn=null,Ds(t,n,d,1);break;case 2:case 9:if(Zp(d)){Ye=0,xn=null,qy(n);break}n=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),Ai(t)},d.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Zp(d)?(Ye=0,xn=null,qy(n)):(Ye=0,xn=null,Ds(t,n,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var w=Ie;if(_?Nv(_):w.stateNode.complete){Ye=0,xn=null;var j=w.sibling;if(j!==null)Ie=j;else{var q=w.return;q!==null?(Ie=q,Ju(q)):Ie=null}break t}}Ye=0,xn=null,Ds(t,n,d,5);break;case 6:Ye=0,xn=null,Ds(t,n,d,6);break;case 8:Yf(),dt=6;break e;default:throw Error(s(462))}}ex();break}catch(X){Ly(t,X)}while(!0);return qi=Nr=null,K.H=l,K.A=h,Ge=r,Ie!==null?0:(tt=null,je=0,yu(),dt)}function ex(){for(;Ie!==null&&!Th();)By(Ie)}function By(t){var n=hy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?Ju(t):Ie=n}function qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ry(r,n,n.pendingProps,n.type,void 0,je);break;case 11:n=ry(r,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:cf(n);default:dy(r,n),n=Ie=Pp(n,Ji),n=hy(r,n,Ji)}t.memoizedProps=t.pendingProps,n===null?Ju(t):Ie=n}function Ds(t,n,r,l){qi=Nr=null,cf(n),_s=null,Vl=0;var h=n.return;try{if(qE(t,h,n,r,je)){dt=1,zu(t,jn(r,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;dt=1,zu(t,jn(r,t.current)),Ie=null;return}n.flags&32768?(Ue||l===1?t=!0:As||(je&536870912)!==0?t=!1:(Va=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hy(n,t)):Ju(n)}function Ju(t){var n=t;do{if((n.flags&32768)!==0){Hy(n,Va);return}t=n.return;var r=GE(n.alternate,n,Ji);if(r!==null){Ie=r;return}if(n=n.sibling,n!==null){Ie=n;return}Ie=n=t}while(n!==null);dt===0&&(dt=5)}function Hy(t,n){do{var r=QE(t.alternate,t);if(r!==null){r.flags&=32767,Ie=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=r}while(t!==null);dt=6,Ie=null}function Fy(t,n,r,l,h,d,_,w,j){t.cancelPendingCommit=null;do Wu();while(Ot!==0);if((Ge&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=kh,Nh(t,r,d,_,w,j),t===tt&&(Ie=tt=null,je=0),Cs=n,Ma=t,Wi=r,Gf=d,Qf=h,jy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ax(fa,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=le.p,le.p=2,_=Ge,Ge|=4;try{KE(t,n,r)}finally{Ge=_,le.p=h,K.T=l}}Ot=1,Gy(),Qy(),Ky()}}function Gy(){if(Ot===1){Ot=0;var t=Ma,n=Cs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{Sy(n,t);var d=ld,_=Ip(t.containerInfo),w=d.focusedElem,j=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Dp(w.ownerDocument.documentElement,w)){if(j!==null&&Ih(w)){var q=j.start,X=j.end;if(X===void 0&&(X=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var Q=H.getSelection(),he=w.textContent.length,be=Math.min(j.start,he),et=j.end===void 0?be:Math.min(j.end,he);!Q.extend&&be>et&&(_=et,et=be,be=_);var U=Rp(w,be),M=Rp(w,et);if(U&&M&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),be>et?(Q.addRange(B),Q.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Q.addRange(B))}}}}for(ee=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var J=ee[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}hc=!!sd,ld=sd=null}finally{Ge=h,le.p=l,K.T=r}}t.current=n,Ot=2}}function Qy(){if(Ot===2){Ot=0;var t=Ma,n=Cs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{by(t,n.alternate,n)}finally{Ge=h,le.p=l,K.T=r}}Ot=3}}function Ky(){if(Ot===4||Ot===3){Ot=0,Ho();var t=Ma,n=Cs,r=Wi,l=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ot=5:(Ot=0,Cs=Ma=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Oa=null),ki(r),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=le.p,le.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{K.T=n,le.p=h}}(Wi&3)!==0&&Wu(),Ai(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Kf?Xl++:(Xl=0,Kf=t):Xl=0,$l(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Dl(n)))}function Wu(){return Gy(),Qy(),Ky(),Xy()}function Xy(){if(Ot!==5)return!1;var t=Ma,n=Gf;Gf=0;var r=ki(Wi),l=K.T,h=le.p;try{le.p=32>r?32:r,K.T=null,r=Qf,Qf=null;var d=Ma,_=Wi;if(Ot=0,Cs=Ma=null,Wi=0,(Ge&6)!==0)throw Error(s(331));var w=Ge;if(Ge|=4,Dy(d.current),Ny(d,d.current,_,r),Ge=w,$l(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{le.p=h,K.T=l,Yy(t,n)}}function $y(t,n,r){n=jn(r,n),n=Sf(t.stateNode,n,2),t=Ca(t,n,2),t!==null&&(cr(t,2),Ai(t))}function Xe(t,n,r){if(t.tag===3)$y(t,t,r);else for(;n!==null;){if(n.tag===3){$y(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oa===null||!Oa.has(l))){t=jn(r,t),r=Zg(2),l=Ca(n,r,2),l!==null&&(Jg(r,l,n,t),cr(l,2),Ai(l));break}}n=n.return}}function $f(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new $E;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(qf=!0,h.add(r),t=tx.bind(null,t,n,r),n.then(t,t))}function tx(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,tt===t&&(je&r)===r&&(dt===4||dt===3&&(je&62914560)===je&&300>en()-Ku?(Ge&2)===0&&Rs(t,0):Hf|=r,Ns===je&&(Ns=0)),Ai(t)}function Zy(t,n){n===0&&(n=Xo()),t=Tr(t,n),t!==null&&(cr(t,n),Ai(t))}function nx(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Zy(t,r)}function ix(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Zy(t,r)}function ax(t,n){return jt(t,n)}var ec=null,Is=null,Zf=!1,tc=!1,Jf=!1,La=0;function Ai(t){t!==Is&&t.next===null&&(Is===null?ec=Is=t:Is=Is.next=t),tc=!0,Zf||(Zf=!0,sx())}function $l(t,n){if(!Jf&&tc){Jf=!0;do for(var r=!1,l=ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,tv(l,d))}else d=je,d=oi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(r=!0,tv(l,d));l=l.next}while(r);Jf=!1}}function rx(){Jy()}function Jy(){tc=Zf=!1;var t=0;La!==0&&gx()&&(t=La);for(var n=en(),r=null,l=ec;l!==null;){var h=l.next,d=Wy(l,n);d===0?(l.next=null,r===null?ec=h:r.next=h,h===null&&(Is=r)):(r=l,(t!==0||(d&3)!==0)&&(tc=!0)),l=h}Ot!==0&&Ot!==5||$l(t),La!==0&&(La=0)}function Wy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),w=1<<_,j=h[_];j===-1?((w&r)===0||(w&l)!==0)&&(h[_]=Ah(w,n)):j<=n&&(t.expiredLanes|=w),d&=~w}if(n=tt,r=je,r=oi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Fn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ha(l),ki(r)){case 2:case 8:r=sl;break;case 32:r=fa;break;case 268435456:r=Fo;break;default:r=fa}return l=ev.bind(null,t),r=jt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ha(l),t.callbackPriority=2,t.callbackNode=null,2}function ev(t,n){if(Ot!==0&&Ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Wu()&&t.callbackNode!==r)return null;var l=je;return l=oi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(My(t,l,n),Wy(t,en()),t.callbackNode!=null&&t.callbackNode===r?ev.bind(null,t):null)}function tv(t,n){if(Wu())return null;My(t,n,!0)}function sx(){vx(function(){(Ge&6)!==0?jt(rl,rx):Jy()})}function Wf(){if(La===0){var t=gs;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),La=t}return La}function nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ts(""+t)}function iv(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function lx(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=nv((h[kt]||null).action),_=l.submitter;_&&(n=(n=_[kt]||null)?nv(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var w=new _i("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(La!==0){var j=_?iv(h,_):new FormData(h);_f(r,{pending:!0,data:j,method:h.method,action:d},null,j)}}else typeof d=="function"&&(w.preventDefault(),j=_?iv(h,_):new FormData(h),_f(r,{pending:!0,data:j,method:h.method,action:d},d,j))},currentTarget:h}]})}}for(var ed=0;ed<Mh.length;ed++){var td=Mh[ed],ox=td.toLowerCase(),ux=td[0].toUpperCase()+td.slice(1);Jn(ox,"on"+ux)}Jn(Op,"onAnimationEnd"),Jn(Mp,"onAnimationIteration"),Jn(kp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(SE,"onTransitionRun"),Jn(AE,"onTransitionStart"),Jn(NE,"onTransitionCancel"),Jn(Lp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function av(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var w=l[_],j=w.instance,q=w.currentTarget;if(w=w.listener,j!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=q;try{d(h)}catch(X){gu(X)}h.currentTarget=null,d=j}else for(_=0;_<l.length;_++){if(w=l[_],j=w.instance,q=w.currentTarget,w=w.listener,j!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=q;try{d(h)}catch(X){gu(X)}h.currentTarget=null,d=j}}}}function Ve(t,n){var r=n[$r];r===void 0&&(r=n[$r]=new Set);var l=t+"__bubble";r.has(l)||(rv(n,t,2,!1),r.add(l))}function nd(t,n,r){var l=0;n&&(l|=4),rv(r,t,l,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function id(t){if(!t[nc]){t[nc]=!0,ul.forEach(function(r){r!=="selectionchange"&&(cx.has(r)||nd(r,!1,t),nd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[nc]||(n[nc]=!0,nd("selectionchange",!1,n))}}function rv(t,n,r,l){switch(Ov(n)){case 2:var h=Ux;break;case 8:h=zx;break;default:h=vd}r=h.bind(null,n,r,t),h=void 0,!gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function ad(t,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===h)break;if(_===4)for(_=l.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;w!==null;){if(_=fi(w),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){l=d=_;continue e}w=w.parentNode}}l=l.return}va(function(){var q=d,X=Rn(r),ee=[];e:{var H=Up.get(t);if(H!==void 0){var Q=_i,he=t;switch(t){case"keypress":if(vr(r)===0)break e;case"keydown":case"keyup":Q=du;break;case"focusin":he="focus",Q=br;break;case"focusout":he="blur",Q=br;break;case"beforeblur":case"afterblur":Q=br;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=p;break;case Op:case Mp:case kp:Q=su;break;case Lp:Q=T;break;case"scroll":case"scrollend":Q=El;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=zi;break;case"toggle":case"beforetoggle":Q=Ne}var be=(n&4)!==0,et=!be&&(t==="scroll"||t==="scrollend"),U=be?H!==null?H+"Capture":null:H;be=[];for(var M=q,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=Yn(M,U),J!=null&&be.push(Jl(M,J,B))),et)break;M=M.return}0<be.length&&(H=new Q(H,he,null,r,X),ee.push({event:H,listeners:be}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&r!==vl&&(he=r.relatedTarget||r.fromElement)&&(fi(he)||he[ci]))break e;if((Q||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(he=r.relatedTarget||r.toElement,Q=q,he=he?fi(he):null,he!==null&&(et=u(he),be=he.tag,he!==et||be!==5&&be!==27&&be!==6)&&(he=null)):(Q=null,he=q),Q!==he)){if(be=xl,J="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(be=zi,J="onPointerLeave",U="onPointerEnter",M="pointer"),et=Q==null?H:gn(Q),B=he==null?H:gn(he),H=new be(J,M+"leave",Q,r,X),H.target=et,H.relatedTarget=B,J=null,fi(X)===q&&(be=new be(U,M+"enter",he,r,X),be.target=B,be.relatedTarget=et,J=be),et=J,Q&&he)t:{for(be=hx,U=Q,M=he,B=0,J=U;J;J=be(J))B++;J=0;for(var me=M;me;me=be(me))J++;for(;0<B-J;)U=be(U),B--;for(;0<J-B;)M=be(M),J--;for(;B--;){if(U===M||M!==null&&U===M.alternate){be=U;break t}U=be(U),M=be(M)}be=null}else be=null;Q!==null&&sv(ee,H,Q,be,!1),he!==null&&et!==null&&sv(ee,et,he,be,!0)}}e:{if(H=q?gn(q):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var qe=wp;else if(Ep(H))if(Tp)qe=xE;else{qe=bE;var fe=_E}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&es(q.elementType)&&(qe=wp):qe=EE;if(qe&&(qe=qe(t,q))){xp(ee,qe,r,X);break e}fe&&fe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&pl(H,"number",H.value)}switch(fe=q?gn(q):window,t){case"focusin":(Ep(fe)||fe.contentEditable==="true")&&(os=fe,Vh=q,Nl=null);break;case"focusout":Nl=Vh=os=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Vp(ee,r,X);break;case"selectionchange":if(TE)break;case"keydown":case"keyup":Vp(ee,r,X)}var Re;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ls?Er(t,r)&&(Oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(xi&&r.locale!=="ko"&&(ls||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ls&&(Re=bl()):(vi=X,_l="value"in vi?vi.value:vi.textContent,ls=!0)),fe=ic(q,Oe),0<fe.length&&(Oe=new Ei(Oe,t,null,r,X),ee.push({event:Oe,listeners:fe}),Re?Oe.data=Re:(Re=ss(r),Re!==null&&(Oe.data=Re)))),(Re=In?pE(t,r):gE(t,r))&&(Oe=ic(q,"onBeforeInput"),0<Oe.length&&(fe=new Ei("onBeforeInput","beforeinput",null,r,X),ee.push({event:fe,listeners:Oe}),fe.data=Re)),lx(ee,t,q,r,X)}av(ee,n)})}function Jl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ic(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,r),h!=null&&l.unshift(Jl(t,h,d)),h=Yn(t,n),h!=null&&l.push(Jl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function hx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sv(t,n,r,l,h){for(var d=n._reactName,_=[];r!==null&&r!==l;){var w=r,j=w.alternate,q=w.stateNode;if(w=w.tag,j!==null&&j===l)break;w!==5&&w!==26&&w!==27||q===null||(j=q,h?(q=Yn(r,d),q!=null&&_.unshift(Jl(r,q,j))):h||(q=Yn(r,d),q!=null&&_.push(Jl(r,q,j)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var fx=/\r\n?/g,dx=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(fx,`
`).replace(dx,"")}function ov(t,n){return n=lv(n),lv(t)===n}function We(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,r,l);break;case"style":yl(t,l,d);break;case"data":if(n!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ts(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ts(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ts(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Jr(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Jr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=iu.get(r)||r,Jr(t,r,l))}}function rd(t,n,r,l,h,d){switch(r){case"style":yl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[kt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Jr(t,r,l)}}}function Gt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var _=r[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:We(t,n,d,_,r,null)}}h&&We(t,n,"srcSet",r.srcSet,r,null),l&&We(t,n,"src",r.src,r,null);return;case"input":Ve("invalid",t);var w=d=_=h=null,j=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":j=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:We(t,n,l,X,r,null)}}eu(t,d,w,j,q,_,h,!1);return;case"select":Ve("invalid",t),l=_=d=null;for(h in r)if(r.hasOwnProperty(h)&&(w=r[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:We(t,n,h,w,r,null)}n=d,r=_,t.multiple=!!l,n!=null?ma(t,!!l,n,!1):r!=null&&ma(t,!!l,r,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(w=r[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(t,n,_,w,r,null)}pa(t,l,h,d);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,n,j,l,r,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Ve(Zl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:We(t,n,q,l,r,null)}return;default:if(es(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&rd(t,n,X,l,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(l=r[w],l!=null&&We(t,n,w,l,r,null))}function mx(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,w=null,j=null,q=null,X=null;for(Q in r){var ee=r[Q];if(r.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":j=ee;default:l.hasOwnProperty(Q)||We(t,n,Q,null,l,ee)}}for(var H in l){var Q=l[H];if(ee=r[H],l.hasOwnProperty(H)&&(Q!=null||ee!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==ee&&We(t,n,H,Q,l,ee)}}Wr(t,_,w,j,q,X,d,h);return;case"select":Q=_=w=H=null;for(d in r)if(j=r[d],r.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":Q=j;default:l.hasOwnProperty(d)||We(t,n,d,null,l,j)}for(h in l)if(d=l[h],j=r[h],l.hasOwnProperty(h)&&(d!=null||j!=null))switch(h){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==j&&We(t,n,h,d,l,j)}n=w,r=_,l=Q,H!=null?ma(t,!!r,H,!1):!!l!=!!r&&(n!=null?ma(t,!!r,n,!0):ma(t,!!r,r?[]:"",!1));return;case"textarea":Q=H=null;for(w in r)if(h=r[w],r.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(t,n,w,null,l,h)}for(_ in l)if(h=l[_],d=r[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,n,_,h,l,d)}tu(t,H,Q);return;case"option":for(var he in r)if(H=r[he],r.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,n,he,null,l,H)}for(j in l)if(H=l[j],Q=r[j],l.hasOwnProperty(j)&&H!==Q&&(H!=null||Q!=null))switch(j){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(t,n,j,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)H=r[be],r.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be)&&We(t,n,be,null,l,H);for(q in l)if(H=l[q],Q=r[q],l.hasOwnProperty(q)&&H!==Q&&(H!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:We(t,n,q,H,l,Q)}return;default:if(es(n)){for(var et in r)H=r[et],r.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&rd(t,n,et,void 0,l,H);for(X in l)H=l[X],Q=r[X],!l.hasOwnProperty(X)||H===Q||H===void 0&&Q===void 0||rd(t,n,X,H,l,Q);return}}for(var U in r)H=r[U],r.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&We(t,n,U,null,l,H);for(ee in l)H=l[ee],Q=r[ee],!l.hasOwnProperty(ee)||H===Q||H==null&&Q==null||We(t,n,ee,H,l,Q)}function uv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function px(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,_=h.initiatorType,w=h.duration;if(d&&w&&uv(_)){for(_=0,w=h.responseEnd,l+=1;l<r.length;l++){var j=r[l],q=j.startTime;if(q>w)break;var X=j.transferSize,ee=j.initiatorType;X&&uv(ee)&&(j=j.responseEnd,_+=X*(j<w?1:(w-q)/(j-q)))}if(--l,n+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sd=null,ld=null;function ac(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function gx(){var t=window.event;return t&&t.type==="popstate"?t===ud?!1:(ud=t,!0):(ud=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(_x)}:fv;function _x(t){setTimeout(function(){throw t})}function Ua(t){return t==="head"}function mv(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ms(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Wl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Wl(r);for(var d=r.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[hi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=_}}else r==="body"&&Wl(t.ownerDocument.body);r=h}while(r);Ms(n)}function pv(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function cd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":cd(r),Zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function bx(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function Ex(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function gv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Un(t.nextSibling),t===null))return null;return t}function hd(t){return t.data==="$?"||t.data==="$~"}function fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xx(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var dd=null;function yv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Un(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function vv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function _v(t,n,r){switch(n=ac(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Zr(t)}var zn=new Map,bv=new Set;function rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ea=le.d;le.d={f:wx,r:Tx,D:Sx,C:Ax,L:Nx,m:Cx,X:Dx,S:Rx,M:Ix};function wx(){var t=ea.f(),n=$u();return t||n}function Tx(t){var n=Cn(t);n!==null&&n.tag===5&&n.type==="form"?Lg(n):ea.r(t)}var Vs=typeof document>"u"?null:document;function Ev(t,n,r){var l=Vs;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),bv.has(h)||(bv.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Gt(n,"link",t),Tt(n),l.head.appendChild(n)))}}function Sx(t){ea.D(t),Ev("dns-prefetch",t,null)}function Ax(t,n){ea.C(t,n),Ev("preconnect",t,n)}function Nx(t,n,r){ea.L(t,n,r);var l=Vs;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+rn(r.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(n){case"style":d=js(t);break;case"script":d=Os(t)}zn.has(d)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),zn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(eo(d))||n==="script"&&l.querySelector(to(d))||(n=l.createElement("link"),Gt(n,"link",t),Tt(n),l.head.appendChild(n)))}}function Cx(t,n){ea.m(t,n);var r=Vs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Os(t)}if(!zn.has(d)&&(t=x({rel:"modulepreload",href:t},n),zn.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(to(d)))return}l=r.createElement("link"),Gt(l,"link",t),Tt(l),r.head.appendChild(l)}}}function Rx(t,n,r){ea.S(t,n,r);var l=Vs;if(l&&t){var h=di(l).hoistableStyles,d=js(t);n=n||"default";var _=h.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(eo(d)))w.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=zn.get(d))&&md(t,r);var j=_=l.createElement("link");Tt(j),Gt(j,"link",t),j._p=new Promise(function(q,X){j.onload=q,j.onerror=X}),j.addEventListener("load",function(){w.loading|=1}),j.addEventListener("error",function(){w.loading|=2}),w.loading|=4,sc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:w},h.set(d,_)}}}function Dx(t,n){ea.X(t,n);var r=Vs;if(r&&t){var l=di(r).hoistableScripts,h=Os(t),d=l.get(h);d||(d=r.querySelector(to(h)),d||(t=x({src:t,async:!0},n),(n=zn.get(h))&&pd(t,n),d=r.createElement("script"),Tt(d),Gt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ix(t,n){ea.M(t,n);var r=Vs;if(r&&t){var l=di(r).hoistableScripts,h=Os(t),d=l.get(h);d||(d=r.querySelector(to(h)),d||(t=x({src:t,async:!0,type:"module"},n),(n=zn.get(h))&&pd(t,n),d=r.createElement("script"),Tt(d),Gt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xv(t,n,r,l){var h=(h=ge.current)?rc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=js(r.href),r=di(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=js(r.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(eo(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(t,r),d||Vx(h,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Os(r),r=di(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function js(t){return'href="'+rn(t)+'"'}function eo(t){return'link[rel="stylesheet"]['+t+"]"}function wv(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Vx(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Gt(n,"link",r),Tt(n),t.head.appendChild(n))}function Os(t){return'[src="'+rn(t)+'"]'}function to(t){return"script[async]"+t}function Tv(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(r.href)+'"]');if(l)return n.instance=l,Tt(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",h),sc(l,r.precedence,t),n.instance=l;case"stylesheet":h=js(r.href);var d=t.querySelector(eo(h));if(d)return n.state.loading|=4,n.instance=d,Tt(d),d;l=wv(r),(h=zn.get(h))&&md(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(w,j){_.onload=w,_.onerror=j}),Gt(d,"link",l),n.state.loading|=4,sc(d,r.precedence,t),n.instance=d;case"script":return d=Os(r.src),(h=t.querySelector(to(d)))?(n.instance=h,Tt(h),h):(l=r,(h=zn.get(d))&&(l=x({},r),pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,sc(l,r.precedence,t));return n.instance}function sc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===n)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var lc=null;function Sv(t,n,r){if(lc===null){var l=new Map,h=lc=new Map;h.set(r,l)}else h=lc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[hi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function Av(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function jx(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Nv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ox(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=js(l.href),d=n.querySelector(eo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=oc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,Tt(d);return}d=n.ownerDocument||n,l=wv(l),(h=zn.get(h))&&md(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(w,j){_.onload=w,_.onerror=j}),Gt(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=oc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var gd=0;function Mx(t,n){return t.stylesheets&&t.count===0&&cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&cc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&gd===0&&(gd=62500*px());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&cc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>gd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uc=null;function cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uc=new Map,n.forEach(kx,t),uc=null,oc.call(t))}function kx(t,n){if(!(n.state.loading&4)){var r=uc.get(t);if(r)var l=r.get(null);else{r=new Map,uc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=r.get(_)||l,d===l&&r.set(null,h),r.set(_,h),this.count++,l=oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var no={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Lx(t,n,r,l,h,d,_,w,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Cv(t,n,r,l,h,d,_,w,j,q,X,ee){return t=new Lx(t,n,r,_,j,q,X,ee,w),n=1,d===!0&&(n|=24),d=_n(3,null,null,n),t.current=d,d.stateNode=t,n=Yh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},Jh(d),t}function Rv(t){return t?(t=hs,t):hs}function Dv(t,n,r,l,h,d){h=Rv(h),l.context===null?l.context=h:l.pendingContext=h,l=Na(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Ca(t,l,n),r!==null&&(hn(r,t,n),Ol(r,t,n))}function Iv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function yd(t,n){Iv(t,n),(t=t.alternate)&&Iv(t,n)}function Vv(t){if(t.tag===13||t.tag===31){var n=Tr(t,67108864);n!==null&&hn(n,t,67108864),yd(t,67108864)}}function jv(t){if(t.tag===13||t.tag===31){var n=Tn();n=fr(n);var r=Tr(t,n);r!==null&&hn(r,t,n),yd(t,n)}}var hc=!0;function Ux(t,n,r,l){var h=K.T;K.T=null;var d=le.p;try{le.p=2,vd(t,n,r,l)}finally{le.p=d,K.T=h}}function zx(t,n,r,l){var h=K.T;K.T=null;var d=le.p;try{le.p=8,vd(t,n,r,l)}finally{le.p=d,K.T=h}}function vd(t,n,r,l){if(hc){var h=_d(l);if(h===null)ad(t,n,l,fc,r),Mv(t,l);else if(Bx(h,t,n,r,l))l.stopPropagation();else if(Mv(t,l),n&4&&-1<Px.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var j=1<<31-gt(_);w.entanglements[1]|=j,_&=~j}Ai(d),(Ge&6)===0&&(Yu=en()+500,$l(0))}}break;case 31:case 13:w=Tr(d,2),w!==null&&hn(w,d,2),$u(),yd(d,2)}if(d=_d(l),d===null&&ad(t,n,l,fc,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else ad(t,n,l,null,r)}}function _d(t){return t=Rn(t),bd(t)}var fc=null;function bd(t){if(fc=null,t=fi(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=m(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return fc=t,null}function Ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case rl:return 2;case sl:return 8;case fa:case Sh:return 32;case Fo:return 268435456;default:return 32}default:return 32}}var Ed=!1,za=null,Pa=null,Ba=null,io=new Map,ao=new Map,qa=[],Px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,n){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function ro(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&Vv(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Bx(t,n,r,l,h){switch(n){case"focusin":return za=ro(za,t,n,r,l,h),!0;case"dragenter":return Pa=ro(Pa,t,n,r,l,h),!0;case"mouseover":return Ba=ro(Ba,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return io.set(d,ro(io.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ao.set(d,ro(ao.get(d)||null,t,n,r,l,h)),!0}return!1}function kv(t){var n=fi(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,Gn(t.priority,function(){jv(r)});return}}else if(n===31){if(n=m(r),n!==null){t.blockedOn=n,Gn(t.priority,function(){jv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=_d(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);vl=l,r.target.dispatchEvent(l),vl=null}else return n=Cn(r),n!==null&&Vv(n),t.blockedOn=r,!1;n.shift()}return!0}function Lv(t,n,r){dc(t)&&r.delete(n)}function qx(){Ed=!1,za!==null&&dc(za)&&(za=null),Pa!==null&&dc(Pa)&&(Pa=null),Ba!==null&&dc(Ba)&&(Ba=null),io.forEach(Lv),ao.forEach(Lv)}function mc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ed||(Ed=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qx)))}var pc=null;function Uv(t){pc!==t&&(pc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){pc===t&&(pc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(bd(l||r)===null)continue;break}var d=Cn(r);d!==null&&(t.splice(n,3),n-=3,_f(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ms(t){function n(j){return mc(j,t)}za!==null&&mc(za,t),Pa!==null&&mc(Pa,t),Ba!==null&&mc(Ba,t),io.forEach(n),ao.forEach(n);for(var r=0;r<qa.length;r++){var l=qa[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qa.length&&(r=qa[0],r.blockedOn===null);)kv(r),r.blockedOn===null&&qa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],_=h[kt]||null;if(typeof d=="function")_||Uv(r);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)w=_.formAction;else if(bd(h)!==null)continue}else w=_.action;typeof w=="function"?r[l+1]=w:(r.splice(l,3),l-=3),Uv(r)}}}function zv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}gc.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=Tn();Dv(r,l,t,n,null,null)},gc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Dv(t.current,2,null,t,null,null),$u(),n[ci]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var n=$o();t={blockedOn:null,target:t,priority:n};for(var r=0;r<qa.length&&n!==0&&n<qa[r].priority;r++);qa.splice(r,0,t),r===0&&kv(t)}};var Pv=e.version;if(Pv!=="19.2.1")throw Error(s(527,Pv,"19.2.1"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Hx={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Hn=yc.inject(Hx),Pt=yc}catch{}}return lo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=Kg,d=Yg,_=Xg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Cv(t,1,!1,null,null,r,l,null,h,d,_,zv),t[ci]=n.current,id(t),new xd(n)},lo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",d=Kg,_=Yg,w=Xg,j=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(j=r.formState)),n=Cv(t,1,!0,n,r??null,l,h,j,d,_,w,zv),n.context=Rv(null),r=n.current,l=Tn(),l=fr(l),h=Na(l),h.callback=null,Ca(r,h,l),r=l,n.current.lanes=r,cr(n,r),Ai(n),t[ci]=n.current,id(t),new gc(n)},lo.version="19.2.1",lo}var $v;function tw(){if($v)return Sd.exports;$v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sd.exports=ew(),Sd.exports}var nw=tw();var Zv="popstate";function iw(a={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Kd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:bo(o)}return rw(e,i,null,a)}function ct(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ni(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aw(){return Math.random().toString(36).substring(2,10)}function Jv(a,e){return{usr:a.state,key:a.key,idx:e}}function Kd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:i,key:e&&e.key||s||aw()}}function bo({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Xs(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function rw(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",v=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function x(){m="POP";let z=E(),$=z==null?null:z-g;g=z,v&&v({action:m,location:Y.location,delta:$})}function N(z,$){m="PUSH";let ie=Kd(Y.location,z,$);g=E()+1;let re=Jv(ie,g),ye=Y.createHref(ie);try{f.pushState(re,"",ye)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(ye)}u&&v&&v({action:m,location:Y.location,delta:1})}function k(z,$){m="REPLACE";let ie=Kd(Y.location,z,$);g=E();let re=Jv(ie,g),ye=Y.createHref(ie);f.replaceState(re,"",ye),u&&v&&v({action:m,location:Y.location,delta:0})}function F(z){return sw(z)}let Y={get action(){return m},get location(){return a(o,f)},listen(z){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(Zv,x),v=z,()=>{o.removeEventListener(Zv,x),v=null}},createHref(z){return e(o,z)},createURL:F,encodeLocation(z){let $=F(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:N,replace:k,go(z){return f.go(z)}};return Y}function sw(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ct(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:bo(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function I_(a,e,i="/"){return lw(a,e,i,!1)}function lw(a,e,i,s){let o=typeof e=="string"?Xs(e):e,u=aa(o.pathname||"/",i);if(u==null)return null;let f=V_(a);ow(f);let m=null;for(let v=0;m==null&&v<f.length;++v){let g=_w(u);m=yw(f[v],g,s)}return m}function V_(a,e=[],i=[],s="",o=!1){let u=(f,m,v=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&v)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let x=na([s,E.relativePath]),N=i.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),V_(f.children,e,N,x,v)),!(f.path==null&&!f.index)&&e.push({path:x,score:pw(x,f.index),routesMeta:N})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let v of j_(f.path))u(f,m,!0,v)}),e}function j_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=j_(s.join("/")),m=[];return m.push(...f.map(v=>v===""?u:[u,v].join("/"))),o&&m.push(...f),m.map(v=>a.startsWith("/")&&v===""?"/":v)}function ow(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:gw(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var uw=/^:[\w-]+$/,cw=3,hw=2,fw=1,dw=10,mw=-2,Wv=a=>a==="*";function pw(a,e){let i=a.split("/"),s=i.length;return i.some(Wv)&&(s+=mw),e&&(s+=hw),i.filter(o=>!Wv(o)).reduce((o,u)=>o+(uw.test(u)?cw:u===""?fw:dw),s)}function gw(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function yw(a,e,i=!1){let{routesMeta:s}=a,o={},u="/",f=[];for(let m=0;m<s.length;++m){let v=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",x=Oc({path:v.relativePath,caseSensitive:v.caseSensitive,end:g},E),N=v.route;if(!x&&g&&i&&!s[s.length-1].route.index&&(x=Oc({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},E)),!x)return null;Object.assign(o,x.params),f.push({params:o,pathname:na([u,x.pathname]),pathnameBase:Tw(na([u,x.pathnameBase])),route:N}),x.pathnameBase!=="/"&&(u=na([u,x.pathnameBase]))}return f}function Oc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=vw(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:x},N)=>{if(E==="*"){let F=m[N]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const k=m[N];return x&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:a}}function vw(a,e=!1,i=!0){ni(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,v)=>(s.push({paramName:m,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function _w(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function aa(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ew=a=>bw.test(a);function xw(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Xs(a):a,u;if(i)if(Ew(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),ni(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=e0(i.substring(1),"/"):u=e0(i,e)}else u=e;return{pathname:u,search:Sw(s),hash:Aw(o)}}function e0(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Rd(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ww(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function O_(a){let e=ww(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function M_(a,e,i,s=!1){let o;typeof a=="string"?o=Xs(a):(o={...a},ct(!o.pathname||!o.pathname.includes("?"),Rd("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Rd("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Rd("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=i;else{let x=e.length-1;if(!s&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),x-=1;o.pathname=N.join("/")}m=x>=0?e[x]:"/"}let v=xw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(g||E)&&(v.pathname+="/"),v}var na=a=>a.join("/").replace(/\/\/+/g,"/"),Tw=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Sw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Aw=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Nw(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Cw(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k_=["POST","PUT","PATCH","DELETE"];new Set(k_);var Rw=["GET",...k_];new Set(Rw);var $s=L.createContext(null);$s.displayName="DataRouter";var Zc=L.createContext(null);Zc.displayName="DataRouterState";L.createContext(!1);var L_=L.createContext({isTransitioning:!1});L_.displayName="ViewTransition";var Dw=L.createContext(new Map);Dw.displayName="Fetchers";var Iw=L.createContext(null);Iw.displayName="Await";var ri=L.createContext(null);ri.displayName="Navigation";var jo=L.createContext(null);jo.displayName="Location";var ua=L.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var Tm=L.createContext(null);Tm.displayName="RouteError";function Vw(a,{relative:e}={}){ct(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=L.useContext(ri),{hash:o,pathname:u,search:f}=Mo(a,{relative:e}),m=u;return i!=="/"&&(m=u==="/"?i:na([i,u])),s.createHref({pathname:m,search:f,hash:o})}function Oo(){return L.useContext(jo)!=null}function ca(){return ct(Oo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(jo).location}var U_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z_(a){L.useContext(ri).static||L.useLayoutEffect(a)}function jw(){let{isDataRoute:a}=L.useContext(ua);return a?Qw():Ow()}function Ow(){ct(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let a=L.useContext($s),{basename:e,navigator:i}=L.useContext(ri),{matches:s}=L.useContext(ua),{pathname:o}=ca(),u=JSON.stringify(O_(s)),f=L.useRef(!1);return z_(()=>{f.current=!0}),L.useCallback((v,g={})=>{if(ni(f.current,U_),!f.current)return;if(typeof v=="number"){i.go(v);return}let E=M_(v,JSON.parse(u),o,g.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:na([e,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[e,i,u,o,a])}L.createContext(null);function Mo(a,{relative:e}={}){let{matches:i}=L.useContext(ua),{pathname:s}=ca(),o=JSON.stringify(O_(i));return L.useMemo(()=>M_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function Mw(a,e){return P_(a,e)}function P_(a,e,i,s,o){ct(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(ri),{matches:f}=L.useContext(ua),m=f[f.length-1],v=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",x=m&&m.route;{let ie=x&&x.path||"";B_(g,!x||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let N=ca(),k;if(e){let ie=typeof e=="string"?Xs(e):e;ct(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),k=ie}else k=N;let F=k.pathname||"/",Y=F;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");Y="/"+F.replace(/^\//,"").split("/").slice(ie.length).join("/")}let z=I_(a,{pathname:Y});ni(x||z!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ni(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Pw(z&&z.map(ie=>Object.assign({},ie,{params:Object.assign({},v,ie.params),pathname:na([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:na([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,i,s,o);return e&&$?L.createElement(jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function kw(){let a=Gw(),e=Nw(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),i?L.createElement("pre",{style:o},i):null,f)}var Lw=L.createElement(kw,null),Uw=class extends L.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?L.createElement(ua.Provider,{value:this.props.routeContext},L.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zw({routeContext:a,match:e,children:i}){let s=L.useContext($s);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ua.Provider,{value:a},i)}function Pw(a,e=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i?.errors;if(f!=null){let E=u.findIndex(x=>x.route.id&&f?.[x.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,v=-1;if(i)for(let E=0;E<u.length;E++){let x=u[E];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=E),x.route.id){let{loaderData:N,errors:k}=i,F=x.route.loader&&!N.hasOwnProperty(x.route.id)&&(!k||k[x.route.id]===void 0);if(x.route.lazy||F){m=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let g=i&&s?(E,x)=>{s(E,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Cw(i.matches),errorInfo:x})}:void 0;return u.reduceRight((E,x,N)=>{let k,F=!1,Y=null,z=null;i&&(k=f&&x.route.id?f[x.route.id]:void 0,Y=x.route.errorElement||Lw,m&&(v<0&&N===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,z=null):v===N&&(F=!0,z=x.route.hydrateFallbackElement||null)));let $=e.concat(u.slice(0,N+1)),ie=()=>{let re;return k?re=Y:F?re=z:x.route.Component?re=L.createElement(x.route.Component,null):x.route.element?re=x.route.element:re=E,L.createElement(zw,{match:x,routeContext:{outlet:E,matches:$,isDataRoute:i!=null},children:re})};return i&&(x.route.ErrorBoundary||x.route.errorElement||N===0)?L.createElement(Uw,{location:i.location,revalidation:i.revalidation,component:Y,error:k,children:ie(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):ie()},null)}function Sm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bw(a){let e=L.useContext($s);return ct(e,Sm(a)),e}function qw(a){let e=L.useContext(Zc);return ct(e,Sm(a)),e}function Hw(a){let e=L.useContext(ua);return ct(e,Sm(a)),e}function Am(a){let e=Hw(a),i=e.matches[e.matches.length-1];return ct(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function Fw(){return Am("useRouteId")}function Gw(){let a=L.useContext(Tm),e=qw("useRouteError"),i=Am("useRouteError");return a!==void 0?a:e.errors?.[i]}function Qw(){let{router:a}=Bw("useNavigate"),e=Am("useNavigate"),i=L.useRef(!1);return z_(()=>{i.current=!0}),L.useCallback(async(o,u={})=>{ni(i.current,U_),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var t0={};function B_(a,e,i){!e&&!t0[a]&&(t0[a]=!0,ni(!1,i))}L.memo(Kw);function Kw({routes:a,future:e,state:i,unstable_onError:s}){return P_(a,void 0,i,s,e)}function Yd(a){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yw({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ct(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),v=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof i=="string"&&(i=Xs(i));let{pathname:g="/",search:E="",hash:x="",state:N=null,key:k="default"}=i,F=L.useMemo(()=>{let Y=aa(g,m);return Y==null?null:{location:{pathname:Y,search:E,hash:x,state:N,key:k},navigationType:s}},[m,g,E,x,N,k,s]);return ni(F!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${x}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:L.createElement(ri.Provider,{value:v},L.createElement(jo.Provider,{children:e,value:F}))}function Xw({children:a,location:e}){return Mw(Xd(a),e)}function Xd(a,e=[]){let i=[];return L.Children.forEach(a,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){i.push.apply(i,Xd(s.props.children,u));return}ct(s.type===Yd,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Xd(s.props.children,u)),i.push(f)}),i}var Tc="get",Sc="application/x-www-form-urlencoded";function Jc(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function $w(a){return Jc(a)&&a.tagName.toLowerCase()==="button"}function Zw(a){return Jc(a)&&a.tagName.toLowerCase()==="form"}function Jw(a){return Jc(a)&&a.tagName.toLowerCase()==="input"}function Ww(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function eT(a,e){return a.button===0&&(!e||e==="_self")&&!Ww(a)}var vc=null;function tT(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var nT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dd(a){return a!=null&&!nT.has(a)?(ni(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):a}function iT(a,e){let i,s,o,u,f;if(Zw(a)){let m=a.getAttribute("action");s=m?aa(m,e):null,i=a.getAttribute("method")||Tc,o=Dd(a.getAttribute("enctype"))||Sc,u=new FormData(a)}else if($w(a)||Jw(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=a.getAttribute("formaction")||m.getAttribute("action");if(s=v?aa(v,e):null,i=a.getAttribute("formmethod")||m.getAttribute("method")||Tc,o=Dd(a.getAttribute("formenctype"))||Dd(m.getAttribute("enctype"))||Sc,u=new FormData(m,a),!tT()){let{name:g,type:E,value:x}=a;if(E==="image"){let N=g?`${g}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else g&&u.append(g,x)}}else{if(Jc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Tc,s=null,o=Sc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function aT(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&aa(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function rT(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function lT(a,e,i){let s=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await rT(u,i);return f.links?f.links():[]}return[]}));return hT(s.flat(1).filter(sT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n0(a,e,i,s,o,u){let f=(v,g)=>i[g]?v.route.id!==i[g].route.id:!0,m=(v,g)=>i[g].pathname!==v.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==v.params["*"];return u==="assets"?e.filter((v,g)=>f(v,g)||m(v,g)):u==="data"?e.filter((v,g)=>{let E=s.routes[v.route.id];if(!E||!E.hasLoader)return!1;if(f(v,g)||m(v,g))return!0;if(v.route.shouldRevalidate){let x=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function oT(a,e,{includeHydrateFallback:i}={}){return uT(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function uT(a){return[...new Set(a)]}function cT(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function hT(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let u=JSON.stringify(cT(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function q_(){let a=L.useContext($s);return Nm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function fT(){let a=L.useContext(Zc);return Nm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Cm=L.createContext(void 0);Cm.displayName="FrameworkContext";function H_(){let a=L.useContext(Cm);return Nm(a,"You must render this element inside a <HydratedRouter> element"),a}function dT(a,e){let i=L.useContext(Cm),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:v,onMouseEnter:g,onMouseLeave:E,onTouchStart:x}=e,N=L.useRef(null);L.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let Y=$=>{$.forEach(ie=>{f(ie.isIntersecting)})},z=new IntersectionObserver(Y,{threshold:.5});return N.current&&z.observe(N.current),()=>{z.disconnect()}}},[a]),L.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,N,{}]:[u,N,{onFocus:oo(m,k),onBlur:oo(v,F),onMouseEnter:oo(g,k),onMouseLeave:oo(E,F),onTouchStart:oo(x,k)}]:[!1,N,{}]}function oo(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function mT({page:a,...e}){let{router:i}=q_(),s=L.useMemo(()=>I_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?L.createElement(gT,{page:a,matches:s,...e}):null}function pT(a){let{manifest:e,routeModules:i}=H_(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return lT(a,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,e,i]),s}function gT({page:a,matches:e,...i}){let s=ca(),{manifest:o,routeModules:u}=H_(),{basename:f}=q_(),{loaderData:m,matches:v}=fT(),g=L.useMemo(()=>n0(a,e,v,o,s,"data"),[a,e,v,o,s]),E=L.useMemo(()=>n0(a,e,v,o,s,"assets"),[a,e,v,o,s]),x=L.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let F=new Set,Y=!1;if(e.forEach($=>{let ie=o.routes[$.route.id];!ie||!ie.hasLoader||(!g.some(re=>re.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||ie.hasClientLoader?Y=!0:F.add($.route.id))}),F.size===0)return[];let z=aT(a,f,"data");return Y&&F.size>0&&z.searchParams.set("_routes",e.filter($=>F.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,g,e,a,u]),N=L.useMemo(()=>oT(E,o),[E,o]),k=pT(E);return L.createElement(L.Fragment,null,x.map(F=>L.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...i})),N.map(F=>L.createElement("link",{key:F,rel:"modulepreload",href:F,...i})),k.map(({key:F,link:Y})=>L.createElement("link",{key:F,nonce:i.nonce,...Y})))}function yT(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var F_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F_&&(window.__reactRouterVersion="7.10.1")}catch{}function vT({basename:a,children:e,unstable_useTransitions:i,window:s}){let o=L.useRef();o.current==null&&(o.current=iw({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),v=L.useCallback(g=>{i===!1?m(g):L.startTransition(()=>m(g))},[i]);return L.useLayoutEffect(()=>u.listen(v),[u,v]),L.createElement(Yw,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i===!0})}var G_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=L.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:v,to:g,preventScrollReset:E,viewTransition:x,...N},k){let{basename:F,unstable_useTransitions:Y}=L.useContext(ri),z=typeof g=="string"&&G_.test(g),$,ie=!1;if(typeof g=="string"&&z&&($=g,F_))try{let S=new URL(window.location.href),A=g.startsWith("//")?new URL(S.protocol+g):new URL(g),R=aa(A.pathname,F);A.origin===S.origin&&R!=null?g=R+A.search+A.hash:ie=!0}catch{ni(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Vw(g,{relative:o}),[ye,ve,_e]=dT(s,N),I=xT(g,{replace:f,state:m,target:v,preventScrollReset:E,relative:o,viewTransition:x,unstable_useTransitions:Y});function D(S){e&&e(S),S.defaultPrevented||I(S)}let V=L.createElement("a",{...N,..._e,href:$||re,onClick:ie||u?e:D,ref:yT(k,ve),target:v,"data-discover":!z&&i==="render"?"true":void 0});return ye&&!z?L.createElement(L.Fragment,null,V,L.createElement(mT,{page:re})):V});Eo.displayName="Link";var _T=L.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:v,...g},E){let x=Mo(f,{relative:g.relative}),N=ca(),k=L.useContext(Zc),{navigator:F,basename:Y}=L.useContext(ri),z=k!=null&&NT(x)&&m===!0,$=F.encodeLocation?F.encodeLocation(x).pathname:x.pathname,ie=N.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&Y&&(re=aa(re,Y)||re);const ye=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ve=ie===$||!o&&ie.startsWith($)&&ie.charAt(ye)==="/",_e=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),I={isActive:ve,isPending:_e,isTransitioning:z},D=ve?e:void 0,V;typeof s=="function"?V=s(I):V=[s,ve?"active":null,_e?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let S=typeof u=="function"?u(I):u;return L.createElement(Eo,{...g,"aria-current":D,className:V,ref:E,style:S,to:f,viewTransition:m},typeof v=="function"?v(I):v)});_T.displayName="NavLink";var bT=L.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:u,method:f=Tc,action:m,onSubmit:v,relative:g,preventScrollReset:E,viewTransition:x,...N},k)=>{let{unstable_useTransitions:F}=L.useContext(ri),Y=ST(),z=AT(m,{relative:g}),$=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&G_.test(m),re=ye=>{if(v&&v(ye),ye.defaultPrevented)return;ye.preventDefault();let ve=ye.nativeEvent.submitter,_e=ve?.getAttribute("formmethod")||f,I=()=>Y(ve||ye.currentTarget,{fetcherKey:e,method:_e,navigate:i,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:x});F&&i!==!1?L.startTransition(()=>I()):I()};return L.createElement("form",{ref:k,method:$,action:z,onSubmit:s?v:re,...N,"data-discover":!ie&&a==="render"?"true":void 0})});bT.displayName="Form";function ET(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q_(a){let e=L.useContext($s);return ct(e,ET(a)),e}function xT(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let v=jw(),g=ca(),E=Mo(a,{relative:u});return L.useCallback(x=>{if(eT(x,e)){x.preventDefault();let N=i!==void 0?i:bo(g)===bo(E),k=()=>v(a,{replace:N,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?L.startTransition(()=>k()):k()}},[g,v,E,i,s,e,a,o,u,f,m])}var wT=0,TT=()=>`__${String(++wT)}__`;function ST(){let{router:a}=Q_("useSubmit"),{basename:e}=L.useContext(ri),i=Fw(),s=a.fetch,o=a.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:v,encType:g,formData:E,body:x}=iT(u,e);if(f.navigate===!1){let N=f.fetcherKey||TT();await s(N,i,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:x,formMethod:f.method||v,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:x,formMethod:f.method||v,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,i])}function AT(a,{relative:e}={}){let{basename:i}=L.useContext(ri),s=L.useContext(ua);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Mo(a||".",{relative:e})},f=ca();if(a==null){u.search=f.search;let m=new URLSearchParams(u.search),v=m.getAll("index");if(v.some(E=>E==="")){m.delete("index"),v.filter(x=>x).forEach(x=>m.append("index",x));let E=m.toString();u.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:na([i,u.pathname])),bo(u)}function NT(a,{relative:e}={}){let i=L.useContext(L_);ct(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Q_("useViewTransitionState"),o=Mo(a,{relative:e});if(!i.isTransitioning)return!1;let u=aa(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=aa(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Oc(o.pathname,f)!=null||Oc(o.pathname,u)!=null}const CT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),i0=a=>{const e=RT(a);return e.charAt(0).toUpperCase()+e.slice(1)},K_=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),DT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var IT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VT=L.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},v)=>L.createElement("svg",{ref:v,...IT,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:K_("lucide",o),...!u&&!DT(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>L.createElement(g,E)),...Array.isArray(u)?u:[u]]));const pt=(a,e)=>{const i=L.forwardRef(({className:s,...o},u)=>L.createElement(VT,{ref:u,iconNode:e,className:K_(`lucide-${CT(i0(a))}`,`lucide-${a}`,s),...o}));return i.displayName=i0(a),i};const jT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],OT=pt("bell",jT);const MT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],a0=pt("calendar",MT);const kT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],LT=pt("chevron-down",kT);const UT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zT=pt("chevron-left",UT);const PT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BT=pt("chevron-right",PT);const qT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],$d=pt("circle-plus",qT);const HT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],FT=pt("database",HT);const GT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Rm=pt("external-link",GT);const QT=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],KT=pt("ghost",QT);const YT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],r0=pt("info",YT);const XT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$T=pt("lock",XT);const ZT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Y_=pt("map-pin",ZT);const JT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],WT=pt("plus",JT);const e2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],t2=pt("save",e2);const n2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],i2=pt("search",n2);const a2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r2=pt("settings",a2);const s2=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],s0=pt("share-2",s2);const l2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],X_=pt("shield",l2);const o2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],l0=pt("square-pen",o2);const u2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ac=pt("trash-2",u2);const c2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$_=pt("upload",c2);const h2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ko=pt("x",h2),f2=()=>{};var o0={};const Z_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},d2=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],f=a[i++],m=a[i++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const u=a[i++],f=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},J_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,m=f?a[o+1]:0,v=o+2<a.length,g=v?a[o+2]:0,E=u>>2,x=(u&3)<<4|m>>4;let N=(m&15)<<2|g>>6,k=g&63;v||(k=64,f||(N=64)),s.push(i[E],i[x],i[N],i[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Z_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):d2(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const g=o<a.length?i[a.charAt(o)]:64;++o;const x=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||m==null||g==null||x==null)throw new m2;const N=u<<2|m>>4;if(s.push(N),g!==64){const k=m<<4&240|g>>2;if(s.push(k),x!==64){const F=g<<6&192|x;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class m2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p2=function(a){const e=Z_(a);return J_.encodeByteArray(e,!0)},Mc=function(a){return p2(a).replace(/\./g,"")},g2=function(a){try{return J_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const v2=()=>y2().__FIREBASE_DEFAULTS__,_2=()=>{if(typeof process>"u"||typeof o0>"u")return;const a=o0.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},b2=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&g2(a[1]);return e&&JSON.parse(e)},Dm=()=>{try{return f2()||v2()||_2()||b2()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},E2=a=>Dm()?.emulatorHosts?.[a],x2=a=>{const e=E2(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},W_=()=>Dm()?.config;class w2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Im(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T2(a){return(await fetch(a,{credentials:"include"})).ok}function S2(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Mc(JSON.stringify(i)),Mc(JSON.stringify(f)),""].join(".")}const po={};function A2(){const a={prod:[],emulator:[]};for(const e of Object.keys(po))po[e]?a.emulator.push(e):a.prod.push(e);return a}function N2(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let u0=!1;function C2(a,e){if(typeof window>"u"||typeof document>"u"||!Im(window.location.host)||po[a]===e||po[a]||u0)return;po[a]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=A2().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function m(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,k){N.setAttribute("width","24"),N.setAttribute("id",k),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{u0=!0,f()},N}function E(N,k){N.setAttribute("id",k),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function x(){const N=N2(s),k=i("text"),F=document.getElementById(k)||document.createElement("span"),Y=i("learnmore"),z=document.getElementById(Y)||document.createElement("a"),$=i("preprendIcon"),ie=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const re=N.element;m(re),E(z,Y);const ye=g();v(ie,$),re.append(ie,F,z,ye),document.body.appendChild(re)}u?(F.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function R2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D2(){const a=Dm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I2(){return!D2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eb(){try{return typeof indexedDB=="object"}catch{return!1}}function tb(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function V2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const j2="FirebaseError";class Qr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=j2,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wc.prototype.create)}}class Wc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?O2(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Qr(o,m,s)}}function O2(a,e){return a.replace(M2,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const M2=/\{\$([^}]+)}/g;function kc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=a[o],f=e[o];if(c0(u)&&c0(f)){if(!kc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function c0(a){return a!==null&&typeof a=="object"}function ii(a){return a&&a._delegate?a._delegate:a}class ra{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lr="[DEFAULT]";class k2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new w2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U2(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L2(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L2(a){return a===Lr?void 0:a}function U2(a){return a.instantiationMode==="EAGER"}class z2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new k2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Be||(Be={}));const P2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},B2=Be.INFO,q2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},H2=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=q2[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nb{constructor(e){this.name=e,this._logLevel=B2,this._logHandler=H2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const F2=(a,e)=>e.some(i=>a instanceof i);let h0,f0;function G2(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q2(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ib=new WeakMap,Zd=new WeakMap,ab=new WeakMap,Id=new WeakMap,Vm=new WeakMap;function K2(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(ia(a.result)),o()},f=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&ib.set(i,a)}).catch(()=>{}),Vm.set(e,a),e}function Y2(a){if(Zd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Zd.set(a,e)}let Jd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Zd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||ab.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ia(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function X2(a){Jd=a(Jd)}function $2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Vd(this),e,...i);return ab.set(s,e.sort?e.sort():[e]),ia(s)}:Q2().includes(a)?function(...e){return a.apply(Vd(this),e),ia(ib.get(this))}:function(...e){return ia(a.apply(Vd(this),e))}}function Z2(a){return typeof a=="function"?$2(a):(a instanceof IDBTransaction&&Y2(a),F2(a,G2())?new Proxy(a,Jd):a)}function ia(a){if(a instanceof IDBRequest)return K2(a);if(Id.has(a))return Id.get(a);const e=Z2(a);return e!==a&&(Id.set(a,e),Vm.set(e,a)),e}const Vd=a=>Vm.get(a);function eh(a,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),m=ia(f);return s&&f.addEventListener("upgradeneeded",v=>{s(ia(f.result),v.oldVersion,v.newVersion,ia(f.transaction),v)}),i&&f.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),m.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}function jd(a,{blocked:e}={}){const i=indexedDB.deleteDatabase(a);return e&&i.addEventListener("blocked",s=>e(s.oldVersion,s)),ia(i).then(()=>{})}const J2=["get","getKey","getAll","getAllKeys","count"],W2=["put","add","delete","clear"],Od=new Map;function d0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=W2.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||J2.includes(i)))return;const u=async function(f,...m){const v=this.transaction(f,o?"readwrite":"readonly");let g=v.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&v.done]))[0]};return Od.set(e,u),u}X2(a=>({...a,get:(e,i,s)=>d0(e,i)||a.get(e,i,s),has:(e,i)=>!!d0(e,i)||a.has(e,i)}));class eS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function tS(a){return a.getComponent()?.type==="VERSION"}const Wd="@firebase/app",m0="0.14.6";const sa=new nb("@firebase/app"),nS="@firebase/app-compat",iS="@firebase/analytics-compat",aS="@firebase/analytics",rS="@firebase/app-check-compat",sS="@firebase/app-check",lS="@firebase/auth",oS="@firebase/auth-compat",uS="@firebase/database",cS="@firebase/data-connect",hS="@firebase/database-compat",fS="@firebase/functions",dS="@firebase/functions-compat",mS="@firebase/installations",pS="@firebase/installations-compat",gS="@firebase/messaging",yS="@firebase/messaging-compat",vS="@firebase/performance",_S="@firebase/performance-compat",bS="@firebase/remote-config",ES="@firebase/remote-config-compat",xS="@firebase/storage",wS="@firebase/storage-compat",TS="@firebase/firestore",SS="@firebase/ai",AS="@firebase/firestore-compat",NS="firebase",CS="12.6.0";const em="[DEFAULT]",RS={[Wd]:"fire-core",[nS]:"fire-core-compat",[aS]:"fire-analytics",[iS]:"fire-analytics-compat",[sS]:"fire-app-check",[rS]:"fire-app-check-compat",[lS]:"fire-auth",[oS]:"fire-auth-compat",[uS]:"fire-rtdb",[cS]:"fire-data-connect",[hS]:"fire-rtdb-compat",[fS]:"fire-fn",[dS]:"fire-fn-compat",[mS]:"fire-iid",[pS]:"fire-iid-compat",[gS]:"fire-fcm",[yS]:"fire-fcm-compat",[vS]:"fire-perf",[_S]:"fire-perf-compat",[bS]:"fire-rc",[ES]:"fire-rc-compat",[xS]:"fire-gcs",[wS]:"fire-gcs-compat",[TS]:"fire-fst",[AS]:"fire-fst-compat",[SS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};const Lc=new Map,DS=new Map,tm=new Map;function p0(a,e){try{a.container.addComponent(e)}catch(i){sa.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function $a(a){const e=a.name;if(tm.has(e))return sa.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,a);for(const i of Lc.values())p0(i,a);for(const i of DS.values())p0(i,a);return!0}function th(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function IS(a){return a==null?!1:a.settings!==void 0}const VS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new Wc("app","Firebase",VS);class jS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}const OS=CS;function rb(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:em,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Qa.create("bad-app-name",{appName:String(o)});if(i||(i=W_()),!i)throw Qa.create("no-options");const u=Lc.get(o);if(u){if(kc(i,u.options)&&kc(s,u.config))return u;throw Qa.create("duplicate-app",{appName:o})}const f=new z2(o);for(const v of tm.values())f.addComponent(v);const m=new jS(i,s,f);return Lc.set(o,m),m}function sb(a=em){const e=Lc.get(a);if(!e&&a===em&&W_())return rb();if(!e)throw Qa.create("no-app",{appName:a});return e}function Ci(a,e,i){let s=RS[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sa.warn(f.join(" "));return}$a(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const MS="firebase-heartbeat-database",kS=1,xo="firebase-heartbeat-store";let Md=null;function lb(){return Md||(Md=eh(MS,kS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(xo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Qa.create("idb-open",{originalErrorMessage:a.message})})),Md}async function LS(a){try{const i=(await lb()).transaction(xo),s=await i.objectStore(xo).get(ob(a));return await i.done,s}catch(e){if(e instanceof Qr)sa.warn(e.message);else{const i=Qa.create("idb-get",{originalErrorMessage:e?.message});sa.warn(i.message)}}}async function g0(a,e){try{const s=(await lb()).transaction(xo,"readwrite");await s.objectStore(xo).put(e,ob(a)),await s.done}catch(i){if(i instanceof Qr)sa.warn(i.message);else{const s=Qa.create("idb-set",{originalErrorMessage:i?.message});sa.warn(s.message)}}}function ob(a){return`${a.name}!${a.options.appId}`}const US=1024,zS=30;class PS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>zS){const o=HS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y0(),{heartbeatsToSend:i,unsentEntries:s}=BS(this._heartbeatsCache.heartbeats),o=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sa.warn(e),""}}}function y0(){return new Date().toISOString().substring(0,10)}function BS(a,e=US){const i=[];let s=a.slice();for(const o of a){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),v0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),v0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class qS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eb()?tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return g0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return g0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v0(a){return Mc(JSON.stringify({version:2,heartbeats:a})).length}function HS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}function FS(a){$a(new ra("platform-logger",e=>new eS(e),"PRIVATE")),$a(new ra("heartbeat",e=>new PS(e),"PRIVATE")),Ci(Wd,m0,a),Ci(Wd,m0,"esm2020"),Ci("fire-js","")}FS("");var GS="firebase",QS="12.6.0";Ci(GS,QS,"app");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ka,ub;(function(){var a;function e(I,D){function V(){}V.prototype=D.prototype,I.F=D.prototype,I.prototype=new V,I.prototype.constructor=I,I.D=function(S,A,R){for(var C=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)C[Se-2]=arguments[Se];return D.prototype[A].apply(S,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,D,V){V||(V=0);const S=Array(16);if(typeof D=="string")for(var A=0;A<16;++A)S[A]=D.charCodeAt(V++)|D.charCodeAt(V++)<<8|D.charCodeAt(V++)<<16|D.charCodeAt(V++)<<24;else for(A=0;A<16;++A)S[A]=D[V++]|D[V++]<<8|D[V++]<<16|D[V++]<<24;D=I.g[0],V=I.g[1],A=I.g[2];let R=I.g[3],C;C=D+(R^V&(A^R))+S[0]+3614090360&4294967295,D=V+(C<<7&4294967295|C>>>25),C=R+(A^D&(V^A))+S[1]+3905402710&4294967295,R=D+(C<<12&4294967295|C>>>20),C=A+(V^R&(D^V))+S[2]+606105819&4294967295,A=R+(C<<17&4294967295|C>>>15),C=V+(D^A&(R^D))+S[3]+3250441966&4294967295,V=A+(C<<22&4294967295|C>>>10),C=D+(R^V&(A^R))+S[4]+4118548399&4294967295,D=V+(C<<7&4294967295|C>>>25),C=R+(A^D&(V^A))+S[5]+1200080426&4294967295,R=D+(C<<12&4294967295|C>>>20),C=A+(V^R&(D^V))+S[6]+2821735955&4294967295,A=R+(C<<17&4294967295|C>>>15),C=V+(D^A&(R^D))+S[7]+4249261313&4294967295,V=A+(C<<22&4294967295|C>>>10),C=D+(R^V&(A^R))+S[8]+1770035416&4294967295,D=V+(C<<7&4294967295|C>>>25),C=R+(A^D&(V^A))+S[9]+2336552879&4294967295,R=D+(C<<12&4294967295|C>>>20),C=A+(V^R&(D^V))+S[10]+4294925233&4294967295,A=R+(C<<17&4294967295|C>>>15),C=V+(D^A&(R^D))+S[11]+2304563134&4294967295,V=A+(C<<22&4294967295|C>>>10),C=D+(R^V&(A^R))+S[12]+1804603682&4294967295,D=V+(C<<7&4294967295|C>>>25),C=R+(A^D&(V^A))+S[13]+4254626195&4294967295,R=D+(C<<12&4294967295|C>>>20),C=A+(V^R&(D^V))+S[14]+2792965006&4294967295,A=R+(C<<17&4294967295|C>>>15),C=V+(D^A&(R^D))+S[15]+1236535329&4294967295,V=A+(C<<22&4294967295|C>>>10),C=D+(A^R&(V^A))+S[1]+4129170786&4294967295,D=V+(C<<5&4294967295|C>>>27),C=R+(V^A&(D^V))+S[6]+3225465664&4294967295,R=D+(C<<9&4294967295|C>>>23),C=A+(D^V&(R^D))+S[11]+643717713&4294967295,A=R+(C<<14&4294967295|C>>>18),C=V+(R^D&(A^R))+S[0]+3921069994&4294967295,V=A+(C<<20&4294967295|C>>>12),C=D+(A^R&(V^A))+S[5]+3593408605&4294967295,D=V+(C<<5&4294967295|C>>>27),C=R+(V^A&(D^V))+S[10]+38016083&4294967295,R=D+(C<<9&4294967295|C>>>23),C=A+(D^V&(R^D))+S[15]+3634488961&4294967295,A=R+(C<<14&4294967295|C>>>18),C=V+(R^D&(A^R))+S[4]+3889429448&4294967295,V=A+(C<<20&4294967295|C>>>12),C=D+(A^R&(V^A))+S[9]+568446438&4294967295,D=V+(C<<5&4294967295|C>>>27),C=R+(V^A&(D^V))+S[14]+3275163606&4294967295,R=D+(C<<9&4294967295|C>>>23),C=A+(D^V&(R^D))+S[3]+4107603335&4294967295,A=R+(C<<14&4294967295|C>>>18),C=V+(R^D&(A^R))+S[8]+1163531501&4294967295,V=A+(C<<20&4294967295|C>>>12),C=D+(A^R&(V^A))+S[13]+2850285829&4294967295,D=V+(C<<5&4294967295|C>>>27),C=R+(V^A&(D^V))+S[2]+4243563512&4294967295,R=D+(C<<9&4294967295|C>>>23),C=A+(D^V&(R^D))+S[7]+1735328473&4294967295,A=R+(C<<14&4294967295|C>>>18),C=V+(R^D&(A^R))+S[12]+2368359562&4294967295,V=A+(C<<20&4294967295|C>>>12),C=D+(V^A^R)+S[5]+4294588738&4294967295,D=V+(C<<4&4294967295|C>>>28),C=R+(D^V^A)+S[8]+2272392833&4294967295,R=D+(C<<11&4294967295|C>>>21),C=A+(R^D^V)+S[11]+1839030562&4294967295,A=R+(C<<16&4294967295|C>>>16),C=V+(A^R^D)+S[14]+4259657740&4294967295,V=A+(C<<23&4294967295|C>>>9),C=D+(V^A^R)+S[1]+2763975236&4294967295,D=V+(C<<4&4294967295|C>>>28),C=R+(D^V^A)+S[4]+1272893353&4294967295,R=D+(C<<11&4294967295|C>>>21),C=A+(R^D^V)+S[7]+4139469664&4294967295,A=R+(C<<16&4294967295|C>>>16),C=V+(A^R^D)+S[10]+3200236656&4294967295,V=A+(C<<23&4294967295|C>>>9),C=D+(V^A^R)+S[13]+681279174&4294967295,D=V+(C<<4&4294967295|C>>>28),C=R+(D^V^A)+S[0]+3936430074&4294967295,R=D+(C<<11&4294967295|C>>>21),C=A+(R^D^V)+S[3]+3572445317&4294967295,A=R+(C<<16&4294967295|C>>>16),C=V+(A^R^D)+S[6]+76029189&4294967295,V=A+(C<<23&4294967295|C>>>9),C=D+(V^A^R)+S[9]+3654602809&4294967295,D=V+(C<<4&4294967295|C>>>28),C=R+(D^V^A)+S[12]+3873151461&4294967295,R=D+(C<<11&4294967295|C>>>21),C=A+(R^D^V)+S[15]+530742520&4294967295,A=R+(C<<16&4294967295|C>>>16),C=V+(A^R^D)+S[2]+3299628645&4294967295,V=A+(C<<23&4294967295|C>>>9),C=D+(A^(V|~R))+S[0]+4096336452&4294967295,D=V+(C<<6&4294967295|C>>>26),C=R+(V^(D|~A))+S[7]+1126891415&4294967295,R=D+(C<<10&4294967295|C>>>22),C=A+(D^(R|~V))+S[14]+2878612391&4294967295,A=R+(C<<15&4294967295|C>>>17),C=V+(R^(A|~D))+S[5]+4237533241&4294967295,V=A+(C<<21&4294967295|C>>>11),C=D+(A^(V|~R))+S[12]+1700485571&4294967295,D=V+(C<<6&4294967295|C>>>26),C=R+(V^(D|~A))+S[3]+2399980690&4294967295,R=D+(C<<10&4294967295|C>>>22),C=A+(D^(R|~V))+S[10]+4293915773&4294967295,A=R+(C<<15&4294967295|C>>>17),C=V+(R^(A|~D))+S[1]+2240044497&4294967295,V=A+(C<<21&4294967295|C>>>11),C=D+(A^(V|~R))+S[8]+1873313359&4294967295,D=V+(C<<6&4294967295|C>>>26),C=R+(V^(D|~A))+S[15]+4264355552&4294967295,R=D+(C<<10&4294967295|C>>>22),C=A+(D^(R|~V))+S[6]+2734768916&4294967295,A=R+(C<<15&4294967295|C>>>17),C=V+(R^(A|~D))+S[13]+1309151649&4294967295,V=A+(C<<21&4294967295|C>>>11),C=D+(A^(V|~R))+S[4]+4149444226&4294967295,D=V+(C<<6&4294967295|C>>>26),C=R+(V^(D|~A))+S[11]+3174756917&4294967295,R=D+(C<<10&4294967295|C>>>22),C=A+(D^(R|~V))+S[2]+718787259&4294967295,A=R+(C<<15&4294967295|C>>>17),C=V+(R^(A|~D))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+D&4294967295,I.g[1]=I.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+R&4294967295}s.prototype.v=function(I,D){D===void 0&&(D=I.length);const V=D-this.blockSize,S=this.C;let A=this.h,R=0;for(;R<D;){if(A==0)for(;R<=V;)o(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<D;)if(S[A++]=I.charCodeAt(R++),A==this.blockSize){o(this,S),A=0;break}}else for(;R<D;)if(S[A++]=I[R++],A==this.blockSize){o(this,S),A=0;break}}this.h=A,this.o+=D},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var D=1;D<I.length-8;++D)I[D]=0;D=this.o*8;for(var V=I.length-8;V<I.length;++V)I[V]=D&255,D/=256;for(this.v(I),I=Array(16),D=0,V=0;V<4;++V)for(let S=0;S<32;S+=8)I[D++]=this.g[V]>>>S&255;return I};function u(I,D){var V=m;return Object.prototype.hasOwnProperty.call(V,I)?V[I]:V[I]=D(I)}function f(I,D){this.h=D;const V=[];let S=!0;for(let A=I.length-1;A>=0;A--){const R=I[A]|0;S&&R==D||(V[A]=R,S=!1)}this.g=V}var m={};function v(I){return-128<=I&&I<128?u(I,function(D){return new f([D|0],D<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return z(g(-I));const D=[];let V=1;for(let S=0;I>=V;S++)D[S]=I/V|0,V*=4294967296;return new f(D,0)}function E(I,D){if(I.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(I.charAt(0)=="-")return z(E(I.substring(1),D));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=g(Math.pow(D,8));let S=x;for(let R=0;R<I.length;R+=8){var A=Math.min(8,I.length-R);const C=parseInt(I.substring(R,R+A),D);A<8?(A=g(Math.pow(D,A)),S=S.j(A).add(g(C))):(S=S.j(V),S=S.add(g(C)))}return S}var x=v(0),N=v(1),k=v(16777216);a=f.prototype,a.m=function(){if(Y(this))return-z(this).m();let I=0,D=1;for(let V=0;V<this.g.length;V++){const S=this.i(V);I+=(S>=0?S:4294967296+S)*D,D*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(Y(this))return"-"+z(this).toString(I);const D=g(Math.pow(I,6));var V=this;let S="";for(;;){const A=ye(V,D).g;V=$(V,A.j(D));let R=((V.g.length>0?V.g[0]:V.h)>>>0).toString(I);if(V=A,F(V))return R+S;for(;R.length<6;)R="0"+R;S=R+S}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(let D=0;D<I.g.length;D++)if(I.g[D]!=0)return!1;return!0}function Y(I){return I.h==-1}a.l=function(I){return I=$(this,I),Y(I)?-1:F(I)?0:1};function z(I){const D=I.g.length,V=[];for(let S=0;S<D;S++)V[S]=~I.g[S];return new f(V,~I.h).add(N)}a.abs=function(){return Y(this)?z(this):this},a.add=function(I){const D=Math.max(this.g.length,I.g.length),V=[];let S=0;for(let A=0;A<=D;A++){let R=S+(this.i(A)&65535)+(I.i(A)&65535),C=(R>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);S=C>>>16,R&=65535,C&=65535,V[A]=C<<16|R}return new f(V,V[V.length-1]&-2147483648?-1:0)};function $(I,D){return I.add(z(D))}a.j=function(I){if(F(this)||F(I))return x;if(Y(this))return Y(I)?z(this).j(z(I)):z(z(this).j(I));if(Y(I))return z(this.j(z(I)));if(this.l(k)<0&&I.l(k)<0)return g(this.m()*I.m());const D=this.g.length+I.g.length,V=[];for(var S=0;S<2*D;S++)V[S]=0;for(S=0;S<this.g.length;S++)for(let A=0;A<I.g.length;A++){const R=this.i(S)>>>16,C=this.i(S)&65535,Se=I.i(A)>>>16,Le=I.i(A)&65535;V[2*S+2*A]+=C*Le,ie(V,2*S+2*A),V[2*S+2*A+1]+=R*Le,ie(V,2*S+2*A+1),V[2*S+2*A+1]+=C*Se,ie(V,2*S+2*A+1),V[2*S+2*A+2]+=R*Se,ie(V,2*S+2*A+2)}for(I=0;I<D;I++)V[I]=V[2*I+1]<<16|V[2*I];for(I=D;I<2*D;I++)V[I]=0;return new f(V,0)};function ie(I,D){for(;(I[D]&65535)!=I[D];)I[D+1]+=I[D]>>>16,I[D]&=65535,D++}function re(I,D){this.g=I,this.h=D}function ye(I,D){if(F(D))throw Error("division by zero");if(F(I))return new re(x,x);if(Y(I))return D=ye(z(I),D),new re(z(D.g),z(D.h));if(Y(D))return D=ye(I,z(D)),new re(z(D.g),D.h);if(I.g.length>30){if(Y(I)||Y(D))throw Error("slowDivide_ only works with positive integers.");for(var V=N,S=D;S.l(I)<=0;)V=ve(V),S=ve(S);var A=_e(V,1),R=_e(S,1);for(S=_e(S,2),V=_e(V,2);!F(S);){var C=R.add(S);C.l(I)<=0&&(A=A.add(V),R=C),S=_e(S,1),V=_e(V,1)}return D=$(I,A.j(D)),new re(A,D)}for(A=x;I.l(D)>=0;){for(V=Math.max(1,Math.floor(I.m()/D.m())),S=Math.ceil(Math.log(V)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),R=g(V),C=R.j(D);Y(C)||C.l(I)>0;)V-=S,R=g(V),C=R.j(D);F(R)&&(R=N),A=A.add(R),I=$(I,C)}return new re(A,I)}a.B=function(I){return ye(this,I).h},a.and=function(I){const D=Math.max(this.g.length,I.g.length),V=[];for(let S=0;S<D;S++)V[S]=this.i(S)&I.i(S);return new f(V,this.h&I.h)},a.or=function(I){const D=Math.max(this.g.length,I.g.length),V=[];for(let S=0;S<D;S++)V[S]=this.i(S)|I.i(S);return new f(V,this.h|I.h)},a.xor=function(I){const D=Math.max(this.g.length,I.g.length),V=[];for(let S=0;S<D;S++)V[S]=this.i(S)^I.i(S);return new f(V,this.h^I.h)};function ve(I){const D=I.g.length+1,V=[];for(let S=0;S<D;S++)V[S]=I.i(S)<<1|I.i(S-1)>>>31;return new f(V,I.h)}function _e(I,D){const V=D>>5;D%=32;const S=I.g.length-V,A=[];for(let R=0;R<S;R++)A[R]=D>0?I.i(R+V)>>>D|I.i(R+V+1)<<32-D:I.i(R+V);return new f(A,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ub=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ka=f}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cb,co,hb,Nc,nm,fb,db,mb;(function(){var a,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var p=0;p<c.length;++p){var b=c[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=i(this);function o(c,p){if(p)e:{var b=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var P=c[T];if(!(P in b))break e;b=b[P]}c=c[c.length-1],T=b[c],p=p(T),p!=T&&p!=null&&e(b,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var b=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&b.push([T,p[T]]);return b}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function v(c,p,b){return c.call.apply(c.bind,arguments)}function g(c,p,b){return g=v,g.apply(null,arguments)}function E(c,p){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function x(c,p){function b(){}b.prototype=p.prototype,c.Z=p.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(T,P,G){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return p.prototype[P].apply(T,se)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const p=c.length;if(p>0){const b=Array(p);for(let T=0;T<p;T++)b[T]=c[T];return b}return[]}function F(c,p){for(let T=1;T<arguments.length;T++){const P=arguments[T];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=c.length||0;const G=P.length||0;c.length=b+G;for(let se=0;se<G;se++)c[b+se]=P[se]}else c.push(P)}}class Y{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function z(c){f.setTimeout(()=>{throw c},0)}function $(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ie{constructor(){this.h=this.g=null}add(p,b){const T=re.get();T.set(p,b),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new Y(()=>new ye,c=>c.reset());class ye{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,_e=!1,I=new ie,D=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(V)}};function V(){for(var c;c=$();){try{c.h.call(c.g)}catch(b){z(b)}var p=re;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}_e=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,p),f.removeEventListener("test",b,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Se(c,p){A.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}x(Se,A),Se.prototype.init=function(c,p){const b=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(b=="mouseover"?p=c.fromElement:b=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(c,p,b,T,P){this.listener=c,this.proxy=null,this.src=p,this.type=b,this.capture=!!T,this.ha=P,this.key=++K,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,p,b){for(const T in c)p.call(b,c[T],T,c)}function ze(c,p){for(const b in c)p.call(void 0,c[b],b,c)}function O(c){const p={};for(const b in c)p[b]=c[b];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,p){let b,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(b in T)c[b]=T[b];for(let G=0;G<Z.length;G++)b=Z[G],Object.prototype.hasOwnProperty.call(T,b)&&(c[b]=T[b])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,p,b,T,P){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=ge(c,p,T,P);return se>-1?(p=c[se],b||(p.fa=!1)):(p=new le(p,this.src,G,!!T,P),p.fa=b,c.push(p)),p};function ne(c,p){const b=p.type;if(b in c.g){var T=c.g[b],P=Array.prototype.indexOf.call(T,p,void 0),G;(G=P>=0)&&Array.prototype.splice.call(T,P,1),G&&(de(p),c.g[b].length==0&&(delete c.g[b],c.h--))}}function ge(c,p,b,T){for(let P=0;P<c.length;++P){const G=c[P];if(!G.da&&G.listener==p&&G.capture==!!b&&G.ha==T)return P}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),st={};function $e(c,p,b,T,P){if(Array.isArray(p)){for(let G=0;G<p.length;G++)$e(c,p[G],b,T,P);return null}return b=al(b),c&&c[Le]?c.J(p,b,m(T)?!!T.capture:!1,P):Oi(c,p,b,!1,T,P)}function Oi(c,p,b,T,P,G){if(!p)throw Error("Invalid event type");const se=m(P)?!!P.capture:!!P;let Ne=lr(c);if(Ne||(c[Ae]=Ne=new ae(c)),b=Ne.add(p,b,T,se,G),b.proxy)return b;if(T=Xt(),b.proxy=T,T.src=c,T.listener=b,c.addEventListener)R||(P=se),P===void 0&&(P=!1),c.addEventListener(p.toString(),T,P);else if(c.attachEvent)c.attachEvent(pn(p.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Xt(){function c(b){return p.call(c.src,c.listener,b)}const p=nl;return c}function mn(c,p,b,T,P){if(Array.isArray(p))for(var G=0;G<p.length;G++)mn(c,p[G],b,T,P);else T=m(T)?!!T.capture:!!T,b=al(b),c&&c[Le]?(c=c.i,G=String(p).toString(),G in c.g&&(p=c.g[G],b=ge(p,b,T,P),b>-1&&(de(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete c.g[G],c.h--)))):c&&(c=lr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ge(p,b,T,P)),(b=c>-1?p[c]:null)&&Mi(b))}function Mi(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Le])ne(p.i,c);else{var b=c.type,T=c.proxy;p.removeEventListener?p.removeEventListener(b,T,c.capture):p.detachEvent?p.detachEvent(pn(b),T):p.addListener&&p.removeListener&&p.removeListener(T),(b=lr(p))?(ne(b,c),b.h==0&&(b.src=null,p[Ae]=null)):de(c)}}}function pn(c){return c in st?st[c]:st[c]="on"+c}function nl(c,p){if(c.da)c=!0;else{p=new Se(p,this);const b=c.listener,T=c.ha||c.src;c.fa&&Mi(c),c=b.call(T,p)}return c}function lr(c){return c=c[Ae],c instanceof ae?c:null}var il="__closure_events_fn_"+(Math.random()*1e9>>>0);function al(c){return typeof c=="function"?c:(c[il]||(c[il]=function(p){return c.handleEvent(p)}),c[il])}function Et(){S.call(this),this.i=new ae(this),this.M=this,this.G=null}x(Et,S),Et.prototype[Le]=!0,Et.prototype.removeEventListener=function(c,p,b,T){mn(this,c,p,b,T)};function jt(c,p){var b,T=c.G;if(T)for(b=[];T;T=T.G)b.push(T);if(c=c.M,T=p.type||p,typeof p=="string")p=new A(p,c);else if(p instanceof A)p.target=p.target||c;else{var P=p;p=new A(T,c),oe(p,P)}P=!0;let G,se;if(b)for(se=b.length-1;se>=0;se--)G=p.g=b[se],P=ha(G,T,!0,p)&&P;if(G=p.g=c,P=ha(G,T,!0,p)&&P,P=ha(G,T,!1,p)&&P,b)for(se=0;se<b.length;se++)G=p.g=b[se],P=ha(G,T,!1,p)&&P}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const b=c.g[p];for(let T=0;T<b.length;T++)de(b[T]);delete c.g[p],c.h--}}this.G=null},Et.prototype.J=function(c,p,b,T){return this.i.add(String(c),p,!1,b,T)},Et.prototype.K=function(c,p,b,T){return this.i.add(String(c),p,!0,b,T)};function ha(c,p,b,T){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let G=0;G<p.length;++G){const se=p[G];if(se&&!se.da&&se.capture==b){const Ne=se.listener,yt=se.ha||se.src;se.fa&&ne(c.i,se),P=Ne.call(yt,T)!==!1&&P}}return P&&!T.defaultPrevented}function Th(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Ho(c){c.g=Th(()=>{c.g=null,c.i&&(c.i=!1,Ho(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends S{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ho(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(c){S.call(this),this.h=c,this.g={}}x(or,S);var rl=[];function sl(c){De(c.g,function(p,b){this.g.hasOwnProperty(b)&&Mi(p)},c),c.g={}}or.prototype.N=function(){or.Z.N.call(this),sl(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=f.JSON.stringify,Sh=f.JSON.parse,Fo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Go(){}function Qo(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){A.call(this,"d")}x(Pt,A);function Nn(){A.call(this,"c")}x(Nn,A);var gt={},Ko=null;function Xr(){return Ko=Ko||new Et}gt.Ia="serverreachability";function Yo(c){A.call(this,gt.Ia,c)}x(Yo,A);function si(c){const p=Xr();jt(p,new Yo(p))}gt.STAT_EVENT="statevent";function ur(c,p){A.call(this,gt.STAT_EVENT,c),this.stat=p}x(ur,A);function xt(c){const p=Xr();jt(p,new ur(p,c))}gt.Ja="timingevent";function li(c,p){A.call(this,gt.Ja,c),this.size=p}x(li,A);function oi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Ah(c,p,b,T,P,G){c.info(function(){if(c.g)if(G){var se="",Ne=G.split("&");for(let Fe=0;Fe<Ne.length;Fe++){var yt=Ne[Fe].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const In=lt.split("_");se=In.length>=2&&In[1]=="type"?se+(lt+"="+yt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+p+`
`+b+`
`+se})}function Xo(c,p,b,T,P,G,se){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+p+`
`+b+`
`+G+" "+se})}function ui(c,p,b,T){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Nh(c,b)+(T?" "+T:"")})}function cr(c,p){c.info(function(){return"TIMEOUT: "+p})}Fn.prototype.info=function(){};function Nh(c,p){if(!c.g)return p;if(!p)return null;try{const G=JSON.parse(p);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var b=G[c];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return fa(G)}catch{return p}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function fr(){}x(fr,Go),fr.prototype.g=function(){return new XMLHttpRequest},ol=new fr;function ki(c){return encodeURIComponent(String(c))}function $o(c){var p=1;c=c.split(":");const b=[];for(;p>0&&c.length;)b.push(c.shift()),p--;return c.length&&b.push(c.join(":")),b}function Gn(c,p,b,T){this.j=c,this.i=p,this.l=b,this.S=T||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var wt={},kt={};function ci(c,p,b){c.M=1,c.A=dr(St(p)),c.u=b,c.R=!0,$r(c,null)}function $r(c,p){c.F=Date.now(),hi(c),c.B=St(c.A);var b=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),es(b.i,"t",T),c.C=0,b=c.j.L,c.h=new Qn,c.g=hu(c.j,b?p:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),p=c.V,b=c.g,T=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(rl[0]=P.toString()),P=rl);for(let G=0;G<P.length;G++){const se=$e(b,P[G],T||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),si(),Ah(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Xn(c)==3?p.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=Xn(this.g),yt=this.g.ya(),Fe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ne!=4||yt==7||(yt==8||Fe<=0?si(3):si(2)),fi(this);var p=this.g.ca();this.X=p;var b=Ch(this);if(this.o=p==200,Xo(this.i,this.v,this.B,this.l,this.S,Ne,p),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var G=T;break t}}G=null}if(c=G)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,xt(12),gn(this),Cn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=Jo(this,b),lt==kt){Ne==4&&(this.m=4,xt(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==wt){this.m=4,xt(15),ui(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,lt,null),di(this,lt);if(Zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,b,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),wl(se),se.P=!0,xt(11))}}else ui(this.i,this.l,b,null),di(this,b);Ne==4&&gn(this),this.o&&!this.K&&(Ne==4?lu(this.j,this):(this.o=!1,hi(this)))}else Ui(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),gn(this),Cn(this)}}}catch{}finally{}};function Ch(c){if(!Zo(c))return c.g.la();const p=Bt(c.g);if(p==="")return"";let b="";const T=p.length,P=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<T;G++)c.h.h=!0,b+=c.h.i.decode(p[G],{stream:!(P&&G==T-1)});return p.length=0,c.h.g+=b,c.C=0,c.h.g}function Zo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Jo(c,p){var b=c.C,T=p.indexOf(`
`,b);return T==-1?kt:(b=Number(p.substring(b,T)),isNaN(b)?wt:(T+=1,T+b>p.length?kt:(p=p.slice(T,T+b),c.C=T+b,p)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(c){c.T=Date.now()+c.H,Zr(c,c.H)}function Zr(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(g(c.aa,c),p)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cr(this.i,this.B),this.M!=2&&(si(),xt(17)),gn(this),this.m=2,Cn(this)):Zr(this,this.T-c)};function Cn(c){c.j.I==0||c.K||lu(c.j,c)}function gn(c){fi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,sl(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function di(c,p){try{var b=c.j;if(b.I!=0&&(b.g==c||pi(b.h,c))){if(!c.L&&pi(b.h,c)&&b.I==3){try{var T=b.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)rs(b),ba(b);else break e;br(b),xt(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=oi(g(b.Va,b),6e3));mi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ei(b,11)}else if((c.L||b.g==c)&&rs(b),!C(p))for(P=b.Ba.g.parse(p),p=0;p<P.length;p++){let Fe=P[p];const lt=Fe[0];if(!(lt<=b.K))if(b.K=lt,Fe=Fe[1],b.I==2)if(Fe[0]=="c"){b.M=Fe[1],b.ba=Fe[2];const In=Fe[3];In!=null&&(b.ka=In,b.j.info("VER="+b.ka));const xi=Fe[4];xi!=null&&(b.za=xi,b.j.info("SVER="+b.za));const $n=Fe[5];$n!=null&&typeof $n=="number"&&$n>0&&(T=1.5*$n,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const Zn=c.g;if(Zn){const Er=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var G=T.h;G.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(hl(G,G.h),G.h=null))}if(T.G){const ss=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(T.wa=ss,Ke(T.J,T.G,ss))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var se=c;if(T.na=cu(T,T.L?T.ba:null,T.W),se.L){fl(T.h,se);var Ne=se,yt=T.O;yt&&(Ne.H=yt),Ne.D&&(fi(Ne),hi(Ne)),T.g=se}else ru(T);b.i.length>0&&bi(b)}else Fe[0]!="stop"&&Fe[0]!="close"||Ei(b,7);else b.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ei(b,7):El(b):Fe[0]!="noop"&&b.l&&b.l.qa(Fe),b.A=0)}}si(4)}catch{}}var Tt=class{constructor(c,p){this.g=c,this.map=p}};function ul(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function hl(c,p){c.g?c.g.add(p):c.h=p}function fl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ul.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const b of c.g.values())p=p.concat(b.G);return p}return k(c.i)}var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(c,p){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const T=c[b].indexOf("=");let P,G=null;T>=0?(P=c[b].substring(0,T),G=c[b].substring(T+1)):P=c[b],p(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof yn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,da(this,c.u),this.h=c.h,ml(this,iu(c.i)),this.m=c.m):c&&(p=String(c).match(Wo))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=gi(p[2]||""),this.g=gi(p[3]||"",!0),da(this,p[4]),this.h=gi(p[5]||"",!0),ml(this,p[6]||"",!0),this.m=gi(p[7]||"")):(this.l=!1,this.i=new pa(null,this.l))}yn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(mr(p,Wr,!0),":");var b=this.g;return(b||p=="file")&&(c.push("//"),(p=this.o)&&c.push(mr(p,Wr,!0),"@"),c.push(ki(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(mr(b,b.charAt(0)=="/"?pl:eu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",mr(b,tu)),c.join("")},yn.prototype.resolve=function(c){const p=St(this);let b=!!c.j;b?Lt(p,c.j):b=!!c.o,b?p.o=c.o:b=!!c.g,b?p.g=c.g:b=c.u!=null;var T=c.h;if(b)da(p,c.u);else if(b=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=p.h.lastIndexOf("/");P!=-1&&(T=p.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let se=0;se<P.length;){const Ne=P[se++];Ne=="."?T&&se==P.length&&G.push(""):Ne==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),T&&se==P.length&&G.push("")):(G.push(Ne),T=!0)}T=G.join("/")}else T=P}return b?p.h=T:b=c.i.toString()!=="",b?ml(p,iu(c.i)):b=!!c.m,b&&(p.m=c.m),p};function St(c){return new yn(c)}function Lt(c,p,b){c.j=b?gi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function da(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function ml(c,p,b){p instanceof pa?(c.i=p,ts(c.i,c.l)):(b||(p=mr(p,ma)),c.i=new pa(p,c.l))}function Ke(c,p,b){c.i.set(p,b)}function dr(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mr(c,p,b){return typeof c=="string"?(c=encodeURI(c).replace(p,rn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wr=/[#\/\?@]/g,eu=/[#\?:]/g,pl=/[#\?]/g,ma=/[#\?@]/g,tu=/#/g;function pa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jr(c.i,function(p,b){c.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}a=pa.prototype,a.add=function(c,p){sn(this),this.i=null,c=ga(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(p),this.h+=1,this};function nu(c,p){sn(c),p=ga(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function gl(c,p){return sn(c),p=ga(c,p),c.g.has(p)}a.forEach=function(c,p){sn(this),this.g.forEach(function(b,T){b.forEach(function(P){c.call(p,P,T,this)},this)},this)};function yl(c,p){sn(c);let b=[];if(typeof p=="string")gl(c,p)&&(b=b.concat(c.g.get(ga(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)b=b.concat(c[p]);return b}a.set=function(c,p){return sn(this),this.i=null,c=ga(this,c),gl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},a.get=function(c,p){return c?(c=yl(this,c),c.length>0?String(c[0]):p):p};function es(c,p,b){nu(c,p),b.length>0&&(c.i=null,c.g.set(ga(c,p),k(b)),c.h+=b.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var b=p[T];const P=ki(b);b=yl(this,b);for(let G=0;G<b.length;G++){let se=P;b[G]!==""&&(se+="="+ki(b[G])),c.push(se)}}return this.i=c.join("&")};function iu(c){const p=new pa;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ga(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ts(c,p){p&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(b,T){const P=T.toLowerCase();T!=P&&(nu(this,T),es(this,P,b))},c)),c.j=p}function Kn(c,p){const b=new Fn;if(f.Image){const T=new Image;T.onload=E(Rn,b,"TestLoadImage: loaded",!0,p,T),T.onerror=E(Rn,b,"TestLoadImage: error",!1,p,T),T.onabort=E(Rn,b,"TestLoadImage: abort",!1,p,T),T.ontimeout=E(Rn,b,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else p(!1)}function vl(c,p){const b=new Fn,T=new AbortController,P=setTimeout(()=>{T.abort(),Rn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:T.signal}).then(G=>{clearTimeout(P),G.ok?Rn(b,"TestPingServer: ok",!0,p):Rn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Rn(b,"TestPingServer: error",!1,p)})}function Rn(c,p,b,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(b)}catch{}}function ya(){this.g=new Fo}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}x(yi,Go),yi.prototype.g=function(){return new pr(this.i,this.h)};function pr(c,p){Et.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(pr,Et),a=pr.prototype,a.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Yn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ns(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ns(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?va(this):Yn(this),this.readyState==3&&ns(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,va(this))},a.Na=function(c){this.g&&(this.response=c,va(this))},a.ga=function(){this.g&&va(this)};function va(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}a.setRequestHeader=function(c,p){this.A.append(c,p)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=p.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let p="";return De(c,function(b,T){p+=T,p+=":",p+=b,p+=`\r
`}),p}function gr(c,p,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Dn(b),typeof c=="string"?b!=null&&ki(b):Ke(c,p,b))}function Ze(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Ze,Et);var vi=/^https?$/i,_l=["POST","PUT"];a=Ze.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,p,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=N(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){yr(this,G);return}if(c=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)b.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())b.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(_l,p,void 0)>=0)||T||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of b)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){yr(this,G)}};function yr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,bl(c),Li(c)}function bl(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,jt(this,"complete"),jt(this,"abort"),Li(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Ze.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},a.Xa=function(){vr(this)};function vr(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(jt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var T;if(T=G===0){let se=String(c.D).match(Wo)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),T=!vi.test(se?se.toLowerCase():"")}b=T}if(b)jt(c,"complete"),jt(c,"success");else{c.o=6;try{var P=Xn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",bl(c)}}finally{Li(c)}}}}function Li(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,p||jt(c,"ready");try{b.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}a.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Sh(p)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const p={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(C(c[T]))continue;var b=$o(c[T]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=p[P]||[];p[P]=G,G.push(b)}ze(p,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||p}function _a(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(c&&c.concurrentRequestLimit),this.Ba=new ya,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=_a.prototype,a.ka=8,a.I=1,a.connect=function(c,p,b,T){xt(0),this.W=c,this.H=p||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=cu(this,null,this.W),bi(this)};function El(c){if(is(c),c.I==3){var p=c.V++,b=St(c.J);if(Ke(b,"SID",c.M),Ke(b,"RID",p),Ke(b,"TYPE","terminate"),_r(c,b),p=new Gn(c,c.j,p),p.M=2,p.A=dr(St(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=p.A,b=!0),b||(p.g=hu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hi(p)}uu(c)}function ba(c){c.g&&(wl(c),c.g.cancel(),c.g=null)}function is(c){ba(c),c.v&&(f.clearTimeout(c.v),c.v=null),rs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!cl(c.h)&&!c.m){c.m=!0;var p=c.Ea;ve||D(),_e||(ve(),_e=!0),I.add(p,c),c.D=0}}function as(c,p){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(g(c.Ea,c,p),ou(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Gn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=O(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=au(this,P,p),b=St(this.J),Ke(b,"RID",c),Ke(b,"CVER",22),this.G&&Ke(b,"X-HTTP-Session-Id",this.G),_r(this,b),G&&(this.R?p="headers="+ki(Dn(G))+"&"+p:this.u&&gr(b,this.u,G)),hl(this.h,P),this.Ra&&Ke(b,"TYPE","init"),this.S?(Ke(b,"$req",p),Ke(b,"SID","null"),P.U=!0,ci(P,b,null)):ci(P,b,p),this.I=2}}else this.I==3&&(c?xl(this,c):this.i.length==0||cl(this.h)||xl(this))};function xl(c,p){var b;p?b=p.l:b=c.V++;const T=St(c.J);Ke(T,"SID",c.M),Ke(T,"RID",b),Ke(T,"AID",c.K),_r(c,T),c.u&&c.o&&gr(T,c.u,c.o),b=new Gn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),p&&(c.i=p.G.concat(c.i)),p=au(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),hl(c.h,b),ci(b,T,p)}function _r(c,p){c.H&&De(c.H,function(b,T){Ke(p,T,b)}),c.l&&De({},function(b,T){Ke(p,T,b)})}function au(c,p,b){b=Math.min(c.i.length,b);const T=c.l?g(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ne=-1;for(;;){const yt=["count="+b];Ne==-1?b>0?(Ne=P[0].g,yt.push("ofs="+Ne)):Ne=0:yt.push("ofs="+Ne);let Fe=!0;for(let lt=0;lt<b;lt++){var G=P[lt].g;const In=P[lt].map;if(G-=Ne,G<0)Ne=Math.max(0,P[lt].g-100),Fe=!1;else try{G="req"+G+"_"||"";try{var se=In instanceof Map?In:Object.entries(In);for(const[xi,$n]of se){let Zn=$n;m($n)&&(Zn=fa($n)),yt.push(G+xi+"="+encodeURIComponent(Zn))}}catch(xi){throw yt.push(G+"type="+encodeURIComponent("_badmap")),xi}}catch{T&&T(In)}}if(Fe){se=yt.join("&");break e}}se=void 0}return c=c.i.splice(0,b),p.G=c,se}function ru(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ve||D(),_e||(ve(),_e=!0),I.add(p,c),c.A=0}}function br(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(g(c.Da,c),ou(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(g(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ba(this),su(this))};function wl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function su(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=St(c.na);Ke(p,"RID","rpc"),Ke(p,"SID",c.M),Ke(p,"AID",c.K),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(p,"TO",c.ia),Ke(p,"TYPE","xmlhttp"),_r(c,p),c.u&&c.o&&gr(p,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=dr(St(p)),b.u=null,b.R=!0,$r(b,c)}a.Va=function(){this.C!=null&&(this.C=null,ba(this),br(this),xt(19))};function rs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function lu(c,p){var b=null;if(c.g==p){rs(c),wl(c),c.g=null;var T=2}else if(pi(c.h,p))b=p.G,fl(c.h,p),T=1;else return;if(c.I!=0){if(p.o)if(T==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;T=Xr(),jt(T,new li(T,b)),bi(c)}else ru(c);else if(P=p.m,P==3||P==0&&p.X>0||!(T==1&&as(c,p)||T==2&&br(c)))switch(b&&b.length>0&&(p=c.h,p.i=p.i.concat(b)),P){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function ou(c,p){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*p}function Ei(c,p){if(c.j.info("Error code "+p),p==2){var b=g(c.bb,c),T=c.Ua;const P=!T;T=new yn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(T,"https"),dr(T),P?Kn(T.toString(),b):vl(T.toString(),b)}else xt(2);c.I=0,c.l&&c.l.pa(p),uu(c),is(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function uu(c){if(c.I=0,c.ja=[],c.l){const p=dl(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ja,p),F(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function cu(c,p,b){var T=b instanceof yn?St(b):new yn(b);if(T.g!="")p&&(T.g=p+"."+T.g),da(T,T.u);else{var P=f.location;T=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const G=new yn(null);T&&Lt(G,T),p&&(G.g=p),P&&da(G,P),b&&(G.h=b),T=G}return b=c.G,p=c.wa,b&&p&&Ke(T,b,p),Ke(T,"VER",c.ka),_r(c,T),T}function hu(c,p,b){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Ze(new yi({ab:b})):new Ze(c.ma),p.Fa(c.L),p}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}a=fu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ea(){}Ea.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){Et.call(this),this.g=new _a(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new zi(this)}x(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){El(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=fa(c),c=b);p.i.push(new Tt(p.Ya++,c)),p.I==3&&bi(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,tn.Z.N.call(this)};function du(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const b in p){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}x(du,Pt);function mu(){Nn.call(this),this.status=1}x(mu,Nn);function zi(c){this.g=c}x(zi,fu),zi.prototype.ra=function(){jt(this.g,"a")},zi.prototype.qa=function(c){jt(this.g,new du(c))},zi.prototype.pa=function(c){jt(this.g,new mu)},zi.prototype.oa=function(){jt(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,mb=function(){return new Ea},db=function(){return Xr()},fb=gt,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Nc=hr,ll.COMPLETE="complete",hb=ll,Qo.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,co=Qo,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,cb=Ze}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",E0="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Zs="12.3.0";const Br=new nb("@firebase/firestore");function ks(){return Br.logLevel}function ce(a,...e){if(Br.logLevel<=Be.DEBUG){const i=e.map(jm);Br.debug(`Firestore (${Zs}): ${a}`,...i)}}function la(a,...e){if(Br.logLevel<=Be.ERROR){const i=e.map(jm);Br.error(`Firestore (${Zs}): ${a}`,...i)}}function qs(a,...e){if(Br.logLevel<=Be.WARN){const i=e.map(jm);Br.warn(`Firestore (${Zs}): ${a}`,...i)}}function jm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Ee(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,pb(a,s,i)}function pb(a,e,i){let s=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw la(s),new Error(s)}function Qe(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||pb(e,o,s)}function Te(a,e){return a}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Qr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ya{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class gb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class YS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class XS{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qe(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let u=new Ya;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ya,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},m=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>m(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ya)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new gb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class $S{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new $S(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,IS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=WS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=e.charAt(o[u]%62))}return s}}function Me(a,e){return a<e?-1:a>e?1:0}function im(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return kd(o)===kd(u)?Me(o,u):kd(o)?1:-1}return Me(a.length,e.length)}const eA=55296,tA=57343;function kd(a){const e=a.charCodeAt(0);return e>=eA&&e<=tA}function Hs(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}const w0="__name__";class Ni{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Ee(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return Me(e.length,i.length)}static compareSegments(e,i){const s=Ni.isNumericId(e),o=Ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(i)):im(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ka.fromString(e.substring(4,e.length-2))}}class nt extends Ni{construct(e,i,s){return new nt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new nt(i)}static emptyPath(){return new nt([])}}const nA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ni{construct(e,i,s){return new Kt(e,i,s)}static isValidIdentifier(e){return nA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new Kt([w0])}static fromServerFormat(e){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(i)}static emptyPath(){return new Kt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return nt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}function yb(a,e,i){if(!i)throw new ue(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function iA(a,e,i,s){if(e===!0&&s===!0)throw new ue(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function T0(a){if(!pe.isDocumentKey(a))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function S0(a){if(pe.isDocumentKey(a))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function vb(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function nh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ee(12329,{type:typeof a})}function Bn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=nh(a);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Vt(a,e){const i={typeString:a};return e&&(i.value=e),i}function Lo(a,e){if(!vb(a))throw new ue(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const f=a[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new ue(W.INVALID_ARGUMENT,i);return!0}const A0=-62135596800,N0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*N0);return new rt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<A0)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lo(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Vt("string",rt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new rt(0,0))}static max(){return new xe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wo=-1;function aA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new rt(i+1,0):new rt(i,s));return new Za(o,pe.empty(),e)}function rA(a){return new Za(a.readTime,a.key,wo)}class Za{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Za(xe.min(),pe.empty(),wo)}static max(){return new Za(xe.max(),pe.empty(),wo)}}function sA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(a.documentKey,e.documentKey),i!==0?i:Me(a.largestBatchId,e.largestBatchId))}const lA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Js(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==lA)throw a;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof te?i:te.resolve(i)}catch(i){return te.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):te.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):te.reject(i)}static resolve(e){return new te(((i,s)=>{i(e)}))}static reject(e){return new te(((i,s)=>{s(e)}))}static waitFor(e){return new te(((i,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&i()}),(v=>s(v)))})),f=!0,u===o&&i()}))}static or(e){let i=te.resolve(!1);for(const s of e)i=i.next((o=>o?te.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(e,i){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let v=0;v<u;v++){const g=v;i(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,i){return new te(((s,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):s()};u()}))}}function uA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ws(a){return a.name==="IndexedDbTransactionError"}class ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ih.ce=-1;const Mm=-1;function ah(a){return a==null}function Uc(a){return a===0&&1/a==-1/0}function cA(a){return typeof a=="number"&&Number.isInteger(a)&&!Uc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const _b="";function hA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=C0(e)),e=fA(a.get(i),e);return C0(e)}function fA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":i+="";break;case _b:i+="";break;default:i+=u}}return i}function C0(a){return a+_b+""}function R0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ar(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function bb(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ht{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,u){return new Qt(e??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,s,o,u){return this}insert(e,i,s){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Mt(this.comparator);return i.data=e,i}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new An([])}unionWith(e){let i=new Mt(Kt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new An(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Eb("Invalid base64 string: "+u):u}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const dA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(a){if(Qe(!!a,39018),typeof a=="string"){let e=0;const i=dA.exec(a);if(Qe(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(a.seconds),nanos:bt(a.nanos)}}function bt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Wa(a){return typeof a=="string"?Yt.fromBase64String(a):Yt.fromUint8Array(a)}const xb="server_timestamp",wb="__type__",Tb="__previous_value__",Sb="__local_write_time__";function km(a){return(a?.mapValue?.fields||{})[wb]?.stringValue===xb}function rh(a){const e=a.mapValue.fields[Tb];return km(e)?rh(e):e}function To(a){const e=Ja(a.mapValue.fields[Sb].timestampValue);return new rt(e.seconds,e.nanos)}class mA{constructor(e,i,s,o,u,f,m,v,g,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=g,this.isUsingEmulator=E}}const zc="(default)";class So{constructor(e,i){this.projectId=e,this.database=i||zc}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===zc}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}const Ab="__type__",pA="__max__",Ec={mapValue:{}},Nb="__vector__",Pc="value";function er(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?km(a)?4:yA(a)?9007199254740991:gA(a)?10:11:Ee(28295,{value:a})}function ji(a,e){if(a===e)return!0;const i=er(a);if(i!==er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return To(a).isEqual(To(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ja(o.timestampValue),m=Ja(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return Wa(o.bytesValue).isEqual(Wa(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?Uc(f)===Uc(m):isNaN(f)&&isNaN(m)}return!1})(a,e);case 9:return Hs(a.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(R0(f)!==R0(m))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(m[v]===void 0||!ji(f[v],m[v])))return!1;return!0})(a,e);default:return Ee(52216,{left:a})}}function Ao(a,e){return(a.values||[]).find((i=>ji(i,e)))!==void 0}function Fs(a,e){if(a===e)return 0;const i=er(a),s=er(e);if(i!==s)return Me(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Me(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=bt(u.integerValue||u.doubleValue),v=bt(f.integerValue||f.doubleValue);return m<v?-1:m>v?1:m===v?0:isNaN(m)?isNaN(v)?0:-1:1})(a,e);case 3:return I0(a.timestampValue,e.timestampValue);case 4:return I0(To(a),To(e));case 5:return im(a.stringValue,e.stringValue);case 6:return(function(u,f){const m=Wa(u),v=Wa(f);return m.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),v=f.split("/");for(let g=0;g<m.length&&g<v.length;g++){const E=Me(m[g],v[g]);if(E!==0)return E}return Me(m.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Me(bt(u.latitude),bt(f.latitude));return m!==0?m:Me(bt(u.longitude),bt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return V0(a.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},v=f.fields||{},g=m[Pc]?.arrayValue,E=v[Pc]?.arrayValue,x=Me(g?.values?.length||0,E?.values?.length||0);return x!==0?x:V0(g,E)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Ec.mapValue&&f===Ec.mapValue)return 0;if(u===Ec.mapValue)return 1;if(f===Ec.mapValue)return-1;const m=u.fields||{},v=Object.keys(m),g=f.fields||{},E=Object.keys(g);v.sort(),E.sort();for(let x=0;x<v.length&&x<E.length;++x){const N=im(v[x],E[x]);if(N!==0)return N;const k=Fs(m[v[x]],g[E[x]]);if(k!==0)return k}return Me(v.length,E.length)})(a.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function I0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Me(a,e);const i=Ja(a),s=Ja(e),o=Me(i.seconds,s.seconds);return o!==0?o:Me(i.nanos,s.nanos)}function V0(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=Fs(i[o],s[o]);if(u)return u}return Me(i.length,s.length)}function Gs(a){return am(a)}function am(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Ja(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Wa(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return pe.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=am(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${am(i.fields[f])}`;return o+"}"})(a.mapValue):Ee(61005,{value:a})}function Cc(a){switch(er(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rh(a);return e?16+Cc(e):16;case 5:return 2*a.stringValue.length;case 6:return Wa(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Cc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return ar(s.fields,((u,f)=>{o+=u.length+Cc(f)})),o})(a.mapValue);default:throw Ee(13486,{value:a})}}function j0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function rm(a){return!!a&&"integerValue"in a}function Lm(a){return!!a&&"arrayValue"in a}function O0(a){return!!a&&"nullValue"in a}function M0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Rc(a){return!!a&&"mapValue"in a}function gA(a){return(a?.mapValue?.fields||{})[Ab]?.stringValue===Nb}function go(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return ar(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=go(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=go(a.arrayValue.values[i]);return e}return{...a}}function yA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===pA}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Rc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=go(i)}setAll(e){let i=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=go(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(e){const i=this.field(e.popLast());Rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ar(i,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(go(this.value))}}function Cb(a){const e=[];return ar(a.fields,((i,s)=>{const o=new Kt([i]);if(Rc(s)){const u=Cb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new An(e)}class Wt{constructor(e,i,s,o,u,f,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,xe.min(),xe.min(),xe.min(),dn.empty(),0)}static newFoundDocument(e,i,s,o){return new Wt(e,1,i,xe.min(),s,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,xe.min(),xe.min(),dn.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,xe.min(),xe.min(),dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bc{constructor(e,i){this.position=e,this.inclusive=i}}function k0(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),i.key):s=Fs(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function L0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ji(a.position[i],e.position[i]))return!1;return!0}class No{constructor(e,i="asc"){this.field=e,this.dir=i}}function vA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Rb{}class It extends Rb{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new bA(e,i,s):i==="array-contains"?new wA(e,s):i==="in"?new TA(e,s):i==="not-in"?new SA(e,s):i==="array-contains-any"?new AA(e,s):new It(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new EA(e,s):new xA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fs(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison(Fs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Rb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ai(e,i)}matches(e){return Db(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Db(a){return a.op==="and"}function Ib(a){return _A(a)&&Db(a)}function _A(a){for(const e of a.filters)if(e instanceof ai)return!1;return!0}function sm(a){if(a instanceof It)return a.field.canonicalString()+a.op.toString()+Gs(a.value);if(Ib(a))return a.filters.map((e=>sm(e))).join(",");{const e=a.filters.map((i=>sm(i))).join(",");return`${a.op}(${e})`}}function Vb(a,e){return a instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&ji(s.value,o.value)})(a,e):a instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Vb(f,o.filters[m])),!0):!1})(a,e):void Ee(19439)}function jb(a){return a instanceof It?(function(i){return`${i.field.canonicalString()} ${i.op} ${Gs(i.value)}`})(a):a instanceof ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(jb).join(" ,")+"}"})(a):"Filter"}class bA extends It{constructor(e,i,s){super(e,i,s),this.key=pe.fromName(s.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class EA extends It{constructor(e,i){super(e,"in",i),this.keys=Ob("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class xA extends It{constructor(e,i){super(e,"not-in",i),this.keys=Ob("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Ob(a,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class wA extends It{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Lm(i)&&Ao(i.arrayValue,this.value)}}class TA extends It{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ao(this.value.arrayValue,i)}}class SA extends It{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ao(this.value.arrayValue,i)}}class AA extends It{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ao(this.value.arrayValue,s)))}}class NA{constructor(e,i=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function U0(a,e=null,i=[],s=[],o=null,u=null,f=null){return new NA(a,e,i,s,o,u,f)}function Um(a){const e=Te(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>sm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Gs(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Gs(s))).join(",")),e.Te=i}return e.Te}function zm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!vA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Vb(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!L0(a.startAt,e.startAt)&&L0(a.endAt,e.endAt)}function lm(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class el{constructor(e,i=null,s=[],o=[],u=null,f="F",m=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CA(a,e,i,s,o,u,f,m){return new el(a,e,i,s,o,u,f,m)}function sh(a){return new el(a)}function z0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Mb(a){return a.collectionGroup!==null}function yo(a){const e=Te(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Kt.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new No(u,s))})),i.has(Kt.keyField().canonicalString())||e.Ie.push(new No(Kt.keyField(),s))}return e.Ie}function Ri(a){const e=Te(a);return e.Ee||(e.Ee=RA(e,yo(a))),e.Ee}function RA(a,e){if(a.limitType==="F")return U0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new No(o.field,u)}));const i=a.endAt?new Bc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Bc(a.startAt.position,a.startAt.inclusive):null;return U0(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function om(a,e){const i=a.filters.concat([e]);return new el(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function qc(a,e,i){return new el(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function lh(a,e){return zm(Ri(a),Ri(e))&&a.limitType===e.limitType}function kb(a){return`${Um(Ri(a))}|lt:${a.limitType}`}function Ls(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>jb(o))).join(", ")}]`),ah(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Gs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Gs(o))).join(",")),`Target(${s})`})(Ri(a))}; limitType=${a.limitType})`}function oh(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of yo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,v){const g=k0(f,m,v);return f.inclusive?g<=0:g<0})(s.startAt,yo(s),o)||s.endAt&&!(function(f,m,v){const g=k0(f,m,v);return f.inclusive?g>=0:g>0})(s.endAt,yo(s),o))})(a,e)}function DA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Lb(a){return(e,i)=>{let s=!1;for(const o of yo(a)){const u=IA(o,e,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function IA(a,e,i){const s=a.field.isKeyField()?pe.comparator(e.key,i.key):(function(u,f,m){const v=f.data.field(u),g=m.data.field(u);return v!==null&&g!==null?Fs(v,g):Ee(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:a.dir})}}class Kr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ar(this.inner,((i,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}const VA=new ht(pe.comparator);function oa(){return VA}const Ub=new ht(pe.comparator);function ho(...a){let e=Ub;for(const i of a)e=e.insert(i.key,i);return e}function zb(a){let e=Ub;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ur(){return vo()}function Pb(){return vo()}function vo(){return new Kr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const jA=new ht(pe.comparator),OA=new Mt(pe.comparator);function ke(...a){let e=OA;for(const i of a)e=e.add(i);return e}const MA=new Mt(Me);function kA(){return MA}function Pm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function Bb(a){return{integerValue:""+a}}function LA(a,e){return cA(e)?Bb(e):Pm(a,e)}class uh{constructor(){this._=void 0}}function UA(a,e,i){return a instanceof Hc?(function(o,u){const f={fields:{[wb]:{stringValue:xb},[Sb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&km(u)&&(u=rh(u)),u&&(f.fields[Tb]=u),{mapValue:f}})(i,e):a instanceof Co?Hb(a,e):a instanceof Ro?Fb(a,e):(function(o,u){const f=qb(o,u),m=P0(f)+P0(o.Ae);return rm(f)&&rm(o.Ae)?Bb(m):Pm(o.serializer,m)})(a,e)}function zA(a,e,i){return a instanceof Co?Hb(a,e):a instanceof Ro?Fb(a,e):i}function qb(a,e){return a instanceof Fc?(function(s){return rm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Hc extends uh{}class Co extends uh{constructor(e){super(),this.elements=e}}function Hb(a,e){const i=Gb(e);for(const s of a.elements)i.some((o=>ji(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Ro extends uh{constructor(e){super(),this.elements=e}}function Fb(a,e){let i=Gb(e);for(const s of a.elements)i=i.filter((o=>!ji(o,s)));return{arrayValue:{values:i}}}class Fc extends uh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function P0(a){return bt(a.integerValue||a.doubleValue)}function Gb(a){return Lm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function PA(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Co&&o instanceof Co||s instanceof Ro&&o instanceof Ro?Hs(s.elements,o.elements,ji):s instanceof Fc&&o instanceof Fc?ji(s.Ae,o.Ae):s instanceof Hc&&o instanceof Hc})(a.transform,e.transform)}class BA{constructor(e,i){this.version=e,this.transformResults=i}}class qn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class ch{}function Qb(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Bm(a.key,qn.none()):new Uo(a.key,a.data,qn.none());{const i=a.data,s=dn.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rr(a.key,s,new An(o.toArray()),qn.none())}}function qA(a,e,i){a instanceof Uo?(function(o,u,f){const m=o.value.clone(),v=q0(o.fieldTransforms,u,f.transformResults);m.setAll(v),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(a,e,i):a instanceof rr?(function(o,u,f){if(!Dc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=q0(o.fieldTransforms,u,f.transformResults),v=u.data;v.setAll(Kb(o)),v.setAll(m),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(a,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function _o(a,e,i,s){return a instanceof Uo?(function(u,f,m,v){if(!Dc(u.precondition,f))return m;const g=u.value.clone(),E=H0(u.fieldTransforms,v,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(a,e,i,s):a instanceof rr?(function(u,f,m,v){if(!Dc(u.precondition,f))return m;const g=H0(u.fieldTransforms,v,f),E=f.data;return E.setAll(Kb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(a,e,i,s):(function(u,f,m){return Dc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(a,e,i)}function HA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=qb(s.transform,o||null);u!=null&&(i===null&&(i=dn.empty()),i.set(s.field,u))}return i||null}function B0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Hs(s,o,((u,f)=>PA(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Uo extends ch{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rr extends ch{constructor(e,i,s,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Kb(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function q0(a,e,i){const s=new Map;Qe(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const u=a[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,zA(f,m,i[o]))}return s}function H0(a,e,i){const s=new Map;for(const o of a){const u=o.transform,f=i.data.field(o.field);s.set(o.field,UA(u,f,e))}return s}class Bm extends ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FA extends ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qA(u,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=_o(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=_o(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Pb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const v=Qb(f,m);v!==null&&s.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,((i,s)=>B0(i,s)))&&Hs(this.baseMutations,e.baseMutations,((i,s)=>B0(i,s)))}}class qm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return jA})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new qm(e,i,s,o)}}class QA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Dt,Pe;function YA(a){switch(a){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:a})}}function Yb(a){if(a===void 0)return la("GRPC error has no .code"),W.UNKNOWN;switch(a){case Dt.OK:return W.OK;case Dt.CANCELLED:return W.CANCELLED;case Dt.UNKNOWN:return W.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return W.INTERNAL;case Dt.UNAVAILABLE:return W.UNAVAILABLE;case Dt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Dt.NOT_FOUND:return W.NOT_FOUND;case Dt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Dt.ABORTED:return W.ABORTED;case Dt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Dt.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:a})}}(Pe=Dt||(Dt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function XA(){return new TextEncoder}const $A=new Ka([4294967295,4294967295],0);function F0(a){const e=XA().encode(a),i=new ub;return i.update(e),new Uint8Array(i.digest())}function G0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ka([i,s],0),new Ka([o,u],0)]}class Hm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new fo(`Invalid padding: ${i}`);if(s<0)throw new fo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new fo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ka.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ka.fromNumber(s)));return o.compare($A)===1&&(o=new Ka([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=F0(e),[s,o]=G0(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hm(u,o,i);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const i=F0(e),[s,o]=G0(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hh{constructor(e,i,s,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,zo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new hh(xe.min(),o,new ht(Me),oa(),ke())}}class zo{constructor(e,i,s,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new zo(s,i,ke(),ke(),ke())}}class Ic{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Xb{constructor(e,i){this.targetId=e,this.Ce=i}}class $b{constructor(e,i,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Q0{constructor(){this.ve=0,this.Fe=K0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),i=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new zo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZA{constructor(e){this.Ge=e,this.ze=new Map,this.je=oa(),this.Je=xc(),this.He=xc(),this.Ye=new ht(Me)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(lm(u))if(s===0){const f=new pe(u.path);this.et(i,f,Wt.newNoDocument(f,xe.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const m=this.ut(e),v=m?this.ct(m,e,f):1;if(v!==0){this.it(i);const g=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=Wa(s).toUint8Array()}catch(v){if(v instanceof Eb)return qs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{m=new Hm(f,o,u)}catch(v){return qs(v instanceof fo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return m.ge===0?null:m}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&lm(m.target)){const v=new pe(m.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,Wt.newNoDocument(v,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((v=>{const g=this.ot(v);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new hh(e,i,this.Ye,this.je,s);return this.je=oa(),this.Je=xc(),this.He=xc(),this.Ye=new ht(Me),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Q0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Mt(Me),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Mt(Me),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function xc(){return new ht(pe.comparator)}function K0(){return new ht(pe.comparator)}const JA={asc:"ASCENDING",desc:"DESCENDING"},WA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eN={and:"AND",or:"OR"};class tN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function um(a,e){return a.useProto3Json||ah(e)?e:{value:e}}function Gc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zb(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function nN(a,e){return Gc(a,e.toTimestamp())}function Di(a){return Qe(!!a,49232),xe.fromTimestamp((function(i){const s=Ja(i);return new rt(s.seconds,s.nanos)})(a))}function Fm(a,e){return cm(a,e).canonicalString()}function cm(a,e){const i=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Jb(a){const e=nt.fromString(a);return Qe(i1(e),10190,{key:e.toString()}),e}function hm(a,e){return Fm(a.databaseId,e.path)}function Ld(a,e){const i=Jb(e);if(i.get(1)!==a.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pe(e1(i))}function Wb(a,e){return Fm(a.databaseId,e)}function iN(a){const e=Jb(a);return e.length===4?nt.emptyPath():e1(e)}function fm(a){return new nt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function e1(a){return Qe(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Y0(a,e,i){return{name:hm(a,e),fields:i.value.mapValue.fields}}function aN(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?W.UNKNOWN:Yb(g.code);return new ue(E,g.message||"")})(f);i=new $b(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ld(a,s.document.name),u=Di(s.document.updateTime),f=s.document.createTime?Di(s.document.createTime):xe.min(),m=new dn({mapValue:{fields:s.document.fields}}),v=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];i=new Ic(g,E,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ld(a,s.document),u=s.readTime?Di(s.readTime):xe.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];i=new Ic([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ld(a,s.document),u=s.removedTargetIds||[];i=new Ic([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new KA(o,u),m=s.targetId;i=new Xb(m,f)}}return i}function rN(a,e){let i;if(e instanceof Uo)i={update:Y0(a,e.key,e.value)};else if(e instanceof Bm)i={delete:hm(a,e.key)};else if(e instanceof rr)i={update:Y0(a,e.key,e.data),updateMask:mN(e.fieldMask)};else{if(!(e instanceof FA))return Ee(16599,{Vt:e.type});i={verify:hm(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Hc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Co)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ro)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:nN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(a,e.precondition)),i}function sN(a,e){return a&&a.length>0?(Qe(e!==void 0,14353),a.map((i=>(function(o,u){let f=o.updateTime?Di(o.updateTime):Di(u);return f.isEqual(xe.min())&&(f=Di(u)),new BA(f,o.transformResults||[])})(i,e)))):[]}function lN(a,e){return{documents:[Wb(a,e.path)]}}function oN(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Wb(a,o);const u=(function(g){if(g.length!==0)return n1(ai.create(g,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(N){return{field:Us(N.field),direction:hN(N.dir)}})(E)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const m=um(a,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:o}}function uN(a){let e=iN(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(x){const N=t1(x);return N instanceof ai&&Ib(N)?N.getFilters():[N]})(i.where));let f=[];i.orderBy&&(f=(function(x){return x.map((N=>(function(F){return new No(zs(F.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(N)))})(i.orderBy));let m=null;i.limit&&(m=(function(x){let N;return N=typeof x=="object"?x.value:x,ah(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(x){const N=!!x.before,k=x.values||[];return new Bc(k,N)})(i.startAt));let g=null;return i.endAt&&(g=(function(x){const N=!x.before,k=x.values||[];return new Bc(k,N)})(i.endAt)),CA(e,o,f,u,m,"F",v,g)}function cN(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function t1(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=zs(i.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zs(i.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zs(i.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=zs(i.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(a):a.fieldFilter!==void 0?(function(i){return It.create(zs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ai.create(i.compositeFilter.filters.map((s=>t1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(a):Ee(30097,{filter:a})}function hN(a){return JA[a]}function fN(a){return WA[a]}function dN(a){return eN[a]}function Us(a){return{fieldPath:a.canonicalString()}}function zs(a){return Kt.fromServerFormat(a.fieldPath)}function n1(a){return a instanceof It?(function(i){if(i.op==="=="){if(M0(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NAN"}};if(O0(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(M0(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NOT_NAN"}};if(O0(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(i.field),op:fN(i.op),value:i.value}}})(a):a instanceof ai?(function(i){const s=i.getFilters().map((o=>n1(o)));return s.length===1?s[0]:{compositeFilter:{op:dN(i.op),filters:s}}})(a):Ee(54877,{filter:a})}function mN(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function i1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Fa{constructor(e,i,s,o,u=xe.min(),f=xe.min(),m=Yt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pN{constructor(e){this.yt=e}}function gN(a){const e=uN({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?qc(e,e.limit,"L"):e}class yN{constructor(){this.Cn=new vN}addToCollectionParentIndex(e,i){return this.Cn.add(i),te.resolve()}getCollectionParents(e,i){return te.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return te.resolve()}deleteFieldIndex(e,i){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,i){return te.resolve()}getDocumentsMatchingTarget(e,i){return te.resolve(null)}getIndexType(e,i){return te.resolve(0)}getFieldIndexes(e,i){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,i){return te.resolve(Za.min())}getMinOffsetFromCollectionGroup(e,i){return te.resolve(Za.min())}updateCollectionGroup(e,i,s){return te.resolve()}updateIndexEntries(e,i){return te.resolve()}}class vN{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Mt(nt.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a1=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(a1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Qs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qs(0)}static cr(){return new Qs(-1)}}const $0="LruGarbageCollector",_N=1048576;function Z0([a,e],[i,s]){const o=Me(a,i);return o===0?Me(e,s):o}class bN{constructor(e){this.Ir=e,this.buffer=new Mt(Z0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Z0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class EN{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ws(i)?ce($0,"Ignoring IndexedDB error during garbage collection: ",i):await Js(i)}await this.Vr(3e5)}))}}class xN{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return te.resolve(ih.ce);const s=new bN(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(X0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,u,f,m,v,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(s=x,m=Date.now(),this.removeTargets(e,s,i)))).next((x=>(u=x,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((x=>(g=Date.now(),ks()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(v-m)+`ms
	Removed ${x} documents in `+(g-v)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function wN(a,e){return new xN(a,e)}class TN{constructor(){this.changes=new Kr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?te.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class AN{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&_o(s.mutation,o,An.empty(),rt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=ke()){const o=Ur();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((u=>{let f=ho();return u.forEach(((m,v)=>{f=f.insert(m,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Ur();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,ke())))}populateOverlays(e,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(e,i,s,o){let u=oa();const f=vo(),m=(function(){return vo()})();return i.forEach(((v,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof rr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),_o(E.mutation,g,E.mutation.getFieldMask(),rt.now())):f.set(g.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((g,E)=>f.set(g,E))),i.forEach(((g,E)=>m.set(g,new SN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,i){const s=vo();let o=new ht(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const m of f)m.keys().forEach((v=>{const g=i.get(v);if(g===null)return;let E=s.get(v)||An.empty();E=m.applyToLocalView(g,E),s.set(v,E);const x=(o.get(m.batchId)||ke()).add(v);o=o.insert(m.batchId,x)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),g=v.key,E=v.value,x=Pb();E.forEach((N=>{if(!u.has(N)){const k=Qb(i.get(N),s.get(N));k!==null&&x.set(N,k),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,x))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Mb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-u.size):te.resolve(Ur());let m=wo,v=u;return f.next((g=>te.forEach(g,((E,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((N=>{v=v.insert(E,N)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,v,g,ke()))).next((E=>({batchId:m,changes:zb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((s=>{let o=ho();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const u=i.collectionGroup;let f=ho();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(v=>{const g=(function(x,N){return new el(N,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((x,N)=>{f=f.insert(x,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,o)))).next((f=>{u.forEach(((v,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=ho();return f.forEach(((v,g)=>{const E=u.get(v);E!==void 0&&_o(E.mutation,g,An.empty(),rt.now()),oh(i,g)&&(m=m.insert(v,g))})),m}))}}class NN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return te.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(i)),te.resolve()}getNamedQuery(e,i){return te.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:gN(o.bundledQuery),readTime:Di(o.readTime)}})(i)),te.resolve()}}class CN{constructor(){this.overlays=new ht(pe.comparator),this.qr=new Map}getOverlay(e,i){return te.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ur();return te.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,u)=>{this.St(e,i,u)})),te.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,i,s){const o=Ur(),u=i.length+1,f=new pe(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const v=m.getNext().value,g=v.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&v.largestBatchId>s&&o.set(v.getKey(),v)}return te.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let u=new ht(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ur(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ur(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new QA(i,s));let u=this.qr.get(i);u===void 0&&(u=ke(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class RN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,te.resolve()}}class Gm{constructor(){this.Qr=new Mt(zt.$r),this.Ur=new Mt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new zt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new zt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pe(new nt([])),s=new zt(i,e),o=new zt(i,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new nt([])),s=new zt(i,e),o=new zt(i,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new zt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Me(e.Yr,i.Yr)}static Kr(e,i){return Me(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class DN{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(zt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new GA(u,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,i){return te.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Mt(Me);return i.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new zt(new pe(u),0);let m=new Mt(Me);return this.Zr.forEachWhile((v=>{const g=v.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(v.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Qe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(i.mutations,(o=>{const u=new zt(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new zt(i,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class IN{constructor(e){this.ri=e,this.docs=(function(){return new ht(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let s=oa();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let u=oa();const f=i.path,m=new pe(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:g,value:{document:E}}=v.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||sA(rA(E),s)<=0||(o.has(E.key)||oh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,i,s,o){Ee(9500)}ii(e,i){return te.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new VN(this)}getSize(e){return te.resolve(this.size)}}class VN extends TN{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class jN{constructor(e){this.persistence=e,this.si=new Kr((i=>Um(i)),zm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Gm,this.targetCount=0,this.ai=Qs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),te.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Qs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,te.resolve()}updateTargetData(e,i){return this.Pr(i),te.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,i,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return te.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),te.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),te.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return te.resolve(s)}containsKey(e,i){return te.resolve(this._i.containsKey(i))}}class r1{constructor(e,i){this.ui={},this.overlays={},this.ci=new ih(0),this.li=!1,this.li=!0,this.hi=new RN,this.referenceDelegate=e(this),this.Pi=new jN(this),this.indexManager=new yN,this.remoteDocumentCache=(function(o){return new IN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new pN(i),this.Ii=new NN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new CN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new DN(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ce("MemoryPersistence","Starting transaction:",e);const o=new ON(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class ON extends oA{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Ri=new Gm,this.Vi=null}static mi(e){return new Qm(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),te.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),te.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return te.or([()=>te.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Qc{constructor(e,i){this.persistence=e,this.pi=new Kr((s=>hA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=wN(this,i)}static mi(e,i){return new Qc(e,i)}Ei(){}di(e){return te.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((m=>{m||(s++,u.removeEntry(f,xe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Cc(e.data.value)),i}br(e,i,s){return te.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Km{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=ke(),o=ke();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Km(e,i.fromCache,s,o)}}class MN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I2()?8:uA(R2())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new MN;return this.Ss(e,i,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,i,f,m.size)}))})).next((()=>u.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(ks()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ls(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(ks()<=Be.DEBUG&&ce("QueryEngine","Query:",Ls(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ks()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ls(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):te.resolve())}ys(e,i){if(z0(i))return te.resolve(null);let s=Ri(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=qc(i,null,"F"),s=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((v=>{const g=this.Ds(i,m);return this.Cs(i,g,f,v.readTime)?this.ys(e,qc(i,null,"F")):this.vs(e,g,i,v)}))))})))))}ws(e,i,s,o){return z0(i)||o.isEqual(xe.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,o)?te.resolve(null):(ks()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ls(i)),this.vs(e,f,i,aA(o,wo)).next((m=>m)))}))}Ds(e,i){let s=new Mt(Lb(e));return i.forEach(((o,u)=>{oh(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,s){return ks()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ls(i)),this.ps.getDocumentsMatchingQuery(e,i,Za.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Ym="LocalStore",LN=3e8;class UN{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ht(Me),this.xs=new Kr((u=>Um(u)),zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function zN(a,e,i,s){return new UN(a,e,i,s)}async function s1(a,e){const i=Te(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let v=ke();for(const g of o){f.push(g.batchId);for(const E of g.mutations)v=v.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)v=v.add(E.key)}return i.localDocuments.getDocuments(s,v).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function PN(a,e){const i=Te(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,v,g,E){const x=g.batch,N=x.keys();let k=te.resolve();return N.forEach((F=>{k=k.next((()=>E.getEntry(v,F))).next((Y=>{const z=g.docVersions.get(F);Qe(z!==null,48541),Y.version.compareTo(z)<0&&(x.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(v,x)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let v=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(v=v.add(m.batch.mutations[g].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function l1(a){const e=Te(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function BN(a,e){const i=Te(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];e.targetChanges.forEach(((E,x)=>{const N=o.get(x);if(!N)return;m.push(i.Pi.removeMatchingKeys(u,E.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(u,E.addedDocuments,x))));let k=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(x,k),(function(Y,z,$){return Y.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=LN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(N,k,E)&&m.push(i.Pi.updateTargetData(u,k))}));let v=oa(),g=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(qN(u,f,e.documentUpdates).next((E=>{v=E.ks,g=E.qs}))),!s.isEqual(xe.min())){const E=i.Pi.getLastRemoteSnapshotVersion(u).next((x=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,v,g))).next((()=>v))})).then((u=>(i.Ms=o,u)))}function qN(a,e,i){let s=ke(),o=ke();return i.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=oa();return i.forEach(((m,v)=>{const g=u.get(m);v.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),v.isNoDocument()&&v.version.isEqual(xe.min())?(e.removeEntry(m,v.readTime),f=f.insert(m,v)):!g.isValidDocument()||v.version.compareTo(g.version)>0||v.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(v),f=f.insert(m,v)):ce(Ym,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function HN(a,e){const i=Te(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function FN(a,e){const i=Te(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Fa(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function dm(a,e,i){const s=Te(a),o=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ws(f))throw f;ce(Ym,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function J0(a,e,i){const s=Te(a);let o=xe.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,g,E){const x=Te(v),N=x.xs.get(E);return N!==void 0?te.resolve(x.Ms.get(N)):x.Pi.getTargetData(g,E)})(s,f,Ri(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((v=>{u=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:xe.min(),i?u:ke()))).next((m=>(GN(s,DA(e),m),{documents:m,Qs:u})))))}function GN(a,e,i){let s=a.Os.get(e)||xe.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class W0{constructor(){this.activeTargetIds=kA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QN{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KN{Oo(e){}shutdown(){}}const e_="ConnectivityMonitor";class t_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(e_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(e_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function mm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const Ud="RestConnection",YN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===zc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,u){const f=mm(),m=this.zo(e,i.toUriEncodedString());ce(Ud,`Sending RPC '${e}' ${f}:`,m,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:g}=new URL(m),E=Im(g);return this.Jo(e,m,v,s,E).then((x=>(ce(Ud,`Received RPC '${e}' ${f}: `,x),x)),(x=>{throw qs(Ud,`RPC '${e}' ${f} failed with error: `,x,"url: ",m,"request:",s),x}))}Ho(e,i,s,o,u,f){return this.Go(e,i,s,o,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const s=YN[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class $N{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class ZN extends XN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,u){const f=mm();return new Promise(((m,v)=>{const g=new cb;g.setWithCredentials(!0),g.listenOnce(hb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nc.NO_ERROR:const x=g.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),m(x);break;case Nc.TIMEOUT:ce(Zt,`RPC '${e}' ${f} timed out`),v(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const N=g.getStatus();if(ce(Zt,`RPC '${e}' ${f} failed with status:`,N,"response text:",g.getResponseText()),N>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const Y=(function($){const ie=$.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN})(F.status);v(new ue(Y,F.message))}else v(new ue(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else v(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Zt,`RPC '${e}' ${f} sending request:`,o),g.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=mm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=mb(),m=db(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(v.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const E=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,v);const x=f.createWebChannel(E,v);this.I_(x);let N=!1,k=!1;const F=new $N({Yo:z=>{k?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(N||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),N=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,z),x.send(z))},Zo:()=>x.close()}),Y=(z,$,ie)=>{z.listen($,(re=>{try{ie(re)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return Y(x,co.EventType.OPEN,(()=>{k||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Y(x,co.EventType.CLOSE,(()=>{k||(k=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(x))})),Y(x,co.EventType.ERROR,(z=>{k||(k=!0,qs(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),F.a_(new ue(W.UNAVAILABLE,"The operation could not be completed")))})),Y(x,co.EventType.MESSAGE,(z=>{if(!k){const $=z.data[0];Qe(!!$,16349);const ie=$,re=ie?.error||ie[0]?.error;if(re){ce(Zt,`RPC '${e}' stream ${o} received error:`,re);const ye=re.status;let ve=(function(D){const V=Dt[D];if(V!==void 0)return Yb(V)})(ye),_e=re.message;ve===void 0&&(ve=W.INTERNAL,_e="Unknown error status: "+ye+" with message "+re.message),k=!0,F.a_(new ue(ve,_e)),x.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,$),F.u_($)}})),Y(m,fb.STAT_EVENT,(z=>{z.stat===nm.PROXY?ce(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===nm.NOPROXY&&ce(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function zd(){return typeof document<"u"?document:null}function fh(a){return new tN(a,!0)}class o1{constructor(e,i,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const n_="PersistentStream";class u1{constructor(e,i,s,o,u,f,m,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new o1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(la(i.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JN extends u1{constructor(e,i,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=aN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Di(f.readTime):xe.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=fm(this.serializer),i.addTarget=(function(u,f){let m;const v=f.target;if(m=lm(v)?{documents:lN(u,v)}:{query:oN(u,v).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Zb(u,f.resumeToken);const g=um(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(xe.min())>0){m.readTime=Gc(u,f.snapshotVersion.toTimestamp());const g=um(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=cN(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=fm(this.serializer),i.removeTarget=e,this.q_(i)}}class WN extends u1{constructor(e,i,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=sN(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=fm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>rN(this.serializer,s)))};this.q_(i)}}class e4{}class t4 extends e4{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,cm(i,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(W.UNKNOWN,u.toString())}))}Ho(e,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,cm(i,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class n4{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(la(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qr="RemoteStore";class i4{constructor(e,i,s,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Yr(this)&&(ce(qr,"Restarting streams for network reachability change."),await(async function(v){const g=Te(v);g.Ea.add(4),await Po(g),g.Ra.set("Unknown"),g.Ea.delete(4),await dh(g)})(this))}))})),this.Ra=new n4(s,o)}}async function dh(a){if(Yr(a))for(const e of a.da)await e(!0)}async function Po(a){for(const e of a.da)await e(!1)}function c1(a,e){const i=Te(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Jm(i)?Zm(i):tl(i).O_()&&$m(i,e))}function Xm(a,e){const i=Te(a),s=tl(i);i.Ia.delete(e),s.O_()&&h1(i,e),i.Ia.size===0&&(s.O_()?s.L_():Yr(i)&&i.Ra.set("Unknown"))}function $m(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}tl(a).Y_(e)}function h1(a,e){a.Va.Ue(e),tl(a).Z_(e)}function Zm(a){a.Va=new ZA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),tl(a).start(),a.Ra.ua()}function Jm(a){return Yr(a)&&!tl(a).x_()&&a.Ia.size>0}function Yr(a){return Te(a).Ea.size===0}function f1(a){a.Va=void 0}async function a4(a){a.Ra.set("Online")}async function r4(a){a.Ia.forEach(((e,i)=>{$m(a,e)}))}async function s4(a,e){f1(a),Jm(a)?(a.Ra.ha(e),Zm(a)):a.Ra.set("Unknown")}async function l4(a,e,i){if(a.Ra.set("Online"),e instanceof $b&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(a,e)}catch(s){ce(qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kc(a,s)}else if(e instanceof Ic?a.Va.Ze(e):e instanceof Xb?a.Va.st(e):a.Va.tt(e),!i.isEqual(xe.min()))try{const s=await l1(a.localStore);i.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((v,g)=>{if(v.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(v.resumeToken,f))}})),m.targetMismatches.forEach(((v,g)=>{const E=u.Ia.get(v);if(!E)return;u.Ia.set(v,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),h1(u,v);const x=new Fa(E.target,v,g,E.sequenceNumber);$m(u,x)})),u.remoteSyncer.applyRemoteEvent(m)})(a,i)}catch(s){ce(qr,"Failed to raise snapshot:",s),await Kc(a,s)}}async function Kc(a,e,i){if(!Ws(e))throw e;a.Ea.add(1),await Po(a),a.Ra.set("Offline"),i||(i=()=>l1(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ce(qr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await dh(a)}))}function d1(a,e){return e().catch((i=>Kc(a,i,e)))}async function mh(a){const e=Te(a),i=tr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;o4(e);)try{const o=await HN(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,u4(e,o)}catch(o){await Kc(e,o)}m1(e)&&p1(e)}function o4(a){return Yr(a)&&a.Ta.length<10}function u4(a,e){a.Ta.push(e);const i=tr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function m1(a){return Yr(a)&&!tr(a).x_()&&a.Ta.length>0}function p1(a){tr(a).start()}async function c4(a){tr(a).ra()}async function h4(a){const e=tr(a);for(const i of a.Ta)e.ea(i.mutations)}async function f4(a,e,i){const s=a.Ta.shift(),o=qm.from(s,e,i);await d1(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await mh(a)}async function d4(a,e){e&&tr(a).X_&&await(async function(s,o){if((function(f){return YA(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();tr(s).B_(),await d1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await mh(s)}})(a,e),m1(a)&&p1(a)}async function i_(a,e){const i=Te(a);i.asyncQueue.verifyOperationInProgress(),ce(qr,"RemoteStore received new credentials");const s=Yr(i);i.Ea.add(3),await Po(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await dh(i)}async function m4(a,e){const i=Te(a);e?(i.Ea.delete(2),await dh(i)):e||(i.Ea.add(2),await Po(i),i.Ra.set("Unknown"))}function tl(a){return a.ma||(a.ma=(function(i,s,o){const u=Te(i);return u.sa(),new JN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:a4.bind(null,a),t_:r4.bind(null,a),r_:s4.bind(null,a),H_:l4.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Jm(a)?Zm(a):a.Ra.set("Unknown")):(await a.ma.stop(),f1(a))}))),a.ma}function tr(a){return a.fa||(a.fa=(function(i,s,o){const u=Te(i);return u.sa(),new WN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:c4.bind(null,a),r_:d4.bind(null,a),ta:h4.bind(null,a),na:f4.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await mh(a)):(await a.fa.stop(),a.Ta.length>0&&(ce(qr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Wm{constructor(e,i,s,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,u){const f=Date.now()+s,m=new Wm(e,i,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(a,e){if(la("AsyncQueue",`${e}: ${a}`),Ws(a))return new ue(W.UNAVAILABLE,`${e}: ${a}`);throw a}class Ps{static emptySet(e){return new Ps(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pe.comparator(i.key,s.key):(i,s)=>pe.comparator(i.key,s.key),this.keyedMap=ho(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ps)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ps;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class a_{constructor(){this.ga=new ht(pe.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ks{constructor(e,i,s,o,u,f,m,v,g){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=g}static fromInitialDocuments(e,i,s,o,u){const f=[];return i.forEach((m=>{f.push({type:0,doc:m})})),new Ks(e,i,Ps.emptySet(i),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class p4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g4{constructor(){this.queries=r_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Te(i),u=o.queries;o.queries=r_(),u.forEach(((f,m)=>{for(const v of m.Sa)v.onError(s)}))})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function r_(){return new Kr((a=>kb(a)),lh)}async function g1(a,e){const i=Te(a);let s=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new p4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=ep(f,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&tp(i)}async function y1(a,e){const i=Te(a),s=e.query;let o=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function y4(a,e){const i=Te(a);let s=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&tp(i)}function v4(a,e,i){const s=Te(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(e)}function tp(a){a.Ca.forEach((e=>{e.next()}))}var pm,s_;(s_=pm||(pm={})).Ma="default",s_.Cache="cache";class v1{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ks(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}class _1{constructor(e){this.key=e}}class b1{constructor(e){this.key=e}}class _4{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Lb(e),this.tu=new Ps(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new a_,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const N=o.get(E),k=oh(this.query,x)?x:null,F=!!N&&this.mutatedKeys.has(N.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let z=!1;N&&k?N.data.isEqual(k.data)?F!==Y&&(s.track({type:3,doc:k}),z=!0):this.su(N,k)||(s.track({type:2,doc:k}),z=!0,(v&&this.eu(k,v)>0||g&&this.eu(k,g)<0)&&(m=!0)):!N&&k?(s.track({type:0,doc:k}),z=!0):N&&!k&&(s.track({type:1,doc:N}),z=!0,(v||g)&&(m=!0)),z&&(k?(f=f.add(k),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,x)=>(function(k,F){const Y=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:z})}};return Y(k)-Y(F)})(E.type,x.type)||this.eu(E.doc,x.doc))),this.ou(s),o=o??!1;const m=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,g=v!==this.Za;return this.Za=v,f.length!==0||g?{snapshot:new Ks(this.query,e.tu,u,f,e.mutatedKeys,v===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new b1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new _1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ks.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const np="SyncEngine";class b4{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class E4{constructor(e){this.key=e,this.hu=!1}}class x4{constructor(e,i,s,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Kr((m=>kb(m)),lh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(pe.comparator),this.Au=new Map,this.Ru=new Gm,this.Vu={},this.mu=new Map,this.fu=Qs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function w4(a,e,i=!0){const s=A1(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await E1(s,e,i,!0),o}async function T4(a,e){const i=A1(a);await E1(i,e,!0,!1)}async function E1(a,e,i,s){const o=await FN(a.localStore,Ri(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let m;return s&&(m=await S4(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&c1(a.remoteStore,o),m}async function S4(a,e,i,s,o){a.pu=(x,N,k)=>(async function(Y,z,$,ie){let re=z.view.ru($);re.Cs&&(re=await J0(Y.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,re))));const ye=ie&&ie.targetChanges.get(z.targetId),ve=ie&&ie.targetMismatches.get(z.targetId)!=null,_e=z.view.applyChanges(re,Y.isPrimaryClient,ye,ve);return o_(Y,z.targetId,_e.au),_e.snapshot})(a,x,N,k);const u=await J0(a.localStore,e,!0),f=new _4(e,u.Qs),m=f.ru(u.documents),v=zo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),g=f.applyChanges(m,a.isPrimaryClient,v);o_(a,i,g.au);const E=new b4(e,i,f);return a.Tu.set(e,E),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),g.snapshot}async function A4(a,e,i){const s=Te(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!lh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Xm(s.remoteStore,o.targetId),gm(s,o.targetId)})).catch(Js)):(gm(s,o.targetId),await dm(s.localStore,o.targetId,!0))}async function N4(a,e){const i=Te(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Xm(i.remoteStore,s.targetId))}async function C4(a,e,i){const s=M4(a);try{const o=await(function(f,m){const v=Te(f),g=rt.now(),E=m.reduce(((k,F)=>k.add(F.key)),ke());let x,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=oa(),Y=ke();return v.Ns.getEntries(k,E).next((z=>{F=z,F.forEach((($,ie)=>{ie.isValidDocument()||(Y=Y.add($))}))})).next((()=>v.localDocuments.getOverlayedDocuments(k,F))).next((z=>{x=z;const $=[];for(const ie of m){const re=HA(ie,x.get(ie.key).overlayedDocument);re!=null&&$.push(new rr(ie.key,re,Cb(re.value.mapValue),qn.exists(!0)))}return v.mutationQueue.addMutationBatch(k,g,$,m)})).next((z=>{N=z;const $=z.applyToLocalDocumentSet(x,Y);return v.documentOverlayCache.saveOverlays(k,z.batchId,$)}))})).then((()=>({batchId:N.batchId,changes:zb(x)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,v){let g=f.Vu[f.currentUser.toKey()];g||(g=new ht(Me)),g=g.insert(m,v),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,i),await Bo(s,o.changes),await mh(s.remoteStore)}catch(o){const u=ep(o,"Failed to persist write");i.reject(u)}}async function x1(a,e){const i=Te(a);try{const s=await BN(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Bo(i,s,e)}catch(s){await Js(s)}}function l_(a,e,i){const s=Te(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const v=Te(f);v.onlineState=m;let g=!1;v.queries.forEach(((E,x)=>{for(const N of x.Sa)N.va(m)&&(g=!0)})),g&&tp(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function R4(a,e,i){const s=Te(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(pe.comparator);f=f.insert(u,Wt.newNoDocument(u,xe.min()));const m=ke().add(u),v=new hh(xe.min(),new Map,new ht(Me),f,m);await x1(s,v),s.du=s.du.remove(u),s.Au.delete(e),ip(s)}else await dm(s.localStore,e,!1).then((()=>gm(s,e,i))).catch(Js)}async function D4(a,e){const i=Te(a),s=e.batch.batchId;try{const o=await PN(i.localStore,e);T1(i,s,null),w1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Bo(i,o)}catch(o){await Js(o)}}async function I4(a,e,i){const s=Te(a);try{const o=await(function(f,m){const v=Te(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return v.mutationQueue.lookupMutationBatch(g,m).next((x=>(Qe(x!==null,37113),E=x.keys(),v.mutationQueue.removeMutationBatch(g,x)))).next((()=>v.mutationQueue.performConsistencyCheck(g))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>v.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);T1(s,e,i),w1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Bo(s,o)}catch(o){await Js(o)}}function w1(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function T1(a,e,i){const s=Te(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function gm(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||S1(a,s)}))}function S1(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Xm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),ip(a))}function o_(a,e,i){for(const s of i)s instanceof _1?(a.Ru.addReference(s.key,e),V4(a,s)):s instanceof b1?(ce(np,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||S1(a,s.key)):Ee(19791,{wu:s})}function V4(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ce(np,"New document in limbo: "+i),a.Eu.add(s),ip(a))}function ip(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new pe(nt.fromString(e)),s=a.fu.next();a.Au.set(s,new E4(i)),a.du=a.du.insert(i,s),c1(a.remoteStore,new Fa(Ri(sh(i.path)),s,"TargetPurposeLimboResolution",ih.ce))}}async function Bo(a,e,i){const s=Te(a),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,v)=>{f.push(s.pu(v,e,i).then((g=>{if((g||i)&&s.isPrimaryClient){const E=g?!g.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Km.As(v.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(v,g){const E=Te(v);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>te.forEach(g,(N=>te.forEach(N.Es,(k=>E.persistence.referenceDelegate.addReference(x,N.targetId,k))).next((()=>te.forEach(N.ds,(k=>E.persistence.referenceDelegate.removeReference(x,N.targetId,k)))))))))}catch(x){if(!Ws(x))throw x;ce(Ym,"Failed to update sequence numbers: "+x)}for(const x of g){const N=x.targetId;if(!x.fromCache){const k=E.Ms.get(N),F=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(N,Y)}}})(s.localStore,u))}async function j4(a,e){const i=Te(a);if(!i.currentUser.isEqual(e)){ce(np,"User change. New user:",e.toKey());const s=await s1(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((v=>{v.reject(new ue(W.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bo(i,s.Ls)}}function O4(a,e){const i=Te(a),s=i.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const m=i.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function A1(a){const e=Te(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=x1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R4.bind(null,e),e.Pu.H_=y4.bind(null,e.eventManager),e.Pu.yu=v4.bind(null,e.eventManager),e}function M4(a){const e=Te(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I4.bind(null,e),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zN(this.persistence,new kN,e.initialUser,this.serializer)}Cu(e){return new r1(Qm.mi,this.serializer)}Du(e){return new QN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class k4 extends Yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qe(this.persistence.referenceDelegate instanceof Qc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EN(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new r1((s=>Qc.mi(s,i)),this.serializer)}}class ym{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>l_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=j4.bind(null,this.syncEngine),await m4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g4})()}createDatastore(e){const i=fh(e.databaseInfo.databaseId),s=(function(u){return new ZN(u)})(e.databaseInfo);return(function(u,f,m,v){return new t4(u,f,m,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,u,f,m){return new i4(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>l_(this.syncEngine,i,0)),(function(){return t_.v()?new t_:new KN})())}createSyncEngine(e,i){return(function(o,u,f,m,v,g,E){const x=new x4(o,u,f,m,v,g);return E&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Te(i);ce(qr,"RemoteStore shutting down."),s.Ea.add(5),await Po(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class N1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const nr="FirestoreClient";class L4{constructor(e,i,s,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(nr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(nr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=ep(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pd(a,e){a.asyncQueue.verifyOperationInProgress(),ce(nr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await s1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function u_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await U4(a);ce(nr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>i_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>i_(e.remoteStore,o))),a._onlineComponents=e}async function U4(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ce(nr,"Using user provided OfflineComponentProvider");try{await Pd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;qs("Error using user provided cache. Falling back to memory cache: "+i),await Pd(a,new Yc)}}else ce(nr,"Using default OfflineComponentProvider"),await Pd(a,new k4(void 0));return a._offlineComponents}async function C1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ce(nr,"Using user provided OnlineComponentProvider"),await u_(a,a._uninitializedComponentsProvider._online)):(ce(nr,"Using default OnlineComponentProvider"),await u_(a,new ym))),a._onlineComponents}function z4(a){return C1(a).then((e=>e.syncEngine))}async function vm(a){const e=await C1(a),i=e.eventManager;return i.onListen=w4.bind(null,e.syncEngine),i.onUnlisten=A4.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=T4.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=N4.bind(null,e.syncEngine),i}function P4(a,e,i={}){const s=new Ya;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,v,g){const E=new N1({next:N=>{E.Nu(),f.enqueueAndForget((()=>y1(u,x)));const k=N.docs.has(m);!k&&N.fromCache?g.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&N.fromCache&&v&&v.source==="server"?g.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(N)},error:N=>g.reject(N)}),x=new v1(sh(m.path),E,{includeMetadataChanges:!0,qa:!0});return g1(u,x)})(await vm(a),a.asyncQueue,e,i,s))),s.promise}function R1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const c_=new Map;const D1="firestore.googleapis.com",h_=!0;class f_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D1,this.ssl=h_}else this.host=e.host,this.ssl=e.ssl??h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=a1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_N)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new KS;switch(s.type){case"firstParty":return new ZS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=c_.get(i);s&&(ce("ComponentProvider","Removing Datastore"),c_.delete(i),s.terminate())})(this),Promise.resolve()}}function B4(a,e,i,s={}){a=Bn(a,ph);const o=Im(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},m=`${e}:${i}`;o&&(T2(`https://${m}`),C2("Firestore",!0)),u.host!==D1&&u.host!==m&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:m,ssl:o,emulatorOptions:s};if(!kc(v,f)&&(a._setSettings(v),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Jt.MOCK_USER;else{g=S2(s.mockUserToken,a._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(x)}a._authCredentials=new YS(new gb(g,E))}}class sr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sr(this.firestore,e,this._query)}}class mt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Lo(i,mt._jsonSchema))return new mt(e,s||null,new pe(nt.fromString(i.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Vt("string",mt._jsonSchemaVersion),referencePath:Vt("string")};class Xa extends sr{constructor(e,i,s){super(e,i,sh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new pe(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function ti(a,e,...i){if(a=ii(a),yb("collection","path",e),a instanceof ph){const s=nt.fromString(e,...i);return S0(s),new Xa(a,null,s)}{if(!(a instanceof mt||a instanceof Xa))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(nt.fromString(e,...i));return S0(s),new Xa(a.firestore,null,s)}}function Sn(a,e,...i){if(a=ii(a),arguments.length===1&&(e=Om.newId()),yb("doc","path",e),a instanceof ph){const s=nt.fromString(e,...i);return T0(s),new mt(a,null,new pe(s))}{if(!(a instanceof mt||a instanceof Xa))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(nt.fromString(e,...i));return T0(s),new mt(a.firestore,a instanceof Xa?a.converter:null,new pe(s))}}const d_="AsyncQueue";class m_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o1(this,"async_queue_retry"),this._c=()=>{const s=zd();s&&ce(d_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ya;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ws(e))throw e;ce(d_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,la("INTERNAL UNHANDLED ERROR: ",p_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Wm.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:p_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function p_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function g_(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(a,["next","error","complete"])}class ir extends ph{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new m_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function q4(a,e){const i=typeof a=="object"?a:sb(),s=typeof a=="string"?a:zc,o=th(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=x2("firestore");u&&B4(o,...u)}return o}function ap(a){if(a._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||H4(a),a._firestoreClient}function H4(a){const e=a._freezeSettings(),i=(function(o,u,f,m){return new mA(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,R1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new L4(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Yt.fromBase64String(e))}catch(i){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lo(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Vt("string",Pn._jsonSchemaVersion),bytes:Vt("string")};class gh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rp{constructor(e){this._methodName=e}}class Ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(Lo(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Vt("string",Ii._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class Vi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lo(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Vi(e.vectorValues);throw new ue(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Vt("string",Vi._jsonSchemaVersion),vectorValues:Vt("object")};const F4=/^__.*__$/;class G4{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new rr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Uo(e,this.data,i,this.fieldTransforms)}}class I1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new rr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function V1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:a})}}class sp{constructor(e,i,s,o,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V1(this.Ac)&&F4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q4{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||fh(e)}Cc(e,i,s,o=!1){return new sp({Ac:e,methodName:i,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(a){const e=a._freezeSettings(),i=fh(a._databaseId);return new Q4(a._databaseId,!!e.ignoreUndefinedProperties,i)}function j1(a,e,i,s,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,i,o);lp("Data must be an object, but it was:",f,s);const m=O1(s,f);let v,g;if(u.merge)v=new An(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const x of u.mergeFields){const N=_m(e,x,i);if(!f.contains(N))throw new ue(W.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);k1(E,N)||E.push(N)}v=new An(E),g=f.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,g=f.fieldTransforms;return new G4(new dn(m),v,g)}class vh extends rp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function K4(a,e,i,s){const o=a.Cc(1,e,i);lp("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ar(s,((v,g)=>{const E=op(e,v,i);g=ii(g);const x=o.yc(E);if(g instanceof vh)u.push(E);else{const N=qo(g,x);N!=null&&(u.push(E),f.set(E,N))}}));const m=new An(u);return new I1(f,m,o.fieldTransforms)}function Y4(a,e,i,s,o,u){const f=a.Cc(1,e,i),m=[_m(e,s,i)],v=[o];if(u.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)m.push(_m(e,u[N])),v.push(u[N+1]);const g=[],E=dn.empty();for(let N=m.length-1;N>=0;--N)if(!k1(g,m[N])){const k=m[N];let F=v[N];F=ii(F);const Y=f.yc(k);if(F instanceof vh)g.push(k);else{const z=qo(F,Y);z!=null&&(g.push(k),E.set(k,z))}}const x=new An(g);return new I1(E,x,f.fieldTransforms)}function X4(a,e,i,s=!1){return qo(i,a.Cc(s?4:3,e))}function qo(a,e){if(M1(a=ii(a)))return lp("Unsupported field value:",e,a),O1(a,e);if(a instanceof rp)return(function(s,o){if(!V1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let v=qo(m,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=ii(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return LA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Gc(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gc(o.serializer,u)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:Zb(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(f,m){return{mapValue:{fields:{[Ab]:{stringValue:Nb},[Pc]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pm(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${nh(s)}`)})(a,e)}function O1(a,e){const i={};return bb(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ar(a,((s,o)=>{const u=qo(o,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function M1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof rt||a instanceof Ii||a instanceof Pn||a instanceof mt||a instanceof rp||a instanceof Vi)}function lp(a,e,i){if(!M1(i)||!vb(i)){const s=nh(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function _m(a,e,i){if((e=ii(e))instanceof gh)return e._internalPath;if(typeof e=="string")return op(a,e);throw Xc("Field path arguments must be of type string or ",a,!1,void 0,i)}const $4=new RegExp("[~\\*/\\[\\]]");function op(a,e,i){if(e.search($4)>=0)throw Xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new gh(...e.split("."))._internalPath}catch{throw Xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Xc(a,e,i,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${s}`),f&&(v+=` in document ${o}`),v+=")"),new ue(W.INVALID_ARGUMENT,m+a+v)}function k1(a,e){return a.some((i=>i.isEqual(e)))}class L1{constructor(e,i,s,o,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(_h("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Z4 extends L1{data(){return super.data()}}function _h(a,e){return typeof e=="string"?op(a,e):e instanceof gh?e._internalPath:e._delegate._internalPath}function J4(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class up{}class cp extends up{}function Ys(a,e,...i){let s=[];e instanceof up&&s.push(e),s=s.concat(i),(function(u){const f=u.filter((v=>v instanceof hp)).length,m=u.filter((v=>v instanceof bh)).length;if(f>1||f>0&&m>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class bh extends cp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new bh(e,i,s)}_apply(e){const i=this._parse(e);return U1(e._query,i),new sr(e.firestore,e.converter,om(e._query,i))}_parse(e){const i=yh(e.firestore);return(function(u,f,m,v,g,E,x){let N;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){__(x,E);const F=[];for(const Y of x)F.push(v_(v,u,Y));N={arrayValue:{values:F}}}else N=v_(v,u,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||__(x,E),N=X4(m,f,x,E==="in"||E==="not-in");return It.create(g,E,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Bd(a,e,i){const s=e,o=_h("where",a);return bh._create(o,s,i)}class hp extends up{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new hp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const v of m)U1(f,v),f=om(f,v)})(e._query,i),new sr(e.firestore,e.converter,om(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fp extends cp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new fp(e,i)}_apply(e){const i=(function(o,u,f){if(o.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new No(u,f)})(e._query,this._field,this._direction);return new sr(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new el(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function y_(a,e="asc"){const i=e,s=_h("orderBy",a);return fp._create(s,i)}class dp extends cp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new dp(e,i,s)}_apply(e){return new sr(e.firestore,e.converter,qc(e._query,this._limit,this._limitType))}}function W4(a){return dp._create("limit",a,"F")}function v_(a,e,i){if(typeof(i=ii(i))=="string"){if(i==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mb(e)&&i.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(nt.fromString(i));if(!pe.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return j0(a,new pe(s))}if(i instanceof mt)return j0(a,i._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(i)}.`)}function __(a,e){if(!Array.isArray(a)||a.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U1(a,e){const i=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class eC{convertValue(e,i="none"){switch(er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ar(e,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(e){const i=e.fields?.[Pc].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Vi(i)}convertGeoPoint(e){return new Ii(bt(e.latitude),bt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=rh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(To(e));default:return null}}convertTimestamp(e){const i=Ja(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=nt.fromString(e);Qe(i1(s),9688,{name:e});const o=new So(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(i)||la(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function z1(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class mo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pr extends L1{constructor(e,i,s,o,u,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(_h("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Pr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Vt("string",Pr._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Vc extends Pr{data(e={}){return super.data(e)}}class Bs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new mo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Vc(this._firestore,this._userDataWriter,s.key,s,new mo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const v=new Vc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const v=new Vc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new mo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:tC(m.type),doc:v,oldIndex:g,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:a})}}function nC(a){a=Bn(a,mt);const e=Bn(a.firestore,ir);return P4(ap(e),a._key).then((i=>B1(e,a,i)))}Bs._jsonSchemaVersion="firestore/querySnapshot/1.0",Bs._jsonSchema={type:Vt("string",Bs._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class P1 extends eC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,i)}}function jc(a,e,i){a=Bn(a,mt);const s=Bn(a.firestore,ir),o=z1(a.converter,e);return Eh(s,[j1(yh(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,qn.none())])}function bm(a,e,i,...s){a=Bn(a,mt);const o=Bn(a.firestore,ir),u=yh(o);let f;return f=typeof(e=ii(e))=="string"||e instanceof gh?Y4(u,"updateDoc",a._key,e,i,s):K4(u,"updateDoc",a._key,e),Eh(o,[f.toMutation(a._key,qn.exists(!0))])}function Em(a){return Eh(Bn(a.firestore,ir),[new Bm(a._key,qn.none())])}function Do(a,e){const i=Bn(a.firestore,ir),s=Sn(a),o=z1(a.converter,e);return Eh(i,[j1(yh(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function Ga(a,...e){a=ii(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||g_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(g_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let u,f,m;if(a instanceof mt)f=Bn(a.firestore,ir),m=sh(a._key.path),u={next:v=>{e[s]&&e[s](B1(f,a,v))},error:e[s+1],complete:e[s+2]};else{const v=Bn(a,sr);f=Bn(v.firestore,ir),m=v._query;const g=new P1(f);u={next:E=>{e[s]&&e[s](new Bs(f,g,v,E))},error:e[s+1],complete:e[s+2]},J4(a._query)}return(function(g,E,x,N){const k=new N1(N),F=new v1(E,k,x);return g.asyncQueue.enqueueAndForget((async()=>g1(await vm(g),F))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>y1(await vm(g),F)))}})(ap(f),m,o,u)}function Eh(a,e){return(function(s,o){const u=new Ya;return s.asyncQueue.enqueueAndForget((async()=>C4(await z4(s),o,u))),u.promise})(ap(a),e)}function B1(a,e,i){const s=i.docs.get(e._key),o=new P1(a);return new Pr(a,o,e._key,s,new mo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Zs=o})(OS),$a(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ir(new XS(s.getProvider("auth-internal")),new JS(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ci(b0,E0,e),Ci(b0,E0,"esm2020")})();const q1="@firebase/installations",mp="0.6.19";const H1=1e4,F1=`w:${mp}`,G1="FIS_v2",iC="https://firebaseinstallations.googleapis.com/v1",aC=3600*1e3,rC="installations",sC="Installations";const lC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Hr=new Wc(rC,sC,lC);function Q1(a){return a instanceof Qr&&a.code.includes("request-failed")}function K1({projectId:a}){return`${iC}/projects/${a}/installations`}function Y1(a){return{token:a.token,requestStatus:2,expiresIn:uC(a.expiresIn),creationTime:Date.now()}}async function X1(a,e){const s=(await e.json()).error;return Hr.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function $1({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function oC(a,{refreshToken:e}){const i=$1(a);return i.append("Authorization",cC(e)),i}async function Z1(a){const e=await a();return e.status>=500&&e.status<600?a():e}function uC(a){return Number(a.replace("s","000"))}function cC(a){return`${G1} ${a}`}async function hC({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=K1(a),o=$1(a),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:i,authVersion:G1,appId:a.appId,sdkVersion:F1},m={method:"POST",headers:o,body:JSON.stringify(f)},v=await Z1(()=>fetch(s,m));if(v.ok){const g=await v.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:Y1(g.authToken)}}else throw await X1("Create Installation",v)}function J1(a){return new Promise(e=>{setTimeout(e,a)})}function fC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const dC=/^[cdef][\w-]{21}$/,xm="";function mC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=pC(a);return dC.test(i)?i:xm}catch{return xm}}function pC(a){return fC(a).substr(0,22)}function xh(a){return`${a.appName}!${a.appId}`}const W1=new Map;function eE(a,e){const i=xh(a);tE(i,e),gC(i,e)}function tE(a,e){const i=W1.get(a);if(i)for(const s of i)s(e)}function gC(a,e){const i=yC();i&&i.postMessage({key:a,fid:e}),vC()}let zr=null;function yC(){return!zr&&"BroadcastChannel"in self&&(zr=new BroadcastChannel("[Firebase] FID Change"),zr.onmessage=a=>{tE(a.data.key,a.data.fid)}),zr}function vC(){W1.size===0&&zr&&(zr.close(),zr=null)}const _C="firebase-installations-database",bC=1,Fr="firebase-installations-store";let qd=null;function pp(){return qd||(qd=eh(_C,bC,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Fr)}}})),qd}async function $c(a,e){const i=xh(a),o=(await pp()).transaction(Fr,"readwrite"),u=o.objectStore(Fr),f=await u.get(i);return await u.put(e,i),await o.done,(!f||f.fid!==e.fid)&&eE(a,e.fid),e}async function nE(a){const e=xh(a),s=(await pp()).transaction(Fr,"readwrite");await s.objectStore(Fr).delete(e),await s.done}async function wh(a,e){const i=xh(a),o=(await pp()).transaction(Fr,"readwrite"),u=o.objectStore(Fr),f=await u.get(i),m=e(f);return m===void 0?await u.delete(i):await u.put(m,i),await o.done,m&&(!f||f.fid!==m.fid)&&eE(a,m.fid),m}async function gp(a){let e;const i=await wh(a.appConfig,s=>{const o=EC(s),u=xC(a,o);return e=u.registrationPromise,u.installationEntry});return i.fid===xm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function EC(a){const e=a||{fid:mC(),registrationStatus:0};return iE(e)}function xC(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Hr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=wC(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TC(a)}:{installationEntry:e}}async function wC(a,e){try{const i=await hC(a,e);return $c(a.appConfig,i)}catch(i){throw Q1(i)&&i.customData.serverCode===409?await nE(a.appConfig):await $c(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function TC(a){let e=await b_(a.appConfig);for(;e.registrationStatus===1;)await J1(100),e=await b_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await gp(a);return s||i}return e}function b_(a){return wh(a,e=>{if(!e)throw Hr.create("installation-not-found");return iE(e)})}function iE(a){return SC(a)?{fid:a.fid,registrationStatus:0}:a}function SC(a){return a.registrationStatus===1&&a.registrationTime+H1<Date.now()}async function AC({appConfig:a,heartbeatServiceProvider:e},i){const s=NC(a,i),o=oC(a,i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:F1,appId:a.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},v=await Z1(()=>fetch(s,m));if(v.ok){const g=await v.json();return Y1(g)}else throw await X1("Generate Auth Token",v)}function NC(a,{fid:e}){return`${K1(a)}/${e}/authTokens:generate`}async function yp(a,e=!1){let i;const s=await wh(a.appConfig,u=>{if(!aE(u))throw Hr.create("not-registered");const f=u.authToken;if(!e&&DC(f))return u;if(f.requestStatus===1)return i=CC(a,e),u;{if(!navigator.onLine)throw Hr.create("app-offline");const m=VC(u);return i=RC(a,m),m}});return i?await i:s.authToken}async function CC(a,e){let i=await E_(a.appConfig);for(;i.authToken.requestStatus===1;)await J1(100),i=await E_(a.appConfig);const s=i.authToken;return s.requestStatus===0?yp(a,e):s}function E_(a){return wh(a,e=>{if(!aE(e))throw Hr.create("not-registered");const i=e.authToken;return jC(i)?{...e,authToken:{requestStatus:0}}:e})}async function RC(a,e){try{const i=await AC(a,e),s={...e,authToken:i};return await $c(a.appConfig,s),i}catch(i){if(Q1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await nE(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await $c(a.appConfig,s)}throw i}}function aE(a){return a!==void 0&&a.registrationStatus===2}function DC(a){return a.requestStatus===2&&!IC(a)}function IC(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+aC}function VC(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function jC(a){return a.requestStatus===1&&a.requestTime+H1<Date.now()}async function OC(a){const e=a,{installationEntry:i,registrationPromise:s}=await gp(e);return s?s.catch(console.error):yp(e).catch(console.error),i.fid}async function MC(a,e=!1){const i=a;return await kC(i),(await yp(i,e)).token}async function kC(a){const{registrationPromise:e}=await gp(a);e&&await e}function LC(a){if(!a||!a.options)throw Hd("App Configuration");if(!a.name)throw Hd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw Hd(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Hd(a){return Hr.create("missing-app-config-values",{valueName:a})}const rE="installations",UC="installations-internal",zC=a=>{const e=a.getProvider("app").getImmediate(),i=LC(e),s=th(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},PC=a=>{const e=a.getProvider("app").getImmediate(),i=th(e,rE).getImmediate();return{getId:()=>OC(i),getToken:o=>MC(i,o)}};function BC(){$a(new ra(rE,zC,"PUBLIC")),$a(new ra(UC,PC,"PRIVATE"))}BC();Ci(q1,mp);Ci(q1,mp,"esm2020");const qC="/firebase-messaging-sw.js",HC="/firebase-cloud-messaging-push-scope",sE="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",FC="https://fcmregistrations.googleapis.com/v1",lE="google.c.a.c_id",GC="google.c.a.c_l",QC="google.c.a.ts",KC="google.c.a.e",x_=1e4;var w_;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(w_||(w_={}));var Io;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(Io||(Io={}));function ta(a){const e=new Uint8Array(a);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function YC(a){const e="=".repeat((4-a.length%4)%4),i=(a+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(i),o=new Uint8Array(s.length);for(let u=0;u<s.length;++u)o[u]=s.charCodeAt(u);return o}const Fd="fcm_token_details_db",XC=5,T_="fcm_token_object_Store";async function $C(a){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Fd))return null;let e=null;return(await eh(Fd,XC,{upgrade:async(s,o,u,f)=>{if(o<2||!s.objectStoreNames.contains(T_))return;const m=f.objectStore(T_),v=await m.index("fcmSenderId").get(a);if(await m.clear(),!!v){if(o===2){const g=v;if(!g.auth||!g.p256dh||!g.endpoint)return;e={token:g.fcmToken,createTime:g.createTime??Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:ta(g.vapidKey)}}}else if(o===3){const g=v;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ta(g.auth),p256dh:ta(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ta(g.vapidKey)}}}else if(o===4){const g=v;e={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:ta(g.auth),p256dh:ta(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:ta(g.vapidKey)}}}}}})).close(),await jd(Fd),await jd("fcm_vapid_details_db"),await jd("undefined"),ZC(e)?e:null}function ZC(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:e}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const JC="firebase-messaging-database",WC=1,Vo="firebase-messaging-store";let Gd=null;function oE(){return Gd||(Gd=eh(JC,WC,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Vo)}}})),Gd}async function eR(a){const e=uE(a),s=await(await oE()).transaction(Vo).objectStore(Vo).get(e);if(s)return s;{const o=await $C(a.appConfig.senderId);if(o)return await vp(a,o),o}}async function vp(a,e){const i=uE(a),o=(await oE()).transaction(Vo,"readwrite");return await o.objectStore(Vo).put(e,i),await o.done,e}function uE({appConfig:a}){return a.appId}const tR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new Wc("messaging","Messaging",tR);async function nR(a,e){const i=await bp(a),s=cE(e),o={method:"POST",headers:i,body:JSON.stringify(s)};let u;try{u=await(await fetch(_p(a.appConfig),o)).json()}catch(f){throw an.create("token-subscribe-failed",{errorInfo:f?.toString()})}if(u.error){const f=u.error.message;throw an.create("token-subscribe-failed",{errorInfo:f})}if(!u.token)throw an.create("token-subscribe-no-token");return u.token}async function iR(a,e){const i=await bp(a),s=cE(e.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${_p(a.appConfig)}/${e.token}`,o)).json()}catch(f){throw an.create("token-update-failed",{errorInfo:f?.toString()})}if(u.error){const f=u.error.message;throw an.create("token-update-failed",{errorInfo:f})}if(!u.token)throw an.create("token-update-no-token");return u.token}async function aR(a,e){const s={method:"DELETE",headers:await bp(a)};try{const u=await(await fetch(`${_p(a.appConfig)}/${e}`,s)).json();if(u.error){const f=u.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:f})}}catch(o){throw an.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function _p({projectId:a}){return`${FC}/projects/${a}/registrations`}async function bp({appConfig:a,installations:e}){const i=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function cE({p256dh:a,auth:e,endpoint:i,vapidKey:s}){const o={web:{endpoint:i,auth:e,p256dh:a}};return s!==sE&&(o.web.applicationPubKey=s),o}const rR=10080*60*1e3;async function sR(a){const e=await oR(a.swRegistration,a.vapidKey),i={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:e.endpoint,auth:ta(e.getKey("auth")),p256dh:ta(e.getKey("p256dh"))},s=await eR(a.firebaseDependencies);if(s){if(uR(s.subscriptionOptions,i))return Date.now()>=s.createTime+rR?lR(a,{token:s.token,createTime:Date.now(),subscriptionOptions:i}):s.token;try{await aR(a.firebaseDependencies,s.token)}catch(o){console.warn(o)}return S_(a.firebaseDependencies,i)}else return S_(a.firebaseDependencies,i)}async function lR(a,e){try{const i=await iR(a.firebaseDependencies,e),s={...e,token:i,createTime:Date.now()};return await vp(a.firebaseDependencies,s),i}catch(i){throw i}}async function S_(a,e){const s={token:await nR(a,e),createTime:Date.now(),subscriptionOptions:e};return await vp(a,s),s.token}async function oR(a,e){const i=await a.pushManager.getSubscription();return i||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:YC(e)})}function uR(a,e){const i=e.vapidKey===a.vapidKey,s=e.endpoint===a.endpoint,o=e.auth===a.auth,u=e.p256dh===a.p256dh;return i&&s&&o&&u}function A_(a){const e={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return cR(e,a),hR(e,a),fR(e,a),e}function cR(a,e){if(!e.notification)return;a.notification={};const i=e.notification.title;i&&(a.notification.title=i);const s=e.notification.body;s&&(a.notification.body=s);const o=e.notification.image;o&&(a.notification.image=o);const u=e.notification.icon;u&&(a.notification.icon=u)}function hR(a,e){e.data&&(a.data=e.data)}function fR(a,e){if(!e.fcmOptions&&!e.notification?.click_action)return;a.fcmOptions={};const i=e.fcmOptions?.link??e.notification?.click_action;i&&(a.fcmOptions.link=i);const s=e.fcmOptions?.analytics_label;s&&(a.fcmOptions.analyticsLabel=s)}function dR(a){return typeof a=="object"&&!!a&&lE in a}function mR(a){if(!a||!a.options)throw Qd("App Configuration Object");if(!a.name)throw Qd("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=a;for(const s of e)if(!i[s])throw Qd(s);return{appName:a.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Qd(a){return an.create("missing-app-config-values",{valueName:a})}class pR{constructor(e,i,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=mR(e);this.firebaseDependencies={app:e,appConfig:o,installations:i,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function gR(a){try{a.swRegistration=await navigator.serviceWorker.register(qC,{scope:HC}),a.swRegistration.update().catch(()=>{}),await yR(a.swRegistration)}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function yR(a){return new Promise((e,i)=>{const s=setTimeout(()=>i(new Error(`Service worker not registered after ${x_} ms`)),x_),o=a.installing||a.waiting;a.active?(clearTimeout(s),e()):o?o.onstatechange=u=>{u.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),i(new Error("No incoming service worker found.")))})}async function vR(a,e){if(!e&&!a.swRegistration&&await gR(a),!(!e&&a.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");a.swRegistration=e}}async function _R(a,e){e?a.vapidKey=e:a.vapidKey||(a.vapidKey=sE)}async function bR(a,e){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await _R(a,e?.vapidKey),await vR(a,e?.serviceWorkerRegistration),sR(a)}async function ER(a,e,i){const s=xR(e);(await a.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[lE],message_name:i[GC],message_time:i[QC],message_device_time:Math.floor(Date.now()/1e3)})}function xR(a){switch(a){case Io.NOTIFICATION_CLICKED:return"notification_open";case Io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function wR(a,e){const i=e.data;if(!i.isFirebaseMessaging)return;a.onMessageHandler&&i.messageType===Io.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(A_(i)):a.onMessageHandler.next(A_(i)));const s=i.data;dR(s)&&s[KC]==="1"&&await ER(a,i.messageType,s)}const N_="@firebase/messaging",C_="0.12.23";const TR=a=>{const e=new pR(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>wR(e,i)),e},SR=a=>{const e=a.getProvider("messaging").getImmediate();return{getToken:s=>bR(e,s)}};function AR(){$a(new ra("messaging",TR,"PUBLIC")),$a(new ra("messaging-internal",SR,"PRIVATE")),Ci(N_,C_),Ci(N_,C_,"esm2020")}async function NR(){try{await tb()}catch{return!1}return typeof window<"u"&&eb()&&V2()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function CR(a=sb()){return NR().then(e=>{if(!e)throw an.create("unsupported-browser")},e=>{throw an.create("indexed-db-unsupported")}),th(ii(a),"messaging").getImmediate()}AR();const RR={apiKey:"AIzaSyCmuNrhWE8Aw24_qUK23Qo4u_W5M6cAFN4",authDomain:"liga-multisport.firebaseapp.com",projectId:"liga-multisport",storageBucket:"liga-multisport.firebasestorage.app",messagingSenderId:"983340811794",appId:"1:983340811794:web:a86d9e3dbb620accebbacb",measurementId:"G-TPNXY1LNX9"},hE=rb(RR),ut=q4(hE);let DR=null;try{DR=CR(hE)}catch(a){console.warn("Firebase Messaging could not be initialized:",a)}const Gr=({isOpen:a,onClose:e,children:i,size:s="md"})=>{if(!a)return null;const o={sm:"max-w-sm",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"},u=o[s]||o.md;return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto",onClick:e,children:y.jsxs("div",{className:`bg-[#13131f] border border-white/10 rounded-2xl w-full ${u} my-8 max-h-[90vh] overflow-y-auto relative shadow-2xl`,onClick:f=>f.stopPropagation(),children:[y.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10 p-2 bg-black/20 rounded-full hover:bg-black/50 transition-colors",children:y.jsx(ko,{className:"w-5 h-5"})}),i]})})},IR=[{date:"2025-01-01",name:"Ao Nuevo"},{date:"2025-01-06",name:"Reyes"},{date:"2025-04-18",name:"Viernes Santo"},{date:"2025-05-01",name:"Da del Trabajo"},{date:"2025-08-15",name:"Asuncin"},{date:"2025-10-12",name:"Fiesta Nacional"},{date:"2025-11-01",name:"Todos los Santos"},{date:"2025-12-06",name:"Constitucin"},{date:"2025-12-08",name:"Inmaculada"},{date:"2025-12-25",name:"Navidad"}],VR=({events:a,currentMonth:e,setCurrentMonth:i,currentYear:s,setCurrentYear:o,onSelectDay:u})=>{const f=L.useMemo(()=>{const g=new Date(s,e,1),E=new Date(s,e+1,0).getDate(),x=g.getDay()===0?6:g.getDay()-1;return{days:Array(x).fill(null).concat([...Array(E).keys()].map(N=>N+1)),name:g.toLocaleString("es-ES",{month:"long"}).toUpperCase()}},[e,s]),m=()=>{e===0?(i(11),o(s-1)):i(e-1)},v=()=>{e===11?(i(0),o(s+1)):i(e+1)};return y.jsxs("div",{className:"glass-panel p-8 rounded-[2.5rem] w-full max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsxs("h2",{className:"text-3xl font-bold uppercase tracking-widest text-celestial",children:[f.name," ",y.jsx("span",{className:"text-white/30",children:s})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:m,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:y.jsx(zT,{className:"w-6 h-6"})}),y.jsx("button",{onClick:v,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:y.jsx(BT,{className:"w-6 h-6"})})]})]}),y.jsxs("div",{className:"grid grid-cols-7 gap-2 md:gap-4 text-center",children:[["L","M","X","J","V","S","D"].map(g=>y.jsx("div",{className:"font-bold text-gray-500 py-2",children:g},g)),f.days.map((g,E)=>{if(!g)return y.jsx("div",{},E);const x=`${s}-${String(e+1).padStart(2,"0")}-${String(g).padStart(2,"0")}`,N=a.filter(z=>z.date===x),k=IR.find(z=>z.date===x),F=[0,6].includes(new Date(s,e,g).getDay()),Y=[...new Set(N.map(z=>z.typeIcon))].slice(0,3);return y.jsxs("div",{onClick:()=>u({date:x,events:N,holiday:k}),className:`aspect-square flex flex-col items-center justify-start pt-2 rounded-xl text-lg font-bold relative group transition-all cursor-pointer border border-transparent 
                                ${k?"bg-red-500/10 text-red-400 border-red-500/20":F?"bg-blue-500/10 text-blue-300":"hover:bg-white/5 text-gray-300"} 
                                ${N.length>0?"ring-1 ring-celestial/50 bg-celestial/5":""}`,children:[g,y.jsx("div",{className:"absolute top-1 right-1 flex gap-0.5",children:Y.map((z,$)=>y.jsx("span",{className:"text-[10px] leading-none",children:z},$))}),y.jsx("div",{className:"flex flex-col gap-1 w-full px-1 mt-auto pb-1",children:N.slice(0,3).map((z,$)=>y.jsx("div",{className:"h-1.5 md:h-5 md:px-2 md:py-0.5 rounded-full text-[10px] uppercase tracking-wider font-bold truncate w-full text-left flex items-center",style:{backgroundColor:z.typeColor,color:"#000"},title:z.title,children:y.jsx("span",{className:"hidden md:inline",children:z.title})},$))})]},E)})]})]})},jR=({sections:a,onOpenSection:e,onOpenForm:i})=>{const s=a.filter(o=>{if(!o.active)return!1;const u=new Date;return u.setHours(0,0,0,0),!(o.startDate&&new Date(o.startDate)>u||o.endDate&&new Date(o.endDate)<u)});return s.length===0?null:y.jsx(y.Fragment,{children:s.map(o=>{const u=new Date;u.setHours(0,0,0,0);const f=o.endDate?new Date(o.endDate):null,m=f&&o.warningDays&&(f-u)/(1e3*60*60*24)<=o.warningDays&&f-u>=0;return y.jsx("section",{className:"py-12 px-4 md:px-8 max-w-7xl mx-auto w-full",children:y.jsxs("div",{className:"glass-panel p-8 md:p-12 rounded-3xl border-l-4 border-sky-400 relative overflow-hidden group cursor-pointer",onClick:()=>e(o),children:[m&&y.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-1 rounded-full text-sm font-bold animate-pulse z-20 shadow-lg border border-red-400",children:" ltimos Das"}),o.imageUrl&&y.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-full md:w-1/3 opacity-20",children:y.jsx("img",{src:o.imageUrl,className:"w-full h-full object-cover",alt:""})}),y.jsxs("div",{className:"relative z-10 max-w-3xl",children:[y.jsx("h2",{className:"text-4xl font-bold mb-4",children:o.title}),y.jsx("p",{className:"text-lg text-gray-300 mb-6 whitespace-pre-line line-clamp-3",children:o.description}),y.jsx("div",{className:"flex flex-wrap gap-4",children:y.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-full font-bold bg-sky-400 text-black hover:bg-sky-500 transition-colors",children:["Ver Completo ",y.jsx(Rm,{className:"w-5 h-5"})]})})]})]})},o.id)})})},OR=()=>{const{pathname:a}=ca();return y.jsx("nav",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[60] animate-fade-in-up",children:y.jsxs("div",{className:"bg-black/80 backdrop-blur-xl border border-white/10 px-6 py-4 rounded-3xl flex items-center gap-6 shadow-2xl",children:[y.jsx(Eo,{to:"/",className:`text-sm font-black tracking-widest uppercase transition-colors ${a==="/"?"text-primary":"text-gray-500 hover:text-white"}`,children:"Inicio"}),y.jsx("div",{className:"w-px h-4 bg-white/10"}),y.jsx(Eo,{to:"/liga",className:`text-sm font-black tracking-widest uppercase transition-colors ${a==="/liga"?"text-primary":"text-gray-500 hover:text-white"}`,children:"Liga"})]})})},fE=()=>{const{pathname:a}=ca();return L.useEffect(()=>{window.scrollTo(0,0)},[a]),null},dE=({event:a,onOpenForm:e})=>{if(a.actionType==="none")return null;const i="w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all hover:scale-[1.02] ";return a.actionType==="link"&&a.actionLink?y.jsxs("a",{href:a.actionLink,target:"_blank",rel:"noopener noreferrer",className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:[a.actionLabel||"Ms Informacin"," ",y.jsx(Rm,{className:"w-5 h-5"})]}):a.actionType==="form"?y.jsx("button",{onClick:()=>e(a),className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:a.actionLabel||"Inscribirse"}):null},MR=({event:a,onClose:e,onOpenForm:i})=>{const s=()=>{const o=encodeURIComponent(a.title),u=encodeURIComponent(a.description||""),f=encodeURIComponent(a.location||""),m=a.date.replace(/-/g,""),v=a.time?a.time.replace(/:/g,"")+"00":"000000",g=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${o}&dates=${m}T${v}/${m}T235959&details=${u}&location=${f}`;window.open(g,"_blank")};return y.jsx(Gr,{isOpen:!0,onClose:e,size:"lg",children:y.jsxs("div",{className:"relative animate-fade-in",children:[a.imageUrl&&y.jsx("div",{className:"w-full h-64 md:h-80 overflow-hidden",children:y.jsx("img",{src:a.imageUrl,className:"w-full h-full object-cover",alt:a.title})}),y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"inline-block px-3 py-1 mb-4 rounded-full text-xs font-bold uppercase border",style:{color:a.typeColor,borderColor:a.typeColor,backgroundColor:`${a.typeColor}20`},children:[a.typeIcon," ",a.typeName]}),y.jsx("h2",{className:"text-4xl font-black mb-2 text-white leading-tight",children:a.title}),y.jsxs("div",{className:"flex items-center gap-2 text-sky-400 font-bold mb-4",children:[y.jsx(a0,{className:"w-5 h-5"}),new Date(a.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),a.time&&y.jsxs("span",{className:"ml-1",children:["| ",a.time]})]}),a.location&&y.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-6 font-medium",children:[y.jsx(Y_,{className:"w-5 h-5"})," ",a.location]}),y.jsx("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/10 mb-6",children:y.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:a.description})}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx(dE,{event:a,onOpenForm:i}),y.jsxs("button",{onClick:s,className:"w-full py-3 rounded-xl border border-white/20 hover:bg-white/10 flex items-center justify-center gap-2 text-gray-300 transition-all font-bold",children:[y.jsx(a0,{className:"w-5 h-5"})," Aadir a Google Calendar"]})]})]})]})})},kR=({event:a,onClose:e})=>{const[i,s]=L.useState({}),[o,u]=L.useState(!1),f=async m=>{m.preventDefault(),u(!0);try{await Do(ti(ut,"event_registrations"),{eventId:a.id,eventTitle:a.title,submittedAt:new Date().toISOString(),...i}),alert("Inscripcin Enviada con xito!"),e()}catch(v){console.error(v),alert("Error al enviar la inscripcin. Por favor, intntalo de nuevo.")}finally{u(!1)}};return y.jsx(Gr,{isOpen:!0,onClose:e,children:y.jsxs("div",{className:"p-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Inscripcin"}),y.jsx("h3",{className:"text-xl text-sky-400 mb-6",children:a.title}),y.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.customFields?.map(m=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:m.label}),m.type==="select"?y.jsxs("select",{required:!0,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",onChange:v=>s({...i,[m.label]:v.target.value}),children:[y.jsx("option",{value:"",children:"Selecciona..."}),m.options.split(",").map(v=>y.jsx("option",{value:v.trim(),children:v.trim()},v))]}):y.jsx("input",{required:!0,type:m.type,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",placeholder:m.label,onChange:v=>s({...i,[m.label]:v.target.value})})]},m.id)),y.jsx("button",{disabled:o,className:"w-full bg-sky-400 text-black font-bold py-3 rounded-xl mt-4 hover:bg-sky-500 transition-all disabled:opacity-50",children:o?"Enviando...":"Confirmar Inscripcin"}),y.jsx("p",{className:"text-[10px] text-gray-500 text-center mt-2",children:"Al inscribirte, aceptas que tus datos sean compartidos con la organizacin."})]})]})})},LR=({onClick:a,hasUnread:e})=>y.jsxs("button",{onClick:a,className:"p-3 bg-white/5 text-gray-400 rounded-full shadow-lg hover:text-white transition-all relative border border-white/5 active:scale-95",children:[y.jsx(OT,{className:"w-5 h-5"}),e&&y.jsx("span",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full border-2 border-[#0a0a0f] animate-pulse"})]}),UR=({isOpen:a,onClose:e,announcements:i,permission:s,onRequestPermission:o})=>y.jsx(Gr,{isOpen:a,onClose:e,size:"lg",children:y.jsxs("div",{className:"p-8",children:[y.jsx("div",{className:"flex justify-between items-center mb-6",children:y.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[y.jsx("span",{className:"text-2xl",children:""})," Buzn de Avisos"]})}),s!=="granted"&&y.jsxs("div",{className:"bg-sky-400/10 border border-sky-400/20 p-4 rounded-2xl mb-6 flex flex-col md:flex-row items-center gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-bold text-sky-400 text-sm",children:"Quieres recibir avisos al mvil?"}),y.jsx("p",{className:"text-xs text-gray-400",children:"Activa las notificaciones para no perderte ningn cambio de ltima hora."})]}),y.jsx("button",{onClick:o,className:"bg-sky-400 text-black px-4 py-2 rounded-lg font-bold text-xs whitespace-nowrap hover:scale-105 transition-transform",children:"Activar Notificaciones"})]}),y.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[i.map((u,f)=>y.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 group hover:bg-white/10 transition-all border-l-4 border-l-sky-400",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"font-bold text-lg text-white",children:u.title}),y.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:new Date(u.date).toLocaleDateString()})]}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-wrap",children:u.body})]},u.id||f)),i.length===0&&y.jsxs("div",{className:"text-center py-20",children:[y.jsx("div",{className:"text-4xl mb-4 opacity-20",children:""}),y.jsx("p",{className:"text-gray-500 italic",children:"No hay avisos nuevos por ahora."})]})]})]})}),R_=({value:a,onChange:e})=>{const i=o=>new Promise((u,f)=>{const m=new FileReader;m.readAsDataURL(o),m.onload=v=>{const g=new Image;g.src=v.target.result,g.onload=()=>{const E=document.createElement("canvas"),x=800,N=x/g.width;E.width=x,E.height=g.height*N,E.getContext("2d").drawImage(g,0,0,E.width,E.height);const F=E.toDataURL("image/jpeg",.7);u(F)}},m.onerror=v=>f(v)}),s=async o=>{const u=o[0];if(u)try{const f=await i(u);e(f)}catch{alert("Error al procesar la imagen")}};return y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex gap-2",onDragOver:o=>o.preventDefault(),onDrop:o=>{o.preventDefault(),s(o.dataTransfer.files)},children:[y.jsx("input",{type:"text",value:a||"",onChange:o=>e(o.target.value),onPaste:o=>{o.clipboardData.files.length&&s(o.clipboardData.files)},placeholder:"Imagen (URL, Pegar o Arrastrar)",className:"flex-1 bg-black/40 p-3 rounded border border-white/10 text-white"}),y.jsxs("label",{className:"cursor-pointer bg-white/10 hover:bg-white/20 p-3 rounded border border-white/10 flex items-center justify-center",children:[y.jsx($_,{className:"w-5 h-5"}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o=>s(o.target.files)})]})]}),a&&y.jsx("img",{src:a,className:"h-24 rounded object-contain border border-white/10 bg-black/40 w-full",alt:"Preview"})]})},mE=({fields:a,onChange:e})=>{const i=()=>e([...a,{id:Date.now(),label:"",type:"text",options:""}]),s=()=>e([...a,{id:Date.now(),label:"Nombre Completo",type:"text",options:""},{id:Date.now()+1,label:"Email",type:"text",options:""},{id:Date.now()+2,label:"Comentarios",type:"text",options:""}]),o=(u,f,m)=>e(a.map(v=>v.id===u?{...v,[f]:m}:v));return y.jsxs("div",{className:"space-y-4 border border-white/10 p-4 rounded bg-black/20",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h4",{className:"font-bold text-sm uppercase text-gray-400",children:"Campos del Formulario"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:s,className:"text-xs bg-white/10 px-2 py-1 rounded hover:bg-white/20",children:"+ Presets"}),y.jsxs("button",{type:"button",onClick:i,className:"text-sky-400 text-sm font-bold flex items-center gap-1",children:[y.jsx(WT,{className:"w-4 h-4"})," Aadir Campo"]})]})]}),a.map(u=>y.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center bg-white/5 p-2 rounded",children:[y.jsx("input",{value:u.label,onChange:f=>o(u.id,"label",f.target.value),placeholder:"Etiqueta",className:"col-span-4 bg-black/40 p-2 rounded text-sm"}),y.jsxs("select",{value:u.type,onChange:f=>o(u.id,"type",f.target.value),className:"col-span-3 bg-black/40 p-2 rounded text-sm text-gray-300",children:[y.jsx("option",{value:"text",children:"Texto"}),y.jsx("option",{value:"number",children:"Nmero"}),y.jsx("option",{value:"select",children:"Desplegable"})]}),y.jsx("input",{value:u.options,onChange:f=>o(u.id,"options",f.target.value),placeholder:"Opciones (sep. por coma)",className:"col-span-4 bg-black/40 p-2 rounded text-sm",disabled:u.type!=="select"}),y.jsx("button",{type:"button",onClick:()=>e(a.filter(f=>f.id!==u.id)),className:"col-span-1 text-red-400 flex justify-center",children:y.jsx(ko,{className:"w-4 h-4"})})]},u.id)),a.length===0&&y.jsx("p",{className:"text-xs text-center text-gray-500",children:"Aade campos para el formulario."})]})},zR=({buttons:a,onChange:e})=>{const i=()=>e([...a||[],{id:Date.now(),label:"",type:"link",link:"",style:"primary",customFields:[]}]),s=(u,f,m)=>e(a.map(v=>v.id===u?{...v,[f]:m}:v)),o=u=>e(a.filter(f=>f.id!==u));return y.jsxs("div",{className:"space-y-3 bg-black/20 p-3 rounded border border-white/10",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("label",{className:"text-sm font-bold text-gray-400",children:"Botones de Accin"}),y.jsx("button",{type:"button",onClick:i,className:"text-xs bg-sky-400 text-black px-2 py-1 rounded font-bold",children:"+ Aadir"})]}),(a||[]).map(u=>y.jsxs("div",{className:"bg-white/5 p-2 rounded relative",children:[y.jsx("button",{type:"button",onClick:()=>o(u.id),"aria-label":"Eliminar botn",className:"absolute top-2 right-2 text-red-500",children:y.jsx(ko,{className:"w-4 h-4"})}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 pr-6",children:[y.jsx("input",{value:u.label,onChange:f=>s(u.id,"label",f.target.value),placeholder:"Texto del Botn",className:"bg-black/40 p-2 rounded text-sm w-full"}),y.jsxs("select",{value:u.type||"link",onChange:f=>s(u.id,"type",f.target.value),className:"bg-black/40 p-2 rounded text-sm w-full",children:[y.jsx("option",{value:"link",children:"Enlace"}),y.jsx("option",{value:"form",children:"Formulario"})]})]}),y.jsx("div",{className:"mb-2",children:y.jsxs("select",{value:u.style,onChange:f=>s(u.id,"style",f.target.value),className:"w-full bg-black/40 p-2 rounded text-sm",children:[y.jsx("option",{value:"primary",children:"Azul (Principal)"}),y.jsx("option",{value:"secondary",children:"Blanco (Secundario)"}),y.jsx("option",{value:"outline",children:"Borde (Discreto)"}),y.jsx("option",{value:"gradient",children:"Gradiente (Destacado)"})]})}),u.type==="link"&&y.jsx("input",{value:u.link,onChange:f=>s(u.id,"link",f.target.value),placeholder:"https://...",className:"w-full bg-black/40 p-2 rounded text-sm"}),u.type==="form"&&y.jsx("div",{className:"mt-2 pl-2 border-l-2 border-sky-400/30",children:y.jsx(mE,{fields:u.customFields||[],onChange:f=>s(u.id,"customFields",f)})})]},u.id)),(!a||a.length===0)&&y.jsx("p",{className:"text-xs text-center text-gray-600",children:"Sin botones."})]})},PR=({isOpen:a,onClose:e,events:i,eventTypes:s,announcements:o,specialSections:u,onOpenDB:f,onOpenStats:m})=>{const[v,g]=L.useState("events"),E={title:"",date:"",time:"",location:"",typeId:"tournament",description:"",imageUrl:"",actionType:"none",actionLabel:"",actionLink:"",customFields:[],pollOptions:[]},[x,N]=L.useState(E),[k,F]=L.useState(null),[Y,z]=L.useState({name:"",color:"#6366f1",icon:""}),[$,ie]=L.useState(u||[]);Xx.useEffect(()=>{ie(u||[])},[u]);const re=async S=>{S.preventDefault();try{const A=s.find(C=>C.id===x.typeId),R={...x,typeColor:A?.color||"#6366f1",typeIcon:A?.icon||"",typeName:A?.name||"Evento"};k?await bm(Sn(ut,"events",k),R):await Do(ti(ut,"events"),{...R,surveyCount:0}),alert("Evento guardado con xito"),N(E),F(null)}catch(A){console.error(A),alert("Error al guardar evento")}},ye=async S=>{confirm("Ests seguro de que quieres eliminar este evento?")&&await Em(Sn(ut,"events",S))},ve=async()=>{if(!Y.name)return;const S=[...s,{...Y,id:Date.now().toString()}];await jc(Sn(ut,"config","eventTypes"),{types:S}),z({name:"",color:"#6366f1",icon:""})},_e=async S=>{if(["party","tournament","tickets","special"].includes(S)){alert("Este tipo base no se puede eliminar.");return}const A=s.filter(R=>R.id!==S);await jc(Sn(ut,"config","eventTypes"),{types:A})},I=S=>{ie(S.map(A=>({...A,buttons:A.buttons||[]})))},D=async()=>{try{await jc(Sn(ut,"config","specialSections"),{sections:$}),alert("Secciones especiales guardadas con xito")}catch{alert("Error al guardar las secciones")}},V=async S=>{S.preventDefault();const A=S.target.title.value,R=S.target.body.value;if(confirm("Deseas publicar este aviso? Todos los usuarios vern una notificacin."))try{await Do(ti(ut,"announcements"),{title:A,body:R,date:new Date().toISOString()}),alert("Anuncio publicado"),S.target.reset()}catch{alert("Error al publicar anuncio")}};return y.jsx(Gr,{isOpen:a,onClose:e,size:"xl",children:y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-3xl font-bold",children:"Panel de Administracin"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-500 transition-colors flex items-center gap-2",children:[y.jsx(FT,{className:"w-4 h-4"})," Base de Datos"]}),y.jsx("div",{className:"flex bg-black/40 p-1 rounded-xl",children:[{id:"events",l:"Eventos"},{id:"types",l:"Categoras"},{id:"special",l:"Landing"},{id:"inbox",l:"Buzn"}].map(S=>y.jsx("button",{onClick:()=>g(S.id),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all ${v===S.id?"bg-primary text-black shadow-lg shadow-primary/20":"text-gray-400 hover:text-white"}`,children:S.l},S.id))})]})]}),y.jsxs("div",{className:"custom-scrollbar overflow-y-auto max-h-[70vh] pr-2",children:[v==="events"&&y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in",children:[y.jsxs("form",{onSubmit:re,className:"space-y-4",children:[y.jsxs("h3",{className:"font-bold text-primary flex items-center gap-2",children:[k?y.jsx(l0,{className:"w-4 h-4"}):y.jsx($d,{className:"w-4 h-4"}),k?"Editando Evento":"Nuevo Evento"]}),y.jsx("input",{value:x.title,onChange:S=>N({...x,title:S.target.value}),placeholder:"Ttulo del Evento",required:!0,className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 focus:border-primary outline-none"}),y.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[y.jsx("input",{value:x.date,onChange:S=>N({...x,date:S.target.value}),type:"date",required:!0,className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),y.jsx("input",{value:x.time,onChange:S=>N({...x,time:S.target.value}),type:"time",className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),y.jsx("select",{value:x.typeId,onChange:S=>N({...x,typeId:S.target.value}),className:"bg-black/40 p-3 rounded-xl border border-white/5",children:s.map(S=>y.jsxs("option",{value:S.id,children:[S.icon," ",S.name]},S.id))})]}),y.jsx("input",{value:x.location,onChange:S=>N({...x,location:S.target.value}),placeholder:"Ubicacin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),y.jsx("textarea",{value:x.description,onChange:S=>N({...x,description:S.target.value}),placeholder:"Descripcin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5",rows:"3"}),y.jsx(R_,{value:x.imageUrl,onChange:S=>N({...x,imageUrl:S})}),y.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-3 tracking-widest",children:"Accin Interactiva"}),y.jsxs("select",{value:x.actionType,onChange:S=>N({...x,actionType:S.target.value}),className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3",children:[y.jsx("option",{value:"none",children:"Sin botn adicional"}),y.jsx("option",{value:"form",children:"Formulario de registro personalizado"}),y.jsx("option",{value:"link",children:"Enlace externo"})]}),["link","form"].includes(x.actionType)&&y.jsx("input",{value:x.actionLabel,onChange:S=>N({...x,actionLabel:S.target.value}),placeholder:"Texto del botn",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3"}),x.actionType==="link"&&y.jsx("input",{value:x.actionLink,onChange:S=>N({...x,actionLink:S.target.value}),placeholder:"URL del enlace (https://...)",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),x.actionType==="form"&&y.jsx(mE,{fields:x.customFields||[],onChange:S=>N({...x,customFields:S})})]}),y.jsx("button",{className:"w-full bg-primary text-black py-4 rounded-xl font-bold hover:bg-sky-500 transition-all shadow-lg shadow-primary/20",children:k?"Actualizar Evento":"Crear Evento"}),k&&y.jsx("button",{type:"button",onClick:()=>{F(null),N(E)},className:"w-full text-gray-500 text-xs mt-2 uppercase font-bold tracking-widest hover:text-white transition-colors",children:"Cancelar Edicin"})]}),y.jsxs("div",{className:"space-y-2 max-h-[600px] overflow-y-auto custom-scrollbar",children:[y.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Eventos Existentes"}),i.map(S=>y.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl group hover:bg-white/10 border border-white/5 transition-all",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-xl",children:S.typeIcon}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-sm",children:S.title}),y.jsx("div",{className:"text-[10px] text-gray-500 font-mono uppercase",children:new Date(S.date).toLocaleDateString()})]})]}),y.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[y.jsx("button",{onClick:()=>m(S),className:"bg-green-500/20 text-green-400 p-2 text-[10px] font-bold rounded-lg border border-green-500/30 hover:bg-green-500/40",children:"DATA"}),y.jsx("button",{onClick:()=>{N({...S}),F(S.id)},className:"text-primary p-2 hover:bg-primary/10 rounded-lg",children:y.jsx(l0,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>ye(S.id),className:"text-red-500 p-2 hover:bg-red-500/10 rounded-lg",children:y.jsx(Ac,{className:"w-4 h-4"})})]})]},S.id)),i.length===0&&y.jsx("p",{className:"text-center py-8 text-gray-600 italic",children:"No hay eventos creados."})]})]}),v==="types"&&y.jsxs("div",{className:"animate-fade-in space-y-8",children:[y.jsxs("div",{className:"grid grid-cols-4 gap-4 bg-white/5 p-6 rounded-2xl border border-white/5",children:[y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Nombre Categora"}),y.jsx("input",{value:Y.name,onChange:S=>z({...Y,name:S.target.value}),placeholder:"Ej: Cena",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Color"}),y.jsx("input",{value:Y.color,onChange:S=>z({...Y,color:S.target.value}),type:"color",className:"bg-black/40 p-2 h-12 w-full rounded-xl cursor-pointer"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Icono/Emoji"}),y.jsx("input",{value:Y.icon,onChange:S=>z({...Y,icon:S.target.value}),placeholder:"",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 text-center text-xl"})]}),y.jsx("button",{onClick:ve,className:"col-span-4 bg-primary text-black py-3 rounded-xl font-bold hover:bg-sky-500 transition-all",children:"Aadir Nueva Categora"})]}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(S=>y.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/5 border border-white/10",style:{borderLeft:`6px solid ${S.color}`},children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-2xl",children:S.icon}),y.jsx("span",{className:"font-bold",children:S.name})]}),!["party","tournament","tickets","special"].includes(S.id)&&y.jsx("button",{onClick:()=>_e(S.id),className:"text-red-500 hover:bg-red-500/10 p-2 rounded-lg transition-colors",children:y.jsx(Ac,{className:"w-4 h-4"})})]},S.id))})]}),v==="special"&&y.jsxs("div",{className:"animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5",children:[y.jsx("h3",{className:"font-bold text-gray-400 uppercase text-xs tracking-widest",children:"Secciones Especiales (Polls & Landing)"}),y.jsx("button",{onClick:()=>I([...$,{id:Date.now(),title:"",description:"",imageUrl:"",active:!0,buttons:[],startDate:"",endDate:"",warningDays:"",link:"",linkText:"",pollOptions:[],pollCounts:{}}]),className:"bg-white/10 px-4 py-2 rounded-lg font-bold hover:bg-white/20 transition-all text-xs",children:"+ Aadir Seccin"})]}),y.jsx("div",{className:"space-y-6",children:$.map(S=>y.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 space-y-4 relative group",children:[y.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-4",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[y.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg border-white/10 bg-black/40 text-primary",checked:S.active,onChange:A=>I($.map(R=>R.id===S.id?{...R,active:A.target.checked}:R))}),y.jsx("span",{className:`font-bold text-sm ${S.active?"text-green-400":"text-gray-500"}`,children:S.active?"Visible en Landing":"Oculta"})]}),y.jsx("button",{onClick:()=>I($.filter(A=>A.id!==S.id)),className:"text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-500/10 px-3 py-1 rounded-lg",children:"Eliminar"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{value:S.title,onChange:A=>I($.map(R=>R.id===S.id?{...R,title:A.target.value}:R)),placeholder:"Ttulo de la Seccin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary"}),y.jsx("textarea",{value:S.description,onChange:A=>I($.map(R=>R.id===S.id?{...R,description:A.target.value}:R)),placeholder:"Breve descripcin para la landing...",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary",rows:"3"})]}),y.jsx("div",{className:"space-y-4",children:y.jsx(R_,{value:S.imageUrl,onChange:A=>I($.map(R=>R.id===S.id?{...R,imageUrl:A}:R))})})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-black/20 p-4 rounded-2xl",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Inicio"}),y.jsx("input",{type:"date",value:S.startDate||"",onChange:A=>I($.map(R=>R.id===S.id?{...R,startDate:A.target.value}:R)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Fin"}),y.jsx("input",{type:"date",value:S.endDate||"",onChange:A=>I($.map(R=>R.id===S.id?{...R,endDate:A.target.value}:R)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:'Aviso "Cierre"'}),y.jsx("input",{type:"number",placeholder:"Das restantes",value:S.warningDays||"",onChange:A=>I($.map(R=>R.id===S.id?{...R,warningDays:A.target.value}:R)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]})]}),y.jsx(zR,{buttons:S.buttons||[],onChange:A=>I($.map(R=>R.id===S.id?{...R,buttons:A}:R))})]},S.id))}),y.jsx("button",{onClick:D,className:"w-full bg-primary text-black py-4 rounded-2xl font-black text-lg hover:bg-sky-500 transition-all shadow-xl shadow-primary/20",children:"GUARDAR CAMBIOS EN LA WEB"})]}),v==="inbox"&&y.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[y.jsxs("form",{onSubmit:V,className:"bg-white/5 p-8 rounded-3xl border border-white/5 space-y-6",children:[y.jsxs("h3",{className:"text-xl font-bold text-primary flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-xl",children:""}),"Enviar Notificacin / Aviso"]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Asunto"}),y.jsx("input",{name:"title",required:!0,placeholder:"Ej: Nueva fiesta confirmada",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Mensaje Completo"}),y.jsx("textarea",{name:"body",required:!0,rows:"4",placeholder:"Describe los detalles aqu...",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-sky-400 to-blue-500 text-black font-black py-4 rounded-2xl hover:scale-[1.01] transition-all shadow-lg shadow-primary/20 uppercase tracking-widest",children:"Publicar Aviso Global"})]}),y.jsxs("div",{className:"bg-yellow-500/5 border border-yellow-500/20 p-6 rounded-2xl",children:[y.jsx("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:" Notificaciones Push"}),y.jsx("p",{className:"text-xs text-gray-400 leading-relaxed mb-4",children:"Este panel aade mensajes al Buzn interno de la App. Para enviar notificaciones que hagan vibrar el mvil (Push), utiliza el panel de Firebase Messaging."}),y.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"text-[10px] bg-yellow-500/20 text-yellow-200 px-4 py-2 rounded-lg hover:bg-yellow-500/30 font-bold transition-all uppercase tracking-tighter",children:"Ir a Consola Firebase"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Historial Reciente"}),o.map(S=>y.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5 hover:bg-white/10 transition-all",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-sm",children:S.title}),y.jsx("div",{className:"text-[10px] text-gray-500 font-mono italic",children:new Date(S.date).toLocaleString()})]}),y.jsx("button",{onClick:()=>confirm("Borrar aviso?")&&Em(Sn(ut,"announcements",S.id)),className:"text-red-500 hover:bg-red-500/10 p-3 rounded-full transition-all",children:y.jsx(Ac,{className:"w-4 h-4"})})]},S.id)),o.length===0&&y.jsx("p",{className:"text-center text-gray-600 italic py-8 text-sm",children:"No hay avisos anteriores."})]})]})]})]})})},BR=({onClose:a,onSuccess:e})=>{const[i,s]=L.useState(""),[o,u]=L.useState(!1),f=async m=>{m.preventDefault(),u(!0);try{const v=Sn(ut,"config","settings"),g=await nC(v);let E="PasoWeb2526";g.exists()?E=g.data().adminPassword||"PasoWeb2526":await jc(v,{adminPassword:"PasoWeb2526"}),i===E?e():alert("Contrasea incorrecta")}catch(v){console.error(v),alert("Error de verificacin con el servidor")}finally{u(!1)}};return y.jsx(Gr,{isOpen:!0,onClose:a,children:y.jsxs("div",{className:"p-8 text-center animate-fade-in",children:[y.jsx("div",{className:"w-16 h-16 bg-sky-400/20 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx("span",{className:"text-3xl",children:""})}),y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acceso Admin"}),y.jsxs("form",{onSubmit:f,children:[y.jsx("input",{type:"password",autoFocus:!0,autoComplete:"current-password",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-center text-white text-xl tracking-widest mb-4 placeholder-gray-600 focus:border-sky-400 outline-none transition-all",placeholder:"",value:i,onChange:m=>s(m.target.value)}),y.jsxs("div",{className:"flex gap-2 justify-center",children:[y.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"}),y.jsx("button",{disabled:o||!i,className:"px-8 py-2 bg-sky-400 text-black font-bold rounded-lg hover:bg-sky-500 transition-all disabled:opacity-50",children:o?"Verificando...":"Entrar"})]})]})]})})},qR=({onBack:a,events:e,specialSections:i})=>{const[s,o]=L.useState(null),[u,f]=L.useState([]),m=L.useMemo(()=>{const E=(e||[]).map(N=>({...N,type:"event",label:"Evento"})),x=(i||[]).filter(N=>(N.buttons||[]).some(k=>k.type==="form")||(N.pollOptions||[]).length>0).map(N=>({...N,type:"section",label:"Seccin"}));return[...E,...x]},[e,i]),v=m.find(E=>E.id===s);L.useEffect(()=>{if(!s||!v)return;let E;return v.type==="event"?E=Ga(Ys(ti(ut,"event_registrations"),Bd("eventId","==",s)),x=>f(x.docs.map(N=>N.data()))):E=Ga(Ys(ti(ut,"event_registrations"),Bd("eventId",">=",`section_${s}`),Bd("eventId","<=",`section_${s}`)),x=>f(x.docs.map(N=>N.data()))),()=>E&&E()},[s,v]);const g=()=>{if(!v||u.length===0)return;const E=["ID Origen","Nombre","Email",...Object.keys(u[0]||{}).filter(z=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(z)),"Fecha"],x=u.map(z=>[z.eventTitle||"-",z.nombre||"-",z.email||"-",...Object.keys(z).filter($=>!["eventId","eventTitle","submittedAt","nombre","email"].includes($)).map($=>z[$]),z.submittedAt].join("	")),N=[E.join("	"),...x].join(`
`),k=new Blob([N],{type:"text/tab-separated-values"}),F=URL.createObjectURL(k),Y=document.createElement("a");Y.href=F,Y.download=`${v.title}_data.xls`,Y.click()};return y.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white p-8 flex flex-col animate-fade-in",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[y.jsx("h1",{className:"text-3xl font-black text-sky-400",children:"BASE DE DATOS"}),y.jsx("button",{onClick:a,className:"px-6 py-2 bg-white/10 hover:bg-white/20 rounded-lg font-bold transition-colors",children:"Volver"})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-8 flex-1 overflow-hidden",children:[y.jsxs("div",{className:"w-full md:w-1/4 h-64 md:h-full overflow-y-auto pr-4 border-b md:border-b-0 md:border-r border-white/10 space-y-2 custom-scrollbar",children:[y.jsx("h3",{className:"font-bold text-gray-400 mb-4 sticky top-0 bg-[#0a0a0f] py-2",children:"tems"}),m.map(E=>y.jsxs("button",{onClick:()=>o(E.id),className:`w-full text-left p-3 rounded transition-all flex justify-between items-center ${s===E.id?"bg-sky-400 text-black font-bold":"hover:bg-white/5 text-gray-300"}`,children:[y.jsx("span",{className:"truncate",children:E.title}),y.jsx("span",{className:"text-[10px] opacity-70 border px-1 rounded uppercase font-mono",children:E.label})]},E.id))]}),y.jsxs("div",{className:"flex-1 overflow-y-auto bg-black/20 rounded-2xl p-6 border border-white/5 custom-scrollbar",children:[!s&&y.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 italic",children:"Selecciona un tem de la izquierda para ver los registros."}),v&&y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-end mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-bold mb-2",children:v.title}),y.jsxs("div",{className:"text-gray-400 text-sm font-mono",children:["ID: ",v.id]})]}),y.jsxs("button",{onClick:g,className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded font-bold text-sm flex items-center gap-2 transition-all",children:[y.jsx($_,{className:"w-4 h-4 rotate-180"})," Exportar Excel"]})]}),y.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[y.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[y.jsx("div",{className:"text-sm text-gray-400",children:"Tipo"}),y.jsx("div",{className:"text-2xl font-bold text-sky-400 uppercase",children:v.type})]}),y.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[y.jsx("div",{className:"text-sm text-gray-400",children:"Registros"}),y.jsx("div",{className:"text-2xl font-bold text-purple-400",children:u.length})]})]}),y.jsx("h3",{className:"font-bold mb-4 text-sky-400",children:"Registros Recibidos"}),y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[y.jsx("thead",{className:"text-xs uppercase bg-white/5 text-gray-200",children:y.jsx("tr",{children:["Origen","Fecha","Nombre","Email",...Object.keys(u[0]||{}).filter(E=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(E))].map(E=>y.jsx("th",{className:"px-4 py-3",children:E},E))})}),y.jsx("tbody",{children:u.map((E,x)=>y.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[y.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:E.eventTitle?.split("-")[1]||"General"}),y.jsx("td",{className:"px-4 py-2",children:new Date(E.submittedAt).toLocaleDateString()}),y.jsx("td",{className:"px-4 py-2 font-bold text-white",children:E.nombre||"-"}),y.jsx("td",{className:"px-4 py-2",children:E.email||"-"}),Object.keys(E).filter(N=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(N)).map(N=>y.jsx("td",{className:"px-4 py-2",children:typeof E[N]=="object"?JSON.stringify(E[N]):E[N]},N))]},x))})]}),u.length===0&&y.jsx("p",{className:"text-center py-8 italic text-gray-600",children:"No hay registros an para este tem."})]})]})]})]})]})},HR=()=>{const[a,e]=L.useState(null),[i,s]=L.useState(!1),[o,u]=L.useState(!1);return L.useEffect(()=>{const m=/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream;u(m);const v=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;m&&!v&&s(!0);const g=E=>{E.preventDefault(),e(E),s(!0)};return window.addEventListener("beforeinstallprompt",g),()=>window.removeEventListener("beforeinstallprompt",g)},[]),{showInstall:i,setShowInstall:s,install:()=>{o||a&&(a.prompt(),a.userChoice.then(m=>{m.outcome==="accepted"&&s(!1),e(null)}))},isIOS:o}},FR=()=>{const[a,e]=L.useState([]),[i,s]=L.useState([]),[o,u]=L.useState([]),[f,m]=L.useState([]),[v,g]=L.useState("app"),[E,x]=L.useState(null),[N,k]=L.useState(null),[F,Y]=L.useState(null),[z,$]=L.useState(null),[ie,re]=L.useState(null),[ye,ve]=L.useState(!1),[_e,I]=L.useState(!1),[D,V]=L.useState(!1),[S,A]=L.useState(!1),[R,C]=L.useState(!1),[Se,Le]=L.useState(new Date().getMonth()),[K,le]=L.useState(new Date().getFullYear()),{showInstall:de,isIOS:De,install:ze,setShowInstall:O}=HR();L.useEffect(()=>{const ne=Ys(ti(ut,"events"),y_("date","asc")),ge=Ga(ne,Xt=>{e(Xt.docs.map(mn=>({id:mn.id,...mn.data()})))}),Ae=Ga(Sn(ut,"config","eventTypes"),Xt=>{Xt.exists()&&s(Xt.data().types||[])}),st=Ys(ti(ut,"announcements"),y_("date","desc"),W4(20)),$e=Ga(st,Xt=>{const mn=Xt.docs.map(pn=>({id:pn.id,...pn.data()}));u(mn);const Mi=localStorage.getItem("last_inbox_view");mn.length>0&&(!Mi||new Date(mn[0].date)>new Date(Mi))&&C(!0)}),Oi=Ga(Sn(ut,"config","specialSections"),Xt=>{Xt.exists()&&m(Xt.data().sections||[])});return()=>{ge(),Ae(),$e(),Oi()}},[]);const Z=()=>{A(!0),C(!1),localStorage.setItem("last_inbox_view",new Date().toISOString())},oe=ne=>{re(ne)},ae=a.filter(ne=>new Date(ne.date)>=new Date().setHours(0,0,0,0));return v==="database"?y.jsx(qR,{events:a,specialSections:f,onBack:()=>g("app")}):y.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white font-sans selection:bg-sky-500/30",children:[y.jsx(fE,{}),y.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[y.jsx(LR,{onClick:Z,hasUnread:R}),_e&&y.jsx("button",{onClick:()=>V(!0),className:"p-3 bg-primary text-white rounded-full shadow-lg hover:bg-primary/80 transition-all border border-primary/30",children:y.jsx(r2,{className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>_e?I(!1):ve(!0),className:`p-3 rounded-full shadow-lg transition-all ${_e?"bg-red-500 text-white":"bg-white/5 text-gray-400 hover:text-white border border-white/10"}`,children:y.jsx($T,{className:"w-5 h-5"})})]}),y.jsxs("section",{className:"min-h-[90vh] flex flex-col items-center justify-center p-6 relative overflow-hidden bg-celestial",children:[y.jsx("div",{className:"absolute inset-0 bg-sky-400/5 blur-[120px] pointer-events-none"}),y.jsx("div",{className:"relative w-64 h-64 md:w-80 md:h-80 mb-8 animate-float",children:y.jsx("img",{src:"/Paso-Ecuador-INEF/logo.png",className:"w-full h-full object-contain drop-shadow-[0_0_40px_rgba(56,189,248,0.5)]",alt:"Logo"})}),y.jsxs("h1",{className:"text-6xl md:text-9xl font-black text-center tracking-tighter mb-4",children:[y.jsx("span",{className:"text-white",children:"PASO DE "}),y.jsx("span",{className:"text-sky-400 text-glow",children:"ECUADOR"})]}),y.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light tracking-[0.2em] mb-12 uppercase",children:"INEF 25/26"}),y.jsx("a",{href:"#events",className:"px-10 py-4 rounded-full bg-sky-400 text-black font-black text-lg hover:shadow-[0_0_30px_rgba(56,189,248,0.5)] transition-all transform hover:scale-105",children:"PRXIMOS EVENTOS"})]}),y.jsx(jR,{sections:f,onOpenSection:Y,onOpenForm:ne=>$(ne)}),y.jsx("section",{id:"events",className:"py-24 px-4 md:px-8 bg-celestial-gradient border-y border-white/5",children:y.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[y.jsxs("h2",{className:"text-4xl font-bold mb-16 flex items-center gap-4",children:[y.jsx("span",{className:"w-2 h-12 bg-sky-400 rounded-full shadow-[0_0_15px_rgba(56,189,248,0.5)]"}),"Prximamente"]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ae.map(ne=>y.jsxs("div",{onClick:()=>k(ne),className:"bg-white/5 backdrop-blur-md p-6 rounded-[2.5rem] border border-white/5 hover:bg-white/10 transition-all group relative overflow-hidden flex flex-col cursor-pointer transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-sky-400/5",children:[y.jsxs("div",{className:"absolute top-6 right-6 px-3 py-1 rounded-full text-[10px] font-black uppercase border bg-black/50 backdrop-blur-md z-10 tracking-widest",style:{color:ne.typeColor,borderColor:ne.typeColor},children:[ne.typeIcon," ",ne.typeName]}),ne.imageUrl&&y.jsxs("div",{className:"w-full h-56 mb-6 rounded-3xl overflow-hidden relative",children:[y.jsx("img",{src:ne.imageUrl,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000",alt:ne.title}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-6",children:y.jsx("span",{className:"text-white font-bold text-sm",children:"Ver Detalles"})})]}),y.jsxs("div",{className:"text-sky-400 font-black tracking-widest text-xs mb-3 uppercase",children:[new Date(ne.date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"}),ne.time&&y.jsxs("span",{className:"ml-2",children:[" ",ne.time]})]}),y.jsx("h3",{className:"text-3xl font-black text-white mb-3 leading-tight group-hover:text-sky-400 transition-colors",children:ne.title}),ne.location&&y.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-4",children:[y.jsx(Y_,{className:"w-4 h-4 text-sky-400"})," ",ne.location]}),y.jsx("div",{className:"mt-auto",onClick:ge=>ge.stopPropagation(),children:y.jsx(dE,{event:ne,onOpenForm:$})})]},ne.id))})]})}),y.jsxs("section",{className:"relative py-40 overflow-hidden bg-deep",children:[y.jsx("div",{className:"absolute inset-0 bg-transparent"}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-16 items-center",children:[y.jsxs("div",{className:"animate-fade-in-left",children:[y.jsxs("h2",{className:"text-6xl md:text-8xl font-black mb-8 tracking-tighter leading-none",children:[y.jsx("span",{className:"bg-gradient-to-r from-white to-gray-500 bg-clip-text text-transparent",children:"LIGA"}),y.jsx("br",{}),y.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),y.jsx("p",{className:"text-gray-400 text-xl mb-12 leading-relaxed max-w-md font-medium",children:"Compite en torneos exclusivos, acumula puntos para el ranking anual y convirtete en la leyenda de INEF."}),y.jsxs(Eo,{to:"/liga",className:"inline-flex items-center gap-4 px-10 py-5 rounded-full bg-gradient-to-r from-primary to-secondary text-white font-black text-xl hover:scale-105 transition-all shadow-[0_10px_40px_rgba(79,70,229,0.3)] active:scale-95",children:["VER CLASIFICACIN ",y.jsx(Rm,{className:"w-6 h-6"})]})]}),y.jsxs("div",{className:"relative group animate-fade-in-right",children:[y.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-indigo-500 to-purple-600 blur-[80px] opacity-10 group-hover:opacity-30 transition-opacity duration-1000"}),y.jsxs("div",{className:"glass-panel p-8 rounded-[3rem] border border-white/10 transform rotate-[-3deg] group-hover:rotate-1 transition-all duration-700 shadow-2xl bg-black/40 backdrop-blur-xl",children:[y.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-white/10 pb-6",children:[y.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-600 flex items-center justify-center font-black text-black text-2xl border-2 border-yellow-200 outline outline-4 outline-yellow-400/20",children:"#1"}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-500 uppercase font-black tracking-widest mb-1",children:"Top Ranking"}),y.jsx("div",{className:"font-black text-2xl text-white",children:"LDER"})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"h-4 bg-white/5 rounded-full w-full overflow-hidden relative",children:y.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-3/4"})}),y.jsx("div",{className:"h-4 bg-white/5 rounded-full w-5/6 overflow-hidden relative",children:y.jsx("div",{className:"absolute inset-y-0 left-0 bg-purple-500/50 w-1/2"})}),y.jsx("div",{className:"h-4 bg-white/5 rounded-full w-2/3 overflow-hidden relative",children:y.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-2/3"})})]})]})]})]})]}),y.jsx("section",{className:"py-24 px-4 md:px-8 bg-celestial-gradient",children:y.jsx("div",{className:"max-w-6xl mx-auto w-full",children:y.jsx(VR,{events:a,currentMonth:Se,setCurrentMonth:Le,currentYear:K,setCurrentYear:le,onSelectDay:x})})}),y.jsx("footer",{className:"py-20 border-t border-white/5 bg-deep",children:y.jsxs("div",{className:"flex flex-col items-center gap-8",children:[y.jsxs("div",{className:"flex gap-8",children:[y.jsx("a",{href:"https://www.instagram.com/pasoecuadorinef26/",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-gradient-to-br hover:from-purple-600 hover:to-orange-500 transition-all hover:scale-110 border border-white/5",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),y.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),y.jsx("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]})}),y.jsx("a",{href:"https://www.tiktok.com/@pasoecuadorinef26",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-black hover:border hover:border-sky-400 hover:text-sky-400 transition-all hover:scale-110 border border-white/5",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]}),y.jsx("p",{className:"text-gray-600 text-xs font-bold tracking-widest uppercase",children:" 2025 Paso de Ecuador INEF 25/26"})]})}),y.jsx(Gr,{isOpen:!!E,onClose:()=>x(null),children:E&&y.jsxs("div",{className:"p-8",children:[y.jsx("div",{className:"flex justify-between items-center mb-8",children:y.jsx("h2",{className:"text-3xl font-black capitalize",children:new Date(E.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})}),y.jsxs("div",{className:"space-y-4",children:[E.events.map(ne=>y.jsx("div",{onClick:()=>{k(ne),x(null)},className:"bg-white/5 p-6 rounded-3xl border-l-4 cursor-pointer hover:bg-white/10 transition-all group",style:{borderColor:ne.typeColor},children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-xl group-hover:text-sky-400 transition-colors",children:ne.title}),y.jsxs("div",{className:"text-xs opacity-50 flex items-center gap-2 mt-1 uppercase tracking-widest",children:[ne.typeIcon," ",ne.typeName]})]}),y.jsx("div",{className:"text-xs text-sky-400 font-bold uppercase border border-sky-400/30 px-3 py-1 rounded-full group-hover:bg-sky-400 group-hover:text-black transition-all",children:"Ver Ms"})]})},ne.id)),E.events.length===0&&y.jsx("p",{className:"text-center text-gray-500 py-12 italic",children:"No hay eventos programados para este da."})]})]})}),N&&y.jsx(MR,{event:N,onClose:()=>k(null),onOpenForm:ne=>{k(null),$(ne)}}),y.jsx(Gr,{isOpen:!!F,onClose:()=>Y(null),children:F&&y.jsxs("div",{className:"relative",children:[F.imageUrl&&y.jsx("div",{className:"w-full h-80",children:y.jsx("img",{src:F.imageUrl,className:"w-full h-full object-cover",alt:""})}),y.jsxs("div",{className:"p-8",children:[y.jsx("h2",{className:"text-4xl font-black mb-4 text-white",children:F.title}),y.jsx("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 mb-8",children:y.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap text-lg",children:F.description})}),y.jsx("div",{className:"flex flex-wrap gap-4",children:(F.buttons||[]).map(ne=>y.jsx("button",{className:"px-8 py-3 rounded-xl font-bold bg-sky-400 text-black hover:bg-sky-500 transition-all shadow-lg",onClick:()=>{ne.type==="form"?($({id:`section_${F.id}_${ne.id}`,title:`${F.title} - ${ne.label}`,customFields:ne.customFields||[]}),Y(null)):ne.link&&window.open(ne.link,"_blank")},children:ne.label},ne.id))})]})]})}),z&&y.jsx(kR,{event:z,onClose:()=>$(null)}),y.jsx(UR,{isOpen:S,onClose:()=>A(!1),announcements:o,permission:"default",onRequestPermission:()=>alert("Prximamente...")}),ye&&y.jsx(BR,{onClose:()=>ve(!1),onSuccess:()=>{I(!0),ve(!1),V(!0)}}),y.jsx(PR,{isOpen:D,onClose:()=>V(!1),events:a,eventTypes:i,announcements:o,specialSections:f,onOpenDB:()=>{V(!1),g("database")},onOpenStats:oe}),de&&!De&&y.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:y.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-6 rounded-[2rem] shadow-2xl flex items-center gap-4 relative",children:[y.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-white",children:y.jsx(ko,{className:"w-5 h-5"})}),y.jsx("div",{className:"w-14 h-14 bg-sky-400/10 rounded-2xl flex items-center justify-center text-3xl",children:""}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-bold text-white text-lg",children:"Instalar App"}),y.jsx("p",{className:"text-xs text-gray-400",children:"Accede ms rpido y sin conexin desde tu pantalla de inicio."})]}),y.jsx("button",{onClick:ze,className:"bg-sky-400 text-black px-6 py-3 rounded-xl font-bold text-sm hover:scale-105 active:scale-95 transition-all",children:"Instalar"})]})})]})},uo=a=>a?a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():"",GR=(a,e=!1)=>a?new Date(a).toLocaleDateString("es-ES",{day:"numeric",month:"short",...e&&{hour:"2-digit",minute:"2-digit"}}):"",QR=`Se trata de una liga individual en la que daremos 100 a la persona ganadora al final del curso.
Los puntos se obtienen participando en torneos y ganndolos, siendo los puntos obtenidos:

 **+1 punto** por participar
 **+3 puntos** por quedar segundo/a
 **+5 puntos** por quedar primero/a`,D_=({isOpen:a,onClose:e,children:i})=>a?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[y.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),y.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-[#0f0f16] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up flex flex-col max-h-[90vh]",children:[y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-20",children:y.jsx(ko,{className:"w-6 h-6"})}),i]})]}):null,KR=({player:a,rank:e,onClick:i})=>{const s=e===1?"rank-1":e===2?"rank-2":e===3?"rank-3":"text-gray-500",o=e===1?"bg-yellow-500/10 border-yellow-500/20":"bg-[#1c1c2e]/50 hover:bg-[#1c1c2e] border-white/5";return y.jsxs("div",{onClick:i,className:`group relative flex items-center p-4 rounded-xl border transition-all duration-300 cursor-pointer ${o}`,children:[y.jsx("div",{className:`w-12 h-12 flex items-center justify-center text-2xl font-black mr-4 ${s}`,children:e<=3?"#"+e:e}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:`font-bold text-lg ${e===1?"text-white":"text-gray-200"} group-hover:text-primary transition-colors`,children:a.name}),e===1&&y.jsx("span",{className:"text-xs text-yellow-500 font-medium tracking-wider",children:"LDER ACTUAL"})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-2xl font-bold text-white tracking-tight",children:a.displayPoints!==void 0?a.displayPoints:a.points}),y.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"PUNTOS"})]}),y.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary/0 to-secondary/0 opacity-0 group-hover:opacity-5 transition-opacity pointer-events-none"})]})},YR=({players:a,processTournament:e,goBack:i,manualDelete:s,manualUpdatePoints:o,password:u,setPassword:f,description:m,setDescription:v})=>{const[g,E]=L.useState(""),[x,N]=L.useState(new Date().toISOString().split("T")[0]),[k,F]=L.useState(""),[Y,z]=L.useState(""),[$,ie]=L.useState(""),[re,ye]=L.useState(!1),[ve,_e]=L.useState(""),[I,D]=L.useState(""),[V,S]=L.useState(m),A=C=>{if(C.preventDefault(),!g)return alert("Ponle nombre al torneo");e(g,x,k,Y,$),F(""),z(""),ie(""),E("")},R=()=>{if(ve!==u){alert("La contrasea actual no es correcta.");return}if(!I){alert("Escribe una nueva contrasea");return}f(I),alert("Contrasea cambiada exitosamente"),D(""),_e("")};return y.jsx("div",{className:"min-h-screen p-4 md:p-8 pb-32 bg-liga",children:y.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"flex flex-col gap-8",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("button",{onClick:()=>ye(!re),className:"flex-1 glass-panel p-4 rounded-2xl flex items-center justify-center gap-2 font-bold hover:bg-white/5 transition-colors text-gray-300",children:[y.jsx(X_,{className:"w-5 h-5"})," ",re?"Volver a Torneos":"Configuracin"]}),y.jsx("button",{onClick:i,className:"glass-panel px-6 rounded-2xl text-red-400 hover:bg-white/5 transition-colors font-bold",children:"Salir"})]}),re?y.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit space-y-8 animate-fade-in-up",children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Configuracin"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Descripcin de la Liga"}),y.jsx("textarea",{className:"w-full h-40 bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-primary focus:outline-none",value:V,onChange:C=>S(C.target.value)}),y.jsxs("button",{onClick:()=>{v(V),alert("Descripcin actualizada")},className:"px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg text-sm font-bold flex items-center gap-2",children:[y.jsx(t2,{className:"w-4 h-4"})," Guardar Texto"]})]}),y.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-4",children:[y.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Seguridad"}),y.jsx("input",{type:"password",placeholder:"Contrasea Actual",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none mb-2",value:ve,onChange:C=>_e(C.target.value)}),y.jsx("input",{type:"password",placeholder:"Nueva Contrasea",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none",value:I,onChange:C=>D(C.target.value)}),y.jsx("button",{onClick:R,className:"px-4 py-2 bg-secondary/20 hover:bg-secondary/30 text-secondary rounded-lg text-sm font-bold",children:"Actualizar Contrasea"})]})]}):y.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit animate-fade-in-up",children:[y.jsx("div",{className:"flex justify-between items-center mb-8",children:y.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[y.jsx($d,{className:"text-secondary w-6 h-6"})," Nuevo Torneo"]})}),y.jsxs("form",{onSubmit:A,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Nombre Torneo"}),y.jsx("input",{type:"text",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",placeholder:"Ej: Torneo FIFA",value:g,onChange:C=>E(C.target.value),required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Fecha"}),y.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",value:x,onChange:C=>N(C.target.value)})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"flex justify-between text-xs uppercase font-bold text-yellow-500 mb-2",children:y.jsx("span",{children:" 1 Puesto (+5 pts)"})}),y.jsx("textarea",{className:"w-full h-24 bg-yellow-900/10 border border-yellow-500/20 rounded-xl p-3 text-sm text-white focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Nombres...",value:k,onChange:C=>F(C.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs uppercase font-bold text-gray-300 mb-2 block",children:" 2 Puesto (+3 pts)"}),y.jsx("textarea",{className:"w-full h-24 bg-white/5 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-gray-500 focus:outline-none",placeholder:"Nombres...",value:Y,onChange:C=>z(C.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs uppercase font-bold text-primary mb-2 block",children:"Participantes (+1 pt)"}),y.jsx("textarea",{className:"w-full h-32 bg-primary/5 border border-primary/20 rounded-xl p-3 text-sm text-white focus:border-primary focus:outline-none",placeholder:"Lista de nombres...",value:$,onChange:C=>ie(C.target.value)}),y.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"* El sistema evitar duplicar puntos si alguien ya est en 1 o 2 puesto."})]})]}),y.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-primary to-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-primary/25 transition-all transform hover:scale-[1.02]",children:"Guardar Resultados"})]})]})]}),y.jsxs("div",{className:"glass-panel p-6 rounded-3xl h-[800px] flex flex-col",children:[y.jsxs("h3",{className:"text-xl font-bold text-white mb-6",children:["Base de Datos (",a.length,")"]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-2",children:a.map(C=>y.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5 group",children:[y.jsx("span",{className:"font-medium text-gray-300",children:C.name}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("span",{className:"font-bold text-white",children:[C.points," pts"]}),y.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>o(C.id,1),className:"text-green-400 hover:bg-green-500/20 p-2 rounded",title:"+1",children:y.jsx($d,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>o(C.id,-1),className:"text-yellow-400 hover:bg-yellow-500/20 p-2 rounded",title:"-1",children:y.jsx("div",{className:"w-4 h-4 flex items-center justify-center font-bold text-xs",children:"-"})}),y.jsx("button",{onClick:()=>s(C.id),className:"text-red-500 hover:bg-red-500/20 p-2 rounded",title:"Eliminar",children:y.jsx(Ac,{className:"w-4 h-4"})})]})]})]},C.id))})]})]})})},XR=()=>{const[a,e]=L.useState("public"),[i,s]=L.useState([]),[o,u]=L.useState([]),[f,m]=L.useState(()=>localStorage.getItem("liga_description")||QR),[v,g]=L.useState(()=>localStorage.getItem("liga_password")||"4321"),[E,x]=L.useState(""),[N,k]=L.useState(null),[F,Y]=L.useState("ALL"),[z,$]=L.useState(!1),[ie,re]=L.useState(!1),[ye,ve]=L.useState("");L.useEffect(()=>{const A=Ga(Ys(ti(ut,"players")),C=>{s(C.docs.map(Se=>({id:Se.id,...Se.data()})))}),R=Ga(Ys(ti(ut,"tournaments")),C=>{const Se=C.docs.map(Le=>({id:Le.id,...Le.data()}));Se.sort((Le,K)=>new Date(K.date)-new Date(Le.date)),u(Se)});return()=>{A(),R()}},[]),L.useEffect(()=>{localStorage.setItem("liga_description",f)},[f]),L.useEffect(()=>{localStorage.setItem("liga_password",v)},[v]);const _e=async(A,R,C,Se,Le)=>{const K=ae=>ae.split(/[\n,]+/).map(ne=>ne.trim()).filter(Boolean),le=K(C),de=K(Se),De=K(Le),ze=new Set,O=[],Z=(ae,ne,ge)=>{const Ae=uo(ae);ze.has(Ae)||(ze.add(Ae),O.push({name:ae,points:ne,type:ge}))};le.forEach(ae=>Z(ae,5,"1 Puesto")),de.forEach(ae=>Z(ae,3,"2 Puesto")),De.forEach(ae=>Z(ae,1,"Participacin"));for(const ae of O){let ne=i.find(ge=>uo(ge.name)===uo(ae.name));if(ne){const ge=[...ne.history||[],{tournament:A,points:ae.points,date:R,type:ae.type}],Ae=ne.points+ae.points,st=[...ne.wins||[]];ae.type==="1 Puesto"&&st.push(new Date(R).getTime());try{await bm(Sn(ut,"players",ne.id),{history:ge,points:Ae,wins:st})}catch($e){console.error("Error updating player",ae.name,$e)}}else{const ge={name:ae.name,points:ae.points,wins:ae.type==="1 Puesto"?[new Date(R).getTime()]:[],history:[{tournament:A,points:ae.points,date:R,type:ae.type}]};try{await Do(ti(ut,"players"),ge)}catch(Ae){console.error("Error creating player",ae.name,Ae)}}}const oe={name:A,date:R,winners:le};try{await Do(ti(ut,"tournaments"),oe),alert("Torneo guardado y sincronizado.")}catch(ae){alert("Error guardando torneo: "+ae.message)}},I=async A=>{if(confirm("Seguro que quieres borrar a este jugador?"))try{await Em(Sn(ut,"players",A))}catch(R){alert("Error eliminando: "+R.message)}},D=async(A,R)=>{const C=i.find(Se=>Se.id===A);if(C)try{await bm(Sn(ut,"players",A),{points:Math.max(0,C.points+R)})}catch(Se){console.error(Se)}},V=L.useMemo(()=>{let A=[...i];if(F!=="ALL"){const R=o.find(C=>C.id===F);R&&(A=A.map(C=>{const Se=C.history?C.history.filter(Le=>Le.tournament===R.name).reduce((Le,K)=>Le+K.points,0):0;return{...C,displayPoints:Se}}).filter(C=>C.displayPoints>0))}else A=A.map(R=>({...R,displayPoints:R.points}));A.sort((R,C)=>{const Se=R.displayPoints,Le=C.displayPoints;if(Le!==Se)return Le-Se;const K=R.wins&&R.wins.length>0?Math.max(...R.wins):0;return(C.wins&&C.wins.length>0?Math.max(...C.wins):0)-K});for(let R=0;R<A.length;R++)R>0?A[R].displayPoints===A[R-1].displayPoints?A[R].realRank=A[R-1].realRank:A[R].realRank=R+1:A[R].realRank=1;return E&&(A=A.filter(R=>uo(R.name).includes(uo(E)))),A},[i,E,F,o]),S=V.length>0?V[0]:null;return a==="public"?y.jsxs("div",{className:"min-h-screen bg-liga text-white p-4 selection:bg-primary selection:text-white",children:[y.jsxs("div",{className:"relative py-12 px-4 overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute top-6 right-6 z-20 flex gap-2",children:y.jsx("button",{onClick:()=>$(!0),className:"p-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 transition-colors group",children:y.jsx(r0,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})})}),y.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[y.jsxs("h1",{className:"text-4xl md:text-7xl font-black mb-2 tracking-tighter",children:[y.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-gray-400 bg-clip-text text-transparent",children:"LIGA"}),y.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent text-glow ml-2 md:ml-4 tracking-[0.05em] drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),y.jsx("p",{className:"text-blue-200/60 uppercase tracking-[0.3em] font-bold text-sm mb-12",children:"Paso de Ecuador 25/26"}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-12",children:[y.jsxs("div",{className:"glass p-4 rounded-2xl",children:[y.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:F==="ALL"?"Lder Actual":"Ganador Torneo"}),y.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-yellow-200 to-yellow-600 bg-clip-text text-transparent text-center truncate",children:S?S.name:"-"})]}),y.jsxs("div",{className:"glass p-4 rounded-2xl",children:[y.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Jugadores"}),y.jsx("div",{className:"text-2xl font-bold text-white text-center",children:i.length})]}),y.jsxs("div",{className:"glass p-4 rounded-2xl hidden md:block",children:[y.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Torneos"}),y.jsx("div",{className:"text-2xl font-bold text-white text-center",children:o.length})]})]}),y.jsxs("div",{className:"max-w-2xl mx-auto flex flex-col md:flex-row gap-4 mb-8",children:[y.jsxs("div",{className:"relative flex-1 group",children:[y.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:y.jsx(i2,{className:"text-gray-500 w-5 h-5 group-focus-within:text-primary transition-colors"})}),y.jsx("input",{type:"text",placeholder:"Buscar jugador...",className:"w-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-12 pr-6 text-white focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-all shadow-xl",value:E,onChange:A=>x(A.target.value)})]}),y.jsxs("div",{className:"relative md:w-64",children:[y.jsxs("select",{className:"w-full h-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-4 pr-10 text-white focus:outline-none focus:border-primary/50 appearance-none cursor-pointer",value:F,onChange:A=>Y(A.target.value),children:[y.jsx("option",{value:"ALL",children:"Clasificacin Global"}),o.map(A=>y.jsx("option",{value:A.id,children:A.name},A.id))]}),y.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none",children:y.jsx(LT,{className:"text-gray-500 w-4 h-4"})})]})]})]})]}),y.jsxs("div",{className:"max-w-3xl mx-auto px-4 pb-20 space-y-3",children:[V.map(A=>y.jsx(KR,{player:A,rank:A.realRank,onClick:()=>k(A)},A.id)),V.length===0&&y.jsxs("div",{className:"text-center py-20 text-gray-600",children:[y.jsx(KT,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),y.jsx("p",{children:"No se encontraron jugadores"})]})]}),y.jsxs("div",{className:"fixed bottom-6 right-6 z-30 flex flex-col gap-3",children:[y.jsx("button",{onClick:async()=>{const A=window.location.href,R="Liga Multisport - Clasificacin";if(navigator.share)try{await navigator.share({title:R,text:"Mira la clasificacin en directo!",url:A})}catch{}else navigator.clipboard.writeText(A),alert("Enlace copiado al portapapeles")},className:"w-12 h-12 rounded-full bg-primary hover:bg-primary/80 text-white flex items-center justify-center transition-all shadow-lg shadow-primary/30 transform hover:scale-110",title:"Compartir Web",children:y.jsx(s0,{className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>e("login"),className:"w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-700 border border-white/10 text-white flex items-center justify-center transition-all shadow-lg transform hover:scale-110",children:y.jsx(X_,{className:"w-5 h-5"})})]}),z&&y.jsx(D_,{isOpen:z,onClose:()=>$(!1),children:y.jsxs("div",{className:"p-8",children:[y.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[y.jsx(r0,{className:"w-6 h-6 text-primary"})," Qu es Liga Multisport?"]}),y.jsx("div",{className:"prose prose-invert text-gray-300 whitespace-pre-line leading-relaxed",children:f})]})}),N&&y.jsx(D_,{isOpen:!!N,onClose:()=>k(null),children:y.jsxs("div",{className:"p-8 flex-1 overflow-auto custom-scrollbar",children:[y.jsx("div",{className:"flex justify-between items-start mb-6",children:y.jsxs("div",{children:[y.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[N.name,y.jsx("button",{onClick:()=>{const A=`Voy #${N.realRank} en la Liga Multisport con ${N.points} puntos! Me superas?`;navigator.share?navigator.share({text:A,url:window.location.href}):(navigator.clipboard.writeText(A+" "+window.location.href),alert("Texto copiado"))},className:"p-2 bg-primary/20 text-primary hover:text-white hover:bg-primary rounded-full transition-all",title:"Compartir mi puesto",children:y.jsx(s0,{className:"w-4 h-4"})})]}),y.jsxs("p",{className:"text-primary font-bold text-xl",children:[N.points," Puntos Totales"]})]})}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-xs uppercase font-bold text-gray-500 tracking-wider",children:"Historial de Torneos"}),N.history&&N.history.slice().reverse().map((A,R)=>y.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/5",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-white",children:A.tournament||"Torneo Desconocido"}),y.jsx("div",{className:"text-xs text-gray-500",children:GR(A.date)})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:`font-bold ${["1 Puesto","2 Puesto"].includes(A.type)?"text-yellow-500":"text-gray-300"}`,children:A.type}),y.jsxs("div",{className:"text-sm font-mono text-primary",children:["+",A.points," pts"]})]})]},R)),(!N.history||N.history.length===0)&&y.jsx("p",{className:"text-gray-600 text-center py-8",children:"Sin historial detallado"})]})]})})]}):a==="login"?y.jsxs("div",{className:"min-h-screen transition-all duration-700 bg-liga flex items-center justify-center px-4 relative",children:[y.jsx("div",{className:"absolute inset-0 bg-primary/5"}),y.jsxs("div",{className:"glass-panel p-10 rounded-3xl w-full max-w-md relative z-10 text-center space-y-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acceso Administrador"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Introduce la clave de seguridad"})]}),y.jsx("input",{type:"password",autoFocus:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-center text-3xl tracking-[1em] text-white focus:outline-none focus:border-secondary transition-colors",value:ye,onChange:A=>{ve(A.target.value),A.target.value===v&&(e("admin"),re(!0))}}),y.jsx("button",{onClick:()=>{e("public"),ve("")},className:"text-gray-500 hover:text-white text-sm",children:"Cancelar"})]})]}):y.jsx(YR,{players:i,processTournament:_e,goBack:()=>{e("public"),ve("")},manualDelete:I,manualUpdatePoints:D,password:v,setPassword:g,description:f,setDescription:m})};function $R(){return y.jsxs(vT,{children:[y.jsx(fE,{}),y.jsxs("div",{className:"min-h-screen",children:[y.jsxs(Xw,{children:[y.jsx(Yd,{path:"/",element:y.jsx(FR,{})}),y.jsx(Yd,{path:"/liga",element:y.jsx(XR,{})})]}),y.jsx(OR,{})]})]})}nw.createRoot(document.getElementById("root")).render(y.jsx(L.StrictMode,{children:y.jsx($R,{})}));
