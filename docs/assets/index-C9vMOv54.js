(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function KE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Sd={exports:{}},lo={};var q0;function YE(){if(q0)return lo;q0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return lo.Fragment=e,lo.jsx=i,lo.jsxs=i,lo}var H0;function XE(){return H0||(H0=1,Sd.exports=YE()),Sd.exports}var m=XE(),Ad={exports:{}},Se={};var F0;function $E(){if(F0)return Se;F0=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),N=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,z={};function J(O,$,le){this.props=O,this.context=$,this.refs=z,this.updater=le||B}J.prototype.isReactComponent={},J.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},J.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=J.prototype;function ae(O,$,le){this.props=O,this.context=$,this.refs=z,this.updater=le||B}var ye=ae.prototype=new ne;ye.constructor=ae,Y(ye,J.prototype),ye.isPureReactComponent=!0;var ve=Array.isArray;function _e(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(O,$,le){var ie=le.ref;return{$$typeof:a,type:O,key:$,ref:ie!==void 0?ie:null,props:le}}function V(O,$){return D(O.type,$,O.props)}function E(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function R(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return $[le]})}var S=/\/+/g;function we(O,$){return typeof O=="object"&&O!==null&&O.key!=null?R(""+O.key):$.toString(36)}function Ue(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(_e,_e):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,$,le,ie,de){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(be){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case a:case e:Ne=!0;break;case x:return Ne=O._init,K(Ne(O._payload),$,le,ie,de)}}if(Ne)return de=de(O),Ne=ie===""?"."+we(O,0):ie,ve(de)?(le="",Ne!=null&&(le=Ne.replace(S,"$&/")+"/"),K(de,$,le,"",function(An){return An})):de!=null&&(E(de)&&(de=V(de,le+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(S,"$&/")+"/")+Ne)),$.push(de)),1;Ne=0;var ce=ie===""?".":ie+":";if(ve(O))for(var He=0;He<O.length;He++)ie=O[He],be=ce+we(ie,He),Ne+=K(ie,$,le,be,de);else if(He=k(O),typeof He=="function")for(O=He.call(O),He=0;!(ie=O.next()).done;)ie=ie.value,be=ce+we(ie,He++),Ne+=K(ie,$,le,be,de);else if(be==="object"){if(typeof O.then=="function")return K(Ue(O),$,le,ie,de);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function se(O,$,le){if(O==null)return O;var ie=[],de=0;return K(O,ie,"","",function(be){return $.call(le,be,de++)}),ie}function me(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Ie=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Pe={map:se,forEach:function(O,$,le){se(O,function(){$.apply(this,arguments)},le)},count:function(O){var $=0;return se(O,function(){$++}),$},toArray:function(O){return se(O,function($){return $})||[]},only:function(O){if(!E(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=T,Se.Children=Pe,Se.Component=J,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=ae,Se.StrictMode=s,Se.Suspense=v,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,$,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=Y({},O.props),de=O.key;if($!=null)for(be in $.key!==void 0&&(de=""+$.key),$)!C.call($,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&$.ref===void 0||(ie[be]=$[be]);var be=arguments.length-2;if(be===1)ie.children=le;else if(1<be){for(var Ne=Array(be),ce=0;ce<be;ce++)Ne[ce]=arguments[ce+2];ie.children=Ne}return D(O.type,de,ie)},Se.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Se.createElement=function(O,$,le){var ie,de={},be=null;if($!=null)for(ie in $.key!==void 0&&(be=""+$.key),$)C.call($,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(de[ie]=$[ie]);var Ne=arguments.length-2;if(Ne===1)de.children=le;else if(1<Ne){for(var ce=Array(Ne),He=0;He<Ne;He++)ce[He]=arguments[He+2];de.children=ce}if(O&&O.defaultProps)for(ie in Ne=O.defaultProps,Ne)de[ie]===void 0&&(de[ie]=Ne[ie]);return D(O,be,de)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:p,render:O}},Se.isValidElement=E,Se.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:me}},Se.memo=function(O,$){return{$$typeof:y,type:O,compare:$===void 0?null:$}},Se.startTransition=function(O){var $=I.T,le={};I.T=le;try{var ie=O(),de=I.S;de!==null&&de(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(_e,Ie)}catch(be){Ie(be)}finally{$!==null&&le.types!==null&&($.types=le.types),I.T=$}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(O){return I.H.use(O)},Se.useActionState=function(O,$,le){return I.H.useActionState(O,$,le)},Se.useCallback=function(O,$){return I.H.useCallback(O,$)},Se.useContext=function(O){return I.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,$){return I.H.useDeferredValue(O,$)},Se.useEffect=function(O,$){return I.H.useEffect(O,$)},Se.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(O,$,le){return I.H.useImperativeHandle(O,$,le)},Se.useInsertionEffect=function(O,$){return I.H.useInsertionEffect(O,$)},Se.useLayoutEffect=function(O,$){return I.H.useLayoutEffect(O,$)},Se.useMemo=function(O,$){return I.H.useMemo(O,$)},Se.useOptimistic=function(O,$){return I.H.useOptimistic(O,$)},Se.useReducer=function(O,$,le){return I.H.useReducer(O,$,le)},Se.useRef=function(O){return I.H.useRef(O)},Se.useState=function(O){return I.H.useState(O)},Se.useSyncExternalStore=function(O,$,le){return I.H.useSyncExternalStore(O,$,le)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.1",Se}var G0;function Tm(){return G0||(G0=1,Ad.exports=$E()),Ad.exports}var L=Tm();const ZE=KE(L);var Nd={exports:{}},oo={},Cd={exports:{}},Rd={};var Q0;function JE(){return Q0||(Q0=1,(function(a){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var Ie=me-1>>>1,Pe=K[Ie];if(0<o(Pe,se))K[Ie]=se,K[me]=Pe,me=Ie;else break e}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var Ie=0,Pe=K.length,O=Pe>>>1;Ie<O;){var $=2*(Ie+1)-1,le=K[$],ie=$+1,de=K[ie];if(0>o(le,me))ie<Pe&&0>o(de,le)?(K[Ie]=de,K[ie]=me,Ie=ie):(K[Ie]=le,K[$]=me,Ie=$);else if(ie<Pe&&0>o(de,me))K[Ie]=de,K[ie]=me,Ie=ie;else break e}}return se}function o(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var v=[],y=[],x=1,T=null,N=3,k=!1,B=!1,Y=!1,z=!1,J=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ye(K){for(var se=i(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=K)s(y),se.sortIndex=se.expirationTime,e(v,se);else break;se=i(y)}}function ve(K){if(Y=!1,ye(K),!B)if(i(v)!==null)B=!0,_e||(_e=!0,R());else{var se=i(y);se!==null&&Ue(ve,se.startTime-K)}}var _e=!1,I=-1,C=5,D=-1;function V(){return z?!0:!(a.unstable_now()-D<C)}function E(){if(z=!1,_e){var K=a.unstable_now();D=K;var se=!0;try{e:{B=!1,Y&&(Y=!1,ne(I),I=-1),k=!0;var me=N;try{t:{for(ye(K),T=i(v);T!==null&&!(T.expirationTime>K&&V());){var Ie=T.callback;if(typeof Ie=="function"){T.callback=null,N=T.priorityLevel;var Pe=Ie(T.expirationTime<=K);if(K=a.unstable_now(),typeof Pe=="function"){T.callback=Pe,ye(K),se=!0;break t}T===i(v)&&s(v),ye(K)}else s(v);T=i(v)}if(T!==null)se=!0;else{var O=i(y);O!==null&&Ue(ve,O.startTime-K),se=!1}}break e}finally{T=null,N=me,k=!1}se=void 0}}finally{se?R():_e=!1}}}var R;if(typeof ae=="function")R=function(){ae(E)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,we=S.port2;S.port1.onmessage=E,R=function(){we.postMessage(null)}}else R=function(){J(E,0)};function Ue(K,se){I=J(function(){K(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(K){switch(N){case 1:case 2:case 3:var se=3;break;default:se=N}var me=N;N=se;try{return K()}finally{N=me}},a.unstable_requestPaint=function(){z=!0},a.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=N;N=K;try{return se()}finally{N=me}},a.unstable_scheduleCallback=function(K,se,me){var Ie=a.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ie+me:Ie):me=Ie,K){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=me+Pe,K={id:x++,callback:se,priorityLevel:K,startTime:me,expirationTime:Pe,sortIndex:-1},me>Ie?(K.sortIndex=me,e(y,K),i(v)===null&&K===i(y)&&(Y?(ne(I),I=-1):Y=!0,Ue(ve,me-Ie))):(K.sortIndex=Pe,e(v,K),B||k||(B=!0,_e||(_e=!0,R()))),K},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(K){var se=N;return function(){var me=N;N=se;try{return K.apply(this,arguments)}finally{N=me}}}})(Rd)),Rd}var K0;function WE(){return K0||(K0=1,Cd.exports=JE()),Cd.exports}var Dd={exports:{}},$t={};var Y0;function ew(){if(Y0)return $t;Y0=1;var a=Tm();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,y,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:v,containerInfo:y,implementation:x}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(v,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(v,y,null,x)},$t.flushSync=function(v){var y=f.T,x=s.p;try{if(f.T=null,s.p=2,v)return v()}finally{f.T=y,s.p=x,s.d.f()}},$t.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},$t.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},$t.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var x=y.as,T=p(x,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:N,fetchPriority:k}):x==="script"&&s.d.X(v,{crossOrigin:T,integrity:N,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},$t.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,T=p(x,y.crossOrigin);s.d.L(v,x,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(v,y){if(typeof v=="string")if(y){var x=p(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},$t.requestFormReset=function(v){s.d.r(v)},$t.unstable_batchedUpdates=function(v,y){return v(y)},$t.useFormState=function(v,y,x){return f.H.useFormState(v,y,x)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var X0;function tw(){if(X0)return Dd.exports;X0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Dd.exports=ew(),Dd.exports}var $0;function nw(){if($0)return oo;$0=1;var a=WE(),e=Tm(),i=tw();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return v(h),t;if(d===l)return v(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=d;else{for(var _=!1,w=h.child;w;){if(w===r){_=!0,r=h,l=d;break}if(w===l){_=!0,l=h,r=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===r){_=!0,r=d,l=h;break}if(w===l){_=!0,l=d,r=h;break}w=w.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,N=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=E&&t[E]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case J:return"Profiler";case z:return"StrictMode";case ve:return"Suspense";case _e:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ae:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:we(t.type)||"Memo";case C:n=t._payload,t=t._init;try{return we(t(n))}catch{}}return null}var Ue=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ie=[],Pe=-1;function O(t){return{current:t}}function $(t){0>Pe||(t.current=Ie[Pe],Ie[Pe]=null,Pe--)}function le(t,n){Pe++,Ie[Pe]=t.current,t.current=n}var ie=O(null),de=O(null),be=O(null),Ne=O(null);function ce(t,n){switch(le(be,n),le(de,t),le(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h0(n),t=f0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ie),le(ie,t)}function He(){$(ie),$(de),$(be)}function An(t){t.memoizedState!==null&&le(Ne,t);var n=ie.current,r=f0(n,t.type);n!==r&&(le(de,t),le(ie,r))}function si(t){de.current===t&&($(ie),$(de)),Ne.current===t&&($(Ne),io._currentValue=me)}var ha,fa;function xt(t){if(ha===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ha=n&&n[1]||"",fa=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ha+t+fa}var Nn=!1;function li(t,n){if(!t||Nn)return"";Nn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var F=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){F=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var j=_.split(`
`),H=w.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===H.length)for(l=j.length-1,h=H.length-1;1<=l&&0<=h&&j[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==H[h]){var X=`
`+j[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Nn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?xt(r):""}function da(t,n){switch(t.tag){case 26:case 27:case 5:return xt(t.type);case 16:return xt("Lazy");case 13:return t.child!==n&&n!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return li(t.type,!1);case 11:return li(t.type.render,!1);case 1:return li(t.type,!0);case 31:return xt("Activity");default:return""}}function rl(t){try{var n="",r=null;do n+=da(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Ot=a.unstable_scheduleCallback,ma=a.unstable_cancelCallback,Ah=a.unstable_shouldYield,Go=a.unstable_requestPaint,tn=a.unstable_now,cr=a.unstable_getCurrentPriorityLevel,sl=a.unstable_ImmediatePriority,ll=a.unstable_UserBlockingPriority,pa=a.unstable_NormalPriority,Nh=a.unstable_LowPriority,Qo=a.unstable_IdlePriority,Ko=a.log,Yo=a.unstable_setDisableYieldValue,Fn=null,Bt=null;function Cn(t){if(typeof Ko=="function"&&Yo(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Fn,t)}catch{}}var gt=Math.clz32?Math.clz32:$o,Xo=Math.log,Zr=Math.LN2;function $o(t){return t>>>=0,t===0?32:31-(Xo(t)/Zr|0)|0}var oi=256,hr=262144,wt=4194304;function ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=ui(l):(_&=w,_!==0?h=ui(_):r||(r=w&~t,r!==0&&(h=ui(r))))):(w=l&~d,w!==0?h=ui(w):_!==0?h=ui(_):r||(r=l&~t,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Gn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ch(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function hi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function fr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rh(t,n,r,l,h,d){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var w=t.entanglements,j=t.expirationTimes,H=t.hiddenUpdates;for(r=_&~r;0<r;){var X=31-gt(r),ee=1<<X;w[X]=0,j[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}r&=~ee}l!==0&&dr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function dr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-gt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function ol(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-gt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function ul(t,n){var r=n&-n;return r=(r&42)!==0?1:mr(r),(r&(t.suspendedLanes|n))!==0?0:r}function mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Jo(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:M0(t.type))}function Qn(t,n){var r=se.p;try{return se.p=t,n()}finally{se.p=r}}var Kn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Kn,Lt="__reactProps$"+Kn,fi="__reactContainer$"+Kn,Jr="__reactEvents$"+Kn,Dh="__reactListeners$"+Kn,Wo="__reactHandles$"+Kn,eu="__reactResources$"+Kn,di="__reactMarker$"+Kn;function Wr(t){delete t[Tt],delete t[Lt],delete t[Jr],delete t[Dh],delete t[Wo]}function mi(t){var n=t[Tt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[fi]||r[Tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_0(t);t!==null;){if(r=t[Tt])return r;t=_0(t)}return n}t=r,r=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function pi(t){var n=t[eu];return n||(n=t[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(t){t[di]=!0}var cl=new Set,hl={};function gi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(hl[t]=n,t=0;t<n.length;t++)cl.add(n[t])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},ml={};function tu(t){return Et.call(ml,t)?!0:Et.call(dl,t)?!1:fl.test(t)?ml[t]=!0:(dl[t]=!0,!1)}function es(t,n,r){if(tu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function gn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function At(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ga(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xe(t){if(!t._valueTracker){var n=ga(t)?"checked":"value";t._valueTracker=pl(t,n,""+t[n])}}function pr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ga(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gr=/[\n"\\]/g;function rn(t){return t.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ts(t,n,r,l,h,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?gl(t,_,Ut(n)):r!=null?gl(t,_,Ut(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Ut(w):t.removeAttribute("name")}function nu(t,n,r,l,h,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Xe(t);return}r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,w||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function gl(t,n,r){n==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ya(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function iu(t,n,r){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ut(r):""}function va(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ut(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Xe(t)}function sn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||au.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function vl(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&yl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&yl(t,d,n[d])}function ns(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(t){return _a.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var _l=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ba=null,_i=null;function yr(t){var n=Rn(t);if(n&&(t=n.stateNode)){var r=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ts(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ts(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&pr(l)}break e;case"textarea":iu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ya(t,!!r.multiple,n,!1)}}}var as=!1;function xa(t,n,r){if(as)return t(n,r);as=!0;try{var l=t(n);return l}finally{if(as=!1,(ba!==null||_i!==null)&&(Ju(),ba&&(n=ba,t=_i,_i=ba=null,yr(n),t)))for(n=0;n<t.length;n++)yr(t[n])}}function Xn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Lt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{vr=!1}var bi=null,bl=null,_r=null;function xl(){if(_r)return _r;var t,n=bl,r=n.length,l,h="value"in bi?bi.value:bi.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&n[r-l]===h[d-l];l++);return _r=h.slice(t,1<l?1-l:void 0)}function br(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function $n(){return!1}function qt(t){function n(r,l,h,d,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(r=t[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:$n,this.isPropagationStopped=$n,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=qt(Ui),Ea=T({},Ui,{view:0,detail:0}),El=qt(Ea),wa,rs,Ei,ss=T({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(wa=t.screenX-Ei.screenX,rs=t.screenY-Ei.screenY):rs=wa=0,Ei=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:rs}}),wl=qt(ss),xr=T({},ss,{dataTransfer:0}),su=qt(xr),lu=T({},Ea,{relatedTarget:0}),Er=qt(lu),Tl=T({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=qt(Tl),ls=T({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uu=qt(ls),cu=T({},Ui,{data:0}),wi=qt(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=du[t])?!!n[t]:!1}function Ta(){return mu}var nn=T({},Ea,{key:function(t){if(t.key){var n=hu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(t){return t.type==="keypress"?br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pu=qt(nn),gu=T({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=qt(gu),c=T({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),g=qt(c),b=T({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(b),P=T({},ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(P),re=T({},Ui,{newState:0,oldState:0}),Ce=qt(re),yt=[9,13,27,32],Qe=In&&"CompositionEvent"in window,lt=null;In&&"documentMode"in document&&(lt=document.documentMode);var jn=In&&"TextEvent"in window&&!lt,Ti=In&&(!Qe||lt&&8<lt&&11>=lt),Zn=" ",Jn=!1;function wr(t,n){switch(t){case"keyup":return yt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function os(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function yx(t,n){switch(t){case"compositionend":return os(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return t=n.data,t===Zn&&Jn?null:t;default:return null}}function vx(t,n){if(us)return t==="compositionend"||!Qe&&wr(t,n)?(t=xl(),_r=bl=bi=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var _x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_x[t.type]:n==="textarea"}function wp(t,n,r,l){ba?_i?_i.push(l):_i=[l]:ba=l,n=rc(n,"onChange"),0<n.length&&(r=new xi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Sl=null,Al=null;function bx(t){r0(t,0)}function yu(t){var n=pn(t);if(pr(n))return t}function Tp(t,n){if(t==="change")return n}var Sp=!1;if(In){var Ih;if(In){var jh="oninput"in document;if(!jh){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),jh=typeof Ap.oninput=="function"}Ih=jh}else Ih=!1;Sp=Ih&&(!document.documentMode||9<document.documentMode)}function Np(){Sl&&(Sl.detachEvent("onpropertychange",Cp),Al=Sl=null)}function Cp(t){if(t.propertyName==="value"&&yu(Al)){var n=[];wp(n,Al,t,Dn(t)),xa(bx,n)}}function xx(t,n,r){t==="focusin"?(Np(),Sl=n,Al=r,Sl.attachEvent("onpropertychange",Cp)):t==="focusout"&&Np()}function Ex(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(Al)}function wx(t,n){if(t==="click")return yu(n)}function Tx(t,n){if(t==="input"||t==="change")return yu(n)}function Sx(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:Sx;function Nl(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Et.call(n,h)||!yn(t[h],n[h]))return!1}return!0}function Rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dp(t,n){var r=Rp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rp(r)}}function Ip(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ip(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=vi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=vi(t.document)}return n}function Vh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ax=In&&"documentMode"in document&&11>=document.documentMode,cs=null,Oh=null,Cl=null,Mh=!1;function Vp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mh||cs==null||cs!==vi(l)||(l=cs,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Nl(Cl,l)||(Cl=l,l=rc(Oh,"onSelect"),0<l.length&&(n=new xi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=cs)))}function Tr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var hs={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},kh={},Op={};In&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Sr(t){if(kh[t])return kh[t];if(!hs[t])return t;var n=hs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Op)return kh[t]=n[r];return t}var Mp=Sr("animationend"),kp=Sr("animationiteration"),Lp=Sr("animationstart"),Nx=Sr("transitionrun"),Cx=Sr("transitionstart"),Rx=Sr("transitioncancel"),Up=Sr("transitionend"),zp=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Wn(t,n){zp.set(t,n),gi(n,[t])}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],fs=0,Uh=0;function _u(){for(var t=fs,n=Uh=fs=0;n<t;){var r=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var d=Vn[n];if(Vn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Pp(r,h,d)}}function bu(t,n,r,l){Vn[fs++]=t,Vn[fs++]=n,Vn[fs++]=r,Vn[fs++]=l,Uh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zh(t,n,r,l){return bu(t,n,r,l),xu(t)}function Ar(t,n){return bu(t,null,null,n),xu(t)}function Pp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-gt(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function xu(t){if(50<$l)throw $l=0,Xf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ds={};function Dx(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,r,l){return new Dx(t,n,r,l)}function Ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,n){var r=t.alternate;return r===null?(r=vn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Bp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Eu(t,n,r,l,h,d){var _=0;if(l=t,typeof t=="function")Ph(t)&&(_=1);else if(typeof t=="string")_=ME(t,r,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=vn(31,r,n,h),t.elementType=D,t.lanes=d,t;case Y:return Nr(r.children,h,d,n);case z:_=8,h|=24;break;case J:return t=vn(12,r,n,h|2),t.elementType=J,t.lanes=d,t;case ve:return t=vn(13,r,n,h),t.elementType=ve,t.lanes=d,t;case _e:return t=vn(19,r,n,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case ne:_=9;break e;case ye:_=11;break e;case I:_=14;break e;case C:_=16,l=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=vn(_,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Nr(t,n,r,l){return t=vn(7,t,l,n),t.lanes=r,t}function Bh(t,n,r){return t=vn(6,t,null,n),t.lanes=r,t}function qp(t){var n=vn(18,null,null,0);return n.stateNode=t,n}function qh(t,n,r){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hp=new WeakMap;function On(t,n){if(typeof t=="object"&&t!==null){var r=Hp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:rl(n)},Hp.set(t,n),n)}return{value:t,source:n,stack:rl(n)}}var ms=[],ps=0,wu=null,Rl=0,Mn=[],kn=0,Sa=null,Si=1,Ai="";function Bi(t,n){ms[ps++]=Rl,ms[ps++]=wu,wu=t,Rl=n}function Fp(t,n,r){Mn[kn++]=Si,Mn[kn++]=Ai,Mn[kn++]=Sa,Sa=t;var l=Si;t=Ai;var h=32-gt(l)-1;l&=~(1<<h),r+=1;var d=32-gt(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-gt(n)+h|r<<h|l,Ai=d+t}else Si=1<<d|r<<h|l,Ai=t}function Hh(t){t.return!==null&&(Bi(t,1),Fp(t,1,0))}function Fh(t){for(;t===wu;)wu=ms[--ps],ms[ps]=null,Rl=ms[--ps],ms[ps]=null;for(;t===Sa;)Sa=Mn[--kn],Mn[kn]=null,Ai=Mn[--kn],Mn[kn]=null,Si=Mn[--kn],Mn[kn]=null}function Gp(t,n){Mn[kn++]=Si,Mn[kn++]=Ai,Mn[kn++]=Sa,Si=n.id,Ai=n.overflow,Sa=t}var Ht=null,at=null,ze=!1,Aa=null,Ln=!1,Gh=Error(s(519));function Na(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(On(n,t)),Gh}function Qp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Tt]=t,n[Lt]=l,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<Jl.length;r++)Ve(Jl[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),va(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||u0(n.textContent,r)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||Na(t,!0)}function Kp(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ht=Ht.return}}function gs(t){if(t!==Ht)return!1;if(!ze)return Kp(t),ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||cd(t.type,t.memoizedProps)),r=!r),r&&at&&Na(t),Kp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=v0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=v0(t)}else n===27?(n=at,Ba(t.type)?(t=pd,pd=null,at=t):at=n):at=Ht?zn(t.stateNode.nextSibling):null;return!0}function Cr(){at=Ht=null,ze=!1}function Qh(){var t=Aa;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Aa=null),t}function Dl(t){Aa===null?Aa=[t]:Aa.push(t)}var Kh=O(null),Rr=null,qi=null;function Ca(t,n,r){le(Kh,n._currentValue),n._currentValue=r}function Hi(t){t._currentValue=Kh.current,$(Kh)}function Yh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Xh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var j=0;j<n.length;j++)if(w.context===n[j]){d.lanes|=r,w=d.alternate,w!==null&&(w.lanes|=r),Yh(d.return,r,t),l||(_=null);break e}d=w.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,d=_.alternate,d!==null&&(d.lanes|=r),Yh(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ys(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(h===Ne.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(io):t=[io])}h=h.return}t!==null&&Xh(n,t,r,l),n.flags|=262144}function Tu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Rr=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Yp(Rr,t)}function Su(t,n){return Rr===null&&Dr(t),Yp(t,n)}function Yp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},qi===null){if(t===null)throw Error(s(308));qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else qi=qi.next=n;return r}var Ix=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},jx=a.unstable_scheduleCallback,Vx=a.unstable_NormalPriority,Nt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new Ix,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&jx(Vx,function(){t.controller.abort()})}var jl=null,Zh=0,vs=0,_s=null;function Ox(t,n){if(jl===null){var r=jl=[];Zh=0,vs=td(),_s={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Zh++,n.then(Xp,Xp),n}function Xp(){if(--Zh===0&&jl!==null){_s!==null&&(_s.status="fulfilled");var t=jl;jl=null,vs=0,_s=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Mx(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var $p=K.S;K.S=function(t,n){Vy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ox(t,n),$p!==null&&$p(t,n)};var Ir=O(null);function Jh(){var t=Ir.current;return t!==null?t:nt.pooledCache}function Au(t,n){n===null?le(Ir,Ir.current):le(Ir,n.pool)}function Zp(){var t=Jh();return t===null?null:{parent:Nt._currentValue,pool:t}}var bs=Error(s(460)),Wh=Error(s(474)),Nu=Error(s(542)),Cu={then:function(){}};function Jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Yn,Yn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tg(t),t;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tg(t),t}throw Vr=n,bs}}function jr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Vr=r,bs):r}}var Vr=null;function eg(){if(Vr===null)throw Error(s(459));var t=Vr;return Vr=null,t}function tg(t){if(t===bs||t===Nu)throw Error(s(483))}var xs=null,Vl=0;function Ru(t){var n=Vl;return Vl+=1,xs===null&&(xs=[]),Wp(xs,t,n)}function Ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Du(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ng(t){function n(U,M){if(t){var q=U.deletions;q===null?(U.deletions=[M],U.flags|=16):q.push(M)}}function r(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Pi(U,M),U.index=0,U.sibling=null,U}function d(U,M,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<M?(U.flags|=67108866,M):q):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,M,q,Z){return M===null||M.tag!==6?(M=Bh(q,U.mode,Z),M.return=U,M):(M=h(M,q),M.return=U,M)}function j(U,M,q,Z){var pe=q.type;return pe===Y?X(U,M,q.props.children,Z,q.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===C&&jr(pe)===M.type)?(M=h(M,q.props),Ol(M,q),M.return=U,M):(M=Eu(q.type,q.key,q.props,null,U.mode,Z),Ol(M,q),M.return=U,M)}function H(U,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=qh(q,U.mode,Z),M.return=U,M):(M=h(M,q.children||[]),M.return=U,M)}function X(U,M,q,Z,pe){return M===null||M.tag!==7?(M=Nr(q,U.mode,Z,pe),M.return=U,M):(M=h(M,q),M.return=U,M)}function ee(U,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Bh(""+M,U.mode,q),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return q=Eu(M.type,M.key,M.props,null,U.mode,q),Ol(q,M),q.return=U,q;case B:return M=qh(M,U.mode,q),M.return=U,M;case C:return M=jr(M),ee(U,M,q)}if(Ue(M)||R(M))return M=Nr(M,U.mode,q,null),M.return=U,M;if(typeof M.then=="function")return ee(U,Ru(M),q);if(M.$$typeof===ae)return ee(U,Su(U,M),q);Du(U,M)}return null}function F(U,M,q,Z){var pe=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:w(U,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case k:return q.key===pe?j(U,M,q,Z):null;case B:return q.key===pe?H(U,M,q,Z):null;case C:return q=jr(q),F(U,M,q,Z)}if(Ue(q)||R(q))return pe!==null?null:X(U,M,q,Z,null);if(typeof q.then=="function")return F(U,M,Ru(q),Z);if(q.$$typeof===ae)return F(U,M,Su(U,q),Z);Du(U,q)}return null}function Q(U,M,q,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,w(M,U,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return U=U.get(Z.key===null?q:Z.key)||null,j(M,U,Z,pe);case B:return U=U.get(Z.key===null?q:Z.key)||null,H(M,U,Z,pe);case C:return Z=jr(Z),Q(U,M,q,Z,pe)}if(Ue(Z)||R(Z))return U=U.get(q)||null,X(M,U,Z,pe,null);if(typeof Z.then=="function")return Q(U,M,q,Ru(Z),pe);if(Z.$$typeof===ae)return Q(U,M,q,Su(M,Z),pe);Du(M,Z)}return null}function he(U,M,q,Z){for(var pe=null,Fe=null,fe=M,De=M=0,Me=null;fe!==null&&De<q.length;De++){fe.index>De?(Me=fe,fe=null):Me=fe.sibling;var Ge=F(U,fe,q[De],Z);if(Ge===null){fe===null&&(fe=Me);break}t&&fe&&Ge.alternate===null&&n(U,fe),M=d(Ge,M,De),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge,fe=Me}if(De===q.length)return r(U,fe),ze&&Bi(U,De),pe;if(fe===null){for(;De<q.length;De++)fe=ee(U,q[De],Z),fe!==null&&(M=d(fe,M,De),Fe===null?pe=fe:Fe.sibling=fe,Fe=fe);return ze&&Bi(U,De),pe}for(fe=l(fe);De<q.length;De++)Me=Q(fe,U,De,q[De],Z),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?De:Me.key),M=d(Me,M,De),Fe===null?pe=Me:Fe.sibling=Me,Fe=Me);return t&&fe.forEach(function(Qa){return n(U,Qa)}),ze&&Bi(U,De),pe}function xe(U,M,q,Z){if(q==null)throw Error(s(151));for(var pe=null,Fe=null,fe=M,De=M=0,Me=null,Ge=q.next();fe!==null&&!Ge.done;De++,Ge=q.next()){fe.index>De?(Me=fe,fe=null):Me=fe.sibling;var Qa=F(U,fe,Ge.value,Z);if(Qa===null){fe===null&&(fe=Me);break}t&&fe&&Qa.alternate===null&&n(U,fe),M=d(Qa,M,De),Fe===null?pe=Qa:Fe.sibling=Qa,Fe=Qa,fe=Me}if(Ge.done)return r(U,fe),ze&&Bi(U,De),pe;if(fe===null){for(;!Ge.done;De++,Ge=q.next())Ge=ee(U,Ge.value,Z),Ge!==null&&(M=d(Ge,M,De),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Bi(U,De),pe}for(fe=l(fe);!Ge.done;De++,Ge=q.next())Ge=Q(fe,U,De,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&fe.delete(Ge.key===null?De:Ge.key),M=d(Ge,M,De),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return t&&fe.forEach(function(QE){return n(U,QE)}),ze&&Bi(U,De),pe}function tt(U,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===Y&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case k:e:{for(var pe=q.key;M!==null;){if(M.key===pe){if(pe=q.type,pe===Y){if(M.tag===7){r(U,M.sibling),Z=h(M,q.props.children),Z.return=U,U=Z;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===C&&jr(pe)===M.type){r(U,M.sibling),Z=h(M,q.props),Ol(Z,q),Z.return=U,U=Z;break e}r(U,M);break}else n(U,M);M=M.sibling}q.type===Y?(Z=Nr(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=Eu(q.type,q.key,q.props,null,U.mode,Z),Ol(Z,q),Z.return=U,U=Z)}return _(U);case B:e:{for(pe=q.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){r(U,M.sibling),Z=h(M,q.children||[]),Z.return=U,U=Z;break e}else{r(U,M);break}else n(U,M);M=M.sibling}Z=qh(q,U.mode,Z),Z.return=U,U=Z}return _(U);case C:return q=jr(q),tt(U,M,q,Z)}if(Ue(q))return he(U,M,q,Z);if(R(q)){if(pe=R(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),xe(U,M,q,Z)}if(typeof q.then=="function")return tt(U,M,Ru(q),Z);if(q.$$typeof===ae)return tt(U,M,Su(U,q),Z);Du(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(r(U,M.sibling),Z=h(M,q),Z.return=U,U=Z):(r(U,M),Z=Bh(q,U.mode,Z),Z.return=U,U=Z),_(U)):r(U,M)}return function(U,M,q,Z){try{Vl=0;var pe=tt(U,M,q,Z);return xs=null,pe}catch(fe){if(fe===bs||fe===Nu)throw fe;var Fe=vn(29,fe,null,U.mode);return Fe.lanes=Z,Fe.return=U,Fe}finally{}}}var Or=ng(!0),ig=ng(!1),Ra=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Da(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=xu(t),Pp(t,null,r),n}return bu(t,l,n,r),xu(t)}function Ml(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ol(t,r)}}function nf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var af=!1;function kl(){if(af){var t=_s;if(t!==null)throw t}}function Ll(t,n,r,l){af=!1;var h=t.updateQueue;Ra=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var j=w,H=j.next;j.next=null,_===null?d=H:_.next=H,_=j;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==_&&(w===null?X.firstBaseUpdate=H:w.next=H,X.lastBaseUpdate=j))}if(d!==null){var ee=h.baseState;_=0,X=H=j=null,w=d;do{var F=w.lane&-536870913,Q=F!==w.lane;if(Q?(Oe&F)===F:(l&F)===F){F!==0&&F===vs&&(af=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,xe=w;F=n;var tt=r;switch(xe.tag){case 1:if(he=xe.payload,typeof he=="function"){ee=he.call(tt,ee,F);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=xe.payload,F=typeof he=="function"?he.call(tt,ee,F):he,F==null)break e;ee=T({},ee,F);break e;case 2:Ra=!0}}F=w.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(H=X=Q,j=ee):X=X.next=Q,_|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(j=ee),h.baseState=j,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),ka|=_,t.lanes=_,t.memoizedState=ee}}function ag(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function rg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ag(r[t],n)}var Es=O(null),Iu=O(0);function sg(t,n){t=Ji,le(Iu,t),le(Es,n),Ji=t|n.baseLanes}function rf(){le(Iu,Ji),le(Es,Es.current)}function sf(){Ji=Iu.current,$(Es),$(Iu)}var _n=O(null),Un=null;function ja(t){var n=t.alternate;le(vt,vt.current&1),le(_n,t),Un===null&&(n===null||Es.current!==null||n.memoizedState!==null)&&(Un=t)}function lf(t){le(vt,vt.current),le(_n,t),Un===null&&(Un=t)}function lg(t){t.tag===22?(le(vt,vt.current),le(_n,t),Un===null&&(Un=t)):Va()}function Va(){le(vt,vt.current),le(_n,_n.current)}function bn(t){$(_n),Un===t&&(Un=null),$(vt)}var vt=O(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dd(r)||md(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,Re=null,We=null,Ct=null,Vu=!1,ws=!1,Mr=!1,Ou=0,Ul=0,Ts=null,kx=0;function dt(){throw Error(s(321))}function of(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!yn(t[r],n[r]))return!1;return!0}function uf(t,n,r,l,h,d){return Fi=d,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Fg:Tf,Mr=!1,d=r(l,h),Mr=!1,ws&&(d=ug(n,r,l,h)),og(t),d}function og(t){K.H=Bl;var n=We!==null&&We.next!==null;if(Fi=0,Ct=We=Re=null,Vu=!1,Ul=0,Ts=null,n)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Tu(t)&&(Rt=!0))}function ug(t,n,r,l){Re=t;var h=0;do{if(ws&&(Ts=null),Ul=0,ws=!1,25<=h)throw Error(s(301));if(h+=1,Ct=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Gg,d=n(r,l)}while(ws);return d}function Lx(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?zl(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),n}function cf(){var t=Ou!==0;return Ou=0,t}function hf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ff(t){if(Vu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Vu=!1}Fi=0,Ct=We=Re=null,ws=!1,Ul=Ou=0,Ts=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function _t(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=Ct===null?Re.memoizedState:Ct.next;if(n!==null)Ct=n,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(t){var n=Ul;return Ul+=1,Ts===null&&(Ts=[]),t=Wp(Ts,t,n),n=Re,(Ct===null?n.memoizedState:Ct.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Fg:Tf),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zl(t);if(t.$$typeof===ae)return Ft(t)}throw Error(s(438,String(t)))}function df(t){var n=null,r=Re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Mu(),Re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Gi(t,n){return typeof n=="function"?n(t):n}function Lu(t){var n=_t();return mf(n,We,t)}function mf(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var w=_=null,j=null,H=n,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Oe&ee)===ee:(Fi&ee)===ee){var F=H.revertLane;if(F===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===vs&&(X=!0);else if((Fi&F)===F){H=H.next,F===vs&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(w=j=ee,_=d):j=j.next=ee,Re.lanes|=F,ka|=F;ee=H.action,Mr&&r(d,ee),d=H.hasEagerState?H.eagerState:r(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(w=j=F,_=d):j=j.next=F,Re.lanes|=ee,ka|=ee;H=H.next}while(H!==null&&H!==n);if(j===null?_=d:j.next=w,!yn(d,t.memoizedState)&&(Rt=!0,X&&(r=_s,r!==null)))throw r;t.memoizedState=d,t.baseState=_,t.baseQueue=j,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pf(t){var n=_t(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,n.memoizedState)||(Rt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function cg(t,n,r){var l=Re,h=_t(),d=ze;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!yn((We||h).memoizedState,r);if(_&&(h.memoizedState=r,Rt=!0),h=h.queue,vf(dg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ss(9,{destroy:void 0},fg.bind(null,l,h,r,n),null),nt===null)throw Error(s(349));d||(Fi&127)!==0||hg(l,n,r)}return r}function hg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Re.updateQueue,n===null?(n=Mu(),Re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fg(t,n,r,l){n.value=r,n.getSnapshot=l,mg(n)&&pg(t)}function dg(t,n,r){return r(function(){mg(n)&&pg(t)})}function mg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!yn(t,r)}catch{return!0}}function pg(t){var n=Ar(t,2);n!==null&&hn(n,t,2)}function gf(t){var n=an();if(typeof t=="function"){var r=t;if(t=r(),Mr){Cn(!0);try{r()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},n}function gg(t,n,r,l){return t.baseState=r,mf(t,We,typeof l=="function"?l:Gi)}function Ux(t,n,r,l,h){if(Pu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,yg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function yg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=K.T,_={};K.T=_;try{var w=r(h,l),j=K.S;j!==null&&j(_,w),vg(t,n,w)}catch(H){yf(t,n,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=r(h,l),vg(t,n,d)}catch(H){yf(t,n,H)}}function vg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_g(t,n,l)},function(l){return yf(t,n,l)}):_g(t,n,r)}function _g(t,n,r){n.status="fulfilled",n.value=r,bg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,yg(t,r)))}function yf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bg(n),n=n.next;while(n!==l)}t.action=null}function bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xg(t,n){return n}function Eg(t,n){if(ze){var r=nt.formState;if(r!==null){e:{var l=Re;if(ze){if(at){t:{for(var h=at,d=Ln;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=zn(h.nextSibling),l=h.data==="F!";break e}}Na(l)}l=!1}l&&(n=r[0])}}return r=an(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},r.queue=l,r=Bg.bind(null,Re,l),l.dispatch=r,l=gf(!1),d=wf.bind(null,Re,!1,l.queue),l=an(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=Ux.bind(null,Re,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function wg(t){var n=_t();return Tg(n,We,t)}function Tg(t,n,r){if(n=mf(t,n,xg)[0],t=Lu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=zl(n)}catch(_){throw _===bs?Nu:_}else l=n;n=_t();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Re.flags|=2048,Ss(9,{destroy:void 0},zx.bind(null,h,r),null)),[l,d,t]}function zx(t,n){t.action=n}function Sg(t){var n=_t(),r=We;if(r!==null)return Tg(n,r,t);_t(),n=n.memoizedState,r=_t();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ss(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Mu(),Re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ag(){return _t().memoizedState}function Uu(t,n,r,l){var h=an();Re.flags|=t,h.memoizedState=Ss(1|n,{destroy:void 0},r,l===void 0?null:l)}function zu(t,n,r,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&of(l,We.memoizedState.deps)?h.memoizedState=Ss(n,d,r,l):(Re.flags|=t,h.memoizedState=Ss(1|n,d,r,l))}function Ng(t,n){Uu(8390656,8,t,n)}function vf(t,n){zu(2048,8,t,n)}function Px(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Mu(),Re.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Cg(t){var n=_t().memoizedState;return Px({ref:n,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Rg(t,n){return zu(4,2,t,n)}function Dg(t,n){return zu(4,4,t,n)}function Ig(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jg(t,n,r){r=r!=null?r.concat([t]):null,zu(4,4,Ig.bind(null,n,t),r)}function _f(){}function Vg(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&of(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Og(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&of(n,l[1]))return l[0];if(l=t(),Mr){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l}function bf(t,n,r){return r===void 0||(Fi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=My(),Re.lanes|=t,ka|=t,r)}function Mg(t,n,r,l){return yn(r,n)?r:Es.current!==null?(t=bf(t,r,l),yn(t,n)||(Rt=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=r):(t=My(),Re.lanes|=t,ka|=t,n)}function kg(t,n,r,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=K.T,w={};K.T=w,wf(t,!1,n,r);try{var j=h(),H=K.S;if(H!==null&&H(w,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=Mx(j,l);Pl(t,n,X,wn(t))}else Pl(t,n,l,wn(t))}catch(ee){Pl(t,n,{then:function(){},status:"rejected",reason:ee},wn())}finally{se.p=d,_!==null&&w.types!==null&&(_.types=w.types),K.T=_}}function Bx(){}function xf(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Lg(t).queue;kg(t,h,n,me,r===null?Bx:function(){return Ug(t),r(l)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ug(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),Pl(t,n.next.queue,{},wn())}function Ef(){return Ft(io)}function zg(){return _t().memoizedState}function Pg(){return _t().memoizedState}function qx(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=wn();t=Da(r);var l=Ia(n,t,r);l!==null&&(hn(l,n,r),Ml(l,n,r)),n={cache:$h()},t.payload=n;return}n=n.return}}function Hx(t,n,r){var l=wn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(t)?qg(n,r):(r=zh(t,n,r,l),r!==null&&(hn(r,t,l),Hg(r,n,l)))}function Bg(t,n,r){var l=wn();Pl(t,n,r,l)}function Pl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(t))qg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,w=d(_,r);if(h.hasEagerState=!0,h.eagerState=w,yn(w,_))return bu(t,n,h,0),nt===null&&_u(),!1}catch{}finally{}if(r=zh(t,n,h,l),r!==null)return hn(r,t,l),Hg(r,n,l),!0}return!1}function wf(t,n,r,l){if(l={lane:2,revertLane:td(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pu(t)){if(n)throw Error(s(479))}else n=zh(t,r,l,2),n!==null&&hn(n,t,2)}function Pu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function qg(t,n){ws=Vu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ol(t,r)}}var Bl={readContext:Ft,use:ku,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Bl.useEffectEvent=dt;var Fg={readContext:Ft,use:ku,useCallback:function(t,n){return an().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:Ng,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Uu(4194308,4,Ig.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Uu(4194308,4,t,n)},useInsertionEffect:function(t,n){Uu(4,2,t,n)},useMemo:function(t,n){var r=an();n=n===void 0?null:n;var l=t();if(Mr){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=an();if(r!==void 0){var h=r(n);if(Mr){Cn(!0);try{r(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Hx.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var n=an();return t={current:t},n.memoizedState=t},useState:function(t){t=gf(t);var n=t.queue,r=Bg.bind(null,Re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:_f,useDeferredValue:function(t,n){var r=an();return bf(r,t,n)},useTransition:function(){var t=gf(!1);return t=kg.bind(null,Re,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Re,h=an();if(ze){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),nt===null)throw Error(s(349));(Oe&127)!==0||hg(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Ng(dg.bind(null,l,d,t),[t]),l.flags|=2048,Ss(9,{destroy:void 0},fg.bind(null,l,d,r,n),null),r},useId:function(){var t=an(),n=nt.identifierPrefix;if(ze){var r=Ai,l=Si;r=(l&~(1<<32-gt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ou++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kx++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ef,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var n=an();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wf.bind(null,Re,!0,r),r.dispatch=n,[t,n]},useMemoCache:df,useCacheRefresh:function(){return an().memoizedState=qx.bind(null,Re)},useEffectEvent:function(t){var n=an(),r={impl:t};return n.memoizedState=r,function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Tf={readContext:Ft,use:ku,useCallback:Vg,useContext:Ft,useEffect:vf,useImperativeHandle:jg,useInsertionEffect:Rg,useLayoutEffect:Dg,useMemo:Og,useReducer:Lu,useRef:Ag,useState:function(){return Lu(Gi)},useDebugValue:_f,useDeferredValue:function(t,n){var r=_t();return Mg(r,We.memoizedState,t,n)},useTransition:function(){var t=Lu(Gi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:zl(t),n]},useSyncExternalStore:cg,useId:zg,useHostTransitionStatus:Ef,useFormState:wg,useActionState:wg,useOptimistic:function(t,n){var r=_t();return gg(r,We,t,n)},useMemoCache:df,useCacheRefresh:Pg};Tf.useEffectEvent=Cg;var Gg={readContext:Ft,use:ku,useCallback:Vg,useContext:Ft,useEffect:vf,useImperativeHandle:jg,useInsertionEffect:Rg,useLayoutEffect:Dg,useMemo:Og,useReducer:pf,useRef:Ag,useState:function(){return pf(Gi)},useDebugValue:_f,useDeferredValue:function(t,n){var r=_t();return We===null?bf(r,t,n):Mg(r,We.memoizedState,t,n)},useTransition:function(){var t=pf(Gi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:zl(t),n]},useSyncExternalStore:cg,useId:zg,useHostTransitionStatus:Ef,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var r=_t();return We!==null?gg(r,We,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:Pg};Gg.useEffectEvent=Cg;function Sf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Af={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=wn(),h=Da(l);h.payload=n,r!=null&&(h.callback=r),n=Ia(t,h,l),n!==null&&(hn(n,t,l),Ml(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=wn(),h=Da(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ia(t,h,l),n!==null&&(hn(n,t,l),Ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=wn(),l=Da(r);l.tag=2,n!=null&&(l.callback=n),n=Ia(t,l,r),n!==null&&(hn(n,t,r),Ml(n,t,r))}};function Qg(t,n,r,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!Nl(r,l)||!Nl(h,d):!0}function Kg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Af.enqueueReplaceState(n,n.state,null)}function kr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Yg(t){vu(t)}function Xg(t){console.error(t)}function $g(t){vu(t)}function Bu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Zg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,n,r){return r=Da(r),r.tag=3,r.payload={element:null},r.callback=function(){Bu(t,n)},r}function Jg(t){return t=Da(t),t.tag=3,t}function Wg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Zg(n,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Zg(n,r,l),typeof h!="function"&&(La===null?La=new Set([this]):La.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Fx(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ys(n,r,h,!0),r=_n.current,r!==null){switch(r.tag){case 31:case 13:return Un===null?Wu():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Cu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Jf(t,l,h)),!1;case 22:return r.flags|=65536,l===Cu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Jf(t,l,h)),!1}throw Error(s(435,r.tag))}return Jf(t,l,h),Wu(),!1}if(ze)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Gh&&(t=Error(s(422),{cause:l}),Dl(On(t,r)))):(l!==Gh&&(n=Error(s(423),{cause:l}),Dl(On(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,r),h=Nf(t.stateNode,l,h),nf(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,r),Xl===null?Xl=[d]:Xl.push(d),mt!==4&&(mt=2),n===null)return!0;l=On(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Nf(r.stateNode,l,t),nf(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(La===null||!La.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Jg(h),Wg(h,t,r,l),nf(r,h),!1}r=r.return}while(r!==null);return!1}var Cf=Error(s(461)),Rt=!1;function Gt(t,n,r,l){n.child=t===null?ig(n,null,r,l):Or(n,t.child,r,l)}function ey(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Dr(n),l=uf(t,n,r,_,d,h),w=cf(),t!==null&&!Rt?(hf(t,n,h),Qi(t,n,h)):(ze&&w&&Hh(n),n.flags|=1,Gt(t,n,l,h),n.child)}function ty(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!Ph(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,ny(t,n,d,l,h)):(t=Eu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!kf(t,h)){var _=d.memoizedProps;if(r=r.compare,r=r!==null?r:Nl,r(_,l)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=Pi(d,l),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Nl(d,l)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=l=d,kf(t,h))(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return Rf(t,n,r,l,h)}function iy(t,n,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return ay(t,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Au(n,d!==null?d.cachePool:null),d!==null?sg(n,d):rf(),lg(n);else return l=n.lanes=536870912,ay(t,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Au(n,d.cachePool),sg(n,d),Va(),n.memoizedState=null):(t!==null&&Au(n,null),rf(),Va());return Gt(t,n,h,r),n.child}function ql(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(t,n,r,l,h){var d=Jh();return d=d===null?null:{parent:Nt._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Au(n,null),rf(),lg(n),t!==null&&ys(t,n,l,!0),n.childLanes=h,null}function qu(t,n){return n=Fu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,r){return Or(n,t.child,null,r),t=qu(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function Gx(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=qu(n,l),n.lanes=536870912,ql(null,t);if(lf(n),(t=at)?(t=y0(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Sa!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=qp(t),r.return=n,n.child=r,Ht=n,at=null)):t=null,t===null)throw Na(n);return n.lanes=536870912,null}return qu(n,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(lf(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Rt||ys(t,n,r,!1),h=(r&t.childLanes)!==0,Rt||h){if(l=nt,l!==null&&(_=ul(l,r),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ar(t,_),hn(l,t,_),Cf;Wu(),n=ry(t,n,r)}else t=d.treeContext,at=zn(_.nextSibling),Ht=n,ze=!0,Aa=null,Ln=!1,t!==null&&Gp(n,t),n=qu(n,l),n.flags|=4096;return n}return t=Pi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Hu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Rf(t,n,r,l,h){return Dr(n),r=uf(t,n,r,l,void 0,h),l=cf(),t!==null&&!Rt?(hf(t,n,h),Qi(t,n,h)):(ze&&l&&Hh(n),n.flags|=1,Gt(t,n,r,h),n.child)}function sy(t,n,r,l,h,d){return Dr(n),n.updateQueue=null,r=ug(n,l,r,h),og(t),l=cf(),t!==null&&!Rt?(hf(t,n,d),Qi(t,n,d)):(ze&&l&&Hh(n),n.flags|=1,Gt(t,n,r,d),n.child)}function ly(t,n,r,l,h){if(Dr(n),n.stateNode===null){var d=ds,_=r.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Af,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},ef(n),_=r.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):ds,d.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Sf(n,r,_,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Af.enqueueReplaceState(d,d.state,null),Ll(n,l,d,h),kl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var w=n.memoizedProps,j=kr(r,w);d.props=j;var H=d.context,X=r.contextType;_=ds,typeof X=="object"&&X!==null&&(_=Ft(X));var ee=r.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||H!==_)&&Kg(n,d,l,_),Ra=!1;var F=n.memoizedState;d.state=F,Ll(n,l,d,h),kl(),H=n.memoizedState,w||F!==H||Ra?(typeof ee=="function"&&(Sf(n,r,ee,l),H=n.memoizedState),(j=Ra||Qg(n,r,j,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=_,l=j):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,tf(t,n),_=n.memoizedProps,X=kr(r,_),d.props=X,ee=n.pendingProps,F=d.context,H=r.contextType,j=ds,typeof H=="object"&&H!==null&&(j=Ft(H)),w=r.getDerivedStateFromProps,(H=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==j)&&Kg(n,d,l,j),Ra=!1,F=n.memoizedState,d.state=F,Ll(n,l,d,h),kl();var Q=n.memoizedState;_!==ee||F!==Q||Ra||t!==null&&t.dependencies!==null&&Tu(t.dependencies)?(typeof w=="function"&&(Sf(n,r,w,l),Q=n.memoizedState),(X=Ra||Qg(n,r,X,l,F,Q,j)||t!==null&&t.dependencies!==null&&Tu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,j),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,j)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=j,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Hu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Or(n,t.child,null,h),n.child=Or(n,null,r,h)):Gt(t,n,r,h),n.memoizedState=d.state,t=n.child):t=Qi(t,n,h),t}function oy(t,n,r,l){return Cr(),n.flags|=256,Gt(t,n,r,l),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:Zp()}}function jf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=En),t}function uy(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?ja(n):Va(),(t=at)?(t=y0(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Sa!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=qp(t),r.return=n,n.child=r,Ht=n,at=null)):t=null,t===null)throw Na(n);return md(t)?n.lanes=32:n.lanes=536870912,null}var w=l.children;return l=l.fallback,h?(Va(),h=n.mode,w=Fu({mode:"hidden",children:w},h),l=Nr(l,h,r,null),w.return=n,l.return=n,w.sibling=l,n.child=w,l=n.child,l.memoizedState=If(r),l.childLanes=jf(t,_,r),n.memoizedState=Df,ql(null,l)):(ja(n),Vf(n,w))}var j=t.memoizedState;if(j!==null&&(w=j.dehydrated,w!==null)){if(d)n.flags&256?(ja(n),n.flags&=-257,n=Of(t,n,r)):n.memoizedState!==null?(Va(),n.child=t.child,n.flags|=128,n=null):(Va(),w=l.fallback,h=n.mode,l=Fu({mode:"visible",children:l.children},h),w=Nr(w,h,r,null),w.flags|=2,l.return=n,w.return=n,l.sibling=w,n.child=l,Or(n,t.child,null,r),l=n.child,l.memoizedState=If(r),l.childLanes=jf(t,_,r),n.memoizedState=Df,n=ql(null,l));else if(ja(n),md(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Dl({value:l,source:null,stack:null}),n=Of(t,n,r)}else if(Rt||ys(t,n,r,!1),_=(r&t.childLanes)!==0,Rt||_){if(_=nt,_!==null&&(l=ul(_,r),l!==0&&l!==j.retryLane))throw j.retryLane=l,Ar(t,l),hn(_,t,l),Cf;dd(w)||Wu(),n=Of(t,n,r)}else dd(w)?(n.flags|=192,n.child=t.child,n=null):(t=j.treeContext,at=zn(w.nextSibling),Ht=n,ze=!0,Aa=null,Ln=!1,t!==null&&Gp(n,t),n=Vf(n,l.children),n.flags|=4096);return n}return h?(Va(),w=l.fallback,h=n.mode,j=t.child,H=j.sibling,l=Pi(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,H!==null?w=Pi(H,w):(w=Nr(w,h,r,null),w.flags|=2),w.return=n,l.return=n,l.sibling=w,n.child=l,ql(null,l),l=n.child,w=t.child.memoizedState,w===null?w=If(r):(h=w.cachePool,h!==null?(j=Nt._currentValue,h=h.parent!==j?{parent:j,pool:j}:h):h=Zp(),w={baseLanes:w.baseLanes|r,cachePool:h}),l.memoizedState=w,l.childLanes=jf(t,_,r),n.memoizedState=Df,ql(t.child,l)):(ja(n),r=t.child,t=r.sibling,r=Pi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Vf(t,n){return n=Fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Fu(t,n){return t=vn(22,t,null,n),t.lanes=0,t}function Of(t,n,r){return Or(n,t.child,null,r),t=Vf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Yh(t.return,n,r)}function Mf(t,n,r,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=d)}function hy(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,w=(_&2)!==0;if(w?(_=_&1|2,n.flags|=128):_&=1,le(vt,_),Gt(t,n,l,r),l=ze?Rl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,r,n);else if(t.tag===19)cy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&ju(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Mf(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Mf(n,!0,r,null,d,l);break;case"together":Mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ka|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ys(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Pi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Pi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Tu(t)))}function Qx(t,n,r){switch(n.tag){case 3:ce(n,n.stateNode.containerInfo),Ca(n,Nt,t.memoizedState.cache),Cr();break;case 27:case 5:An(n);break;case 4:ce(n,n.stateNode.containerInfo);break;case 10:Ca(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ja(n),n.flags|=128,null):(r&n.child.childLanes)!==0?uy(t,n,r):(ja(n),t=Qi(t,n,r),t!==null?t.sibling:null);ja(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ys(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return hy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return n.lanes=0,iy(t,n,r,n.pendingProps);case 24:Ca(n,Nt,t.memoizedState.cache)}return Qi(t,n,r)}function fy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rt=!0;else{if(!kf(t,r)&&(n.flags&128)===0)return Rt=!1,Qx(t,n,r);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(n.flags&1048576)!==0&&Fp(n,Rl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=jr(n.elementType),n.type=t,typeof t=="function")Ph(t)?(l=kr(t,l),n.tag=1,n=ly(null,n,t,l,r)):(n.tag=0,n=Rf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ye){n.tag=11,n=ey(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=ty(null,n,t,l,r);break e}}throw n=we(t)||t,Error(s(306,n,""))}}return n;case 0:return Rf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=kr(l,n.pendingProps),ly(t,n,l,h,r);case 3:e:{if(ce(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,tf(t,n),Ll(n,l,null,r);var _=n.memoizedState;if(l=_.cache,Ca(n,Nt,l),l!==d.cache&&Xh(n,[Nt],r,!0),kl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=oy(t,n,l,r);break e}else if(l!==h){h=On(Error(s(424)),n),Dl(h),n=oy(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=zn(t.firstChild),Ht=n,ze=!0,Aa=null,Ln=!0,r=ig(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Cr(),l===h){n=Qi(t,n,r);break e}Gt(t,n,l,r)}n=n.child}return n;case 26:return Hu(t,n),t===null?(r=w0(n.type,null,n.pendingProps,null))?n.memoizedState=r:ze||(r=n.type,t=n.pendingProps,l=sc(be.current).createElement(r),l[Tt]=n,l[Lt]=t,Qt(l,r,t),St(l),n.stateNode=l):n.memoizedState=w0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return An(n),t===null&&ze&&(l=n.stateNode=b0(n.type,n.pendingProps,be.current),Ht=n,Ln=!0,h=at,Ba(n.type)?(pd=h,at=zn(l.firstChild)):at=h),Gt(t,n,n.pendingProps.children,r),Hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=l=at)&&(l=EE(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Ht=n,at=zn(l.firstChild),Ln=!1,h=!0):h=!1),h||Na(n)),An(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,cd(h,d)?l=null:_!==null&&cd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(t,n,Lx,null,null,r),io._currentValue=h),Hu(t,n),Gt(t,n,l,r),n.child;case 6:return t===null&&ze&&((t=r=at)&&(r=wE(r,n.pendingProps,Ln),r!==null?(n.stateNode=r,Ht=n,at=null,t=!0):t=!1),t||Na(n)),null;case 13:return uy(t,n,r);case 4:return ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Or(n,null,l,r):Gt(t,n,l,r),n.child;case 11:return ey(t,n,n.type,n.pendingProps,r);case 7:return Gt(t,n,n.pendingProps,r),n.child;case 8:return Gt(t,n,n.pendingProps.children,r),n.child;case 12:return Gt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ca(n,n.type,l.value),Gt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Dr(n),h=Ft(h),l=l(h),n.flags|=1,Gt(t,n,l,r),n.child;case 14:return ty(t,n,n.type,n.pendingProps,r);case 15:return ny(t,n,n.type,n.pendingProps,r);case 19:return hy(t,n,r);case 31:return Gx(t,n,r);case 22:return iy(t,n,r,n.pendingProps);case 24:return Dr(n),l=Ft(Nt),t===null?(h=Jh(),h===null&&(h=nt,d=$h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},ef(n),Ca(n,Nt,h)):((t.lanes&r)!==0&&(tf(t,n),Ll(n,null,null,r),kl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ca(n,Nt,l)):(l=d.cache,Ca(n,Nt,l),l!==h.cache&&Xh(n,[Nt],r,!0))),Gt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ki(t){t.flags|=4}function Lf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(zy())t.flags|=8192;else throw Vr=Cu,Wh}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C0(n))if(zy())t.flags|=8192;else throw Vr=Cu,Wh}function Gu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Zo():536870912,t.lanes|=n,Rs|=n)}function Hl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Kx(t,n,r){var l=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Hi(Nt),He(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gs(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),rt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Ki(n),d!==null?(rt(n),dy(n,d)):(rt(n),Lf(n,h,null,l,r))):d?d!==t.memoizedState?(Ki(n),rt(n),dy(n,d)):(rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ki(n),rt(n),Lf(n,h,t,l,r)),null;case 27:if(si(n),r=be.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return rt(n),null}t=ie.current,gs(n)?Qp(n):(t=b0(h,l,r),n.stateNode=t,Ki(n))}return rt(n),null;case 5:if(si(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return rt(n),null}if(d=ie.current,gs(n))Qp(n);else{var _=sc(be.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=n,d[Lt]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ki(n)}}return rt(n),Lf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=be.current,gs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||u0(t.nodeValue,r)),t||Na(n,!0)}else t=sc(t).createTextNode(l),t[Tt]=n,n.stateNode=t}return rt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=gs(n),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),t=!1}else r=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return rt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=gs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),h=!1}else h=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Gu(n,n.updateQueue),rt(n),null);case 4:return He(),t===null&&rd(n.stateNode.containerInfo),rt(n),null;case 10:return Hi(n.type),rt(n),null;case 19:if($(vt),l=n.memoizedState,l===null)return rt(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)Hl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=ju(t),d!==null){for(n.flags|=128,Hl(l,!1),t=d.updateQueue,n.updateQueue=t,Gu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Bp(r,t),r=r.sibling;return le(vt,vt.current&1|2),ze&&Bi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>$u&&(n.flags|=128,h=!0,Hl(l,!1),n.lanes=4194304)}else{if(!h)if(t=ju(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Gu(n,t),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return rt(n),null}else 2*tn()-l.renderingStartTime>$u&&r!==536870912&&(n.flags|=128,h=!0,Hl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,r=vt.current,le(vt,h?r&1|2:r&1),ze&&Bi(n,l.treeForkCount),t):(rt(n),null);case 22:case 23:return bn(n),sf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),r=n.updateQueue,r!==null&&Gu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&$(Ir),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Hi(Nt),rt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Yx(t,n){switch(Fh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(Nt),He(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(s(340));Cr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Cr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(vt),null;case 4:return He(),null;case 10:return Hi(n.type),null;case 22:case 23:return bn(n),sf(),t!==null&&$(Ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hi(Nt),null;case 25:return null;default:return null}}function my(t,n){switch(Fh(n),n.tag){case 3:Hi(Nt),He();break;case 26:case 27:case 5:si(n);break;case 4:He();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:$(vt);break;case 10:Hi(n.type);break;case 22:case 23:bn(n),sf(),t!==null&&$(Ir);break;case 24:Hi(Nt)}}function Fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,_=r.inst;l=d(),_.destroy=l}r=r.next}while(r!==h)}}catch(w){Ze(n,n.return,w)}}function Oa(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,h=n;var j=r,H=w;try{H()}catch(X){Ze(h,j,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(n,n.return,X)}}function py(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{rg(n,r)}catch(l){Ze(t,t.return,l)}}}function gy(t,n,r){r.props=kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ze(t,n,l)}}function Gl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ze(t,n,h)}}function Ni(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,n,h)}else r.current=null}function yy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function Uf(t,n,r){try{var l=t.stateNode;gE(l,t.type,r,n),l[Lt]=n}catch(h){Ze(t,t.return,h)}}function vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ba(t.type)||t.tag===4}function zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ba(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Yn));else if(l!==4&&(l===27&&Ba(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Pf(t,n,r),t=t.sibling;t!==null;)Pf(t,n,r),t=t.sibling}function Qu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ba(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Qu(t,n,r),t=t.sibling;t!==null;)Qu(t,n,r),t=t.sibling}function _y(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qt(n,l,r),n[Tt]=t,n[Lt]=r}catch(d){Ze(t,t.return,d)}}var Yi=!1,Dt=!1,Bf=!1,by=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Xx(t,n){if(t=t.containerInfo,od=dc,t=jp(t),Vh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var _=0,w=-1,j=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var Q;ee!==r||h!==0&&ee.nodeType!==3||(w=_+h),ee!==d||l!==0&&ee.nodeType!==3||(j=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)F=ee,ee=Q;for(;;){if(ee===t)break t;if(F===r&&++H===h&&(w=_),F===d&&++X===l&&(j=_),(Q=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Q}r=w===-1||j===-1?null:{start:w,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:t,selectionRange:r},dc=!1,zt=n;zt!==null;)if(n=zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,zt=t;else for(;zt!==null;){switch(n=zt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var he=kr(r.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Ze(r,r.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)fd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,zt=t;break}zt=n.return}}function xy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:$i(t,r),l&4&&Fl(5,r);break;case 1:if($i(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Ze(r,r.return,_)}else{var h=kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(r,r.return,_)}}l&64&&py(r),l&512&&Gl(r,r.return);break;case 3:if($i(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{rg(t,n)}catch(_){Ze(r,r.return,_)}}break;case 27:n===null&&l&4&&_y(r);case 26:case 5:$i(t,r),n===null&&l&4&&yy(r),l&512&&Gl(r,r.return);break;case 12:$i(t,r);break;case 31:$i(t,r),l&4&&Ty(t,r);break;case 13:$i(t,r),l&4&&Sy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=aE.bind(null,r),TE(t,r))));break;case 22:if(l=r.memoizedState!==null||Yi,!l){n=n!==null&&n.memoizedState!==null||Dt,h=Yi;var d=Dt;Yi=l,(Dt=n)&&!d?Zi(t,r,(r.subtreeFlags&8772)!==0):$i(t,r),Yi=h,Dt=d}break;case 30:break;default:$i(t,r)}}function Ey(t){var n=t.alternate;n!==null&&(t.alternate=null,Ey(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Wr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function Xi(t,n,r){for(r=r.child;r!==null;)wy(t,n,r),r=r.sibling}function wy(t,n,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Fn,r)}catch{}switch(r.tag){case 26:Dt||Ni(r,n),Xi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Dt||Ni(r,n);var l=ot,h=ln;Ba(r.type)&&(ot=r.stateNode,ln=!1),Xi(t,n,r),eo(r.stateNode),ot=l,ln=h;break;case 5:Dt||Ni(r,n);case 6:if(l=ot,h=ln,ot=null,Xi(t,n,r),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(r.stateNode)}catch(d){Ze(r,n,d)}else try{ot.removeChild(r.stateNode)}catch(d){Ze(r,n,d)}break;case 18:ot!==null&&(ln?(t=ot,p0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ls(t)):p0(ot,r.stateNode));break;case 4:l=ot,h=ln,ot=r.stateNode.containerInfo,ln=!0,Xi(t,n,r),ot=l,ln=h;break;case 0:case 11:case 14:case 15:Oa(2,r,n),Dt||Oa(4,r,n),Xi(t,n,r);break;case 1:Dt||(Ni(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gy(r,n,l)),Xi(t,n,r);break;case 21:Xi(t,n,r);break;case 22:Dt=(l=Dt)||r.memoizedState!==null,Xi(t,n,r),Dt=l;break;default:Xi(t,n,r)}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ls(t)}catch(r){Ze(n,n.return,r)}}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ls(t)}catch(r){Ze(n,n.return,r)}}function $x(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(s(435,t.tag))}}function Ku(t,n){var r=$x(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=rE.bind(null,t,l);l.then(h,h)}})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,_=n,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Ba(w.type)){ot=w.stateNode,ln=!1;break e}break;case 5:ot=w.stateNode,ln=!1;break e;case 3:case 4:ot=w.stateNode.containerInfo,ln=!0;break e}w=w.return}if(ot===null)throw Error(s(160));wy(d,_,h),ot=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,t),n=n.sibling}var ei=null;function Ay(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(Oa(3,t,t.return),Fl(3,t),Oa(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(Dt||r===null||Ni(r,r.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ei;if(on(n,t),un(t),l&512&&(Dt||r===null||Ni(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,r),d[Tt]=t,St(d),l=d;break e;case"link":var _=A0("link","href",h).get(l+(r.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(w,1);break t}}d=h.createElement(l),Qt(d,l,r),h.head.appendChild(d);break;case"meta":if(_=A0("meta","content",h).get(l+(r.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(w,1);break t}}d=h.createElement(l),Qt(d,l,r),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else N0(h,t.type,t.stateNode);else t.stateNode=S0(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?N0(h,t.type,t.stateNode):S0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(Dt||r===null||Ni(r,r.return)),r!==null&&l&4&&Uf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(Dt||r===null||Ni(r,r.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Uf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Bf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(uc=null,h=ei,ei=lc(n.containerInfo),on(n,t),ei=h,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ls(n.containerInfo)}catch(he){Ze(t,t.return,he)}Bf&&(Bf=!1,Ny(t));break;case 4:l=ei,ei=lc(t.stateNode.containerInfo),on(n,t),un(t),ei=l;break;case 12:on(n,t),un(t);break;case 31:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ku(t,l)));break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xu=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ku(t,l)));break;case 22:h=t.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,H=Yi,X=Dt;if(Yi=H||h,Dt=X||j,on(n,t),Dt=X,Yi=H,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||j||Yi||Dt||Lr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){j=r=n;try{if(d=j.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=j.stateNode;var ee=j.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){Ze(j,j.return,he)}}}else if(n.tag===6){if(r===null){j=n;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch(he){Ze(j,j.return,he)}}}else if(n.tag===18){if(r===null){j=n;try{var Q=j.stateNode;h?g0(Q,!0):g0(j.stateNode,!1)}catch(he){Ze(j,j.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ku(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ku(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(vy(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=zf(t);Qu(t,d,h);break;case 5:var _=r.stateNode;r.flags&32&&(sn(_,""),r.flags&=-33);var w=zf(t);Qu(t,w,_);break;case 3:case 4:var j=r.stateNode.containerInfo,H=zf(t);Pf(t,H,j);break;default:throw Error(s(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(t,n.alternate,n),n=n.sibling}function Lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Oa(4,n,n.return),Lr(n);break;case 1:Ni(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gy(n,n.return,r),Lr(n);break;case 27:eo(n.stateNode);case 26:case 5:Ni(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}t=t.sibling}}function Zi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(h,d,r),Fl(4,d);break;case 1:if(Zi(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)ag(j[h],w)}catch(H){Ze(l,l.return,H)}}r&&_&64&&py(d),Gl(d,d.return);break;case 27:_y(d);case 26:case 5:Zi(h,d,r),r&&l===null&&_&4&&yy(d),Gl(d,d.return);break;case 12:Zi(h,d,r);break;case 31:Zi(h,d,r),r&&_&4&&Ty(h,d);break;case 13:Zi(h,d,r),r&&_&4&&Sy(h,d);break;case 22:d.memoizedState===null&&Zi(h,d,r),Gl(d,d.return);break;case 30:break;default:Zi(h,d,r)}n=n.sibling}}function qf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Il(r))}function Hf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Il(t))}function ti(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(t,n,r,l),n=n.sibling}function Cy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,r,l),h&2048&&Fl(9,n);break;case 1:ti(t,n,r,l);break;case 3:ti(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Il(t)));break;case 12:if(h&2048){ti(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Ze(n,n.return,j)}}else ti(t,n,r,l);break;case 31:ti(t,n,r,l);break;case 13:ti(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?ti(t,n,r,l):Ql(t,n):d._visibility&2?ti(t,n,r,l):(d._visibility|=2,As(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(_,n);break;case 24:ti(t,n,r,l),h&2048&&Hf(n.alternate,n);break;default:ti(t,n,r,l)}}function As(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,_=n,w=r,j=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:As(d,_,w,j,h),Fl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?As(d,_,w,j,h):Ql(d,_):(X._visibility|=2,As(d,_,w,j,h)),h&&H&2048&&qf(_.alternate,_);break;case 24:As(d,_,w,j,h),h&&H&2048&&Hf(_.alternate,_);break;default:As(d,_,w,j,h)}n=n.sibling}}function Ql(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Ql(r,l),h&2048&&qf(l.alternate,l);break;case 24:Ql(r,l),h&2048&&Hf(l.alternate,l);break;default:Ql(r,l)}n=n.sibling}}var Kl=8192;function Ns(t,n,r){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)Ry(t,n,r),t=t.sibling}function Ry(t,n,r){switch(t.tag){case 26:Ns(t,n,r),t.flags&Kl&&t.memoizedState!==null&&kE(r,ei,t.memoizedState,t.memoizedProps);break;case 5:Ns(t,n,r);break;case 3:case 4:var l=ei;ei=lc(t.stateNode.containerInfo),Ns(t,n,r),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Kl,Kl=16777216,Ns(t,n,r),Kl=l):Ns(t,n,r));break;default:Ns(t,n,r)}}function Dy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];zt=l,jy(l,t)}Dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:Yl(t),t.flags&2048&&Oa(9,t,t.return);break;case 3:Yl(t);break;case 12:Yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Yu(t)):Yl(t);break;default:Yl(t)}}function Yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];zt=l,jy(l,t)}Dy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Oa(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Yu(n));break;default:Yu(n)}t=t.sibling}}function jy(t,n){for(;zt!==null;){var r=zt;switch(r.tag){case 0:case 11:case 15:Oa(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,zt=l;else e:for(r=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(Ey(l),l===r){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var Zx={getCacheForType:function(t){var n=Ft(Nt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ft(Nt).controller.signal}},Jx=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,je=null,Oe=0,$e=0,xn=null,Ma=!1,Cs=!1,Ff=!1,Ji=0,mt=0,ka=0,Ur=0,Gf=0,En=0,Rs=0,Xl=null,cn=null,Qf=!1,Xu=0,Vy=0,$u=1/0,Zu=null,La=null,Mt=0,Ua=null,Ds=null,Wi=0,Kf=0,Yf=null,Oy=null,$l=0,Xf=null;function wn(){return(Ke&2)!==0&&Oe!==0?Oe&-Oe:K.T!==null?td():Jo()}function My(){if(En===0)if((Oe&536870912)===0||ze){var t=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),En=t}else En=536870912;return t=_n.current,t!==null&&(t.flags|=32),En}function hn(t,n,r){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Is(t,0),za(t,Oe,En,!1)),fr(t,r),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Ur|=r),mt===4&&za(t,Oe,En,!1)),Ci(t))}function ky(t,n,r){if((Ke&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Gn(t,n),h=l?tE(t,n):Zf(t,n,!0),d=l;do{if(h===0){Cs&&!l&&za(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!Wx(r)){h=Zf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var w=t;h=Xl;var j=w.current.memoizedState.isDehydrated;if(j&&(Is(w,_).flags|=256),_=Zf(w,_,!1),_!==2){if(Ff&&!j){w.errorRecoveryDisabledLanes|=d,Ur|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Is(t,0),za(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:za(l,n,En,!Ma);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Xu+300-tn(),10<h)){if(za(l,n,En,!Ma),ci(l,0,!0)!==0)break e;Wi=n,l.timeoutHandle=d0(Ly.bind(null,l,r,cn,Zu,Qf,n,En,Ur,Rs,Ma,d,"Throttled",-0,0),h);break e}Ly(l,r,cn,Zu,Qf,n,En,Ur,Rs,Ma,d,null,-0,0)}}break}while(!0);Ci(t)}function Ly(t,n,r,l,h,d,_,w,j,H,X,ee,F,Q){if(t.timeoutHandle=-1,ee=n.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Ry(n,d,ee);var he=(d&62914560)===d?Xu-tn():(d&4194048)===d?Vy-tn():0;if(he=LE(ee,he),he!==null){Wi=d,t.cancelPendingCommit=he(Gy.bind(null,t,n,d,r,l,h,_,w,j,X,ee,null,F,Q)),za(t,d,_,!H);return}}Gy(t,n,d,r,l,h,_,w,j)}function Wx(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function za(t,n,r,l){n&=~Gf,n&=~Ur,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-gt(h),_=1<<d;l[d]=-1,h&=~_}r!==0&&dr(t,r,n)}function Ju(){return(Ke&6)===0?(Zl(0),!1):!0}function $f(){if(je!==null){if($e===0)var t=je.return;else t=je,qi=Rr=null,ff(t),xs=null,Vl=0,t=je;for(;t!==null;)my(t.alternate,t),t=t.return;je=null}}function Is(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,_E(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Wi=0,$f(),nt=t,je=r=Pi(t.current,null),Oe=n,$e=0,xn=null,Ma=!1,Cs=Gn(t,n),Ff=!1,Rs=En=Gf=Ur=ka=mt=0,cn=Xl=null,Qf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-gt(l),d=1<<h;n|=t[h],l&=~d}return Ji=n,_u(),r}function Uy(t,n){Re=null,K.H=Bl,n===bs||n===Nu?(n=eg(),$e=3):n===Wh?(n=eg(),$e=4):$e=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,je===null&&(mt=1,Bu(t,On(n,t.current)))}function zy(){var t=_n.current;return t===null?!0:(Oe&4194048)===Oe?Un===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Un:!1}function Py(){var t=K.H;return K.H=Bl,t===null?Bl:t}function By(){var t=K.A;return K.A=Zx,t}function Wu(){mt=4,Ma||(Oe&4194048)!==Oe&&_n.current!==null||(Cs=!0),(ka&134217727)===0&&(Ur&134217727)===0||nt===null||za(nt,Oe,En,!1)}function Zf(t,n,r){var l=Ke;Ke|=2;var h=Py(),d=By();(nt!==t||Oe!==n)&&(Zu=null,Is(t,n)),n=!1;var _=mt;e:do try{if($e!==0&&je!==null){var w=je,j=xn;switch($e){case 8:$f(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var H=$e;if($e=0,xn=null,js(t,w,j,H),r&&Cs){_=0;break e}break;default:H=$e,$e=0,xn=null,js(t,w,j,H)}}eE(),_=mt;break}catch(X){Uy(t,X)}while(!0);return n&&t.shellSuspendCounter++,qi=Rr=null,Ke=l,K.H=h,K.A=d,je===null&&(nt=null,Oe=0,_u()),_}function eE(){for(;je!==null;)qy(je)}function tE(t,n){var r=Ke;Ke|=2;var l=Py(),h=By();nt!==t||Oe!==n?(Zu=null,$u=tn()+500,Is(t,n)):Cs=Gn(t,n);e:do try{if($e!==0&&je!==null){n=je;var d=xn;t:switch($e){case 1:$e=0,xn=null,js(t,n,d,1);break;case 2:case 9:if(Jp(d)){$e=0,xn=null,Hy(n);break}n=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ci(t)},d.then(n,n);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Jp(d)?($e=0,xn=null,Hy(n)):($e=0,xn=null,js(t,n,d,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var w=je;if(_?C0(_):w.stateNode.complete){$e=0,xn=null;var j=w.sibling;if(j!==null)je=j;else{var H=w.return;H!==null?(je=H,ec(H)):je=null}break t}}$e=0,xn=null,js(t,n,d,5);break;case 6:$e=0,xn=null,js(t,n,d,6);break;case 8:$f(),mt=6;break e;default:throw Error(s(462))}}nE();break}catch(X){Uy(t,X)}while(!0);return qi=Rr=null,K.H=l,K.A=h,Ke=r,je!==null?0:(nt=null,Oe=0,_u(),mt)}function nE(){for(;je!==null&&!Ah();)qy(je)}function qy(t){var n=fy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?ec(t):je=n}function Hy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=sy(r,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=sy(r,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:ff(n);default:my(r,n),n=je=Bp(n,Ji),n=fy(r,n,Ji)}t.memoizedProps=t.pendingProps,n===null?ec(t):je=n}function js(t,n,r,l){qi=Rr=null,ff(n),xs=null,Vl=0;var h=n.return;try{if(Fx(t,h,n,r,Oe)){mt=1,Bu(t,On(r,t.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;mt=1,Bu(t,On(r,t.current)),je=null;return}n.flags&32768?(ze||l===1?t=!0:Cs||(Oe&536870912)!==0?t=!1:(Ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(n,t)):ec(n)}function ec(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,Ma);return}t=n.return;var r=Kx(n.alternate,n,Ji);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);mt===0&&(mt=5)}function Fy(t,n){do{var r=Yx(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);mt=6,je=null}function Gy(t,n,r,l,h,d,_,w,j){t.cancelPendingCommit=null;do tc();while(Mt!==0);if((Ke&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Uh,Rh(t,r,d,_,w,j),t===nt&&(je=nt=null,Oe=0),Ds=n,Ua=t,Wi=r,Kf=d,Yf=h,Oy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sE(pa,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=se.p,se.p=2,_=Ke,Ke|=4;try{Xx(t,n,r)}finally{Ke=_,se.p=h,K.T=l}}Mt=1,Qy(),Ky(),Yy()}}function Qy(){if(Mt===1){Mt=0;var t=Ua,n=Ds,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{Ay(n,t);var d=ud,_=jp(t.containerInfo),w=d.focusedElem,j=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Ip(w.ownerDocument.documentElement,w)){if(j!==null&&Vh(w)){var H=j.start,X=j.end;if(X===void 0&&(X=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(X,w.value.length);else{var ee=w.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var Q=F.getSelection(),he=w.textContent.length,xe=Math.min(j.start,he),tt=j.end===void 0?xe:Math.min(j.end,he);!Q.extend&&xe>tt&&(_=tt,tt=xe,xe=_);var U=Dp(w,xe),M=Dp(w,tt);if(U&&M&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var q=ee.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),xe>tt?(Q.addRange(q),Q.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Q.addRange(q))}}}}for(ee=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var Z=ee[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}dc=!!od,ud=od=null}finally{Ke=h,se.p=l,K.T=r}}t.current=n,Mt=2}}function Ky(){if(Mt===2){Mt=0;var t=Ua,n=Ds,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=se.p;se.p=2;var h=Ke;Ke|=4;try{xy(t,n.alternate,n)}finally{Ke=h,se.p=l,K.T=r}}Mt=3}}function Yy(){if(Mt===4||Mt===3){Mt=0,Go();var t=Ua,n=Ds,r=Wi,l=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Ds=Ua=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(La=null),ki(r),n=n.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{K.T=n,se.p=h}}(Wi&3)!==0&&tc(),Ci(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Xf?$l++:($l=0,Xf=t):$l=0,Zl(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Il(n)))}function tc(){return Qy(),Ky(),Yy(),$y()}function $y(){if(Mt!==5)return!1;var t=Ua,n=Kf;Kf=0;var r=ki(Wi),l=K.T,h=se.p;try{se.p=32>r?32:r,K.T=null,r=Yf,Yf=null;var d=Ua,_=Wi;if(Mt=0,Ds=Ua=null,Wi=0,(Ke&6)!==0)throw Error(s(331));var w=Ke;if(Ke|=4,Iy(d.current),Cy(d,d.current,_,r),Ke=w,Zl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{se.p=h,K.T=l,Xy(t,n)}}function Zy(t,n,r){n=On(r,n),n=Nf(t.stateNode,n,2),t=Ia(t,n,2),t!==null&&(fr(t,2),Ci(t))}function Ze(t,n,r){if(t.tag===3)Zy(t,t,r);else for(;n!==null;){if(n.tag===3){Zy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(La===null||!La.has(l))){t=On(r,t),r=Jg(2),l=Ia(n,r,2),l!==null&&(Wg(r,l,n,t),fr(l,2),Ci(l));break}}n=n.return}}function Jf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Jx;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Ff=!0,h.add(r),t=iE.bind(null,t,n,r),n.then(t,t))}function iE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,nt===t&&(Oe&r)===r&&(mt===4||mt===3&&(Oe&62914560)===Oe&&300>tn()-Xu?(Ke&2)===0&&Is(t,0):Gf|=r,Rs===Oe&&(Rs=0)),Ci(t)}function Jy(t,n){n===0&&(n=Zo()),t=Ar(t,n),t!==null&&(fr(t,n),Ci(t))}function aE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Jy(t,r)}function rE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Jy(t,r)}function sE(t,n){return Ot(t,n)}var nc=null,Vs=null,Wf=!1,ic=!1,ed=!1,Pa=0;function Ci(t){t!==Vs&&t.next===null&&(Vs===null?nc=Vs=t:Vs=Vs.next=t),ic=!0,Wf||(Wf=!0,oE())}function Zl(t,n){if(!ed&&ic){ed=!0;do for(var r=!1,l=nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,n0(l,d))}else d=Oe,d=ci(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(r=!0,n0(l,d));l=l.next}while(r);ed=!1}}function lE(){Wy()}function Wy(){ic=Wf=!1;var t=0;Pa!==0&&vE()&&(t=Pa);for(var n=tn(),r=null,l=nc;l!==null;){var h=l.next,d=e0(l,n);d===0?(l.next=null,r===null?nc=h:r.next=h,h===null&&(Vs=r)):(r=l,(t!==0||(d&3)!==0)&&(ic=!0)),l=h}Mt!==0&&Mt!==5||Zl(t),Pa!==0&&(Pa=0)}function e0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),w=1<<_,j=h[_];j===-1?((w&r)===0||(w&l)!==0)&&(h[_]=Ch(w,n)):j<=n&&(t.expiredLanes|=w),d&=~w}if(n=nt,r=Oe,r=ci(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ma(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Gn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ma(l),ki(r)){case 2:case 8:r=ll;break;case 32:r=pa;break;case 268435456:r=Qo;break;default:r=pa}return l=t0.bind(null,t),r=Ot(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ma(l),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(tc()&&t.callbackNode!==r)return null;var l=Oe;return l=ci(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ky(t,l,n),e0(t,tn()),t.callbackNode!=null&&t.callbackNode===r?t0.bind(null,t):null)}function n0(t,n){if(tc())return null;ky(t,n,!0)}function oE(){bE(function(){(Ke&6)!==0?Ot(sl,lE):Wy()})}function td(){if(Pa===0){var t=vs;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Pa=t}return Pa}function i0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:is(""+t)}function a0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function uE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=i0((h[Lt]||null).action),_=l.submitter;_&&(n=(n=_[Lt]||null)?i0(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var w=new xi("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pa!==0){var j=_?a0(h,_):new FormData(h);xf(r,{pending:!0,data:j,method:h.method,action:d},null,j)}}else typeof d=="function"&&(w.preventDefault(),j=_?a0(h,_):new FormData(h),xf(r,{pending:!0,data:j,method:h.method,action:d},d,j))},currentTarget:h}]})}}for(var nd=0;nd<Lh.length;nd++){var id=Lh[nd],cE=id.toLowerCase(),hE=id[0].toUpperCase()+id.slice(1);Wn(cE,"on"+hE)}Wn(Mp,"onAnimationEnd"),Wn(kp,"onAnimationIteration"),Wn(Lp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Nx,"onTransitionRun"),Wn(Cx,"onTransitionStart"),Wn(Rx,"onTransitionCancel"),Wn(Up,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function r0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var w=l[_],j=w.instance,H=w.currentTarget;if(w=w.listener,j!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=H;try{d(h)}catch(X){vu(X)}h.currentTarget=null,d=j}else for(_=0;_<l.length;_++){if(w=l[_],j=w.instance,H=w.currentTarget,w=w.listener,j!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=H;try{d(h)}catch(X){vu(X)}h.currentTarget=null,d=j}}}}function Ve(t,n){var r=n[Jr];r===void 0&&(r=n[Jr]=new Set);var l=t+"__bubble";r.has(l)||(s0(n,t,2,!1),r.add(l))}function ad(t,n,r){var l=0;n&&(l|=4),s0(r,t,l,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[ac]){t[ac]=!0,cl.forEach(function(r){r!=="selectionchange"&&(fE.has(r)||ad(r,!1,t),ad(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ac]||(n[ac]=!0,ad("selectionchange",!1,n))}}function s0(t,n,r,l){switch(M0(n)){case 2:var h=PE;break;case 8:h=BE;break;default:h=bd}r=h.bind(null,n,r,t),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function sd(t,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===h)break;if(_===4)for(_=l.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;w!==null;){if(_=mi(w),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){l=d=_;continue e}w=w.parentNode}}l=l.return}xa(function(){var H=d,X=Dn(r),ee=[];e:{var F=zp.get(t);if(F!==void 0){var Q=xi,he=t;switch(t){case"keypress":if(br(r)===0)break e;case"keydown":case"keyup":Q=pu;break;case"focusin":he="focus",Q=Er;break;case"focusout":he="blur",Q=Er;break;case"beforeblur":case"afterblur":Q=Er;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case Mp:case kp:case Lp:Q=ou;break;case Up:Q=A;break;case"scroll":case"scrollend":Q=El;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=zi;break;case"toggle":case"beforetoggle":Q=Ce}var xe=(n&4)!==0,tt=!xe&&(t==="scroll"||t==="scrollend"),U=xe?F!==null?F+"Capture":null:F;xe=[];for(var M=H,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Xn(M,U),Z!=null&&xe.push(Wl(M,Z,q))),tt)break;M=M.return}0<xe.length&&(F=new Q(F,he,null,r,X),ee.push({event:F,listeners:xe}))}}if((n&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&r!==_l&&(he=r.relatedTarget||r.fromElement)&&(mi(he)||he[fi]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(he=r.relatedTarget||r.toElement,Q=H,he=he?mi(he):null,he!==null&&(tt=u(he),xe=he.tag,he!==tt||xe!==5&&xe!==27&&xe!==6)&&(he=null)):(Q=null,he=H),Q!==he)){if(xe=wl,Z="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(xe=zi,Z="onPointerLeave",U="onPointerEnter",M="pointer"),tt=Q==null?F:pn(Q),q=he==null?F:pn(he),F=new xe(Z,M+"leave",Q,r,X),F.target=tt,F.relatedTarget=q,Z=null,mi(X)===H&&(xe=new xe(U,M+"enter",he,r,X),xe.target=q,xe.relatedTarget=tt,Z=xe),tt=Z,Q&&he)t:{for(xe=dE,U=Q,M=he,q=0,Z=U;Z;Z=xe(Z))q++;Z=0;for(var pe=M;pe;pe=xe(pe))Z++;for(;0<q-Z;)U=xe(U),q--;for(;0<Z-q;)M=xe(M),Z--;for(;q--;){if(U===M||M!==null&&U===M.alternate){xe=U;break t}U=xe(U),M=xe(M)}xe=null}else xe=null;Q!==null&&l0(ee,F,Q,xe,!1),he!==null&&tt!==null&&l0(ee,tt,he,xe,!0)}}e:{if(F=H?pn(H):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Fe=Tp;else if(Ep(F))if(Sp)Fe=Tx;else{Fe=Ex;var fe=xx}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ns(H.elementType)&&(Fe=Tp):Fe=wx;if(Fe&&(Fe=Fe(t,H))){wp(ee,Fe,r,X);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&gl(F,"number",F.value)}switch(fe=H?pn(H):window,t){case"focusin":(Ep(fe)||fe.contentEditable==="true")&&(cs=fe,Oh=H,Cl=null);break;case"focusout":Cl=Oh=cs=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Vp(ee,r,X);break;case"selectionchange":if(Ax)break;case"keydown":case"keyup":Vp(ee,r,X)}var De;if(Qe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else us?wr(t,r)&&(Me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Me="onCompositionStart");Me&&(Ti&&r.locale!=="ko"&&(us||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&us&&(De=xl()):(bi=X,bl="value"in bi?bi.value:bi.textContent,us=!0)),fe=rc(H,Me),0<fe.length&&(Me=new wi(Me,t,null,r,X),ee.push({event:Me,listeners:fe}),De?Me.data=De:(De=os(r),De!==null&&(Me.data=De)))),(De=jn?yx(t,r):vx(t,r))&&(Me=rc(H,"onBeforeInput"),0<Me.length&&(fe=new wi("onBeforeInput","beforeinput",null,r,X),ee.push({event:fe,listeners:Me}),fe.data=De)),uE(ee,t,H,r,X)}r0(ee,n)})}function Wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function rc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,r),h!=null&&l.unshift(Wl(t,h,d)),h=Xn(t,n),h!=null&&l.push(Wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function dE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function l0(t,n,r,l,h){for(var d=n._reactName,_=[];r!==null&&r!==l;){var w=r,j=w.alternate,H=w.stateNode;if(w=w.tag,j!==null&&j===l)break;w!==5&&w!==26&&w!==27||H===null||(j=H,h?(H=Xn(r,d),H!=null&&_.unshift(Wl(r,H,j))):h||(H=Xn(r,d),H!=null&&_.push(Wl(r,H,j)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var mE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function o0(t){return(typeof t=="string"?t:""+t).replace(mE,`
`).replace(pE,"")}function u0(t,n){return n=o0(n),o0(t)===n}function et(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,r,l);break;case"style":vl(t,l,d);break;case"data":if(n!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=is(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&et(t,n,"name",h.name,h,null),et(t,n,"formEncType",h.formEncType,h,null),et(t,n,"formMethod",h.formMethod,h,null),et(t,n,"formTarget",h.formTarget,h,null)):(et(t,n,"encType",h.encType,h,null),et(t,n,"method",h.method,h,null),et(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=is(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),es(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":es(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ru.get(r)||r,es(t,r,l))}}function ld(t,n,r,l,h,d){switch(r){case"style":vl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[Lt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):es(t,r,l)}}}function Qt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var _=r[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:et(t,n,d,_,r,null)}}h&&et(t,n,"srcSet",r.srcSet,r,null),l&&et(t,n,"src",r.src,r,null);return;case"input":Ve("invalid",t);var w=d=_=h=null,j=null,H=null;for(l in r)if(r.hasOwnProperty(l)){var X=r[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":j=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:et(t,n,l,X,r,null)}}nu(t,d,w,j,H,_,h,!1);return;case"select":Ve("invalid",t),l=_=d=null;for(h in r)if(r.hasOwnProperty(h)&&(w=r[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:et(t,n,h,w,r,null)}n=d,r=_,t.multiple=!!l,n!=null?ya(t,!!l,n,!1):r!=null&&ya(t,!!l,r,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(w=r[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(t,n,_,w,r,null)}va(t,l,h,d);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,n,j,l,r,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Ve(Jl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(l=r[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:et(t,n,H,l,r,null)}return;default:if(ns(n)){for(X in r)r.hasOwnProperty(X)&&(l=r[X],l!==void 0&&ld(t,n,X,l,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(l=r[w],l!=null&&et(t,n,w,l,r,null))}function gE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,w=null,j=null,H=null,X=null;for(Q in r){var ee=r[Q];if(r.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":j=ee;default:l.hasOwnProperty(Q)||et(t,n,Q,null,l,ee)}}for(var F in l){var Q=l[F];if(ee=r[F],l.hasOwnProperty(F)&&(Q!=null||ee!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==ee&&et(t,n,F,Q,l,ee)}}ts(t,_,w,j,H,X,d,h);return;case"select":Q=_=w=F=null;for(d in r)if(j=r[d],r.hasOwnProperty(d)&&j!=null)switch(d){case"value":break;case"multiple":Q=j;default:l.hasOwnProperty(d)||et(t,n,d,null,l,j)}for(h in l)if(d=l[h],j=r[h],l.hasOwnProperty(h)&&(d!=null||j!=null))switch(h){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==j&&et(t,n,h,d,l,j)}n=w,r=_,l=Q,F!=null?ya(t,!!r,F,!1):!!l!=!!r&&(n!=null?ya(t,!!r,n,!0):ya(t,!!r,r?[]:"",!1));return;case"textarea":Q=F=null;for(w in r)if(h=r[w],r.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,n,w,null,l,h)}for(_ in l)if(h=l[_],d=r[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,n,_,h,l,d)}iu(t,F,Q);return;case"option":for(var he in r)if(F=r[he],r.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:et(t,n,he,null,l,F)}for(j in l)if(F=l[j],Q=r[j],l.hasOwnProperty(j)&&F!==Q&&(F!=null||Q!=null))switch(j){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:et(t,n,j,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in r)F=r[xe],r.hasOwnProperty(xe)&&F!=null&&!l.hasOwnProperty(xe)&&et(t,n,xe,null,l,F);for(H in l)if(F=l[H],Q=r[H],l.hasOwnProperty(H)&&F!==Q&&(F!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:et(t,n,H,F,l,Q)}return;default:if(ns(n)){for(var tt in r)F=r[tt],r.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&ld(t,n,tt,void 0,l,F);for(X in l)F=l[X],Q=r[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||ld(t,n,X,F,l,Q);return}}for(var U in r)F=r[U],r.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&et(t,n,U,null,l,F);for(ee in l)F=l[ee],Q=r[ee],!l.hasOwnProperty(ee)||F===Q||F==null&&Q==null||et(t,n,ee,F,l,Q)}function c0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,_=h.initiatorType,w=h.duration;if(d&&w&&c0(_)){for(_=0,w=h.responseEnd,l+=1;l<r.length;l++){var j=r[l],H=j.startTime;if(H>w)break;var X=j.transferSize,ee=j.initiatorType;X&&c0(ee)&&(j=j.responseEnd,_+=X*(j<w?1:(w-H)/(j-H)))}if(--l,n+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var od=null,ud=null;function sc(t){return t.nodeType===9?t:t.ownerDocument}function h0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function vE(){var t=window.event;return t&&t.type==="popstate"?t===hd?!1:(hd=t,!0):(hd=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,_E=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(xE)}:d0;function xE(t){setTimeout(function(){throw t})}function Ba(t){return t==="head"}function p0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ls(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")eo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,eo(r);for(var d=r.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[di]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=_}}else r==="body"&&eo(t.ownerDocument.body);r=h}while(r);Ls(n)}function g0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function fd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fd(r),Wr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function EE(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function wE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function y0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function dd(t){return t.data==="$?"||t.data==="$~"}function md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function TE(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var pd=null;function v0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return zn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function _0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function b0(t,n,r){switch(n=sc(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function eo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Wr(t)}var Pn=new Map,x0=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ea=se.d;se.d={f:SE,r:AE,D:NE,C:CE,L:RE,m:DE,X:jE,S:IE,M:VE};function SE(){var t=ea.f(),n=Ju();return t||n}function AE(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?Ug(n):ea.r(t)}var Os=typeof document>"u"?null:document;function E0(t,n,r){var l=Os;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),x0.has(h)||(x0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Qt(n,"link",t),St(n),l.head.appendChild(n)))}}function NE(t){ea.D(t),E0("dns-prefetch",t,null)}function CE(t,n){ea.C(t,n),E0("preconnect",t,n)}function RE(t,n,r){ea.L(t,n,r);var l=Os;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+rn(r.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(n){case"style":d=Ms(t);break;case"script":d=ks(t)}Pn.has(d)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Pn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(to(d))||n==="script"&&l.querySelector(no(d))||(n=l.createElement("link"),Qt(n,"link",t),St(n),l.head.appendChild(n)))}}function DE(t,n){ea.m(t,n);var r=Os;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ks(t)}if(!Pn.has(d)&&(t=T({rel:"modulepreload",href:t},n),Pn.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(no(d)))return}l=r.createElement("link"),Qt(l,"link",t),St(l),r.head.appendChild(l)}}}function IE(t,n,r){ea.S(t,n,r);var l=Os;if(l&&t){var h=pi(l).hoistableStyles,d=Ms(t);n=n||"default";var _=h.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(to(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Pn.get(d))&&gd(t,r);var j=_=l.createElement("link");St(j),Qt(j,"link",t),j._p=new Promise(function(H,X){j.onload=H,j.onerror=X}),j.addEventListener("load",function(){w.loading|=1}),j.addEventListener("error",function(){w.loading|=2}),w.loading|=4,oc(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:w},h.set(d,_)}}}function jE(t,n){ea.X(t,n);var r=Os;if(r&&t){var l=pi(r).hoistableScripts,h=ks(t),d=l.get(h);d||(d=r.querySelector(no(h)),d||(t=T({src:t,async:!0},n),(n=Pn.get(h))&&yd(t,n),d=r.createElement("script"),St(d),Qt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function VE(t,n){ea.M(t,n);var r=Os;if(r&&t){var l=pi(r).hoistableScripts,h=ks(t),d=l.get(h);d||(d=r.querySelector(no(h)),d||(t=T({src:t,async:!0,type:"module"},n),(n=Pn.get(h))&&yd(t,n),d=r.createElement("script"),St(d),Qt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function w0(t,n,r,l){var h=(h=be.current)?lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ms(r.href),r=pi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ms(r.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(to(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Pn.set(t,r),d||OE(h,t,r,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ks(r),r=pi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ms(t){return'href="'+rn(t)+'"'}function to(t){return'link[rel="stylesheet"]['+t+"]"}function T0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function OE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Qt(n,"link",r),St(n),t.head.appendChild(n))}function ks(t){return'[src="'+rn(t)+'"]'}function no(t){return"script[async]"+t}function S0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(r.href)+'"]');if(l)return n.instance=l,St(l),l;var h=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",h),oc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ms(r.href);var d=t.querySelector(to(h));if(d)return n.state.loading|=4,n.instance=d,St(d),d;l=T0(r),(h=Pn.get(h))&&gd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(w,j){_.onload=w,_.onerror=j}),Qt(d,"link",l),n.state.loading|=4,oc(d,r.precedence,t),n.instance=d;case"script":return d=ks(r.src),(h=t.querySelector(no(d)))?(n.instance=h,St(h),h):(l=r,(h=Pn.get(d))&&(l=T({},r),yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Qt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oc(l,r.precedence,t));return n.instance}function oc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===n)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function yd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var uc=null;function A0(t,n,r){if(uc===null){var l=new Map,h=uc=new Map;h.set(r,l)}else h=uc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[di]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function N0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function ME(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kE(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ms(l.href),d=n.querySelector(to(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=cc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,St(d);return}d=n.ownerDocument||n,l=T0(l),(h=Pn.get(h))&&gd(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(w,j){_.onload=w,_.onerror=j}),Qt(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=cc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var vd=0;function LE(t,n){return t.stylesheets&&t.count===0&&fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&vd===0&&(vd=62500*yE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>vd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hc=null;function fc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hc=new Map,n.forEach(UE,t),hc=null,cc.call(t))}function UE(t,n){if(!(n.state.loading&4)){var r=hc.get(t);if(r)var l=r.get(null);else{r=new Map,hc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=r.get(_)||l,d===l&&r.set(null,h),r.set(_,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var io={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function zE(t,n,r,l,h,d,_,w,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function R0(t,n,r,l,h,d,_,w,j,H,X,ee){return t=new zE(t,n,r,_,j,H,X,ee,w),n=1,d===!0&&(n|=24),d=vn(3,null,null,n),t.current=d,d.stateNode=t,n=$h(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},ef(d),t}function D0(t){return t?(t=ds,t):ds}function I0(t,n,r,l,h,d){h=D0(h),l.context===null?l.context=h:l.pendingContext=h,l=Da(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Ia(t,l,n),r!==null&&(hn(r,t,n),Ml(r,t,n))}function j0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function _d(t,n){j0(t,n),(t=t.alternate)&&j0(t,n)}function V0(t){if(t.tag===13||t.tag===31){var n=Ar(t,67108864);n!==null&&hn(n,t,67108864),_d(t,67108864)}}function O0(t){if(t.tag===13||t.tag===31){var n=wn();n=mr(n);var r=Ar(t,n);r!==null&&hn(r,t,n),_d(t,n)}}var dc=!0;function PE(t,n,r,l){var h=K.T;K.T=null;var d=se.p;try{se.p=2,bd(t,n,r,l)}finally{se.p=d,K.T=h}}function BE(t,n,r,l){var h=K.T;K.T=null;var d=se.p;try{se.p=8,bd(t,n,r,l)}finally{se.p=d,K.T=h}}function bd(t,n,r,l){if(dc){var h=xd(l);if(h===null)sd(t,n,l,mc,r),k0(t,l);else if(HE(h,t,n,r,l))l.stopPropagation();else if(k0(t,l),n&4&&-1<qE.indexOf(t)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var j=1<<31-gt(_);w.entanglements[1]|=j,_&=~j}Ci(d),(Ke&6)===0&&($u=tn()+500,Zl(0))}}break;case 31:case 13:w=Ar(d,2),w!==null&&hn(w,d,2),Ju(),_d(d,2)}if(d=xd(l),d===null&&sd(t,n,l,mc,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else sd(t,n,l,null,r)}}function xd(t){return t=Dn(t),Ed(t)}var mc=null;function Ed(t){if(mc=null,t=mi(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mc=t,null}function M0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case sl:return 2;case ll:return 8;case pa:case Nh:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var wd=!1,qa=null,Ha=null,Fa=null,ao=new Map,ro=new Map,Ga=[],qE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(t,n){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(n.pointerId)}}function so(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&V0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function HE(t,n,r,l,h){switch(n){case"focusin":return qa=so(qa,t,n,r,l,h),!0;case"dragenter":return Ha=so(Ha,t,n,r,l,h),!0;case"mouseover":return Fa=so(Fa,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return ao.set(d,so(ao.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ro.set(d,so(ro.get(d)||null,t,n,r,l,h)),!0}return!1}function L0(t){var n=mi(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,Qn(t.priority,function(){O0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Qn(t.priority,function(){O0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=xd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_l=l,r.target.dispatchEvent(l),_l=null}else return n=Rn(r),n!==null&&V0(n),t.blockedOn=r,!1;n.shift()}return!0}function U0(t,n,r){pc(t)&&r.delete(n)}function FE(){wd=!1,qa!==null&&pc(qa)&&(qa=null),Ha!==null&&pc(Ha)&&(Ha=null),Fa!==null&&pc(Fa)&&(Fa=null),ao.forEach(U0),ro.forEach(U0)}function gc(t,n){t.blockedOn===n&&(t.blockedOn=null,wd||(wd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,FE)))}var yc=null;function z0(t){yc!==t&&(yc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){yc===t&&(yc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Ed(l||r)===null)continue;break}var d=Rn(r);d!==null&&(t.splice(n,3),n-=3,xf(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ls(t){function n(j){return gc(j,t)}qa!==null&&gc(qa,t),Ha!==null&&gc(Ha,t),Fa!==null&&gc(Fa,t),ao.forEach(n),ro.forEach(n);for(var r=0;r<Ga.length;r++){var l=Ga[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ga.length&&(r=Ga[0],r.blockedOn===null);)L0(r),r.blockedOn===null&&Ga.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],_=h[Lt]||null;if(typeof d=="function")_||z0(r);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)w=_.formAction;else if(Ed(h)!==null)continue}else w=_.action;typeof w=="function"?r[l+1]=w:(r.splice(l,3),l-=3),z0(r)}}}function P0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(t){this._internalRoot=t}vc.prototype.render=Td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=wn();I0(r,l,t,n,null,null)},vc.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;I0(t.current,2,null,t,null,null),Ju(),n[fi]=null}};function vc(t){this._internalRoot=t}vc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Jo();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ga.length&&n!==0&&n<Ga[r].priority;r++);Ga.splice(r,0,t),r===0&&L0(t)}};var B0=e.version;if(B0!=="19.2.1")throw Error(s(527,B0,"19.2.1"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var GE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Fn=_c.inject(GE),Bt=_c}catch{}}return oo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=Yg,d=Xg,_=$g;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=R0(t,1,!1,null,null,r,l,null,h,d,_,P0),t[fi]=n.current,rd(t),new Td(n)},oo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",d=Yg,_=Xg,w=$g,j=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(j=r.formState)),n=R0(t,1,!0,n,r??null,l,h,j,d,_,w,P0),n.context=D0(null),r=n.current,l=wn(),l=mr(l),h=Da(l),h.callback=null,Ia(r,h,l),r=l,n.current.lanes=r,fr(n,r),Ci(n),t[fi]=n.current,rd(t),new vc(n)},oo.version="19.2.1",oo}var Z0;function iw(){if(Z0)return Nd.exports;Z0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nd.exports=nw(),Nd.exports}var aw=iw();var J0="popstate";function rw(a={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Xd("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:wo(o)}return lw(e,i,null,a)}function ct(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function ii(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sw(){return Math.random().toString(36).substring(2,10)}function W0(a,e){return{usr:a.state,key:a.key,idx:e}}function Xd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Js(e):e,state:i,key:e&&e.key||s||sw()}}function wo({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Js(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function lw(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",v=null,y=x();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function x(){return(f.state||{idx:null}).idx}function T(){p="POP";let z=x(),J=z==null?null:z-y;y=z,v&&v({action:p,location:Y.location,delta:J})}function N(z,J){p="PUSH";let ne=Xd(Y.location,z,J);y=x()+1;let ae=W0(ne,y),ye=Y.createHref(ne);try{f.pushState(ae,"",ye)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;o.location.assign(ye)}u&&v&&v({action:p,location:Y.location,delta:1})}function k(z,J){p="REPLACE";let ne=Xd(Y.location,z,J);y=x();let ae=W0(ne,y),ye=Y.createHref(ne);f.replaceState(ae,"",ye),u&&v&&v({action:p,location:Y.location,delta:0})}function B(z){return ow(z)}let Y={get action(){return p},get location(){return a(o,f)},listen(z){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(J0,T),v=z,()=>{o.removeEventListener(J0,T),v=null}},createHref(z){return e(o,z)},createURL:B,encodeLocation(z){let J=B(z);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:N,replace:k,go(z){return f.go(z)}};return Y}function ow(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ct(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:wo(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function j_(a,e,i="/"){return uw(a,e,i,!1)}function uw(a,e,i,s){let o=typeof e=="string"?Js(e):e,u=aa(o.pathname||"/",i);if(u==null)return null;let f=V_(a);cw(f);let p=null;for(let v=0;p==null&&v<f.length;++v){let y=xw(u);p=_w(f[v],y,s)}return p}function V_(a,e=[],i=[],s="",o=!1){let u=(f,p,v=o,y)=>{let x={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&v)return;ct(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let T=na([s,x.relativePath]),N=i.concat(x);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),V_(f.children,e,N,T,v)),!(f.path==null&&!f.index)&&e.push({path:T,score:yw(T,f.index),routesMeta:N})};return a.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let v of O_(f.path))u(f,p,!0,v)}),e}function O_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=O_(s.join("/")),p=[];return p.push(...f.map(v=>v===""?u:[u,v].join("/"))),o&&p.push(...f),p.map(v=>a.startsWith("/")&&v===""?"/":v)}function cw(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:vw(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var hw=/^:[\w-]+$/,fw=3,dw=2,mw=1,pw=10,gw=-2,ev=a=>a==="*";function yw(a,e){let i=a.split("/"),s=i.length;return i.some(ev)&&(s+=gw),e&&(s+=dw),i.filter(o=>!ev(o)).reduce((o,u)=>o+(hw.test(u)?fw:u===""?mw:pw),s)}function vw(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function _w(a,e,i=!1){let{routesMeta:s}=a,o={},u="/",f=[];for(let p=0;p<s.length;++p){let v=s[p],y=p===s.length-1,x=u==="/"?e:e.slice(u.length)||"/",T=Mc({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},x),N=v.route;if(!T&&y&&i&&!s[s.length-1].route.index&&(T=Mc({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},x)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:na([u,T.pathname]),pathnameBase:Aw(na([u,T.pathnameBase])),route:N}),T.pathnameBase!=="/"&&(u=na([u,T.pathnameBase]))}return f}function Mc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=bw(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:x,isOptional:T},N)=>{if(x==="*"){let B=p[N]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const k=p[N];return T&&!k?y[x]=void 0:y[x]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function bw(a,e=!1,i=!0){ii(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,v)=>(s.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xw(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function aa(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var Ew=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ww=a=>Ew.test(a);function Tw(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Js(a):a,u;if(i)if(ww(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=tv(i.substring(1),"/"):u=tv(i,e)}else u=e;return{pathname:u,search:Nw(s),hash:Cw(o)}}function tv(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Id(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sw(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function M_(a){let e=Sw(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function k_(a,e,i,s=!1){let o;typeof a=="string"?o=Js(a):(o={...a},ct(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let u=a===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=i;else{let T=e.length-1;if(!s&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),T-=1;o.pathname=N.join("/")}p=T>=0?e[T]:"/"}let v=Tw(o,p),y=f&&f!=="/"&&f.endsWith("/"),x=(u||f===".")&&i.endsWith("/");return!v.pathname.endsWith("/")&&(y||x)&&(v.pathname+="/"),v}var na=a=>a.join("/").replace(/\/\/+/g,"/"),Aw=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Nw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Cw=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Rw(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Dw(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var L_=["POST","PUT","PATCH","DELETE"];new Set(L_);var Iw=["GET",...L_];new Set(Iw);var Ws=L.createContext(null);Ws.displayName="DataRouter";var Wc=L.createContext(null);Wc.displayName="DataRouterState";L.createContext(!1);var U_=L.createContext({isTransitioning:!1});U_.displayName="ViewTransition";var jw=L.createContext(new Map);jw.displayName="Fetchers";var Vw=L.createContext(null);Vw.displayName="Await";var ri=L.createContext(null);ri.displayName="Navigation";var ko=L.createContext(null);ko.displayName="Location";var ua=L.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var Sm=L.createContext(null);Sm.displayName="RouteError";function Ow(a,{relative:e}={}){ct(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=L.useContext(ri),{hash:o,pathname:u,search:f}=Uo(a,{relative:e}),p=u;return i!=="/"&&(p=u==="/"?i:na([i,u])),s.createHref({pathname:p,search:f,hash:o})}function Lo(){return L.useContext(ko)!=null}function ca(){return ct(Lo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ko).location}var z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P_(a){L.useContext(ri).static||L.useLayoutEffect(a)}function Mw(){let{isDataRoute:a}=L.useContext(ua);return a?Yw():kw()}function kw(){ct(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let a=L.useContext(Ws),{basename:e,navigator:i}=L.useContext(ri),{matches:s}=L.useContext(ua),{pathname:o}=ca(),u=JSON.stringify(M_(s)),f=L.useRef(!1);return P_(()=>{f.current=!0}),L.useCallback((v,y={})=>{if(ii(f.current,z_),!f.current)return;if(typeof v=="number"){i.go(v);return}let x=k_(v,JSON.parse(u),o,y.relative==="path");a==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:na([e,x.pathname])),(y.replace?i.replace:i.push)(x,y.state,y)},[e,i,u,o,a])}L.createContext(null);function Uo(a,{relative:e}={}){let{matches:i}=L.useContext(ua),{pathname:s}=ca(),o=JSON.stringify(M_(i));return L.useMemo(()=>k_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function Lw(a,e){return B_(a,e)}function B_(a,e,i,s,o){ct(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(ri),{matches:f}=L.useContext(ua),p=f[f.length-1],v=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",T=p&&p.route;{let ne=T&&T.path||"";q_(y,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let N=ca(),k;if(e){let ne=typeof e=="string"?Js(e):e;ct(x==="/"||ne.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),k=ne}else k=N;let B=k.pathname||"/",Y=B;if(x!=="/"){let ne=x.replace(/^\//,"").split("/");Y="/"+B.replace(/^\//,"").split("/").slice(ne.length).join("/")}let z=j_(a,{pathname:Y});ii(T||z!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ii(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=qw(z&&z.map(ne=>Object.assign({},ne,{params:Object.assign({},v,ne.params),pathname:na([x,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?x:na([x,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,i,s,o);return e&&J?L.createElement(ko.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},J):J}function Uw(){let a=Kw(),e=Rw(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),i?L.createElement("pre",{style:o},i):null,f)}var zw=L.createElement(Uw,null),Pw=class extends L.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?L.createElement(ua.Provider,{value:this.props.routeContext},L.createElement(Sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bw({routeContext:a,match:e,children:i}){let s=L.useContext(Ws);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ua.Provider,{value:a},i)}function qw(a,e=[],i=null,s=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i?.errors;if(f!=null){let x=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ct(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,x+1))}let p=!1,v=-1;if(i)for(let x=0;x<u.length;x++){let T=u[x];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=x),T.route.id){let{loaderData:N,errors:k}=i,B=T.route.loader&&!N.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||B){p=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let y=i&&s?(x,T)=>{s(x,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Dw(i.matches),errorInfo:T})}:void 0;return u.reduceRight((x,T,N)=>{let k,B=!1,Y=null,z=null;i&&(k=f&&T.route.id?f[T.route.id]:void 0,Y=T.route.errorElement||zw,p&&(v<0&&N===0?(q_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,z=null):v===N&&(B=!0,z=T.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,N+1)),ne=()=>{let ae;return k?ae=Y:B?ae=z:T.route.Component?ae=L.createElement(T.route.Component,null):T.route.element?ae=T.route.element:ae=x,L.createElement(Bw,{match:T,routeContext:{outlet:x,matches:J,isDataRoute:i!=null},children:ae})};return i&&(T.route.ErrorBoundary||T.route.errorElement||N===0)?L.createElement(Pw,{location:i.location,revalidation:i.revalidation,component:Y,error:k,children:ne(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):ne()},null)}function Am(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(a){let e=L.useContext(Ws);return ct(e,Am(a)),e}function Fw(a){let e=L.useContext(Wc);return ct(e,Am(a)),e}function Gw(a){let e=L.useContext(ua);return ct(e,Am(a)),e}function Nm(a){let e=Gw(a),i=e.matches[e.matches.length-1];return ct(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function Qw(){return Nm("useRouteId")}function Kw(){let a=L.useContext(Sm),e=Fw("useRouteError"),i=Nm("useRouteError");return a!==void 0?a:e.errors?.[i]}function Yw(){let{router:a}=Hw("useNavigate"),e=Nm("useNavigate"),i=L.useRef(!1);return P_(()=>{i.current=!0}),L.useCallback(async(o,u={})=>{ii(i.current,z_),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:e,...u}))},[a,e])}var nv={};function q_(a,e,i){!e&&!nv[a]&&(nv[a]=!0,ii(!1,i))}L.memo(Xw);function Xw({routes:a,future:e,state:i,unstable_onError:s}){return B_(a,void 0,i,s,e)}function $d(a){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $w({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ct(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),v=L.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof i=="string"&&(i=Js(i));let{pathname:y="/",search:x="",hash:T="",state:N=null,key:k="default"}=i,B=L.useMemo(()=>{let Y=aa(y,p);return Y==null?null:{location:{pathname:Y,search:x,hash:T,state:N,key:k},navigationType:s}},[p,y,x,T,N,k,s]);return ii(B!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:L.createElement(ri.Provider,{value:v},L.createElement(ko.Provider,{children:e,value:B}))}function Zw({children:a,location:e}){return Lw(Zd(a),e)}function Zd(a,e=[]){let i=[];return L.Children.forEach(a,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){i.push.apply(i,Zd(s.props.children,u));return}ct(s.type===$d,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Zd(s.props.children,u)),i.push(f)}),i}var Ac="get",Nc="application/x-www-form-urlencoded";function eh(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function Jw(a){return eh(a)&&a.tagName.toLowerCase()==="button"}function Ww(a){return eh(a)&&a.tagName.toLowerCase()==="form"}function eT(a){return eh(a)&&a.tagName.toLowerCase()==="input"}function tT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function nT(a,e){return a.button===0&&(!e||e==="_self")&&!tT(a)}var bc=null;function iT(){if(bc===null)try{new FormData(document.createElement("form"),0),bc=!1}catch{bc=!0}return bc}var aT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jd(a){return a!=null&&!aT.has(a)?(ii(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):a}function rT(a,e){let i,s,o,u,f;if(Ww(a)){let p=a.getAttribute("action");s=p?aa(p,e):null,i=a.getAttribute("method")||Ac,o=jd(a.getAttribute("enctype"))||Nc,u=new FormData(a)}else if(Jw(a)||eT(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=a.getAttribute("formaction")||p.getAttribute("action");if(s=v?aa(v,e):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||Ac,o=jd(a.getAttribute("formenctype"))||jd(p.getAttribute("enctype"))||Nc,u=new FormData(p,a),!iT()){let{name:y,type:x,value:T}=a;if(x==="image"){let N=y?`${y}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else y&&u.append(y,T)}}else{if(eh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ac,s=null,o=Nc,f=a}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cm(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function sT(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&aa(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function lT(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oT(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function uT(a,e,i){let s=await Promise.all(a.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await lT(u,i);return f.links?f.links():[]}return[]}));return dT(s.flat(1).filter(oT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function iv(a,e,i,s,o,u){let f=(v,y)=>i[y]?v.route.id!==i[y].route.id:!0,p=(v,y)=>i[y].pathname!==v.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==v.params["*"];return u==="assets"?e.filter((v,y)=>f(v,y)||p(v,y)):u==="data"?e.filter((v,y)=>{let x=s.routes[v.route.id];if(!x||!x.hasLoader)return!1;if(f(v,y)||p(v,y))return!0;if(v.route.shouldRevalidate){let T=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function cT(a,e,{includeHydrateFallback:i}={}){return hT(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function hT(a){return[...new Set(a)]}function fT(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function dT(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let u=JSON.stringify(fT(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function H_(){let a=L.useContext(Ws);return Cm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function mT(){let a=L.useContext(Wc);return Cm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Rm=L.createContext(void 0);Rm.displayName="FrameworkContext";function F_(){let a=L.useContext(Rm);return Cm(a,"You must render this element inside a <HydratedRouter> element"),a}function pT(a,e){let i=L.useContext(Rm),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:y,onMouseLeave:x,onTouchStart:T}=e,N=L.useRef(null);L.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let Y=J=>{J.forEach(ne=>{f(ne.isIntersecting)})},z=new IntersectionObserver(Y,{threshold:.5});return N.current&&z.observe(N.current),()=>{z.disconnect()}}},[a]),L.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},B=()=>{o(!1),f(!1)};return i?a!=="intent"?[u,N,{}]:[u,N,{onFocus:uo(p,k),onBlur:uo(v,B),onMouseEnter:uo(y,k),onMouseLeave:uo(x,B),onTouchStart:uo(T,k)}]:[!1,N,{}]}function uo(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function gT({page:a,...e}){let{router:i}=H_(),s=L.useMemo(()=>j_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?L.createElement(vT,{page:a,matches:s,...e}):null}function yT(a){let{manifest:e,routeModules:i}=F_(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return uT(a,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[a,e,i]),s}function vT({page:a,matches:e,...i}){let s=ca(),{manifest:o,routeModules:u}=F_(),{basename:f}=H_(),{loaderData:p,matches:v}=mT(),y=L.useMemo(()=>iv(a,e,v,o,s,"data"),[a,e,v,o,s]),x=L.useMemo(()=>iv(a,e,v,o,s,"assets"),[a,e,v,o,s]),T=L.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let B=new Set,Y=!1;if(e.forEach(J=>{let ne=o.routes[J.route.id];!ne||!ne.hasLoader||(!y.some(ae=>ae.route.id===J.route.id)&&J.route.id in p&&u[J.route.id]?.shouldRevalidate||ne.hasClientLoader?Y=!0:B.add(J.route.id))}),B.size===0)return[];let z=sT(a,f,"data");return Y&&B.size>0&&z.searchParams.set("_routes",e.filter(J=>B.has(J.route.id)).map(J=>J.route.id).join(",")),[z.pathname+z.search]},[f,p,s,o,y,e,a,u]),N=L.useMemo(()=>cT(x,o),[x,o]),k=yT(x);return L.createElement(L.Fragment,null,T.map(B=>L.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),N.map(B=>L.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),k.map(({key:B,link:Y})=>L.createElement("link",{key:B,nonce:i.nonce,...Y})))}function _T(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var G_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G_&&(window.__reactRouterVersion="7.10.1")}catch{}function bT({basename:a,children:e,unstable_useTransitions:i,window:s}){let o=L.useRef();o.current==null&&(o.current=rw({window:s,v5Compat:!0}));let u=o.current,[f,p]=L.useState({action:u.action,location:u.location}),v=L.useCallback(y=>{i===!1?p(y):L.startTransition(()=>p(y))},[i]);return L.useLayoutEffect(()=>u.listen(v),[u,v]),L.createElement($w,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i===!0})}var Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,To=L.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:v,to:y,preventScrollReset:x,viewTransition:T,...N},k){let{basename:B,unstable_useTransitions:Y}=L.useContext(ri),z=typeof y=="string"&&Q_.test(y),J,ne=!1;if(typeof y=="string"&&z&&(J=y,G_))try{let V=new URL(window.location.href),E=y.startsWith("//")?new URL(V.protocol+y):new URL(y),R=aa(E.pathname,B);E.origin===V.origin&&R!=null?y=R+E.search+E.hash:ne=!0}catch{ii(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=Ow(y,{relative:o}),[ye,ve,_e]=pT(s,N),I=TT(y,{replace:f,state:p,target:v,preventScrollReset:x,relative:o,viewTransition:T,unstable_useTransitions:Y});function C(V){e&&e(V),V.defaultPrevented||I(V)}let D=L.createElement("a",{...N,..._e,href:J||ae,onClick:ne||u?e:C,ref:_T(k,ve),target:v,"data-discover":!z&&i==="render"?"true":void 0});return ye&&!z?L.createElement(L.Fragment,null,D,L.createElement(gT,{page:ae})):D});To.displayName="Link";var xT=L.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:v,...y},x){let T=Uo(f,{relative:y.relative}),N=ca(),k=L.useContext(Wc),{navigator:B,basename:Y}=L.useContext(ri),z=k!=null&&RT(T)&&p===!0,J=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,ne=N.pathname,ae=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(ne=ne.toLowerCase(),ae=ae?ae.toLowerCase():null,J=J.toLowerCase()),ae&&Y&&(ae=aa(ae,Y)||ae);const ye=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ve=ne===J||!o&&ne.startsWith(J)&&ne.charAt(ye)==="/",_e=ae!=null&&(ae===J||!o&&ae.startsWith(J)&&ae.charAt(J.length)==="/"),I={isActive:ve,isPending:_e,isTransitioning:z},C=ve?e:void 0,D;typeof s=="function"?D=s(I):D=[s,ve?"active":null,_e?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return L.createElement(To,{...y,"aria-current":C,className:D,ref:x,style:V,to:f,viewTransition:p},typeof v=="function"?v(I):v)});xT.displayName="NavLink";var ET=L.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:u,method:f=Ac,action:p,onSubmit:v,relative:y,preventScrollReset:x,viewTransition:T,...N},k)=>{let{unstable_useTransitions:B}=L.useContext(ri),Y=NT(),z=CT(p,{relative:y}),J=f.toLowerCase()==="get"?"get":"post",ne=typeof p=="string"&&Q_.test(p),ae=ye=>{if(v&&v(ye),ye.defaultPrevented)return;ye.preventDefault();let ve=ye.nativeEvent.submitter,_e=ve?.getAttribute("formmethod")||f,I=()=>Y(ve||ye.currentTarget,{fetcherKey:e,method:_e,navigate:i,replace:o,state:u,relative:y,preventScrollReset:x,viewTransition:T});B&&i!==!1?L.startTransition(()=>I()):I()};return L.createElement("form",{ref:k,method:J,action:z,onSubmit:s?v:ae,...N,"data-discover":!ne&&a==="render"?"true":void 0})});ET.displayName="Form";function wT(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K_(a){let e=L.useContext(Ws);return ct(e,wT(a)),e}function TT(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:p}={}){let v=Mw(),y=ca(),x=Uo(a,{relative:u});return L.useCallback(T=>{if(nT(T,e)){T.preventDefault();let N=i!==void 0?i:wo(y)===wo(x),k=()=>v(a,{replace:N,state:s,preventScrollReset:o,relative:u,viewTransition:f});p?L.startTransition(()=>k()):k()}},[y,v,x,i,s,e,a,o,u,f,p])}var ST=0,AT=()=>`__${String(++ST)}__`;function NT(){let{router:a}=K_("useSubmit"),{basename:e}=L.useContext(ri),i=Qw(),s=a.fetch,o=a.navigate;return L.useCallback(async(u,f={})=>{let{action:p,method:v,encType:y,formData:x,body:T}=rT(u,e);if(f.navigate===!1){let N=f.fetcherKey||AT();await s(N,i,f.action||p,{preventScrollReset:f.preventScrollReset,formData:x,body:T,formMethod:f.method||v,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||p,{preventScrollReset:f.preventScrollReset,formData:x,body:T,formMethod:f.method||v,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,i])}function CT(a,{relative:e}={}){let{basename:i}=L.useContext(ri),s=L.useContext(ua);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Uo(a||".",{relative:e})},f=ca();if(a==null){u.search=f.search;let p=new URLSearchParams(u.search),v=p.getAll("index");if(v.some(x=>x==="")){p.delete("index"),v.filter(T=>T).forEach(T=>p.append("index",T));let x=p.toString();u.search=x?`?${x}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:na([i,u.pathname])),wo(u)}function RT(a,{relative:e}={}){let i=L.useContext(U_);ct(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=K_("useViewTransitionState"),o=Uo(a,{relative:e});if(!i.isTransitioning)return!1;let u=aa(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=aa(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Mc(o.pathname,f)!=null||Mc(o.pathname,u)!=null}const DT=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IT=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),av=a=>{const e=IT(a);return e.charAt(0).toUpperCase()+e.slice(1)},Y_=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),jT=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var VT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OT=L.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...p},v)=>L.createElement("svg",{ref:v,...VT,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:Y_("lucide",o),...!u&&!jT(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,x])=>L.createElement(y,x)),...Array.isArray(u)?u:[u]]));const ft=(a,e)=>{const i=L.forwardRef(({className:s,...o},u)=>L.createElement(OT,{ref:u,iconNode:e,className:Y_(`lucide-${DT(av(a))}`,`lucide-${a}`,s),...o}));return i.displayName=av(a),i};const MT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kT=ft("bell",MT);const LT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rv=ft("calendar",LT);const UT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zT=ft("chevron-down",UT);const PT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BT=ft("chevron-left",PT);const qT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],HT=ft("chevron-right",qT);const FT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],kc=ft("circle-plus",FT);const GT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],QT=ft("database",GT);const KT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dm=ft("external-link",KT);const YT=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],XT=ft("ghost",YT);const $T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sv=ft("info",$T);const ZT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],JT=ft("lock",ZT);const WT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],X_=ft("map-pin",WT);const e2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],t2=ft("plus",e2);const n2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],i2=ft("save",n2);const a2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r2=ft("search",a2);const s2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l2=ft("settings",s2);const o2=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],lv=ft("share-2",o2);const u2=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],c2=ft("share",u2);const h2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$_=ft("shield",h2);const f2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ov=ft("square-pen",f2);const d2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cc=ft("trash-2",d2);const m2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z_=ft("upload",m2);const p2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fs=ft("x",p2),g2=()=>{};var uv={};const J_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},y2=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[i++],f=a[i++],p=a[i++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const u=a[i++],f=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},W_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,p=f?a[o+1]:0,v=o+2<a.length,y=v?a[o+2]:0,x=u>>2,T=(u&3)<<4|p>>4;let N=(p&15)<<2|y>>6,k=y&63;v||(k=64,f||(N=64)),s.push(i[x],i[T],i[N],i[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(J_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):y2(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const T=o<a.length?i[a.charAt(o)]:64;if(++o,u==null||p==null||y==null||T==null)throw new v2;const N=u<<2|p>>4;if(s.push(N),y!==64){const k=p<<4&240|y>>2;if(s.push(k),T!==64){const B=y<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class v2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _2=function(a){const e=J_(a);return W_.encodeByteArray(e,!0)},Lc=function(a){return _2(a).replace(/\./g,"")},b2=function(a){try{return W_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function x2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const E2=()=>x2().__FIREBASE_DEFAULTS__,w2=()=>{if(typeof process>"u"||typeof uv>"u")return;const a=uv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},T2=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&b2(a[1]);return e&&JSON.parse(e)},Im=()=>{try{return g2()||E2()||w2()||T2()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},S2=a=>Im()?.emulatorHosts?.[a],A2=a=>{const e=S2(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},eb=()=>Im()?.config;class N2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function jm(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C2(a){return(await fetch(a,{credentials:"include"})).ok}function R2(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Lc(JSON.stringify(i)),Lc(JSON.stringify(f)),""].join(".")}const yo={};function D2(){const a={prod:[],emulator:[]};for(const e of Object.keys(yo))yo[e]?a.emulator.push(e):a.prod.push(e);return a}function I2(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let cv=!1;function j2(a,e){if(typeof window>"u"||typeof document>"u"||!jm(window.location.host)||yo[a]===e||yo[a]||cv)return;yo[a]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=D2().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,k){N.setAttribute("width","24"),N.setAttribute("id",k),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{cv=!0,f()},N}function x(N,k){N.setAttribute("id",k),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function T(){const N=I2(s),k=i("text"),B=document.getElementById(k)||document.createElement("span"),Y=i("learnmore"),z=document.getElementById(Y)||document.createElement("a"),J=i("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ae=N.element;p(ae),x(z,Y);const ye=y();v(ne,J),ae.append(ne,B,z,ye),document.body.appendChild(ae)}u?(B.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function V2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O2(){const a=Im()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M2(){return!O2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tb(){try{return typeof indexedDB=="object"}catch{return!1}}function nb(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}function k2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const L2="FirebaseError";class Yr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=L2,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?U2(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Yr(o,p,s)}}function U2(a,e){return a.replace(z2,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const z2=/\{\$([^}]+)}/g;function Uc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=a[o],f=e[o];if(hv(u)&&hv(f)){if(!Uc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function hv(a){return a!==null&&typeof a=="object"}function Sn(a){return a&&a._delegate?a._delegate:a}class ra{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zr="[DEFAULT]";class P2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new N2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q2(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:B2(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B2(a){return a===zr?void 0:a}function q2(a){return a.instantiationMode==="EAGER"}class H2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new P2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qe||(qe={}));const F2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},G2=qe.INFO,Q2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},K2=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=Q2[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ib{constructor(e){this.name=e,this._logLevel=G2,this._logHandler=K2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Y2=(a,e)=>e.some(i=>a instanceof i);let fv,dv;function X2(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $2(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,Jd=new WeakMap,rb=new WeakMap,Vd=new WeakMap,Vm=new WeakMap;function Z2(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(ia(a.result)),o()},f=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&ab.set(i,a)}).catch(()=>{}),Vm.set(e,a),e}function J2(a){if(Jd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});Jd.set(a,e)}let Wd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Jd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||rb.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ia(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function W2(a){Wd=a(Wd)}function eS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Od(this),e,...i);return rb.set(s,e.sort?e.sort():[e]),ia(s)}:$2().includes(a)?function(...e){return a.apply(Od(this),e),ia(ab.get(this))}:function(...e){return ia(a.apply(Od(this),e))}}function tS(a){return typeof a=="function"?eS(a):(a instanceof IDBTransaction&&J2(a),Y2(a,X2())?new Proxy(a,Wd):a)}function ia(a){if(a instanceof IDBRequest)return Z2(a);if(Vd.has(a))return Vd.get(a);const e=tS(a);return e!==a&&(Vd.set(a,e),Vm.set(e,a)),e}const Od=a=>Vm.get(a);function nh(a,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),p=ia(f);return s&&f.addEventListener("upgradeneeded",v=>{s(ia(f.result),v.oldVersion,v.newVersion,ia(f.transaction),v)}),i&&f.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}function Md(a,{blocked:e}={}){const i=indexedDB.deleteDatabase(a);return e&&i.addEventListener("blocked",s=>e(s.oldVersion,s)),ia(i).then(()=>{})}const nS=["get","getKey","getAll","getAllKeys","count"],iS=["put","add","delete","clear"],kd=new Map;function mv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=iS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||nS.includes(i)))return;const u=async function(f,...p){const v=this.transaction(f,o?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return kd.set(e,u),u}W2(a=>({...a,get:(e,i,s)=>mv(e,i)||a.get(e,i,s),has:(e,i)=>!!mv(e,i)||a.has(e,i)}));class aS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function rS(a){return a.getComponent()?.type==="VERSION"}const em="@firebase/app",pv="0.14.6";const sa=new ib("@firebase/app"),sS="@firebase/app-compat",lS="@firebase/analytics-compat",oS="@firebase/analytics",uS="@firebase/app-check-compat",cS="@firebase/app-check",hS="@firebase/auth",fS="@firebase/auth-compat",dS="@firebase/database",mS="@firebase/data-connect",pS="@firebase/database-compat",gS="@firebase/functions",yS="@firebase/functions-compat",vS="@firebase/installations",_S="@firebase/installations-compat",bS="@firebase/messaging",xS="@firebase/messaging-compat",ES="@firebase/performance",wS="@firebase/performance-compat",TS="@firebase/remote-config",SS="@firebase/remote-config-compat",AS="@firebase/storage",NS="@firebase/storage-compat",CS="@firebase/firestore",RS="@firebase/ai",DS="@firebase/firestore-compat",IS="firebase",jS="12.6.0";const tm="[DEFAULT]",VS={[em]:"fire-core",[sS]:"fire-core-compat",[oS]:"fire-analytics",[lS]:"fire-analytics-compat",[cS]:"fire-app-check",[uS]:"fire-app-check-compat",[hS]:"fire-auth",[fS]:"fire-auth-compat",[dS]:"fire-rtdb",[mS]:"fire-data-connect",[pS]:"fire-rtdb-compat",[gS]:"fire-fn",[yS]:"fire-fn-compat",[vS]:"fire-iid",[_S]:"fire-iid-compat",[bS]:"fire-fcm",[xS]:"fire-fcm-compat",[ES]:"fire-perf",[wS]:"fire-perf-compat",[TS]:"fire-rc",[SS]:"fire-rc-compat",[AS]:"fire-gcs",[NS]:"fire-gcs-compat",[CS]:"fire-fst",[DS]:"fire-fst-compat",[RS]:"fire-vertex","fire-js":"fire-js",[IS]:"fire-js-all"};const zc=new Map,OS=new Map,nm=new Map;function gv(a,e){try{a.container.addComponent(e)}catch(i){sa.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Wa(a){const e=a.name;if(nm.has(e))return sa.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,a);for(const i of zc.values())gv(i,a);for(const i of OS.values())gv(i,a);return!0}function ih(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function MS(a){return a==null?!1:a.settings!==void 0}const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new th("app","Firebase",kS);class LS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}const US=jS;function sb(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:tm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Xa.create("bad-app-name",{appName:String(o)});if(i||(i=eb()),!i)throw Xa.create("no-options");const u=zc.get(o);if(u){if(Uc(i,u.options)&&Uc(s,u.config))return u;throw Xa.create("duplicate-app",{appName:o})}const f=new H2(o);for(const v of nm.values())f.addComponent(v);const p=new LS(i,s,f);return zc.set(o,p),p}function lb(a=tm){const e=zc.get(a);if(!e&&a===tm&&eb())return sb();if(!e)throw Xa.create("no-app",{appName:a});return e}function Di(a,e,i){let s=VS[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sa.warn(f.join(" "));return}Wa(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const zS="firebase-heartbeat-database",PS=1,So="firebase-heartbeat-store";let Ld=null;function ob(){return Ld||(Ld=nh(zS,PS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(So)}catch(i){console.warn(i)}}}}).catch(a=>{throw Xa.create("idb-open",{originalErrorMessage:a.message})})),Ld}async function BS(a){try{const i=(await ob()).transaction(So),s=await i.objectStore(So).get(ub(a));return await i.done,s}catch(e){if(e instanceof Yr)sa.warn(e.message);else{const i=Xa.create("idb-get",{originalErrorMessage:e?.message});sa.warn(i.message)}}}async function yv(a,e){try{const s=(await ob()).transaction(So,"readwrite");await s.objectStore(So).put(e,ub(a)),await s.done}catch(i){if(i instanceof Yr)sa.warn(i.message);else{const s=Xa.create("idb-set",{originalErrorMessage:i?.message});sa.warn(s.message)}}}function ub(a){return`${a.name}!${a.options.appId}`}const qS=1024,HS=30;class FS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>HS){const o=KS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vv(),{heartbeatsToSend:i,unsentEntries:s}=GS(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sa.warn(e),""}}}function vv(){return new Date().toISOString().substring(0,10)}function GS(a,e=qS){const i=[];let s=a.slice();for(const o of a){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_v(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),_v(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class QS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tb()?nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await BS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _v(a){return Lc(JSON.stringify({version:2,heartbeats:a})).length}function KS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}function YS(a){Wa(new ra("platform-logger",e=>new aS(e),"PRIVATE")),Wa(new ra("heartbeat",e=>new FS(e),"PRIVATE")),Di(em,pv,a),Di(em,pv,"esm2020"),Di("fire-js","")}YS("");var XS="firebase",$S="12.6.0";Di(XS,$S,"app");var bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $a,cb;(function(){var a;function e(I,C){function D(){}D.prototype=C.prototype,I.F=C.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(V,E,R){for(var S=Array(arguments.length-2),we=2;we<arguments.length;we++)S[we-2]=arguments[we];return C.prototype[E].apply(V,S)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,D){D||(D=0);const V=Array(16);if(typeof C=="string")for(var E=0;E<16;++E)V[E]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(E=0;E<16;++E)V[E]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=I.g[0],D=I.g[1],E=I.g[2];let R=I.g[3],S;S=C+(R^D&(E^R))+V[0]+3614090360&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(E^C&(D^E))+V[1]+3905402710&4294967295,R=C+(S<<12&4294967295|S>>>20),S=E+(D^R&(C^D))+V[2]+606105819&4294967295,E=R+(S<<17&4294967295|S>>>15),S=D+(C^E&(R^C))+V[3]+3250441966&4294967295,D=E+(S<<22&4294967295|S>>>10),S=C+(R^D&(E^R))+V[4]+4118548399&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(E^C&(D^E))+V[5]+1200080426&4294967295,R=C+(S<<12&4294967295|S>>>20),S=E+(D^R&(C^D))+V[6]+2821735955&4294967295,E=R+(S<<17&4294967295|S>>>15),S=D+(C^E&(R^C))+V[7]+4249261313&4294967295,D=E+(S<<22&4294967295|S>>>10),S=C+(R^D&(E^R))+V[8]+1770035416&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(E^C&(D^E))+V[9]+2336552879&4294967295,R=C+(S<<12&4294967295|S>>>20),S=E+(D^R&(C^D))+V[10]+4294925233&4294967295,E=R+(S<<17&4294967295|S>>>15),S=D+(C^E&(R^C))+V[11]+2304563134&4294967295,D=E+(S<<22&4294967295|S>>>10),S=C+(R^D&(E^R))+V[12]+1804603682&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(E^C&(D^E))+V[13]+4254626195&4294967295,R=C+(S<<12&4294967295|S>>>20),S=E+(D^R&(C^D))+V[14]+2792965006&4294967295,E=R+(S<<17&4294967295|S>>>15),S=D+(C^E&(R^C))+V[15]+1236535329&4294967295,D=E+(S<<22&4294967295|S>>>10),S=C+(E^R&(D^E))+V[1]+4129170786&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^E&(C^D))+V[6]+3225465664&4294967295,R=C+(S<<9&4294967295|S>>>23),S=E+(C^D&(R^C))+V[11]+643717713&4294967295,E=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(E^R))+V[0]+3921069994&4294967295,D=E+(S<<20&4294967295|S>>>12),S=C+(E^R&(D^E))+V[5]+3593408605&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^E&(C^D))+V[10]+38016083&4294967295,R=C+(S<<9&4294967295|S>>>23),S=E+(C^D&(R^C))+V[15]+3634488961&4294967295,E=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(E^R))+V[4]+3889429448&4294967295,D=E+(S<<20&4294967295|S>>>12),S=C+(E^R&(D^E))+V[9]+568446438&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^E&(C^D))+V[14]+3275163606&4294967295,R=C+(S<<9&4294967295|S>>>23),S=E+(C^D&(R^C))+V[3]+4107603335&4294967295,E=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(E^R))+V[8]+1163531501&4294967295,D=E+(S<<20&4294967295|S>>>12),S=C+(E^R&(D^E))+V[13]+2850285829&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^E&(C^D))+V[2]+4243563512&4294967295,R=C+(S<<9&4294967295|S>>>23),S=E+(C^D&(R^C))+V[7]+1735328473&4294967295,E=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(E^R))+V[12]+2368359562&4294967295,D=E+(S<<20&4294967295|S>>>12),S=C+(D^E^R)+V[5]+4294588738&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^E)+V[8]+2272392833&4294967295,R=C+(S<<11&4294967295|S>>>21),S=E+(R^C^D)+V[11]+1839030562&4294967295,E=R+(S<<16&4294967295|S>>>16),S=D+(E^R^C)+V[14]+4259657740&4294967295,D=E+(S<<23&4294967295|S>>>9),S=C+(D^E^R)+V[1]+2763975236&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^E)+V[4]+1272893353&4294967295,R=C+(S<<11&4294967295|S>>>21),S=E+(R^C^D)+V[7]+4139469664&4294967295,E=R+(S<<16&4294967295|S>>>16),S=D+(E^R^C)+V[10]+3200236656&4294967295,D=E+(S<<23&4294967295|S>>>9),S=C+(D^E^R)+V[13]+681279174&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^E)+V[0]+3936430074&4294967295,R=C+(S<<11&4294967295|S>>>21),S=E+(R^C^D)+V[3]+3572445317&4294967295,E=R+(S<<16&4294967295|S>>>16),S=D+(E^R^C)+V[6]+76029189&4294967295,D=E+(S<<23&4294967295|S>>>9),S=C+(D^E^R)+V[9]+3654602809&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^E)+V[12]+3873151461&4294967295,R=C+(S<<11&4294967295|S>>>21),S=E+(R^C^D)+V[15]+530742520&4294967295,E=R+(S<<16&4294967295|S>>>16),S=D+(E^R^C)+V[2]+3299628645&4294967295,D=E+(S<<23&4294967295|S>>>9),S=C+(E^(D|~R))+V[0]+4096336452&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~E))+V[7]+1126891415&4294967295,R=C+(S<<10&4294967295|S>>>22),S=E+(C^(R|~D))+V[14]+2878612391&4294967295,E=R+(S<<15&4294967295|S>>>17),S=D+(R^(E|~C))+V[5]+4237533241&4294967295,D=E+(S<<21&4294967295|S>>>11),S=C+(E^(D|~R))+V[12]+1700485571&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~E))+V[3]+2399980690&4294967295,R=C+(S<<10&4294967295|S>>>22),S=E+(C^(R|~D))+V[10]+4293915773&4294967295,E=R+(S<<15&4294967295|S>>>17),S=D+(R^(E|~C))+V[1]+2240044497&4294967295,D=E+(S<<21&4294967295|S>>>11),S=C+(E^(D|~R))+V[8]+1873313359&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~E))+V[15]+4264355552&4294967295,R=C+(S<<10&4294967295|S>>>22),S=E+(C^(R|~D))+V[6]+2734768916&4294967295,E=R+(S<<15&4294967295|S>>>17),S=D+(R^(E|~C))+V[13]+1309151649&4294967295,D=E+(S<<21&4294967295|S>>>11),S=C+(E^(D|~R))+V[4]+4149444226&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~E))+V[11]+3174756917&4294967295,R=C+(S<<10&4294967295|S>>>22),S=E+(C^(R|~D))+V[2]+718787259&4294967295,E=R+(S<<15&4294967295|S>>>17),S=D+(R^(E|~C))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(E+(S<<21&4294967295|S>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+R&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const D=C-this.blockSize,V=this.C;let E=this.h,R=0;for(;R<C;){if(E==0)for(;R<=D;)o(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<C;)if(V[E++]=I.charCodeAt(R++),E==this.blockSize){o(this,V),E=0;break}}else for(;R<C;)if(V[E++]=I[R++],E==this.blockSize){o(this,V),E=0;break}}this.h=E,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)I[C++]=this.g[D]>>>V&255;return I};function u(I,C){var D=p;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=C(I)}function f(I,C){this.h=C;const D=[];let V=!0;for(let E=I.length-1;E>=0;E--){const R=I[E]|0;V&&R==C||(D[E]=R,V=!1)}this.g=D}var p={};function v(I){return-128<=I&&I<128?u(I,function(C){return new f([C|0],C<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return z(y(-I));const C=[];let D=1;for(let V=0;I>=D;V++)C[V]=I/D|0,D*=4294967296;return new f(C,0)}function x(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return z(x(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(C,8));let V=T;for(let R=0;R<I.length;R+=8){var E=Math.min(8,I.length-R);const S=parseInt(I.substring(R,R+E),C);E<8?(E=y(Math.pow(C,E)),V=V.j(E).add(y(S))):(V=V.j(D),V=V.add(y(S)))}return V}var T=v(0),N=v(1),k=v(16777216);a=f.prototype,a.m=function(){if(Y(this))return-z(this).m();let I=0,C=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);I+=(V>=0?V:4294967296+V)*C,C*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(B(this))return"0";if(Y(this))return"-"+z(this).toString(I);const C=y(Math.pow(I,6));var D=this;let V="";for(;;){const E=ye(D,C).g;D=J(D,E.j(C));let R=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=E,B(D))return R+V;for(;R.length<6;)R="0"+R;V=R+V}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function B(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function Y(I){return I.h==-1}a.l=function(I){return I=J(this,I),Y(I)?-1:B(I)?0:1};function z(I){const C=I.g.length,D=[];for(let V=0;V<C;V++)D[V]=~I.g[V];return new f(D,~I.h).add(N)}a.abs=function(){return Y(this)?z(this):this},a.add=function(I){const C=Math.max(this.g.length,I.g.length),D=[];let V=0;for(let E=0;E<=C;E++){let R=V+(this.i(E)&65535)+(I.i(E)&65535),S=(R>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);V=S>>>16,R&=65535,S&=65535,D[E]=S<<16|R}return new f(D,D[D.length-1]&-2147483648?-1:0)};function J(I,C){return I.add(z(C))}a.j=function(I){if(B(this)||B(I))return T;if(Y(this))return Y(I)?z(this).j(z(I)):z(z(this).j(I));if(Y(I))return z(this.j(z(I)));if(this.l(k)<0&&I.l(k)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,D=[];for(var V=0;V<2*C;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let E=0;E<I.g.length;E++){const R=this.i(V)>>>16,S=this.i(V)&65535,we=I.i(E)>>>16,Ue=I.i(E)&65535;D[2*V+2*E]+=S*Ue,ne(D,2*V+2*E),D[2*V+2*E+1]+=R*Ue,ne(D,2*V+2*E+1),D[2*V+2*E+1]+=S*we,ne(D,2*V+2*E+1),D[2*V+2*E+2]+=R*we,ne(D,2*V+2*E+2)}for(I=0;I<C;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=C;I<2*C;I++)D[I]=0;return new f(D,0)};function ne(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function ae(I,C){this.g=I,this.h=C}function ye(I,C){if(B(C))throw Error("division by zero");if(B(I))return new ae(T,T);if(Y(I))return C=ye(z(I),C),new ae(z(C.g),z(C.h));if(Y(C))return C=ye(I,z(C)),new ae(z(C.g),C.h);if(I.g.length>30){if(Y(I)||Y(C))throw Error("slowDivide_ only works with positive integers.");for(var D=N,V=C;V.l(I)<=0;)D=ve(D),V=ve(V);var E=_e(D,1),R=_e(V,1);for(V=_e(V,2),D=_e(D,2);!B(V);){var S=R.add(V);S.l(I)<=0&&(E=E.add(D),R=S),V=_e(V,1),D=_e(D,1)}return C=J(I,E.j(C)),new ae(E,C)}for(E=T;I.l(C)>=0;){for(D=Math.max(1,Math.floor(I.m()/C.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),R=y(D),S=R.j(C);Y(S)||S.l(I)>0;)D-=V,R=y(D),S=R.j(C);B(R)&&(R=N),E=E.add(R),I=J(I,S)}return new ae(E,I)}a.B=function(I){return ye(this,I).h},a.and=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<C;V++)D[V]=this.i(V)&I.i(V);return new f(D,this.h&I.h)},a.or=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<C;V++)D[V]=this.i(V)|I.i(V);return new f(D,this.h|I.h)},a.xor=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<C;V++)D[V]=this.i(V)^I.i(V);return new f(D,this.h^I.h)};function ve(I){const C=I.g.length+1,D=[];for(let V=0;V<C;V++)D[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(D,I.h)}function _e(I,C){const D=C>>5;C%=32;const V=I.g.length-D,E=[];for(let R=0;R<V;R++)E[R]=C>0?I.i(R+D)>>>C|I.i(R+D+1)<<32-C:I.i(R+D);return new f(E,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=x,$a=f}).apply(typeof bv<"u"?bv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hb,ho,fb,Rc,im,db,mb,pb;(function(){var a,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=i(this);function o(c,g){if(g)e:{var b=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in b))break e;b=b[P]}c=c[c.length-1],A=b[c],g=g(A),g!=A&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var b=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&b.push([A,g[A]]);return b}});var u=u||{},f=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,b){return c.call.apply(c.bind,arguments)}function y(c,g,b){return y=v,y.apply(null,arguments)}function x(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function b(){}b.prototype=g.prototype,c.Z=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(A,P,G){for(var re=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)re[Ce-2]=arguments[Ce];return g.prototype[P].apply(A,re)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const b=Array(g);for(let A=0;A<g;A++)b[A]=c[A];return b}return[]}function B(c,g){for(let A=1;A<arguments.length;A++){const P=arguments[A];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=c.length||0;const G=P.length||0;c.length=b+G;for(let re=0;re<G;re++)c[b+re]=P[re]}else c.push(P)}}class Y{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(c){f.setTimeout(()=>{throw c},0)}function J(){var c=I;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ne{constructor(){this.h=this.g=null}add(g,b){const A=ae.get();A.set(g,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new Y(()=>new ye,c=>c.reset());class ye{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,_e=!1,I=new ne,C=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(D)}};function D(){for(var c;c=J();){try{c.h.call(c.g)}catch(b){z(b)}var g=ae;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}_e=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};f.addEventListener("test",b,g),f.removeEventListener("test",b,g)}catch{}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function we(c,g){E.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(we,E),we.prototype.init=function(c,g){const b=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(c,g,b,A,P){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!A,this.ha=P,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,g,b){for(const A in c)g.call(b,c[A],A,c)}function Pe(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function O(c){const g={};for(const b in c)g[b]=c[b];return g}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,g){let b,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(b in A)c[b]=A[b];for(let G=0;G<$.length;G++)b=$[G],Object.prototype.hasOwnProperty.call(A,b)&&(c[b]=A[b])}}function ie(c){this.src=c,this.g={},this.h=0}ie.prototype.add=function(c,g,b,A,P){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=be(c,g,A,P);return re>-1?(g=c[re],b||(g.fa=!1)):(g=new se(g,this.src,G,!!A,P),g.fa=b,c.push(g)),g};function de(c,g){const b=g.type;if(b in c.g){var A=c.g[b],P=Array.prototype.indexOf.call(A,g,void 0),G;(G=P>=0)&&Array.prototype.splice.call(A,P,1),G&&(me(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function be(c,g,b,A){for(let P=0;P<c.length;++P){const G=c[P];if(!G.da&&G.listener==g&&G.capture==!!b&&G.ha==A)return P}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),ce={};function He(c,g,b,A,P){if(Array.isArray(g)){for(let G=0;G<g.length;G++)He(c,g[G],b,A,P);return null}return b=rl(b),c&&c[Ue]?c.J(g,b,p(A)?!!A.capture:!1,P):An(c,g,b,!1,A,P)}function An(c,g,b,A,P,G){if(!g)throw Error("Invalid event type");const re=p(P)?!!P.capture:!!P;let Ce=li(c);if(Ce||(c[Ne]=Ce=new ie(c)),b=Ce.add(g,b,A,re,G),b.proxy)return b;if(A=si(),b.proxy=A,A.src=c,A.listener=b,c.addEventListener)R||(P=re),P===void 0&&(P=!1),c.addEventListener(g.toString(),A,P);else if(c.attachEvent)c.attachEvent(xt(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function si(){function c(b){return g.call(c.src,c.listener,b)}const g=Nn;return c}function ha(c,g,b,A,P){if(Array.isArray(g))for(var G=0;G<g.length;G++)ha(c,g[G],b,A,P);else A=p(A)?!!A.capture:!!A,b=rl(b),c&&c[Ue]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],b=be(g,b,A,P),b>-1&&(me(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=li(c))&&(g=c.g[g.toString()],c=-1,g&&(c=be(g,b,A,P)),(b=c>-1?g[c]:null)&&fa(b))}function fa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])de(g.i,c);else{var b=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(b,A,c.capture):g.detachEvent?g.detachEvent(xt(b),A):g.addListener&&g.removeListener&&g.removeListener(A),(b=li(g))?(de(b,c),b.h==0&&(b.src=null,g[Ne]=null)):me(c)}}}function xt(c){return c in ce?ce[c]:ce[c]="on"+c}function Nn(c,g){if(c.da)c=!0;else{g=new we(g,this);const b=c.listener,A=c.ha||c.src;c.fa&&fa(c),c=b.call(A,g)}return c}function li(c){return c=c[Ne],c instanceof ie?c:null}var da="__closure_events_fn_"+(Math.random()*1e9>>>0);function rl(c){return typeof c=="function"?c:(c[da]||(c[da]=function(g){return c.handleEvent(g)}),c[da])}function Et(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}T(Et,V),Et.prototype[Ue]=!0,Et.prototype.removeEventListener=function(c,g,b,A){ha(this,c,g,b,A)};function Ot(c,g){var b,A=c.G;if(A)for(b=[];A;A=A.G)b.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new E(g,c);else if(g instanceof E)g.target=g.target||c;else{var P=g;g=new E(A,c),le(g,P)}P=!0;let G,re;if(b)for(re=b.length-1;re>=0;re--)G=g.g=b[re],P=ma(G,A,!0,g)&&P;if(G=g.g=c,P=ma(G,A,!0,g)&&P,P=ma(G,A,!1,g)&&P,b)for(re=0;re<b.length;re++)G=g.g=b[re],P=ma(G,A,!1,g)&&P}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const b=c.g[g];for(let A=0;A<b.length;A++)me(b[A]);delete c.g[g],c.h--}}this.G=null},Et.prototype.J=function(c,g,b,A){return this.i.add(String(c),g,!1,b,A)},Et.prototype.K=function(c,g,b,A){return this.i.add(String(c),g,!0,b,A)};function ma(c,g,b,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let G=0;G<g.length;++G){const re=g[G];if(re&&!re.da&&re.capture==b){const Ce=re.listener,yt=re.ha||re.src;re.fa&&de(c.i,re),P=Ce.call(yt,A)!==!1&&P}}return P&&!A.defaultPrevented}function Ah(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Go(c){c.g=Ah(()=>{c.g=null,c.i&&(c.i=!1,Go(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tn extends V{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(c){V.call(this),this.h=c,this.g={}}T(cr,V);var sl=[];function ll(c){Ie(c.g,function(g,b){this.g.hasOwnProperty(b)&&fa(g)},c),c.g={}}cr.prototype.N=function(){cr.Z.N.call(this),ll(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pa=f.JSON.stringify,Nh=f.JSON.parse,Qo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ko(){}function Yo(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){E.call(this,"d")}T(Bt,E);function Cn(){E.call(this,"c")}T(Cn,E);var gt={},Xo=null;function Zr(){return Xo=Xo||new Et}gt.Ia="serverreachability";function $o(c){E.call(this,gt.Ia,c)}T($o,E);function oi(c){const g=Zr();Ot(g,new $o(g))}gt.STAT_EVENT="statevent";function hr(c,g){E.call(this,gt.STAT_EVENT,c),this.stat=g}T(hr,E);function wt(c){const g=Zr();Ot(g,new hr(g,c))}gt.Ja="timingevent";function ui(c,g){E.call(this,gt.Ja,c),this.size=g}T(ui,E);function ci(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Ch(c,g,b,A,P,G){c.info(function(){if(c.g)if(G){var re="",Ce=G.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var yt=Ce[Qe].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const jn=lt.split("_");re=jn.length>=2&&jn[1]=="type"?re+(lt+"="+yt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+b+`
`+re})}function Zo(c,g,b,A,P,G,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+b+`
`+G+" "+re})}function hi(c,g,b,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Rh(c,b)+(A?" "+A:"")})}function fr(c,g){c.info(function(){return"TIMEOUT: "+g})}Gn.prototype.info=function(){};function Rh(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var b=G[c];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return pa(G)}catch{return g}}var dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ul;function mr(){}T(mr,Ko),mr.prototype.g=function(){return new XMLHttpRequest},ul=new mr;function ki(c){return encodeURIComponent(String(c))}function Jo(c){var g=1;c=c.split(":");const b=[];for(;g>0&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function Qn(c,g,b,A){this.j=c,this.i=g,this.l=b,this.S=A||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function fi(c,g,b){c.M=1,c.A=pr(At(g)),c.u=b,c.R=!0,Jr(c,null)}function Jr(c,g){c.F=Date.now(),di(c),c.B=At(c.A);var b=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ns(b.i,"t",A),c.C=0,b=c.j.L,c.h=new Kn,c.g=du(c.j,b?g:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),g=c.V,b=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(sl[0]=P.toString()),P=sl);for(let G=0;G<P.length;G++){const re=He(b,P[G],A||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),oi(),Ch(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&$n(c)==3?g.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=$n(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ce!=4||yt==7||(yt==8||Qe<=0?oi(3):oi(2)),mi(this);var g=this.g.ca();this.X=g;var b=Dh(this);if(this.o=g==200,Zo(this.i,this.v,this.B,this.l,this.S,Ce,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(A)){var G=A;break t}}G=null}if(c=G)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,wt(12),pn(this),Rn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=eu(this,b),lt==Lt){Ce==4&&(this.m=4,wt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,wt(15),hi(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,lt,null),pi(this,lt);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||b.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,b,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(b.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Tl(re),re.P=!0,wt(11))}}else hi(this.i,this.l,b,null),pi(this,b);Ce==4&&pn(this),this.o&&!this.K&&(Ce==4?uu(this.j,this):(this.o=!1,di(this)))}else Ui(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),pn(this),Rn(this)}}}catch{}finally{}};function Dh(c){if(!Wo(c))return c.g.la();const g=qt(c.g);if(g==="")return"";let b="";const A=g.length,P=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,b+=c.h.i.decode(g[G],{stream:!(P&&G==A-1)});return g.length=0,c.h.g+=b,c.C=0,c.h.g}function Wo(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function eu(c,g){var b=c.C,A=g.indexOf(`
`,b);return A==-1?Lt:(b=Number(g.substring(b,A)),isNaN(b)?Tt:(A+=1,A+b>g.length?Lt:(g=g.slice(A,A+b),c.C=A+b,g)))}Qn.prototype.cancel=function(){this.K=!0,pn(this)};function di(c){c.T=Date.now()+c.H,Wr(c,c.H)}function Wr(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(y(c.aa,c),g)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(fr(this.i,this.B),this.M!=2&&(oi(),wt(17)),pn(this),this.m=2,Rn(this)):Wr(this,this.T-c)};function Rn(c){c.j.I==0||c.K||uu(c.j,c)}function pn(c){mi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,ll(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function pi(c,g){try{var b=c.j;if(b.I!=0&&(b.g==c||yi(b.h,c))){if(!c.L&&yi(b.h,c)&&b.I==3){try{var A=b.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)ls(b),wa(b);else break e;Er(b),wt(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ci(y(b.Va,b),6e3));gi(b.h)<=1&&b.ta&&(b.ta=void 0)}else wi(b,11)}else if((c.L||b.g==c)&&ls(b),!S(g))for(P=b.Ba.g.parse(g),g=0;g<P.length;g++){let Qe=P[g];const lt=Qe[0];if(!(lt<=b.K))if(b.K=lt,Qe=Qe[1],b.I==2)if(Qe[0]=="c"){b.M=Qe[1],b.ba=Qe[2];const jn=Qe[3];jn!=null&&(b.ka=jn,b.j.info("VER="+b.ka));const Ti=Qe[4];Ti!=null&&(b.za=Ti,b.j.info("SVER="+b.za));const Zn=Qe[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Jn=c.g;if(Jn){const wr=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var G=A.h;G.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(fl(G,G.h),G.h=null))}if(A.G){const os=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;os&&(A.wa=os,Xe(A.J,A.G,os))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var re=c;if(A.na=fu(A,A.L?A.ba:null,A.W),re.L){dl(A.h,re);var Ce=re,yt=A.O;yt&&(Ce.H=yt),Ce.D&&(mi(Ce),di(Ce)),A.g=re}else lu(A);b.i.length>0&&Ei(b)}else Qe[0]!="stop"&&Qe[0]!="close"||wi(b,7);else b.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?wi(b,7):El(b):Qe[0]!="noop"&&b.l&&b.l.qa(Qe),b.A=0)}}oi(4)}catch{}}var St=class{constructor(c,g){this.g=c,this.map=g}};function cl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function fl(c,g){c.g?c.g.add(g):c.h=g}function dl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}cl.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ml(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.G);return g}return k(c.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function es(c,g){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const A=c[b].indexOf("=");let P,G=null;A>=0?(P=c[b].substring(0,A),G=c[b].substring(A+1)):P=c[b],g(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof gn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ga(this,c.u),this.h=c.h,pl(this,ru(c.i)),this.m=c.m):c&&(g=String(c).match(tu))?(this.l=!1,Ut(this,g[1]||"",!0),this.o=vi(g[2]||""),this.g=vi(g[3]||"",!0),ga(this,g[4]),this.h=vi(g[5]||"",!0),pl(this,g[6]||"",!0),this.m=vi(g[7]||"")):(this.l=!1,this.i=new va(null,this.l))}gn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(gr(g,ts,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(gr(g,ts,!0),"@"),c.push(ki(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(gr(b,b.charAt(0)=="/"?gl:nu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",gr(b,iu)),c.join("")},gn.prototype.resolve=function(c){const g=At(this);let b=!!c.j;b?Ut(g,c.j):b=!!c.o,b?g.o=c.o:b=!!c.g,b?g.g=c.g:b=c.u!=null;var A=c.h;if(b)ga(g,c.u);else if(b=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=g.h.lastIndexOf("/");P!=-1&&(A=g.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let re=0;re<P.length;){const Ce=P[re++];Ce=="."?A&&re==P.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&re==P.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=P}return b?g.h=A:b=c.i.toString()!=="",b?pl(g,ru(c.i)):b=!!c.m,b&&(g.m=c.m),g};function At(c){return new gn(c)}function Ut(c,g,b){c.j=b?vi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ga(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function pl(c,g,b){g instanceof va?(c.i=g,is(c.i,c.l)):(b||(g=gr(g,ya)),c.i=new va(g,c.l))}function Xe(c,g,b){c.i.set(g,b)}function pr(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gr(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,rn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ts=/[#\/\?@]/g,nu=/[#\?:]/g,gl=/[#\?]/g,ya=/[#\?@]/g,iu=/#/g;function va(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&es(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}a=va.prototype,a.add=function(c,g){sn(this),this.i=null,c=_a(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function au(c,g){sn(c),g=_a(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function yl(c,g){return sn(c),g=_a(c,g),c.g.has(g)}a.forEach=function(c,g){sn(this),this.g.forEach(function(b,A){b.forEach(function(P){c.call(g,P,A,this)},this)},this)};function vl(c,g){sn(c);let b=[];if(typeof g=="string")yl(c,g)&&(b=b.concat(c.g.get(_a(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)b=b.concat(c[g]);return b}a.set=function(c,g){return sn(this),this.i=null,c=_a(this,c),yl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},a.get=function(c,g){return c?(c=vl(this,c),c.length>0?String(c[0]):g):g};function ns(c,g,b){au(c,g),b.length>0&&(c.i=null,c.g.set(_a(c,g),k(b)),c.h+=b.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var b=g[A];const P=ki(b);b=vl(this,b);for(let G=0;G<b.length;G++){let re=P;b[G]!==""&&(re+="="+ki(b[G])),c.push(re)}}return this.i=c.join("&")};function ru(c){const g=new va;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function _a(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function is(c,g){g&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(b,A){const P=A.toLowerCase();A!=P&&(au(this,A),ns(this,P,b))},c)),c.j=g}function Yn(c,g){const b=new Gn;if(f.Image){const A=new Image;A.onload=x(Dn,b,"TestLoadImage: loaded",!0,g,A),A.onerror=x(Dn,b,"TestLoadImage: error",!1,g,A),A.onabort=x(Dn,b,"TestLoadImage: abort",!1,g,A),A.ontimeout=x(Dn,b,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function _l(c,g){const b=new Gn,A=new AbortController,P=setTimeout(()=>{A.abort(),Dn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(P),G.ok?Dn(b,"TestPingServer: ok",!0,g):Dn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Dn(b,"TestPingServer: error",!1,g)})}function Dn(c,g,b,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(b)}catch{}}function ba(){this.g=new Qo}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}T(_i,Ko),_i.prototype.g=function(){return new yr(this.i,this.h)};function yr(c,g){Et.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(yr,Et),a=yr.prototype,a.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Xn(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;as(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function as(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?xa(this):Xn(this),this.readyState==3&&as(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,xa(this))},a.Na=function(c){this.g&&(this.response=c,xa(this))},a.ga=function(){this.g&&xa(this)};function xa(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}a.setRequestHeader=function(c,g){this.A.append(c,g)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let g="";return Ie(c,function(b,A){g+=A,g+=":",g+=b,g+=`\r
`}),g}function vr(c,g,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=In(b),typeof c=="string"?b!=null&&ki(b):Xe(c,g,b))}function Je(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,Et);var bi=/^https?$/i,bl=["POST","PUT"];a=Je.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,g,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ul.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){_r(this,G);return}if(c=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)b.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())b.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(G=>G.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(bl,g,void 0)>=0)||A||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of b)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){_r(this,G)}};function _r(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,xl(c),Li(c)}function xl(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Li(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Je.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},a.Xa=function(){br(this)};function br(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),$n(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var A;if(A=G===0){let re=String(c.D).match(tu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!bi.test(re?re.toLowerCase():"")}b=A}if(b)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var P=$n(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",xl(c)}}finally{Li(c)}}}}function Li(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,g||Ot(c,"ready");try{b.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}a.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Nh(g)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const g={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(S(c[A]))continue;var b=Jo(c[A]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const G=g[P]||[];g[P]=G,G.push(b)}Pe(g,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function Ea(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,c),this.Za=xi("retryDelaySeedMs",1e4,c),this.Ta=xi("forwardChannelMaxRetries",2,c),this.va=xi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(c&&c.concurrentRequestLimit),this.Ba=new ba,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Ea.prototype,a.ka=8,a.I=1,a.connect=function(c,g,b,A){wt(0),this.W=c,this.H=g||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=fu(this,null,this.W),Ei(this)};function El(c){if(rs(c),c.I==3){var g=c.V++,b=At(c.J);if(Xe(b,"SID",c.M),Xe(b,"RID",g),Xe(b,"TYPE","terminate"),xr(c,b),g=new Qn(c,c.j,g),g.M=2,g.A=pr(At(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=g.A,b=!0),b||(g.g=du(g.j,null),g.g.ea(g.A)),g.F=Date.now(),di(g)}hu(c)}function wa(c){c.g&&(Tl(c),c.g.cancel(),c.g=null)}function rs(c){wa(c),c.v&&(f.clearTimeout(c.v),c.v=null),ls(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!hl(c.h)&&!c.m){c.m=!0;var g=c.Ea;ve||C(),_e||(ve(),_e=!0),I.add(g,c),c.D=0}}function ss(c,g){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(y(c.Ea,c,g),cu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=O(G),le(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=su(this,P,g),b=At(this.J),Xe(b,"RID",c),Xe(b,"CVER",22),this.G&&Xe(b,"X-HTTP-Session-Id",this.G),xr(this,b),G&&(this.R?g="headers="+ki(In(G))+"&"+g:this.u&&vr(b,this.u,G)),fl(this.h,P),this.Ra&&Xe(b,"TYPE","init"),this.S?(Xe(b,"$req",g),Xe(b,"SID","null"),P.U=!0,fi(P,b,null)):fi(P,b,g),this.I=2}}else this.I==3&&(c?wl(this,c):this.i.length==0||hl(this.h)||wl(this))};function wl(c,g){var b;g?b=g.l:b=c.V++;const A=At(c.J);Xe(A,"SID",c.M),Xe(A,"RID",b),Xe(A,"AID",c.K),xr(c,A),c.u&&c.o&&vr(A,c.u,c.o),b=new Qn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),g&&(c.i=g.G.concat(c.i)),g=su(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),fl(c.h,b),fi(b,A,g)}function xr(c,g){c.H&&Ie(c.H,function(b,A){Xe(g,A,b)}),c.l&&Ie({},function(b,A){Xe(g,A,b)})}function su(c,g,b){b=Math.min(c.i.length,b);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ce=-1;for(;;){const yt=["count="+b];Ce==-1?b>0?(Ce=P[0].g,yt.push("ofs="+Ce)):Ce=0:yt.push("ofs="+Ce);let Qe=!0;for(let lt=0;lt<b;lt++){var G=P[lt].g;const jn=P[lt].map;if(G-=Ce,G<0)Ce=Math.max(0,P[lt].g-100),Qe=!1;else try{G="req"+G+"_"||"";try{var re=jn instanceof Map?jn:Object.entries(jn);for(const[Ti,Zn]of re){let Jn=Zn;p(Zn)&&(Jn=pa(Zn)),yt.push(G+Ti+"="+encodeURIComponent(Jn))}}catch(Ti){throw yt.push(G+"type="+encodeURIComponent("_badmap")),Ti}}catch{A&&A(jn)}}if(Qe){re=yt.join("&");break e}}re=void 0}return c=c.i.splice(0,b),g.G=c,re}function lu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ve||C(),_e||(ve(),_e=!0),I.add(g,c),c.A=0}}function Er(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(y(c.Da,c),cu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(y(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),wa(this),ou(this))};function Tl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ou(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=At(c.na);Xe(g,"RID","rpc"),Xe(g,"SID",c.M),Xe(g,"AID",c.K),Xe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(g,"TO",c.ia),Xe(g,"TYPE","xmlhttp"),xr(c,g),c.u&&c.o&&vr(g,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=pr(At(g)),b.u=null,b.R=!0,Jr(b,c)}a.Va=function(){this.C!=null&&(this.C=null,wa(this),Er(this),wt(19))};function ls(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function uu(c,g){var b=null;if(c.g==g){ls(c),Tl(c),c.g=null;var A=2}else if(yi(c.h,g))b=g.G,dl(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;A=Zr(),Ot(A,new ui(A,b)),Ei(c)}else lu(c);else if(P=g.m,P==3||P==0&&g.X>0||!(A==1&&ss(c,g)||A==2&&Er(c)))switch(b&&b.length>0&&(g=c.h,g.i=g.i.concat(b)),P){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function cu(c,g){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*g}function wi(c,g){if(c.j.info("Error code "+g),g==2){var b=y(c.bb,c),A=c.Ua;const P=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(A,"https"),pr(A),P?Yn(A.toString(),b):_l(A.toString(),b)}else wt(2);c.I=0,c.l&&c.l.pa(g),hu(c),rs(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function hu(c){if(c.I=0,c.ja=[],c.l){const g=ml(c.h);(g.length!=0||c.i.length!=0)&&(B(c.ja,g),B(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function fu(c,g,b){var A=b instanceof gn?At(b):new gn(b);if(A.g!="")g&&(A.g=g+"."+A.g),ga(A,A.u);else{var P=f.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const G=new gn(null);A&&Ut(G,A),g&&(G.g=g),P&&ga(G,P),b&&(G.h=b),A=G}return b=c.G,g=c.wa,b&&g&&Xe(A,b,g),Xe(A,"VER",c.ka),xr(c,A),A}function du(c,g,b){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Je(new _i({ab:b})):new Je(c.ma),g.Fa(c.L),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}a=mu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ta(){}Ta.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){Et.call(this),this.g=new Ea(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!S(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!S(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new zi(this)}T(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){El(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=pa(c),c=b);g.i.push(new St(g.Ya++,c)),g.I==3&&Ei(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,nn.Z.N.call(this)};function pu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(pu,Bt);function gu(){Cn.call(this),this.status=1}T(gu,Cn);function zi(c){this.g=c}T(zi,mu),zi.prototype.ra=function(){Ot(this.g,"a")},zi.prototype.qa=function(c){Ot(this.g,new pu(c))},zi.prototype.pa=function(c){Ot(this.g,new gu)},zi.prototype.oa=function(){Ot(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,pb=function(){return new Ta},mb=function(){return Zr()},db=gt,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,Rc=dr,ol.COMPLETE="complete",fb=ol,Yo.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,ho=Yo,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,hb=Je}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const xv="@firebase/firestore",Ev="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let el="12.3.0";const Hr=new ib("@firebase/firestore");function Us(){return Hr.logLevel}function ue(a,...e){if(Hr.logLevel<=qe.DEBUG){const i=e.map(Om);Hr.debug(`Firestore (${el}): ${a}`,...i)}}function la(a,...e){if(Hr.logLevel<=qe.ERROR){const i=e.map(Om);Hr.error(`Firestore (${el}): ${a}`,...i)}}function Gs(a,...e){if(Hr.logLevel<=qe.WARN){const i=e.map(Om);Hr.warn(`Firestore (${el}): ${a}`,...i)}}function Om(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function Ee(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,gb(a,s,i)}function gb(a,e,i){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw la(s),new Error(s)}function Ye(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||gb(e,o,s)}function Ae(a,e){return a}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Yr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Za{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class yb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class JS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class WS{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ye(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let u=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Za,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Za)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new yb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class eA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new eA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,MS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ye(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new wv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iA(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=e.charAt(o[u]%62))}return s}}function ke(a,e){return a<e?-1:a>e?1:0}function am(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return Ud(o)===Ud(u)?ke(o,u):Ud(o)?1:-1}return ke(a.length,e.length)}const aA=55296,rA=57343;function Ud(a){const e=a.charCodeAt(0);return e>=aA&&e<=rA}function Qs(a,e,i){return a.length===e.length&&a.every(((s,o)=>i(s,e[o])))}const Tv="__name__";class Ri{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Ee(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return ke(e.length,i.length)}static compareSegments(e,i){const s=Ri.isNumericId(e),o=Ri.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $a.fromString(e.substring(4,e.length-2))}}class it extends Ri{construct(e,i,s){return new it(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new it(i)}static emptyPath(){return new it([])}}const sA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ri{construct(e,i,s){return new Yt(e,i,s)}static isValidIdentifier(e){return sA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new Yt([Tv])}static fromServerFormat(e){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(i)}static emptyPath(){return new Yt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return it.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function vb(a,e,i){if(!i)throw new oe(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function lA(a,e,i,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Sv(a){if(!ge.isDocumentKey(a))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Av(a){if(ge.isDocumentKey(a))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function _b(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function ah(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ee(12329,{type:typeof a})}function qn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(a);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Vt(a,e){const i={typeString:a};return e&&(i.value=e),i}function zo(a,e){if(!_b(a))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const f=a[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new oe(W.INVALID_ARGUMENT,i);return!0}const Nv=-62135596800,Cv=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Cv);return new st(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Nv)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zo(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Vt("string",st._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new st(0,0))}static max(){return new Te(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ao=-1;function oA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new st(i+1,0):new st(i,s));return new er(o,ge.empty(),e)}function uA(a){return new er(a.readTime,a.key,Ao)}class er{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new er(Te.min(),ge.empty(),Ao)}static max(){return new er(Te.max(),ge.empty(),Ao)}}function cA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(a.documentKey,e.documentKey),i!==0?i:ke(a.largestBatchId,e.largestBatchId))}const hA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function tl(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==hA)throw a;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof te?i:te.resolve(i)}catch(i){return te.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):te.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):te.reject(i)}static resolve(e){return new te(((i,s)=>{i(e)}))}static reject(e){return new te(((i,s)=>{s(e)}))}static waitFor(e){return new te(((i,s)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&i()}),(v=>s(v)))})),f=!0,u===o&&i()}))}static or(e){let i=te.resolve(!1);for(const s of e)i=i.next((o=>o?te.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(e,i){return new te(((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let v=0;v<u;v++){const y=v;i(e[y]).next((x=>{f[y]=x,++p,p===u&&s(f)}),(x=>o(x)))}}))}static doWhile(e,i){return new te(((s,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):s()};u()}))}}function dA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function nl(a){return a.name==="IndexedDbTransactionError"}class rh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rh.ce=-1;const km=-1;function sh(a){return a==null}function Pc(a){return a===0&&1/a==-1/0}function mA(a){return typeof a=="number"&&Number.isInteger(a)&&!Pc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const bb="";function pA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Rv(e)),e=gA(a.get(i),e);return Rv(e)}function gA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":i+="";break;case bb:i+="";break;default:i+=u}}return i}function Rv(a){return a+bb+""}function Dv(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function lr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function xb(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ht{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,u){return new Kt(e??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,s,o,u){return this}insert(e,i,s){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new kt(Yt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Eb("Invalid base64 string: "+u):u}})(e);return new Xt(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const yA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(a){if(Ye(!!a,39018),typeof a=="string"){let e=0;const i=yA.exec(a);if(Ye(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(a.seconds),nanos:bt(a.nanos)}}function bt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function nr(a){return typeof a=="string"?Xt.fromBase64String(a):Xt.fromUint8Array(a)}const wb="server_timestamp",Tb="__type__",Sb="__previous_value__",Ab="__local_write_time__";function Lm(a){return(a?.mapValue?.fields||{})[Tb]?.stringValue===wb}function lh(a){const e=a.mapValue.fields[Sb];return Lm(e)?lh(e):e}function No(a){const e=tr(a.mapValue.fields[Ab].timestampValue);return new st(e.seconds,e.nanos)}class vA{constructor(e,i,s,o,u,f,p,v,y,x){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=x}}const Bc="(default)";class Co{constructor(e,i){this.projectId=e,this.database=i||Bc}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(e){return e instanceof Co&&e.projectId===this.projectId&&e.database===this.database}}const Nb="__type__",_A="__max__",wc={mapValue:{}},Cb="__vector__",qc="value";function ir(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Lm(a)?4:xA(a)?9007199254740991:bA(a)?10:11:Ee(28295,{value:a})}function Mi(a,e){if(a===e)return!0;const i=ir(a);if(i!==ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return No(a).isEqual(No(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=tr(o.timestampValue),p=tr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return nr(o.bytesValue).isEqual(nr(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),p=bt(u.doubleValue);return f===p?Pc(f)===Pc(p):isNaN(f)&&isNaN(p)}return!1})(a,e);case 9:return Qs(a.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Dv(f)!==Dv(p))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(p[v]===void 0||!Mi(f[v],p[v])))return!1;return!0})(a,e);default:return Ee(52216,{left:a})}}function Ro(a,e){return(a.values||[]).find((i=>Mi(i,e)))!==void 0}function Ks(a,e){if(a===e)return 0;const i=ir(a),s=ir(e);if(i!==s)return ke(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=bt(u.integerValue||u.doubleValue),v=bt(f.integerValue||f.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,e);case 3:return jv(a.timestampValue,e.timestampValue);case 4:return jv(No(a),No(e));case 5:return am(a.stringValue,e.stringValue);case 6:return(function(u,f){const p=nr(u),v=nr(f);return p.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),v=f.split("/");for(let y=0;y<p.length&&y<v.length;y++){const x=ke(p[y],v[y]);if(x!==0)return x}return ke(p.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=ke(bt(u.latitude),bt(f.latitude));return p!==0?p:ke(bt(u.longitude),bt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Vv(a.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},v=f.fields||{},y=p[qc]?.arrayValue,x=v[qc]?.arrayValue,T=ke(y?.values?.length||0,x?.values?.length||0);return T!==0?T:Vv(y,x)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===wc.mapValue&&f===wc.mapValue)return 0;if(u===wc.mapValue)return 1;if(f===wc.mapValue)return-1;const p=u.fields||{},v=Object.keys(p),y=f.fields||{},x=Object.keys(y);v.sort(),x.sort();for(let T=0;T<v.length&&T<x.length;++T){const N=am(v[T],x[T]);if(N!==0)return N;const k=Ks(p[v[T]],y[x[T]]);if(k!==0)return k}return ke(v.length,x.length)})(a.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function jv(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return ke(a,e);const i=tr(a),s=tr(e),o=ke(i.seconds,s.seconds);return o!==0?o:ke(i.nanos,s.nanos)}function Vv(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=Ks(i[o],s[o]);if(u)return u}return ke(i.length,s.length)}function Ys(a){return rm(a)}function rm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=tr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return nr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ge.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=rm(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${rm(i.fields[f])}`;return o+"}"})(a.mapValue):Ee(61005,{value:a})}function Dc(a){switch(ir(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(a);return e?16+Dc(e):16;case 5:return 2*a.stringValue.length;case 6:return nr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Dc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return lr(s.fields,((u,f)=>{o+=u.length+Dc(f)})),o})(a.mapValue);default:throw Ee(13486,{value:a})}}function Ov(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function sm(a){return!!a&&"integerValue"in a}function Um(a){return!!a&&"arrayValue"in a}function Mv(a){return!!a&&"nullValue"in a}function kv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ic(a){return!!a&&"mapValue"in a}function bA(a){return(a?.mapValue?.fields||{})[Nb]?.stringValue===Cb}function vo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return lr(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=vo(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=vo(a.arrayValue.values[i]);return e}return{...a}}function xA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===_A}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ic(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(i)}setAll(e){let i=Yt.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}f?s[p.lastSegment()]=vo(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(e){const i=this.field(e.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){lr(i,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(vo(this.value))}}function Rb(a){const e=[];return lr(a.fields,((i,s)=>{const o=new Yt([i]);if(Ic(s)){const u=Rb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Tn(e)}class Wt{constructor(e,i,s,o,u,f,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,i,s,o){return new Wt(e,1,i,Te.min(),s,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(e,i){this.position=e,this.inclusive=i}}function Lv(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),i.key):s=Ks(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Uv(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Mi(a.position[i],e.position[i]))return!1;return!0}class Do{constructor(e,i="asc"){this.field=e,this.dir=i}}function EA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Db{}class jt extends Db{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new TA(e,i,s):i==="array-contains"?new NA(e,s):i==="in"?new CA(e,s):i==="not-in"?new RA(e,s):i==="array-contains-any"?new DA(e,s):new jt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new SA(e,s):new AA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ks(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(Ks(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Db{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ai(e,i)}matches(e){return Ib(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ib(a){return a.op==="and"}function jb(a){return wA(a)&&Ib(a)}function wA(a){for(const e of a.filters)if(e instanceof ai)return!1;return!0}function lm(a){if(a instanceof jt)return a.field.canonicalString()+a.op.toString()+Ys(a.value);if(jb(a))return a.filters.map((e=>lm(e))).join(",");{const e=a.filters.map((i=>lm(i))).join(",");return`${a.op}(${e})`}}function Vb(a,e){return a instanceof jt?(function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(a,e):a instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&Vb(f,o.filters[p])),!0):!1})(a,e):void Ee(19439)}function Ob(a){return a instanceof jt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ys(i.value)}`})(a):a instanceof ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ob).join(" ,")+"}"})(a):"Filter"}class TA extends jt{constructor(e,i,s){super(e,i,s),this.key=ge.fromName(s.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class SA extends jt{constructor(e,i){super(e,"in",i),this.keys=Mb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class AA extends jt{constructor(e,i){super(e,"not-in",i),this.keys=Mb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Mb(a,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class NA extends jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Um(i)&&Ro(i.arrayValue,this.value)}}class CA extends jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ro(this.value.arrayValue,i)}}class RA extends jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ro(this.value.arrayValue,i)}}class DA extends jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ro(this.value.arrayValue,s)))}}class IA{constructor(e,i=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function zv(a,e=null,i=[],s=[],o=null,u=null,f=null){return new IA(a,e,i,s,o,u,f)}function zm(a){const e=Ae(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>lm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),sh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ys(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ys(s))).join(",")),e.Te=i}return e.Te}function Pm(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!EA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Vb(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Uv(a.startAt,e.startAt)&&Uv(a.endAt,e.endAt)}function om(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class il{constructor(e,i=null,s=[],o=[],u=null,f="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jA(a,e,i,s,o,u,f,p){return new il(a,e,i,s,o,u,f,p)}function oh(a){return new il(a)}function Pv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function kb(a){return a.collectionGroup!==null}function _o(a){const e=Ae(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt(Yt.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Do(u,s))})),i.has(Yt.keyField().canonicalString())||e.Ie.push(new Do(Yt.keyField(),s))}return e.Ie}function Ii(a){const e=Ae(a);return e.Ee||(e.Ee=VA(e,_o(a))),e.Ee}function VA(a,e){if(a.limitType==="F")return zv(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Do(o.field,u)}));const i=a.endAt?new Hc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Hc(a.startAt.position,a.startAt.inclusive):null;return zv(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function um(a,e){const i=a.filters.concat([e]);return new il(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Fc(a,e,i){return new il(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function uh(a,e){return Pm(Ii(a),Ii(e))&&a.limitType===e.limitType}function Lb(a){return`${zm(Ii(a))}|lt:${a.limitType}`}function zs(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Ob(o))).join(", ")}]`),sh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ys(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ys(o))).join(",")),`Target(${s})`})(Ii(a))}; limitType=${a.limitType})`}function ch(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of _o(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,v){const y=Lv(f,p,v);return f.inclusive?y<=0:y<0})(s.startAt,_o(s),o)||s.endAt&&!(function(f,p,v){const y=Lv(f,p,v);return f.inclusive?y>=0:y>0})(s.endAt,_o(s),o))})(a,e)}function OA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Ub(a){return(e,i)=>{let s=!1;for(const o of _o(a)){const u=MA(o,e,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MA(a,e,i){const s=a.field.isKeyField()?ge.comparator(e.key,i.key):(function(u,f,p){const v=f.data.field(u),y=p.data.field(u);return v!==null&&y!==null?Ks(v,y):Ee(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:a.dir})}}class Xr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){lr(this.inner,((i,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return xb(this.inner)}size(){return this.innerSize}}const kA=new ht(ge.comparator);function oa(){return kA}const zb=new ht(ge.comparator);function fo(...a){let e=zb;for(const i of a)e=e.insert(i.key,i);return e}function Pb(a){let e=zb;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Pr(){return bo()}function Bb(){return bo()}function bo(){return new Xr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const LA=new ht(ge.comparator),UA=new kt(ge.comparator);function Le(...a){let e=UA;for(const i of a)e=e.add(i);return e}const zA=new kt(ke);function PA(){return zA}function Bm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function qb(a){return{integerValue:""+a}}function BA(a,e){return mA(e)?qb(e):Bm(a,e)}class hh{constructor(){this._=void 0}}function qA(a,e,i){return a instanceof Gc?(function(o,u){const f={fields:{[Tb]:{stringValue:wb},[Ab]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lm(u)&&(u=lh(u)),u&&(f.fields[Sb]=u),{mapValue:f}})(i,e):a instanceof Io?Fb(a,e):a instanceof jo?Gb(a,e):(function(o,u){const f=Hb(o,u),p=Bv(f)+Bv(o.Ae);return sm(f)&&sm(o.Ae)?qb(p):Bm(o.serializer,p)})(a,e)}function HA(a,e,i){return a instanceof Io?Fb(a,e):a instanceof jo?Gb(a,e):i}function Hb(a,e){return a instanceof Qc?(function(s){return sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Gc extends hh{}class Io extends hh{constructor(e){super(),this.elements=e}}function Fb(a,e){const i=Qb(e);for(const s of a.elements)i.some((o=>Mi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class jo extends hh{constructor(e){super(),this.elements=e}}function Gb(a,e){let i=Qb(e);for(const s of a.elements)i=i.filter((o=>!Mi(o,s)));return{arrayValue:{values:i}}}class Qc extends hh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Bv(a){return bt(a.integerValue||a.doubleValue)}function Qb(a){return Um(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function FA(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Io&&o instanceof Io||s instanceof jo&&o instanceof jo?Qs(s.elements,o.elements,Mi):s instanceof Qc&&o instanceof Qc?Mi(s.Ae,o.Ae):s instanceof Gc&&o instanceof Gc})(a.transform,e.transform)}class GA{constructor(e,i){this.version=e,this.transformResults=i}}class Hn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class fh{}function Kb(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new qm(a.key,Hn.none()):new Po(a.key,a.data,Hn.none());{const i=a.data,s=mn.empty();let o=new kt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new or(a.key,s,new Tn(o.toArray()),Hn.none())}}function QA(a,e,i){a instanceof Po?(function(o,u,f){const p=o.value.clone(),v=Hv(o.fieldTransforms,u,f.transformResults);p.setAll(v),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,i):a instanceof or?(function(o,u,f){if(!jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Hv(o.fieldTransforms,u,f.transformResults),v=u.data;v.setAll(Yb(o)),v.setAll(p),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(a,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function xo(a,e,i,s){return a instanceof Po?(function(u,f,p,v){if(!jc(u.precondition,f))return p;const y=u.value.clone(),x=Fv(u.fieldTransforms,v,f);return y.setAll(x),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,i,s):a instanceof or?(function(u,f,p,v){if(!jc(u.precondition,f))return p;const y=Fv(u.fieldTransforms,v,f),x=f.data;return x.setAll(Yb(u)),x.setAll(y),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(a,e,i,s):(function(u,f,p){return jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,e,i)}function KA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=Hb(s.transform,o||null);u!=null&&(i===null&&(i=mn.empty()),i.set(s.field,u))}return i||null}function qv(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Qs(s,o,((u,f)=>FA(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Po extends fh{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class or extends fh{constructor(e,i,s,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Yb(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function Hv(a,e,i){const s=new Map;Ye(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const u=a[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,HA(f,p,i[o]))}return s}function Fv(a,e,i){const s=new Map;for(const o of a){const u=o.transform,f=i.data.field(o.field);s.set(o.field,qA(u,f,e))}return s}class qm extends fh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YA extends fh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QA(u,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=xo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=xo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Bb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(o.key)?null:p;const v=Kb(f,p);v!==null&&s.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,((i,s)=>qv(i,s)))&&Qs(this.baseMutations,e.baseMutations,((i,s)=>qv(i,s)))}}class Hm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return LA})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Hm(e,i,s,o)}}class $A{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ZA{constructor(e,i){this.count=e,this.unchangedNames=i}}var It,Be;function JA(a){switch(a){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:a})}}function Xb(a){if(a===void 0)return la("GRPC error has no .code"),W.UNKNOWN;switch(a){case It.OK:return W.OK;case It.CANCELLED:return W.CANCELLED;case It.UNKNOWN:return W.UNKNOWN;case It.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case It.INTERNAL:return W.INTERNAL;case It.UNAVAILABLE:return W.UNAVAILABLE;case It.UNAUTHENTICATED:return W.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case It.NOT_FOUND:return W.NOT_FOUND;case It.ALREADY_EXISTS:return W.ALREADY_EXISTS;case It.PERMISSION_DENIED:return W.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case It.ABORTED:return W.ABORTED;case It.OUT_OF_RANGE:return W.OUT_OF_RANGE;case It.UNIMPLEMENTED:return W.UNIMPLEMENTED;case It.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:a})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function WA(){return new TextEncoder}const eN=new $a([4294967295,4294967295],0);function Gv(a){const e=WA().encode(a),i=new cb;return i.update(e),new Uint8Array(i.digest())}function Qv(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $a([i,s],0),new $a([o,u],0)]}class Fm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new mo(`Invalid padding: ${i}`);if(s<0)throw new mo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=$a.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply($a.fromNumber(s)));return o.compare(eN)===1&&(o=new $a([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Gv(e),[s,o]=Qv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Fm(u,o,i);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=Gv(e),[s,o]=Qv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(e,i,s,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Bo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new dh(Te.min(),o,new ht(ke),oa(),Le())}}class Bo{constructor(e,i,s,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Bo(s,i,Le(),Le(),Le())}}class Vc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class $b{constructor(e,i){this.targetId=e,this.Ce=i}}class Zb{constructor(e,i,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Kv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),i=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Bo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=Yv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tN{constructor(e){this.Ge=e,this.ze=new Map,this.je=oa(),this.Je=Tc(),this.He=Tc(),this.Ye=new ht(ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(om(u))if(s===0){const f=new ge(u.path);this.et(i,f,Wt.newNoDocument(f,Te.min()))}else Ye(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const p=this.ut(e),v=p?this.ct(p,e,f):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let f,p;try{f=nr(s).toUint8Array()}catch(v){if(v instanceof Eb)return Gs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Fm(f,o,u)}catch(v){return Gs(v instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&om(p.target)){const v=new ge(p.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,Wt.newNoDocument(v,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new dh(e,i,this.Ye,this.je,s);return this.je=oa(),this.Je=Tc(),this.He=Tc(),this.Ye=new ht(ke),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Kv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new kt(ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new kt(ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Tc(){return new ht(ge.comparator)}function Yv(){return new ht(ge.comparator)}const nN={asc:"ASCENDING",desc:"DESCENDING"},iN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aN={and:"AND",or:"OR"};class rN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(a,e){return a.useProto3Json||sh(e)?e:{value:e}}function Kc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jb(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function sN(a,e){return Kc(a,e.toTimestamp())}function ji(a){return Ye(!!a,49232),Te.fromTimestamp((function(i){const s=tr(i);return new st(s.seconds,s.nanos)})(a))}function Gm(a,e){return hm(a,e).canonicalString()}function hm(a,e){const i=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Wb(a){const e=it.fromString(a);return Ye(a1(e),10190,{key:e.toString()}),e}function fm(a,e){return Gm(a.databaseId,e.path)}function zd(a,e){const i=Wb(e);if(i.get(1)!==a.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ge(t1(i))}function e1(a,e){return Gm(a.databaseId,e)}function lN(a){const e=Wb(a);return e.length===4?it.emptyPath():t1(e)}function dm(a){return new it(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function t1(a){return Ye(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Xv(a,e,i){return{name:fm(a,e),fields:i.value.mapValue.fields}}function oN(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,x){return y.useProto3Json?(Ye(x===void 0||typeof x=="string",58123),Xt.fromBase64String(x||"")):(Ye(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Xt.fromUint8Array(x||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const x=y.code===void 0?W.UNKNOWN:Xb(y.code);return new oe(x,y.message||"")})(f);i=new Zb(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zd(a,s.document.name),u=ji(s.document.updateTime),f=s.document.createTime?ji(s.document.createTime):Te.min(),p=new mn({mapValue:{fields:s.document.fields}}),v=Wt.newFoundDocument(o,u,f,p),y=s.targetIds||[],x=s.removedTargetIds||[];i=new Vc(y,x,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zd(a,s.document),u=s.readTime?ji(s.readTime):Te.min(),f=Wt.newNoDocument(o,u),p=s.removedTargetIds||[];i=new Vc([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zd(a,s.document),u=s.removedTargetIds||[];i=new Vc([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ZA(o,u),p=s.targetId;i=new $b(p,f)}}return i}function uN(a,e){let i;if(e instanceof Po)i={update:Xv(a,e.key,e.value)};else if(e instanceof qm)i={delete:fm(a,e.key)};else if(e instanceof or)i={update:Xv(a,e.key,e.data),updateMask:vN(e.fieldMask)};else{if(!(e instanceof YA))return Ee(16599,{Vt:e.type});i={verify:fm(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Gc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Io)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qc)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:sN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(a,e.precondition)),i}function cN(a,e){return a&&a.length>0?(Ye(e!==void 0,14353),a.map((i=>(function(o,u){let f=o.updateTime?ji(o.updateTime):ji(u);return f.isEqual(Te.min())&&(f=ji(u)),new GA(f,o.transformResults||[])})(i,e)))):[]}function hN(a,e){return{documents:[e1(a,e.path)]}}function fN(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=e1(a,o);const u=(function(y){if(y.length!==0)return i1(ai.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((x=>(function(N){return{field:Ps(N.field),direction:pN(N.dir)}})(x)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=cm(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function dN(a){let e=lN(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];i.where&&(u=(function(T){const N=n1(T);return N instanceof ai&&jb(N)?N.getFilters():[N]})(i.where));let f=[];i.orderBy&&(f=(function(T){return T.map((N=>(function(B){return new Do(Bs(B.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(T){let N;return N=typeof T=="object"?T.value:T,sh(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(T){const N=!!T.before,k=T.values||[];return new Hc(k,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(T){const N=!T.before,k=T.values||[];return new Hc(k,N)})(i.endAt)),jA(e,o,f,u,p,"F",v,y)}function mN(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function n1(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Bs(i.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Bs(i.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Bs(i.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Bs(i.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(a):a.fieldFilter!==void 0?(function(i){return jt.create(Bs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ai.create(i.compositeFilter.filters.map((s=>n1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(a):Ee(30097,{filter:a})}function pN(a){return nN[a]}function gN(a){return iN[a]}function yN(a){return aN[a]}function Ps(a){return{fieldPath:a.canonicalString()}}function Bs(a){return Yt.fromServerFormat(a.fieldPath)}function i1(a){return a instanceof jt?(function(i){if(i.op==="=="){if(kv(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NAN"}};if(Mv(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(kv(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NOT_NAN"}};if(Mv(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(i.field),op:gN(i.op),value:i.value}}})(a):a instanceof ai?(function(i){const s=i.getFilters().map((o=>i1(o)));return s.length===1?s[0]:{compositeFilter:{op:yN(i.op),filters:s}}})(a):Ee(54877,{filter:a})}function vN(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function a1(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Ka{constructor(e,i,s,o,u=Te.min(),f=Te.min(),p=Xt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _N{constructor(e){this.yt=e}}function bN(a){const e=dN({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Fc(e,e.limit,"L"):e}class xN{constructor(){this.Cn=new EN}addToCollectionParentIndex(e,i){return this.Cn.add(i),te.resolve()}getCollectionParents(e,i){return te.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return te.resolve()}deleteFieldIndex(e,i){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,i){return te.resolve()}getDocumentsMatchingTarget(e,i){return te.resolve(null)}getIndexType(e,i){return te.resolve(0)}getFieldIndexes(e,i){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,i){return te.resolve(er.min())}getMinOffsetFromCollectionGroup(e,i){return te.resolve(er.min())}updateCollectionGroup(e,i,s){return te.resolve()}updateIndexEntries(e,i){return te.resolve()}}class EN{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new kt(it.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r1=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(r1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Xs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xs(0)}static cr(){return new Xs(-1)}}const Zv="LruGarbageCollector",wN=1048576;function Jv([a,e],[i,s]){const o=ke(a,i);return o===0?ke(e,s):o}class TN{constructor(e){this.Ir=e,this.buffer=new kt(Jv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Jv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SN{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(Zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){nl(i)?ue(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await tl(i)}await this.Vr(3e5)}))}}class AN{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return te.resolve(rh.ce);const s=new TN(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve($v)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,u,f,p,v,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,p=Date.now(),this.removeTargets(e,s,i)))).next((T=>(u=T,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Us()<=qe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-x}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(v-p)+`ms
	Removed ${T} documents in `+(y-v)+`ms
Total Duration: ${y-x}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function NN(a,e){return new AN(a,e)}class CN{constructor(){this.changes=new Xr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?te.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class DN{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&xo(s.mutation,o,Tn.empty(),st.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Le()){const o=Pr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((u=>{let f=fo();return u.forEach(((p,v)=>{f=f.insert(p,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Pr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Le())))}populateOverlays(e,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,s,o){let u=oa();const f=bo(),p=(function(){return bo()})();return i.forEach(((v,y)=>{const x=s.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof or)?u=u.insert(y.key,y):x!==void 0?(f.set(y.key,x.mutation.getFieldMask()),xo(x.mutation,y,x.mutation.getFieldMask(),st.now())):f.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((y,x)=>f.set(y,x))),i.forEach(((y,x)=>p.set(y,new RN(x,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=bo();let o=new ht(((f,p)=>f-p)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let x=s.get(v)||Tn.empty();x=p.applyToLocalView(y,x),s.set(v,x);const T=(o.get(p.batchId)||Le()).add(v);o=o.insert(p.batchId,T)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,x=v.value,T=Bb();x.forEach((N=>{if(!u.has(N)){const k=Kb(i.get(N),s.get(N));k!==null&&T.set(N,k),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):kb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-u.size):te.resolve(Pr());let p=Ao,v=u;return f.next((y=>te.forEach(y,((x,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(x)?te.resolve():this.remoteDocumentCache.getEntry(e,x).next((N=>{v=v.insert(x,N)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,v,y,Le()))).next((x=>({batchId:p,changes:Pb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((s=>{let o=fo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const u=i.collectionGroup;let f=fo();return this.indexManager.getCollectionParents(e,u).next((p=>te.forEach(p,(v=>{const y=(function(T,N){return new il(N,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((x=>{x.forEach(((T,N)=>{f=f.insert(T,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,o)))).next((f=>{u.forEach(((v,y)=>{const x=y.getKey();f.get(x)===null&&(f=f.insert(x,Wt.newInvalidDocument(x)))}));let p=fo();return f.forEach(((v,y)=>{const x=u.get(v);x!==void 0&&xo(x.mutation,y,Tn.empty(),st.now()),ch(i,y)&&(p=p.insert(v,y))})),p}))}}class IN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return te.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(i)),te.resolve()}getNamedQuery(e,i){return te.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:bN(o.bundledQuery),readTime:ji(o.readTime)}})(i)),te.resolve()}}class jN{constructor(){this.overlays=new ht(ge.comparator),this.qr=new Map}getOverlay(e,i){return te.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Pr();return te.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,u)=>{this.St(e,i,u)})),te.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,i,s){const o=Pr(),u=i.length+1,f=new ge(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&v.largestBatchId>s&&o.set(v.getKey(),v)}return te.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let u=new ht(((y,x)=>y-x));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let x=u.get(y.largestBatchId);x===null&&(x=Pr(),u=u.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=Pr(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return te.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $A(i,s));let u=this.qr.get(i);u===void 0&&(u=Le(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class VN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,te.resolve()}}class Qm{constructor(){this.Qr=new kt(Pt.$r),this.Ur=new kt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Pt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Pt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ge(new it([])),s=new Pt(i,e),o=new Pt(i,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new it([])),s=new Pt(i,e),o=new Pt(i,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Pt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||ke(e.Yr,i.Yr)}static Kr(e,i){return ke(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class ON{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Pt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new XA(u,i,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Pt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,i){return te.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?km:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new kt(ke);return i.forEach((o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ge(u),0);let p=new kt(ke);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),f),te.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ye(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(i.mutations,(o=>{const u=new Pt(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Pt(i,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class MN{constructor(e){this.ri=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let s=oa();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let u=oa();const f=i.path,p=new ge(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:x}}=v.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||cA(uA(x),s)<=0||(o.has(x.key)||ch(i,x))&&(u=u.insert(x.key,x.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,i,s,o){Ee(9500)}ii(e,i){return te.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new kN(this)}getSize(e){return te.resolve(this.size)}}class kN extends CN{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class LN{constructor(e){this.persistence=e,this.si=new Xr((i=>zm(i)),Pm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=Xs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),te.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Xs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,te.resolve()}updateTargetData(e,i){return this.Pr(i),te.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,i,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return te.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),te.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),te.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return te.resolve(s)}containsKey(e,i){return te.resolve(this._i.containsKey(i))}}class s1{constructor(e,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new VN,this.referenceDelegate=e(this),this.Pi=new LN(this),this.indexManager=new xN,this.remoteDocumentCache=(function(o){return new MN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _N(i),this.Ii=new IN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new jN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new ON(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ue("MemoryPersistence","Starting transaction:",e);const o=new UN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class UN extends fA{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Km(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),te.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),te.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||i.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return te.or([()=>te.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Yc{constructor(e,i){this.persistence=e,this.pi=new Xr((s=>pA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=NN(this,i)}static mi(e,i){return new Yc(e,i)}Ei(){}di(e){return te.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((p=>{p||(s++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),te.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Dc(e.data.value)),i}br(e,i,s){return te.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ym{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Le(),o=Le();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ym(e,i.fromCache,s,o)}}class zN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return M2()?8:dA(V2())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new zN;return this.Ss(e,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>u.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Us()<=qe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",zs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Us()<=qe.DEBUG&&ue("QueryEngine","Query:",zs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Us()<=qe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",zs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):te.resolve())}ys(e,i){if(Pv(i))return te.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Fc(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,f,v.readTime)?this.ys(e,Fc(i,null,"F")):this.vs(e,y,i,v)}))))})))))}ws(e,i,s,o){return Pv(i)||o.isEqual(Te.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,o)?te.resolve(null):(Us()<=qe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zs(i)),this.vs(e,f,i,oA(o,Ao)).next((p=>p)))}))}Ds(e,i){let s=new kt(Ub(e));return i.forEach(((o,u)=>{ch(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,s){return Us()<=qe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",zs(i)),this.ps.getDocumentsMatchingQuery(e,i,er.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Xm="LocalStore",BN=3e8;class qN{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ht(ke),this.xs=new Xr((u=>zm(u)),Pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function HN(a,e,i,s){return new qN(a,e,i,s)}async function l1(a,e){const i=Ae(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let v=Le();for(const y of o){f.push(y.batchId);for(const x of y.mutations)v=v.add(x.key)}for(const y of u){p.push(y.batchId);for(const x of y.mutations)v=v.add(x.key)}return i.localDocuments.getDocuments(s,v).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function FN(a,e){const i=Ae(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,x){const T=y.batch,N=T.keys();let k=te.resolve();return N.forEach((B=>{k=k.next((()=>x.getEntry(v,B))).next((Y=>{const z=y.docVersions.get(B);Ye(z!==null,48541),Y.version.compareTo(z)<0&&(T.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),x.addEntry(Y)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(v,T)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Le();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function o1(a){const e=Ae(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function GN(a,e){const i=Ae(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((x,T)=>{const N=o.get(T);if(!N)return;p.push(i.Pi.removeMatchingKeys(u,x.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(u,x.addedDocuments,T))));let k=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Xt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):x.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(x.resumeToken,s)),o=o.insert(T,k),(function(Y,z,J){return Y.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=BN?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(N,k,x)&&p.push(i.Pi.updateTargetData(u,k))}));let v=oa(),y=Le();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(QN(u,f,e.documentUpdates).next((x=>{v=x.ks,y=x.qs}))),!s.isEqual(Te.min())){const x=i.Pi.getLastRemoteSnapshotVersion(u).next((T=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(x)}return te.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,v,y))).next((()=>v))})).then((u=>(i.Ms=o,u)))}function QN(a,e,i){let s=Le(),o=Le();return i.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=oa();return i.forEach(((p,v)=>{const y=u.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Te.min())?(e.removeEntry(p,v.readTime),f=f.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),f=f.insert(p,v)):ue(Xm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function KN(a,e){const i=Ae(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=km),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function YN(a,e){const i=Ae(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Ka(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function mm(a,e,i){const s=Ae(a),o=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!nl(f))throw f;ue(Xm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Wv(a,e,i){const s=Ae(a);let o=Te.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,y,x){const T=Ae(v),N=T.xs.get(x);return N!==void 0?te.resolve(T.Ms.get(N)):T.Pi.getTargetData(y,x)})(s,f,Ii(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((v=>{u=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:Te.min(),i?u:Le()))).next((p=>(XN(s,OA(e),p),{documents:p,Qs:u})))))}function XN(a,e,i){let s=a.Os.get(e)||Te.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class e_{constructor(){this.activeTargetIds=PA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $N{constructor(){this.Mo=new e_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZN{Oo(e){}shutdown(){}}const t_="ConnectivityMonitor";class n_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(t_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sc=null;function pm(){return Sc===null?Sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sc++,"0x"+Sc.toString(16)}const Pd="RestConnection",JN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,u){const f=pm(),p=this.zo(e,i.toUriEncodedString());ue(Pd,`Sending RPC '${e}' ${f}:`,p,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:y}=new URL(p),x=jm(y);return this.Jo(e,p,v,s,x).then((T=>(ue(Pd,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Gs(Pd,`RPC '${e}' ${f} failed with error: `,T,"url: ",p,"request:",s),T}))}Ho(e,i,s,o,u,f){return this.Go(e,i,s,o,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const s=JN[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class e4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class t4 extends WN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,u){const f=pm();return new Promise(((p,v)=>{const y=new hb;y.setWithCredentials(!0),y.listenOnce(fb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Rc.NO_ERROR:const T=y.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),p(T);break;case Rc.TIMEOUT:ue(Zt,`RPC '${e}' ${f} timed out`),v(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const N=y.getStatus();if(ue(Zt,`RPC '${e}' ${f} failed with status:`,N,"response text:",y.getResponseText()),N>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k?.error;if(B&&B.status&&B.message){const Y=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ne)>=0?ne:W.UNKNOWN})(B.status);v(new oe(Y,B.message))}else v(new oe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new oe(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Zt,`RPC '${e}' ${f} completed.`)}}));const x=JSON.stringify(o);ue(Zt,`RPC '${e}' ${f} sending request:`,o),y.send(i,"POST",x,s,15)}))}T_(e,i,s){const o=pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pb(),p=mb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const x=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${x}`,v);const T=f.createWebChannel(x,v);this.I_(T);let N=!1,k=!1;const B=new e4({Yo:z=>{k?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(N||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),N=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),Y=(z,J,ne)=>{z.listen(J,(ae=>{try{ne(ae)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return Y(T,ho.EventType.OPEN,(()=>{k||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),Y(T,ho.EventType.CLOSE,(()=>{k||(k=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(T))})),Y(T,ho.EventType.ERROR,(z=>{k||(k=!0,Gs(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),B.a_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),Y(T,ho.EventType.MESSAGE,(z=>{if(!k){const J=z.data[0];Ye(!!J,16349);const ne=J,ae=ne?.error||ne[0]?.error;if(ae){ue(Zt,`RPC '${e}' stream ${o} received error:`,ae);const ye=ae.status;let ve=(function(C){const D=It[C];if(D!==void 0)return Xb(D)})(ye),_e=ae.message;ve===void 0&&(ve=W.INTERNAL,_e="Unknown error status: "+ye+" with message "+ae.message),k=!0,B.a_(new oe(ve,_e)),T.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,J),B.u_(J)}})),Y(p,db.STAT_EVENT,(z=>{z.stat===im.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===im.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Bd(){return typeof document<"u"?document:null}function mh(a){return new rN(a,!0)}class u1{constructor(e,i,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const i_="PersistentStream";class c1{constructor(e,i,s,o,u,f,p,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(la(i.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(i_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(i_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n4 extends c1{constructor(e,i,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=oN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?ji(f.readTime):Te.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=dm(this.serializer),i.addTarget=(function(u,f){let p;const v=f.target;if(p=om(v)?{documents:hN(u,v)}:{query:fN(u,v).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Jb(u,f.resumeToken);const y=cm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){p.readTime=Kc(u,f.snapshotVersion.toTimestamp());const y=cm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=mN(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=dm(this.serializer),i.removeTarget=e,this.q_(i)}}class i4 extends c1{constructor(e,i,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=cN(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=dm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>uN(this.serializer,s)))};this.q_(i)}}class a4{}class r4 extends a4{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,hm(i,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}Ho(e,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,hm(i,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class s4{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(la(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fr="RemoteStore";class l4{constructor(e,i,s,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{$r(this)&&(ue(Fr,"Restarting streams for network reachability change."),await(async function(v){const y=Ae(v);y.Ea.add(4),await qo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ph(y)})(this))}))})),this.Ra=new s4(s,o)}}async function ph(a){if($r(a))for(const e of a.da)await e(!0)}async function qo(a){for(const e of a.da)await e(!1)}function h1(a,e){const i=Ae(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Wm(i)?Jm(i):al(i).O_()&&Zm(i,e))}function $m(a,e){const i=Ae(a),s=al(i);i.Ia.delete(e),s.O_()&&f1(i,e),i.Ia.size===0&&(s.O_()?s.L_():$r(i)&&i.Ra.set("Unknown"))}function Zm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}al(a).Y_(e)}function f1(a,e){a.Va.Ue(e),al(a).Z_(e)}function Jm(a){a.Va=new tN({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),al(a).start(),a.Ra.ua()}function Wm(a){return $r(a)&&!al(a).x_()&&a.Ia.size>0}function $r(a){return Ae(a).Ea.size===0}function d1(a){a.Va=void 0}async function o4(a){a.Ra.set("Online")}async function u4(a){a.Ia.forEach(((e,i)=>{Zm(a,e)}))}async function c4(a,e){d1(a),Wm(a)?(a.Ra.ha(e),Jm(a)):a.Ra.set("Unknown")}async function h4(a,e,i){if(a.Ra.set("Online"),e instanceof Zb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(a,e)}catch(s){ue(Fr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xc(a,s)}else if(e instanceof Vc?a.Va.Ze(e):e instanceof $b?a.Va.st(e):a.Va.tt(e),!i.isEqual(Te.min()))try{const s=await o1(a.localStore);i.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const x=u.Ia.get(y);x&&u.Ia.set(y,x.withResumeToken(v.resumeToken,f))}})),p.targetMismatches.forEach(((v,y)=>{const x=u.Ia.get(v);if(!x)return;u.Ia.set(v,x.withResumeToken(Xt.EMPTY_BYTE_STRING,x.snapshotVersion)),f1(u,v);const T=new Ka(x.target,v,y,x.sequenceNumber);Zm(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){ue(Fr,"Failed to raise snapshot:",s),await Xc(a,s)}}async function Xc(a,e,i){if(!nl(e))throw e;a.Ea.add(1),await qo(a),a.Ra.set("Offline"),i||(i=()=>o1(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ue(Fr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await ph(a)}))}function m1(a,e){return e().catch((i=>Xc(a,i,e)))}async function gh(a){const e=Ae(a),i=ar(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:km;for(;f4(e);)try{const o=await KN(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,d4(e,o)}catch(o){await Xc(e,o)}p1(e)&&g1(e)}function f4(a){return $r(a)&&a.Ta.length<10}function d4(a,e){a.Ta.push(e);const i=ar(a);i.O_()&&i.X_&&i.ea(e.mutations)}function p1(a){return $r(a)&&!ar(a).x_()&&a.Ta.length>0}function g1(a){ar(a).start()}async function m4(a){ar(a).ra()}async function p4(a){const e=ar(a);for(const i of a.Ta)e.ea(i.mutations)}async function g4(a,e,i){const s=a.Ta.shift(),o=Hm.from(s,e,i);await m1(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await gh(a)}async function y4(a,e){e&&ar(a).X_&&await(async function(s,o){if((function(f){return JA(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();ar(s).B_(),await m1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gh(s)}})(a,e),p1(a)&&g1(a)}async function a_(a,e){const i=Ae(a);i.asyncQueue.verifyOperationInProgress(),ue(Fr,"RemoteStore received new credentials");const s=$r(i);i.Ea.add(3),await qo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await ph(i)}async function v4(a,e){const i=Ae(a);e?(i.Ea.delete(2),await ph(i)):e||(i.Ea.add(2),await qo(i),i.Ra.set("Unknown"))}function al(a){return a.ma||(a.ma=(function(i,s,o){const u=Ae(i);return u.sa(),new n4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:o4.bind(null,a),t_:u4.bind(null,a),r_:c4.bind(null,a),H_:h4.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Wm(a)?Jm(a):a.Ra.set("Unknown")):(await a.ma.stop(),d1(a))}))),a.ma}function ar(a){return a.fa||(a.fa=(function(i,s,o){const u=Ae(i);return u.sa(),new i4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:m4.bind(null,a),r_:y4.bind(null,a),ta:p4.bind(null,a),na:g4.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await gh(a)):(await a.fa.stop(),a.Ta.length>0&&(ue(Fr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class ep{constructor(e,i,s,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,u){const f=Date.now()+s,p=new ep(e,i,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(a,e){if(la("AsyncQueue",`${e}: ${a}`),nl(a))return new oe(W.UNAVAILABLE,`${e}: ${a}`);throw a}class qs{static emptySet(e){return new qs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ge.comparator(i.key,s.key):(i,s)=>ge.comparator(i.key,s.key),this.keyedMap=fo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new qs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class r_{constructor(){this.ga=new ht(ge.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class $s{constructor(e,i,s,o,u,f,p,v,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new $s(e,i,qs.emptySet(i),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class _4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class b4{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Ae(i),u=o.queries;o.queries=s_(),u.forEach(((f,p)=>{for(const v of p.Sa)v.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function s_(){return new Xr((a=>Lb(a)),uh)}async function y1(a,e){const i=Ae(a);let s=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new _4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const p=tp(f,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&np(i)}async function v1(a,e){const i=Ae(a),s=e.query;let o=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function x4(a,e){const i=Ae(a);let s=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&np(i)}function E4(a,e,i){const s=Ae(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(e)}function np(a){a.Ca.forEach((e=>{e.next()}))}var gm,l_;(l_=gm||(gm={})).Ma="default",l_.Cache="cache";class _1{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new $s(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}class b1{constructor(e){this.key=e}}class x1{constructor(e){this.key=e}}class w4{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=Ub(e),this.tu=new qs(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new r_,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,T)=>{const N=o.get(x),k=ch(this.query,T)?T:null,B=!!N&&this.mutatedKeys.has(N.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let z=!1;N&&k?N.data.isEqual(k.data)?B!==Y&&(s.track({type:3,doc:k}),z=!0):this.su(N,k)||(s.track({type:2,doc:k}),z=!0,(v&&this.eu(k,v)>0||y&&this.eu(k,y)<0)&&(p=!0)):!N&&k?(s.track({type:0,doc:k}),z=!0):N&&!k&&(s.track({type:1,doc:N}),z=!0,(v||y)&&(p=!0)),z&&(k?(f=f.add(k),u=Y?u.add(x):u.delete(x)):(f=f.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const x=this.query.limitType==="F"?f.last():f.first();f=f.delete(x.key),u=u.delete(x.key),s.track({type:1,doc:x})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((x,T)=>(function(k,B){const Y=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:z})}};return Y(k)-Y(B)})(x.type,T.type)||this.eu(x.doc,T.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,f.length!==0||y?{snapshot:new $s(this.query,e.tu,u,f,e.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new x1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new b1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Le();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return $s.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ip="SyncEngine";class T4{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class S4{constructor(e){this.key=e,this.hu=!1}}class A4{constructor(e,i,s,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Xr((p=>Lb(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ge.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=Xs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N4(a,e,i=!0){const s=N1(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await E1(s,e,i,!0),o}async function C4(a,e){const i=N1(a);await E1(i,e,!0,!1)}async function E1(a,e,i,s){const o=await YN(a.localStore,Ii(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let p;return s&&(p=await R4(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&i&&h1(a.remoteStore,o),p}async function R4(a,e,i,s,o){a.pu=(T,N,k)=>(async function(Y,z,J,ne){let ae=z.view.ru(J);ae.Cs&&(ae=await Wv(Y.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,ae))));const ye=ne&&ne.targetChanges.get(z.targetId),ve=ne&&ne.targetMismatches.get(z.targetId)!=null,_e=z.view.applyChanges(ae,Y.isPrimaryClient,ye,ve);return u_(Y,z.targetId,_e.au),_e.snapshot})(a,T,N,k);const u=await Wv(a.localStore,e,!0),f=new w4(e,u.Qs),p=f.ru(u.documents),v=Bo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=f.applyChanges(p,a.isPrimaryClient,v);u_(a,i,y.au);const x=new T4(e,i,f);return a.Tu.set(e,x),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function D4(a,e,i){const s=Ae(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!uh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&$m(s.remoteStore,o.targetId),ym(s,o.targetId)})).catch(tl)):(ym(s,o.targetId),await mm(s.localStore,o.targetId,!0))}async function I4(a,e){const i=Ae(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),$m(i.remoteStore,s.targetId))}async function j4(a,e,i){const s=z4(a);try{const o=await(function(f,p){const v=Ae(f),y=st.now(),x=p.reduce(((k,B)=>k.add(B.key)),Le());let T,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let B=oa(),Y=Le();return v.Ns.getEntries(k,x).next((z=>{B=z,B.forEach(((J,ne)=>{ne.isValidDocument()||(Y=Y.add(J))}))})).next((()=>v.localDocuments.getOverlayedDocuments(k,B))).next((z=>{T=z;const J=[];for(const ne of p){const ae=KA(ne,T.get(ne.key).overlayedDocument);ae!=null&&J.push(new or(ne.key,ae,Rb(ae.value.mapValue),Hn.exists(!0)))}return v.mutationQueue.addMutationBatch(k,y,J,p)})).next((z=>{N=z;const J=z.applyToLocalDocumentSet(T,Y);return v.documentOverlayCache.saveOverlays(k,z.batchId,J)}))})).then((()=>({batchId:N.batchId,changes:Pb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,v){let y=f.Vu[f.currentUser.toKey()];y||(y=new ht(ke)),y=y.insert(p,v),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,i),await Ho(s,o.changes),await gh(s.remoteStore)}catch(o){const u=tp(o,"Failed to persist write");i.reject(u)}}async function w1(a,e){const i=Ae(a);try{const s=await GN(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ye(f.hu,14607):o.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await Ho(i,s,e)}catch(s){await tl(s)}}function o_(a,e,i){const s=Ae(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const v=Ae(f);v.onlineState=p;let y=!1;v.queries.forEach(((x,T)=>{for(const N of T.Sa)N.va(p)&&(y=!0)})),y&&np(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function V4(a,e,i){const s=Ae(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,Te.min()));const p=Le().add(u),v=new dh(Te.min(),new Map,new ht(ke),f,p);await w1(s,v),s.du=s.du.remove(u),s.Au.delete(e),ap(s)}else await mm(s.localStore,e,!1).then((()=>ym(s,e,i))).catch(tl)}async function O4(a,e){const i=Ae(a),s=e.batch.batchId;try{const o=await FN(i.localStore,e);S1(i,s,null),T1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ho(i,o)}catch(o){await tl(o)}}async function M4(a,e,i){const s=Ae(a);try{const o=await(function(f,p){const v=Ae(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return v.mutationQueue.lookupMutationBatch(y,p).next((T=>(Ye(T!==null,37113),x=T.keys(),v.mutationQueue.removeMutationBatch(y,T)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>v.localDocuments.getDocuments(y,x)))}))})(s.localStore,e);S1(s,e,i),T1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Ho(s,o)}catch(o){await tl(o)}}function T1(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function S1(a,e,i){const s=Ae(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ym(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||A1(a,s)}))}function A1(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&($m(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),ap(a))}function u_(a,e,i){for(const s of i)s instanceof b1?(a.Ru.addReference(s.key,e),k4(a,s)):s instanceof x1?(ue(ip,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||A1(a,s.key)):Ee(19791,{wu:s})}function k4(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ue(ip,"New document in limbo: "+i),a.Eu.add(s),ap(a))}function ap(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ge(it.fromString(e)),s=a.fu.next();a.Au.set(s,new S4(i)),a.du=a.du.insert(i,s),h1(a.remoteStore,new Ka(Ii(oh(i.path)),s,"TargetPurposeLimboResolution",rh.ce))}}async function Ho(a,e,i){const s=Ae(a),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{f.push(s.pu(v,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const x=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Ym.As(v.targetId,y);u.push(x)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(v,y){const x=Ae(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(y,(N=>te.forEach(N.Es,(k=>x.persistence.referenceDelegate.addReference(T,N.targetId,k))).next((()=>te.forEach(N.ds,(k=>x.persistence.referenceDelegate.removeReference(T,N.targetId,k)))))))))}catch(T){if(!nl(T))throw T;ue(Xm,"Failed to update sequence numbers: "+T)}for(const T of y){const N=T.targetId;if(!T.fromCache){const k=x.Ms.get(N),B=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(B);x.Ms=x.Ms.insert(N,Y)}}})(s.localStore,u))}async function L4(a,e){const i=Ae(a);if(!i.currentUser.isEqual(e)){ue(ip,"User change. New user:",e.toKey());const s=await l1(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((v=>{v.reject(new oe(W.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ho(i,s.Ls)}}function U4(a,e){const i=Ae(a),s=i.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const p=i.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function N1(a){const e=Ae(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V4.bind(null,e),e.Pu.H_=x4.bind(null,e.eventManager),e.Pu.yu=E4.bind(null,e.eventManager),e}function z4(a){const e=Ae(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M4.bind(null,e),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return HN(this.persistence,new PN,e.initialUser,this.serializer)}Cu(e){return new s1(Km.mi,this.serializer)}Du(e){return new $N}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class P4 extends $c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ye(this.persistence.referenceDelegate instanceof Yc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SN(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new s1((s=>Yc.mi(s,i)),this.serializer)}}class vm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L4.bind(null,this.syncEngine),await v4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new b4})()}createDatastore(e){const i=mh(e.databaseInfo.databaseId),s=(function(u){return new t4(u)})(e.databaseInfo);return(function(u,f,p,v){return new r4(u,f,p,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,u,f,p){return new l4(s,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>o_(this.syncEngine,i,0)),(function(){return n_.v()?new n_:new ZN})())}createSyncEngine(e,i){return(function(o,u,f,p,v,y,x){const T=new A4(o,u,f,p,v,y);return x&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Ae(i);ue(Fr,"RemoteStore shutting down."),s.Ea.add(5),await qo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};class C1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const rr="FirestoreClient";class B4{constructor(e,i,s,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(rr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(rr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=tp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qd(a,e){a.asyncQueue.verifyOperationInProgress(),ue(rr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await l1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function c_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await q4(a);ue(rr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>a_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>a_(e.remoteStore,o))),a._onlineComponents=e}async function q4(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ue(rr,"Using user provided OfflineComponentProvider");try{await qd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Gs("Error using user provided cache. Falling back to memory cache: "+i),await qd(a,new $c)}}else ue(rr,"Using default OfflineComponentProvider"),await qd(a,new P4(void 0));return a._offlineComponents}async function R1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ue(rr,"Using user provided OnlineComponentProvider"),await c_(a,a._uninitializedComponentsProvider._online)):(ue(rr,"Using default OnlineComponentProvider"),await c_(a,new vm))),a._onlineComponents}function H4(a){return R1(a).then((e=>e.syncEngine))}async function _m(a){const e=await R1(a),i=e.eventManager;return i.onListen=N4.bind(null,e.syncEngine),i.onUnlisten=D4.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=C4.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=I4.bind(null,e.syncEngine),i}function F4(a,e,i={}){const s=new Za;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,v,y){const x=new C1({next:N=>{x.Nu(),f.enqueueAndForget((()=>v1(u,T)));const k=N.docs.has(p);!k&&N.fromCache?y.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&N.fromCache&&v&&v.source==="server"?y.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),T=new _1(oh(p.path),x,{includeMetadataChanges:!0,qa:!0});return y1(u,T)})(await _m(a),a.asyncQueue,e,i,s))),s.promise}function D1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const h_=new Map;const I1="firestore.googleapis.com",f_=!0;class d_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I1,this.ssl=f_}else this.host=e.host,this.ssl=e.ssl??f_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wN)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ZS;switch(s.type){case"firstParty":return new tA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=h_.get(i);s&&(ue("ComponentProvider","Removing Datastore"),h_.delete(i),s.terminate())})(this),Promise.resolve()}}function G4(a,e,i,s={}){a=qn(a,yh);const o=jm(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},p=`${e}:${i}`;o&&(C2(`https://${p}`),j2("Firestore",!0)),u.host!==I1&&u.host!==p&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:p,ssl:o,emulatorOptions:s};if(!Uc(v,f)&&(a._setSettings(v),s.mockUserToken)){let y,x;if(typeof s.mockUserToken=="string")y=s.mockUserToken,x=Jt.MOCK_USER;else{y=R2(s.mockUserToken,a._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Jt(T)}a._authCredentials=new JS(new yb(y,x))}}class ur{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ur(this.firestore,e,this._query)}}class pt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(zo(i,pt._jsonSchema))return new pt(e,s||null,new ge(it.fromString(i.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Vt("string",pt._jsonSchemaVersion),referencePath:Vt("string")};class Ja extends ur{constructor(e,i,s){super(e,i,oh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ge(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function ni(a,e,...i){if(a=Sn(a),vb("collection","path",e),a instanceof yh){const s=it.fromString(e,...i);return Av(s),new Ja(a,null,s)}{if(!(a instanceof pt||a instanceof Ja))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(it.fromString(e,...i));return Av(s),new Ja(a.firestore,null,s)}}function dn(a,e,...i){if(a=Sn(a),arguments.length===1&&(e=Mm.newId()),vb("doc","path",e),a instanceof yh){const s=it.fromString(e,...i);return Sv(s),new pt(a,null,new ge(s))}{if(!(a instanceof pt||a instanceof Ja))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(it.fromString(e,...i));return Sv(s),new pt(a.firestore,a instanceof Ja?a.converter:null,new ge(s))}}const m_="AsyncQueue";class p_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u1(this,"async_queue_retry"),this._c=()=>{const s=Bd();s&&ue(m_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;ue(m_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,la("INTERNAL UNHANDLED ERROR: ",g_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ep.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:g_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function g_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function y_(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(a,["next","error","complete"])}class sr extends yh{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new p_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function Q4(a,e){const i=typeof a=="object"?a:lb(),s=typeof a=="string"?a:Bc,o=ih(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=A2("firestore");u&&G4(o,...u)}return o}function rp(a){if(a._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||K4(a),a._firestoreClient}function K4(a){const e=a._freezeSettings(),i=(function(o,u,f,p){return new vA(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,D1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new B4(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(a._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Xt.fromBase64String(e))}catch(i){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zo(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Vt("string",Bn._jsonSchemaVersion),bytes:Vt("string")};class vh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sp{constructor(e){this._methodName=e}}class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(zo(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Vt("string",Vi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class Oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zo(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Oi(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Vt("string",Oi._jsonSchemaVersion),vectorValues:Vt("object")};const Y4=/^__.*__$/;class X4{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,i,this.fieldTransforms):new Po(e,this.data,i,this.fieldTransforms)}}class j1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new or(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function V1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:a})}}class lp{constructor(e,i,s,o,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V1(this.Ac)&&Y4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $4{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||mh(e)}Cc(e,i,s,o=!1){return new lp({Ac:e,methodName:i,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _h(a){const e=a._freezeSettings(),i=mh(a._databaseId);return new $4(a._databaseId,!!e.ignoreUndefinedProperties,i)}function O1(a,e,i,s,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,i,o);op("Data must be an object, but it was:",f,s);const p=M1(s,f);let v,y;if(u.merge)v=new Tn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const x=[];for(const T of u.mergeFields){const N=bm(e,T,i);if(!f.contains(N))throw new oe(W.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);L1(x,N)||x.push(N)}v=new Tn(x),y=f.fieldTransforms.filter((T=>v.covers(T.field)))}else v=null,y=f.fieldTransforms;return new X4(new mn(p),v,y)}class bh extends sp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bh}}function Z4(a,e,i,s){const o=a.Cc(1,e,i);op("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();lr(s,((v,y)=>{const x=up(e,v,i);y=Sn(y);const T=o.yc(x);if(y instanceof bh)u.push(x);else{const N=Fo(y,T);N!=null&&(u.push(x),f.set(x,N))}}));const p=new Tn(u);return new j1(f,p,o.fieldTransforms)}function J4(a,e,i,s,o,u){const f=a.Cc(1,e,i),p=[bm(e,s,i)],v=[o];if(u.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push(bm(e,u[N])),v.push(u[N+1]);const y=[],x=mn.empty();for(let N=p.length-1;N>=0;--N)if(!L1(y,p[N])){const k=p[N];let B=v[N];B=Sn(B);const Y=f.yc(k);if(B instanceof bh)y.push(k);else{const z=Fo(B,Y);z!=null&&(y.push(k),x.set(k,z))}}const T=new Tn(y);return new j1(x,T,f.fieldTransforms)}function W4(a,e,i,s=!1){return Fo(i,a.Cc(s?4:3,e))}function Fo(a,e){if(k1(a=Sn(a)))return op("Unsupported field value:",e,a),M1(a,e);if(a instanceof sp)return(function(s,o){if(!V1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let v=Fo(p,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=Sn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Kc(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:Jb(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Oi)return(function(f,p){return{mapValue:{fields:{[Nb]:{stringValue:Cb},[qc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Bm(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ah(s)}`)})(a,e)}function M1(a,e){const i={};return xb(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lr(a,((s,o)=>{const u=Fo(o,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function k1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof st||a instanceof Vi||a instanceof Bn||a instanceof pt||a instanceof sp||a instanceof Oi)}function op(a,e,i){if(!k1(i)||!_b(i)){const s=ah(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function bm(a,e,i){if((e=Sn(e))instanceof vh)return e._internalPath;if(typeof e=="string")return up(a,e);throw Zc("Field path arguments must be of type string or ",a,!1,void 0,i)}const eC=new RegExp("[~\\*/\\[\\]]");function up(a,e,i){if(e.search(eC)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new vh(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Zc(a,e,i,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${s}`),f&&(v+=` in document ${o}`),v+=")"),new oe(W.INVALID_ARGUMENT,p+a+v)}function L1(a,e){return a.some((i=>i.isEqual(e)))}class U1{constructor(e,i,s,o,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tC extends U1{data(){return super.data()}}function xh(a,e){return typeof e=="string"?up(a,e):e instanceof vh?e._internalPath:e._delegate._internalPath}function nC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class hp extends cp{}function Zs(a,e,...i){let s=[];e instanceof cp&&s.push(e),s=s.concat(i),(function(u){const f=u.filter((v=>v instanceof fp)).length,p=u.filter((v=>v instanceof Eh)).length;if(f>1||f>0&&p>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Eh extends hp{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Eh(e,i,s)}_apply(e){const i=this._parse(e);return z1(e._query,i),new ur(e.firestore,e.converter,um(e._query,i))}_parse(e){const i=_h(e.firestore);return(function(u,f,p,v,y,x,T){let N;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){b_(T,x);const B=[];for(const Y of T)B.push(__(v,u,Y));N={arrayValue:{values:B}}}else N=__(v,u,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||b_(T,x),N=W4(p,f,T,x==="in"||x==="not-in");return jt.create(y,x,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Hd(a,e,i){const s=e,o=xh("where",a);return Eh._create(o,s,i)}class fp extends cp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new fp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const v of p)z1(f,v),f=um(f,v)})(e._query,i),new ur(e.firestore,e.converter,um(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dp extends hp{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new dp(e,i)}_apply(e){const i=(function(o,u,f){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Do(u,f)})(e._query,this._field,this._direction);return new ur(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new il(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function v_(a,e="asc"){const i=e,s=xh("orderBy",a);return dp._create(s,i)}class mp extends hp{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new mp(e,i,s)}_apply(e){return new ur(e.firestore,e.converter,Fc(e._query,this._limit,this._limitType))}}function iC(a){return mp._create("limit",a,"F")}function __(a,e,i){if(typeof(i=Sn(i))=="string"){if(i==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kb(e)&&i.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(it.fromString(i));if(!ge.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ov(a,new ge(s))}if(i instanceof pt)return Ov(a,i._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function b_(a,e){if(!Array.isArray(a)||a.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z1(a,e){const i=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class aC{convertValue(e,i="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return lr(e,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(e){const i=e.fields?.[qc].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Oi(i)}convertGeoPoint(e){return new Vi(bt(e.latitude),bt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=lh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(No(e));default:return null}}convertTimestamp(e){const i=tr(e);return new st(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=it.fromString(e);Ye(a1(s),9688,{name:e});const o=new Co(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(i)||la(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function P1(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class po{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qr extends U1{constructor(e,i,s,o,u,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(xh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Vt("string",qr._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Oc extends qr{data(e={}){return super.data(e)}}class Hs{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new po(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Oc(this._firestore,this._userDataWriter,s.key,s,new po(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const v=new Oc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new po(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const v=new Oc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new po(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),x=f.indexOf(p.doc.key)),{type:rC(p.type),doc:v,oldIndex:y,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:a})}}function sC(a){a=qn(a,pt);const e=qn(a.firestore,sr);return F4(rp(e),a._key).then((i=>q1(e,a,i)))}Hs._jsonSchemaVersion="firestore/querySnapshot/1.0",Hs._jsonSchema={type:Vt("string",Hs._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class B1 extends aC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,i)}}function Eo(a,e,i){a=qn(a,pt);const s=qn(a.firestore,sr),o=P1(a.converter,e,i);return wh(s,[O1(_h(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Hn.none())])}function xm(a,e,i,...s){a=qn(a,pt);const o=qn(a.firestore,sr),u=_h(o);let f;return f=typeof(e=Sn(e))=="string"||e instanceof vh?J4(u,"updateDoc",a._key,e,i,s):Z4(u,"updateDoc",a._key,e),wh(o,[f.toMutation(a._key,Hn.exists(!0))])}function Em(a){return wh(qn(a.firestore,sr),[new qm(a._key,Hn.none())])}function Vo(a,e){const i=qn(a.firestore,sr),s=dn(a),o=P1(a.converter,e);return wh(i,[O1(_h(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Hn.exists(!1))]).then((()=>s))}function Ya(a,...e){a=Sn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||y_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(y_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let u,f,p;if(a instanceof pt)f=qn(a.firestore,sr),p=oh(a._key.path),u={next:v=>{e[s]&&e[s](q1(f,a,v))},error:e[s+1],complete:e[s+2]};else{const v=qn(a,ur);f=qn(v.firestore,sr),p=v._query;const y=new B1(f);u={next:x=>{e[s]&&e[s](new Hs(f,y,v,x))},error:e[s+1],complete:e[s+2]},nC(a._query)}return(function(y,x,T,N){const k=new C1(N),B=new _1(x,k,T);return y.asyncQueue.enqueueAndForget((async()=>y1(await _m(y),B))),()=>{k.Nu(),y.asyncQueue.enqueueAndForget((async()=>v1(await _m(y),B)))}})(rp(f),p,o,u)}function wh(a,e){return(function(s,o){const u=new Za;return s.asyncQueue.enqueueAndForget((async()=>j4(await H4(s),o,u))),u.promise})(rp(a),e)}function q1(a,e,i){const s=i.docs.get(e._key),o=new B1(a);return new qr(a,o,e._key,s,new po(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){el=o})(US),Wa(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new sr(new WS(s.getProvider("auth-internal")),new nA(f,s.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(y.options.projectId,x)})(f,o),f);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Di(xv,Ev,e),Di(xv,Ev,"esm2020")})();const H1="@firebase/installations",pp="0.6.19";const F1=1e4,G1=`w:${pp}`,Q1="FIS_v2",lC="https://firebaseinstallations.googleapis.com/v1",oC=3600*1e3,uC="installations",cC="Installations";const hC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gr=new th(uC,cC,hC);function K1(a){return a instanceof Yr&&a.code.includes("request-failed")}function Y1({projectId:a}){return`${lC}/projects/${a}/installations`}function X1(a){return{token:a.token,requestStatus:2,expiresIn:dC(a.expiresIn),creationTime:Date.now()}}async function $1(a,e){const s=(await e.json()).error;return Gr.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Z1({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function fC(a,{refreshToken:e}){const i=Z1(a);return i.append("Authorization",mC(e)),i}async function J1(a){const e=await a();return e.status>=500&&e.status<600?a():e}function dC(a){return Number(a.replace("s","000"))}function mC(a){return`${Q1} ${a}`}async function pC({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=Y1(a),o=Z1(a),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:i,authVersion:Q1,appId:a.appId,sdkVersion:G1},p={method:"POST",headers:o,body:JSON.stringify(f)},v=await J1(()=>fetch(s,p));if(v.ok){const y=await v.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:X1(y.authToken)}}else throw await $1("Create Installation",v)}function W1(a){return new Promise(e=>{setTimeout(e,a)})}function gC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const yC=/^[cdef][\w-]{21}$/,wm="";function vC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=_C(a);return yC.test(i)?i:wm}catch{return wm}}function _C(a){return gC(a).substr(0,22)}function Th(a){return`${a.appName}!${a.appId}`}const ex=new Map;function tx(a,e){const i=Th(a);nx(i,e),bC(i,e)}function nx(a,e){const i=ex.get(a);if(i)for(const s of i)s(e)}function bC(a,e){const i=xC();i&&i.postMessage({key:a,fid:e}),EC()}let Br=null;function xC(){return!Br&&"BroadcastChannel"in self&&(Br=new BroadcastChannel("[Firebase] FID Change"),Br.onmessage=a=>{nx(a.data.key,a.data.fid)}),Br}function EC(){ex.size===0&&Br&&(Br.close(),Br=null)}const wC="firebase-installations-database",TC=1,Qr="firebase-installations-store";let Fd=null;function gp(){return Fd||(Fd=nh(wC,TC,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Qr)}}})),Fd}async function Jc(a,e){const i=Th(a),o=(await gp()).transaction(Qr,"readwrite"),u=o.objectStore(Qr),f=await u.get(i);return await u.put(e,i),await o.done,(!f||f.fid!==e.fid)&&tx(a,e.fid),e}async function ix(a){const e=Th(a),s=(await gp()).transaction(Qr,"readwrite");await s.objectStore(Qr).delete(e),await s.done}async function Sh(a,e){const i=Th(a),o=(await gp()).transaction(Qr,"readwrite"),u=o.objectStore(Qr),f=await u.get(i),p=e(f);return p===void 0?await u.delete(i):await u.put(p,i),await o.done,p&&(!f||f.fid!==p.fid)&&tx(a,p.fid),p}async function yp(a){let e;const i=await Sh(a.appConfig,s=>{const o=SC(s),u=AC(a,o);return e=u.registrationPromise,u.installationEntry});return i.fid===wm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function SC(a){const e=a||{fid:vC(),registrationStatus:0};return ax(e)}function AC(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Gr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=NC(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CC(a)}:{installationEntry:e}}async function NC(a,e){try{const i=await pC(a,e);return Jc(a.appConfig,i)}catch(i){throw K1(i)&&i.customData.serverCode===409?await ix(a.appConfig):await Jc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function CC(a){let e=await x_(a.appConfig);for(;e.registrationStatus===1;)await W1(100),e=await x_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await yp(a);return s||i}return e}function x_(a){return Sh(a,e=>{if(!e)throw Gr.create("installation-not-found");return ax(e)})}function ax(a){return RC(a)?{fid:a.fid,registrationStatus:0}:a}function RC(a){return a.registrationStatus===1&&a.registrationTime+F1<Date.now()}async function DC({appConfig:a,heartbeatServiceProvider:e},i){const s=IC(a,i),o=fC(a,i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:G1,appId:a.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},v=await J1(()=>fetch(s,p));if(v.ok){const y=await v.json();return X1(y)}else throw await $1("Generate Auth Token",v)}function IC(a,{fid:e}){return`${Y1(a)}/${e}/authTokens:generate`}async function vp(a,e=!1){let i;const s=await Sh(a.appConfig,u=>{if(!rx(u))throw Gr.create("not-registered");const f=u.authToken;if(!e&&OC(f))return u;if(f.requestStatus===1)return i=jC(a,e),u;{if(!navigator.onLine)throw Gr.create("app-offline");const p=kC(u);return i=VC(a,p),p}});return i?await i:s.authToken}async function jC(a,e){let i=await E_(a.appConfig);for(;i.authToken.requestStatus===1;)await W1(100),i=await E_(a.appConfig);const s=i.authToken;return s.requestStatus===0?vp(a,e):s}function E_(a){return Sh(a,e=>{if(!rx(e))throw Gr.create("not-registered");const i=e.authToken;return LC(i)?{...e,authToken:{requestStatus:0}}:e})}async function VC(a,e){try{const i=await DC(a,e),s={...e,authToken:i};return await Jc(a.appConfig,s),i}catch(i){if(K1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await ix(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Jc(a.appConfig,s)}throw i}}function rx(a){return a!==void 0&&a.registrationStatus===2}function OC(a){return a.requestStatus===2&&!MC(a)}function MC(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+oC}function kC(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function LC(a){return a.requestStatus===1&&a.requestTime+F1<Date.now()}async function UC(a){const e=a,{installationEntry:i,registrationPromise:s}=await yp(e);return s?s.catch(console.error):vp(e).catch(console.error),i.fid}async function zC(a,e=!1){const i=a;return await PC(i),(await vp(i,e)).token}async function PC(a){const{registrationPromise:e}=await yp(a);e&&await e}function BC(a){if(!a||!a.options)throw Gd("App Configuration");if(!a.name)throw Gd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw Gd(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Gd(a){return Gr.create("missing-app-config-values",{valueName:a})}const sx="installations",qC="installations-internal",HC=a=>{const e=a.getProvider("app").getImmediate(),i=BC(e),s=ih(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},FC=a=>{const e=a.getProvider("app").getImmediate(),i=ih(e,sx).getImmediate();return{getId:()=>UC(i),getToken:o=>zC(i,o)}};function GC(){Wa(new ra(sx,HC,"PUBLIC")),Wa(new ra(qC,FC,"PRIVATE"))}GC();Di(H1,pp);Di(H1,pp,"esm2020");const QC="/firebase-messaging-sw.js",KC="/firebase-cloud-messaging-push-scope",lx="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YC="https://fcmregistrations.googleapis.com/v1",ox="google.c.a.c_id",XC="google.c.a.c_l",$C="google.c.a.ts",ZC="google.c.a.e",w_=1e4;var T_;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(T_||(T_={}));var Oo;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(Oo||(Oo={}));function ta(a){const e=new Uint8Array(a);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function JC(a){const e="=".repeat((4-a.length%4)%4),i=(a+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(i),o=new Uint8Array(s.length);for(let u=0;u<s.length;++u)o[u]=s.charCodeAt(u);return o}const Qd="fcm_token_details_db",WC=5,S_="fcm_token_object_Store";async function eR(a){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(Qd))return null;let e=null;return(await nh(Qd,WC,{upgrade:async(s,o,u,f)=>{if(o<2||!s.objectStoreNames.contains(S_))return;const p=f.objectStore(S_),v=await p.index("fcmSenderId").get(a);if(await p.clear(),!!v){if(o===2){const y=v;if(!y.auth||!y.p256dh||!y.endpoint)return;e={token:y.fcmToken,createTime:y.createTime??Date.now(),subscriptionOptions:{auth:y.auth,p256dh:y.p256dh,endpoint:y.endpoint,swScope:y.swScope,vapidKey:typeof y.vapidKey=="string"?y.vapidKey:ta(y.vapidKey)}}}else if(o===3){const y=v;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:ta(y.auth),p256dh:ta(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:ta(y.vapidKey)}}}else if(o===4){const y=v;e={token:y.fcmToken,createTime:y.createTime,subscriptionOptions:{auth:ta(y.auth),p256dh:ta(y.p256dh),endpoint:y.endpoint,swScope:y.swScope,vapidKey:ta(y.vapidKey)}}}}}})).close(),await Md(Qd),await Md("fcm_vapid_details_db"),await Md("undefined"),tR(e)?e:null}function tR(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:e}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const nR="firebase-messaging-database",iR=1,Mo="firebase-messaging-store";let Kd=null;function ux(){return Kd||(Kd=nh(nR,iR,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Mo)}}})),Kd}async function aR(a){const e=cx(a),s=await(await ux()).transaction(Mo).objectStore(Mo).get(e);if(s)return s;{const o=await eR(a.appConfig.senderId);if(o)return await _p(a,o),o}}async function _p(a,e){const i=cx(a),o=(await ux()).transaction(Mo,"readwrite");return await o.objectStore(Mo).put(e,i),await o.done,e}function cx({appConfig:a}){return a.appId}const rR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},en=new th("messaging","Messaging",rR);async function sR(a,e){const i=await xp(a),s=hx(e),o={method:"POST",headers:i,body:JSON.stringify(s)};let u;try{u=await(await fetch(bp(a.appConfig),o)).json()}catch(f){throw en.create("token-subscribe-failed",{errorInfo:f?.toString()})}if(u.error){const f=u.error.message;throw en.create("token-subscribe-failed",{errorInfo:f})}if(!u.token)throw en.create("token-subscribe-no-token");return u.token}async function lR(a,e){const i=await xp(a),s=hx(e.subscriptionOptions),o={method:"PATCH",headers:i,body:JSON.stringify(s)};let u;try{u=await(await fetch(`${bp(a.appConfig)}/${e.token}`,o)).json()}catch(f){throw en.create("token-update-failed",{errorInfo:f?.toString()})}if(u.error){const f=u.error.message;throw en.create("token-update-failed",{errorInfo:f})}if(!u.token)throw en.create("token-update-no-token");return u.token}async function oR(a,e){const s={method:"DELETE",headers:await xp(a)};try{const u=await(await fetch(`${bp(a.appConfig)}/${e}`,s)).json();if(u.error){const f=u.error.message;throw en.create("token-unsubscribe-failed",{errorInfo:f})}}catch(o){throw en.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function bp({projectId:a}){return`${YC}/projects/${a}/registrations`}async function xp({appConfig:a,installations:e}){const i=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function hx({p256dh:a,auth:e,endpoint:i,vapidKey:s}){const o={web:{endpoint:i,auth:e,p256dh:a}};return s!==lx&&(o.web.applicationPubKey=s),o}const uR=10080*60*1e3;async function cR(a){const e=await fR(a.swRegistration,a.vapidKey),i={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:e.endpoint,auth:ta(e.getKey("auth")),p256dh:ta(e.getKey("p256dh"))},s=await aR(a.firebaseDependencies);if(s){if(dR(s.subscriptionOptions,i))return Date.now()>=s.createTime+uR?hR(a,{token:s.token,createTime:Date.now(),subscriptionOptions:i}):s.token;try{await oR(a.firebaseDependencies,s.token)}catch(o){console.warn(o)}return A_(a.firebaseDependencies,i)}else return A_(a.firebaseDependencies,i)}async function hR(a,e){try{const i=await lR(a.firebaseDependencies,e),s={...e,token:i,createTime:Date.now()};return await _p(a.firebaseDependencies,s),i}catch(i){throw i}}async function A_(a,e){const s={token:await sR(a,e),createTime:Date.now(),subscriptionOptions:e};return await _p(a,s),s.token}async function fR(a,e){const i=await a.pushManager.getSubscription();return i||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:JC(e)})}function dR(a,e){const i=e.vapidKey===a.vapidKey,s=e.endpoint===a.endpoint,o=e.auth===a.auth,u=e.p256dh===a.p256dh;return i&&s&&o&&u}function N_(a){const e={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return mR(e,a),pR(e,a),gR(e,a),e}function mR(a,e){if(!e.notification)return;a.notification={};const i=e.notification.title;i&&(a.notification.title=i);const s=e.notification.body;s&&(a.notification.body=s);const o=e.notification.image;o&&(a.notification.image=o);const u=e.notification.icon;u&&(a.notification.icon=u)}function pR(a,e){e.data&&(a.data=e.data)}function gR(a,e){if(!e.fcmOptions&&!e.notification?.click_action)return;a.fcmOptions={};const i=e.fcmOptions?.link??e.notification?.click_action;i&&(a.fcmOptions.link=i);const s=e.fcmOptions?.analytics_label;s&&(a.fcmOptions.analyticsLabel=s)}function yR(a){return typeof a=="object"&&!!a&&ox in a}function vR(a){if(!a||!a.options)throw Yd("App Configuration Object");if(!a.name)throw Yd("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=a;for(const s of e)if(!i[s])throw Yd(s);return{appName:a.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function Yd(a){return en.create("missing-app-config-values",{valueName:a})}class _R{constructor(e,i,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=vR(e);this.firebaseDependencies={app:e,appConfig:o,installations:i,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function bR(a){try{a.swRegistration=await navigator.serviceWorker.register(QC,{scope:KC}),a.swRegistration.update().catch(()=>{}),await xR(a.swRegistration)}catch(e){throw en.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function xR(a){return new Promise((e,i)=>{const s=setTimeout(()=>i(new Error(`Service worker not registered after ${w_} ms`)),w_),o=a.installing||a.waiting;a.active?(clearTimeout(s),e()):o?o.onstatechange=u=>{u.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),i(new Error("No incoming service worker found.")))})}async function ER(a,e){if(!e&&!a.swRegistration&&await bR(a),!(!e&&a.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw en.create("invalid-sw-registration");a.swRegistration=e}}async function wR(a,e){e?a.vapidKey=e:a.vapidKey||(a.vapidKey=lx)}async function fx(a,e){if(!navigator)throw en.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw en.create("permission-blocked");return await wR(a,e?.vapidKey),await ER(a,e?.serviceWorkerRegistration),cR(a)}async function TR(a,e,i){const s=SR(e);(await a.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[ox],message_name:i[XC],message_time:i[$C],message_device_time:Math.floor(Date.now()/1e3)})}function SR(a){switch(a){case Oo.NOTIFICATION_CLICKED:return"notification_open";case Oo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function AR(a,e){const i=e.data;if(!i.isFirebaseMessaging)return;a.onMessageHandler&&i.messageType===Oo.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(N_(i)):a.onMessageHandler.next(N_(i)));const s=i.data;yR(s)&&s[ZC]==="1"&&await TR(a,i.messageType,s)}const C_="@firebase/messaging",R_="0.12.23";const NR=a=>{const e=new _R(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>AR(e,i)),e},CR=a=>{const e=a.getProvider("messaging").getImmediate();return{getToken:s=>fx(e,s)}};function RR(){Wa(new ra("messaging",NR,"PUBLIC")),Wa(new ra("messaging-internal",CR,"PRIVATE")),Di(C_,R_),Di(C_,R_,"esm2020")}async function DR(){try{await nb()}catch{return!1}return typeof window<"u"&&tb()&&k2()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function IR(a,e){if(!navigator)throw en.create("only-available-in-window");return a.onMessageHandler=e,()=>{a.onMessageHandler=null}}function jR(a=lb()){return DR().then(e=>{if(!e)throw en.create("unsupported-browser")},e=>{throw en.create("indexed-db-unsupported")}),ih(Sn(a),"messaging").getImmediate()}async function VR(a,e){return a=Sn(a),fx(a,e)}function OR(a,e){return a=Sn(a),IR(a,e)}RR();const MR={apiKey:"AIzaSyCmuNrhWE8Aw24_qUK23Qo4u_W5M6cAFN4",authDomain:"liga-multisport.firebaseapp.com",projectId:"liga-multisport",storageBucket:"liga-multisport.firebasestorage.app",messagingSenderId:"983340811794",appId:"1:983340811794:web:a86d9e3dbb620accebbacb",measurementId:"G-TPNXY1LNX9"},dx=sb(MR),ut=Q4(dx);let go=null;try{go=jR(dx)}catch(a){console.warn("Firebase Messaging could not be initialized:",a)}const Kr=({isOpen:a,onClose:e,children:i,size:s="md"})=>{if(!a)return null;const o={sm:"max-w-sm",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"},u=o[s]||o.md;return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto",onClick:e,children:m.jsxs("div",{className:`bg-[#13131f] border border-white/10 rounded-2xl w-full ${u} my-8 max-h-[90vh] overflow-y-auto relative shadow-2xl`,onClick:f=>f.stopPropagation(),children:[m.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10 p-2 bg-black/20 rounded-full hover:bg-black/50 transition-colors",children:m.jsx(Fs,{className:"w-5 h-5"})}),i]})})},kR=[{date:"2025-01-01",name:"Ao Nuevo"},{date:"2025-01-06",name:"Reyes"},{date:"2025-04-18",name:"Viernes Santo"},{date:"2025-05-01",name:"Da del Trabajo"},{date:"2025-08-15",name:"Asuncin"},{date:"2025-10-12",name:"Fiesta Nacional"},{date:"2025-11-01",name:"Todos los Santos"},{date:"2025-12-06",name:"Constitucin"},{date:"2025-12-08",name:"Inmaculada"},{date:"2025-12-25",name:"Navidad"}],LR=({events:a,currentMonth:e,setCurrentMonth:i,currentYear:s,setCurrentYear:o,onSelectDay:u})=>{const f=L.useMemo(()=>{const y=new Date(s,e,1),x=new Date(s,e+1,0).getDate(),T=y.getDay()===0?6:y.getDay()-1;return{days:Array(T).fill(null).concat([...Array(x).keys()].map(N=>N+1)),name:y.toLocaleString("es-ES",{month:"long"}).toUpperCase()}},[e,s]),p=()=>{e===0?(i(11),o(s-1)):i(e-1)},v=()=>{e===11?(i(0),o(s+1)):i(e+1)};return m.jsxs("div",{className:"glass-panel p-8 rounded-[2.5rem] w-full max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h2",{className:"text-3xl font-bold uppercase tracking-widest text-celestial",children:[f.name," ",m.jsx("span",{className:"text-white/30",children:s})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:p,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:m.jsx(BT,{className:"w-6 h-6"})}),m.jsx("button",{onClick:v,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:m.jsx(HT,{className:"w-6 h-6"})})]})]}),m.jsxs("div",{className:"grid grid-cols-7 gap-2 md:gap-4 text-center",children:[["L","M","X","J","V","S","D"].map(y=>m.jsx("div",{className:"font-bold text-gray-500 py-2",children:y},y)),f.days.map((y,x)=>{if(!y)return m.jsx("div",{},x);const T=`${s}-${String(e+1).padStart(2,"0")}-${String(y).padStart(2,"0")}`,N=a.filter(z=>z.date===T),k=kR.find(z=>z.date===T),B=[0,6].includes(new Date(s,e,y).getDay()),Y=[...new Set(N.map(z=>z.typeIcon))].slice(0,3);return m.jsxs("div",{onClick:()=>u({date:T,events:N,holiday:k}),className:`aspect-square flex flex-col items-center justify-start pt-2 rounded-xl text-lg font-bold relative group transition-all cursor-pointer border border-transparent 
                                ${k?"bg-red-500/10 text-red-400 border-red-500/20":B?"bg-blue-500/10 text-blue-300":"hover:bg-white/5 text-gray-300"} 
                                ${N.length>0?"ring-1 ring-celestial/50 bg-celestial/5":""}`,children:[y,m.jsx("div",{className:"absolute top-1 right-1 flex gap-0.5",children:Y.map((z,J)=>m.jsx("span",{className:"text-[10px] leading-none",children:z},J))}),m.jsx("div",{className:"flex flex-col gap-1 w-full px-1 mt-auto pb-1",children:N.slice(0,3).map((z,J)=>m.jsx("div",{className:"h-1.5 md:h-5 md:px-2 md:py-0.5 rounded-full text-[10px] uppercase tracking-wider font-bold truncate w-full text-left flex items-center",style:{backgroundColor:z.typeColor,color:"#000"},title:z.title,children:m.jsx("span",{className:"hidden md:inline",children:z.title})},J))})]},x)})]})]})},UR=({sections:a,onOpenSection:e,onOpenForm:i})=>{const s=a.filter(o=>{if(!o.active)return!1;const u=new Date;return u.setHours(0,0,0,0),!(o.startDate&&new Date(o.startDate)>u||o.endDate&&new Date(o.endDate)<u)});return s.length===0?null:m.jsx(m.Fragment,{children:s.map(o=>{const u=new Date;u.setHours(0,0,0,0);const f=o.endDate?new Date(o.endDate):null,p=f&&o.warningDays&&(f-u)/(1e3*60*60*24)<=o.warningDays&&f-u>=0;return m.jsx("section",{className:"py-12 px-4 md:px-8 max-w-7xl mx-auto w-full",children:m.jsxs("div",{className:"glass-panel p-8 md:p-12 rounded-3xl border-l-4 border-sky-400 relative overflow-hidden group cursor-pointer",onClick:()=>e(o),children:[p&&m.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-1 rounded-full text-sm font-bold animate-pulse z-20 shadow-lg border border-red-400",children:" ltimos Das"}),o.imageUrl&&m.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-full md:w-1/3 opacity-20",children:m.jsx("img",{src:o.imageUrl,className:"w-full h-full object-cover",alt:""})}),m.jsxs("div",{className:"relative z-10 max-w-3xl",children:[m.jsx("h2",{className:"text-4xl font-bold mb-4",children:o.title}),m.jsx("p",{className:"text-lg text-gray-300 mb-6 whitespace-pre-line line-clamp-3",children:o.description}),m.jsx("div",{className:"flex flex-wrap gap-4",children:m.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-full font-bold bg-sky-400 text-black hover:bg-sky-500 transition-colors",children:["Ver Completo ",m.jsx(Dm,{className:"w-5 h-5"})]})})]})]})},o.id)})})},zR=()=>{const{pathname:a}=ca();return m.jsx("nav",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[60] animate-fade-in-up",children:m.jsxs("div",{className:"bg-black/80 backdrop-blur-xl border border-white/10 px-6 py-4 rounded-3xl flex items-center gap-6 shadow-2xl",children:[m.jsx(To,{to:"/",className:`text-sm font-black tracking-widest uppercase transition-colors ${a==="/"?"text-primary":"text-gray-500 hover:text-white"}`,children:"Inicio"}),m.jsx("div",{className:"w-px h-4 bg-white/10"}),m.jsx(To,{to:"/liga",className:`text-sm font-black tracking-widest uppercase transition-colors ${a==="/liga"?"text-primary":"text-gray-500 hover:text-white"}`,children:"Liga"})]})})},mx=()=>{const{pathname:a}=ca();return L.useEffect(()=>{window.scrollTo(0,0)},[a]),null},px=({event:a,onOpenForm:e})=>{if(a.actionType==="none")return null;const i="w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all hover:scale-[1.02] ";return a.actionType==="link"&&a.actionLink?m.jsxs("a",{href:a.actionLink,target:"_blank",rel:"noopener noreferrer",className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:[a.actionLabel||"Ms Informacin"," ",m.jsx(Dm,{className:"w-5 h-5"})]}):a.actionType==="form"?m.jsx("button",{onClick:()=>e(a),className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:a.actionLabel||"Inscribirse"}):null},PR=({event:a,onClose:e,onOpenForm:i})=>{const s=()=>{const o=encodeURIComponent(a.title),u=encodeURIComponent(a.description||""),f=encodeURIComponent(a.location||""),p=a.date.replace(/-/g,""),v=a.time?a.time.replace(/:/g,"")+"00":"000000",y=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${o}&dates=${p}T${v}/${p}T235959&details=${u}&location=${f}`;window.open(y,"_blank")};return m.jsx(Kr,{isOpen:!0,onClose:e,size:"lg",children:m.jsxs("div",{className:"relative animate-fade-in",children:[a.imageUrl&&m.jsx("div",{className:"w-full h-64 md:h-80 overflow-hidden",children:m.jsx("img",{src:a.imageUrl,className:"w-full h-full object-cover",alt:a.title})}),m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"inline-block px-3 py-1 mb-4 rounded-full text-xs font-bold uppercase border",style:{color:a.typeColor,borderColor:a.typeColor,backgroundColor:`${a.typeColor}20`},children:[a.typeIcon," ",a.typeName]}),m.jsx("h2",{className:"text-4xl font-black mb-2 text-white leading-tight",children:a.title}),m.jsxs("div",{className:"flex items-center gap-2 text-sky-400 font-bold mb-4",children:[m.jsx(rv,{className:"w-5 h-5"}),new Date(a.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),a.time&&m.jsxs("span",{className:"ml-1",children:["| ",a.time]})]}),a.location&&m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-6 font-medium",children:[m.jsx(X_,{className:"w-5 h-5"})," ",a.location]}),m.jsx("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/10 mb-6",children:m.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:a.description})}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx(px,{event:a,onOpenForm:i}),m.jsxs("button",{onClick:s,className:"w-full py-3 rounded-xl border border-white/20 hover:bg-white/10 flex items-center justify-center gap-2 text-gray-300 transition-all font-bold",children:[m.jsx(rv,{className:"w-5 h-5"})," Aadir a Google Calendar"]})]})]})]})})},BR=({event:a,onClose:e})=>{const[i,s]=L.useState({}),[o,u]=L.useState(!1),f=async p=>{p.preventDefault(),u(!0);try{await Vo(ni(ut,"event_registrations"),{eventId:a.id,eventTitle:a.title,submittedAt:new Date().toISOString(),...i}),alert("Inscripcin Enviada con xito!"),e()}catch(v){console.error(v),alert("Error al enviar la inscripcin. Por favor, intntalo de nuevo.")}finally{u(!1)}};return m.jsx(Kr,{isOpen:!0,onClose:e,children:m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Inscripcin"}),m.jsx("h3",{className:"text-xl text-sky-400 mb-6",children:a.title}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.customFields?.map(p=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:p.label}),p.type==="select"?m.jsxs("select",{required:!0,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",onChange:v=>s({...i,[p.label]:v.target.value}),children:[m.jsx("option",{value:"",children:"Selecciona..."}),p.options.split(",").map(v=>m.jsx("option",{value:v.trim(),children:v.trim()},v))]}):m.jsx("input",{required:!0,type:p.type,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",placeholder:p.label,onChange:v=>s({...i,[p.label]:v.target.value})})]},p.id)),m.jsx("button",{disabled:o,className:"w-full bg-sky-400 text-black font-bold py-3 rounded-xl mt-4 hover:bg-sky-500 transition-all disabled:opacity-50",children:o?"Enviando...":"Confirmar Inscripcin"}),m.jsx("p",{className:"text-[10px] text-gray-500 text-center mt-2",children:"Al inscribirte, aceptas que tus datos sean compartidos con la organizacin."})]})]})})},qR=({onClick:a,hasUnread:e})=>m.jsxs("button",{onClick:a,className:"p-3 bg-white/5 text-gray-400 rounded-full shadow-lg hover:text-white transition-all relative border border-white/5 active:scale-95",children:[m.jsx(kT,{className:"w-5 h-5"}),e&&m.jsx("span",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full border-2 border-[#0a0a0f] animate-pulse"})]}),HR=({isOpen:a,onClose:e,announcements:i,permission:s,onRequestPermission:o})=>m.jsx(Kr,{isOpen:a,onClose:e,size:"lg",children:m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:""})," Buzn de Avisos"]})}),s!=="granted"&&m.jsxs("div",{className:"bg-sky-400/10 border border-sky-400/20 p-4 rounded-2xl mb-6 flex flex-col md:flex-row items-center gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-bold text-sky-400 text-sm",children:"Quieres recibir avisos al mvil?"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Activa las notificaciones para no perderte ningn cambio de ltima hora."})]}),m.jsx("button",{onClick:o,className:"bg-sky-400 text-black px-4 py-2 rounded-lg font-bold text-xs whitespace-nowrap hover:scale-105 transition-transform",children:"Activar Notificaciones"})]}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[i.map((u,f)=>m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 group hover:bg-white/10 transition-all border-l-4 border-l-sky-400",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-lg text-white",children:u.title}),m.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:new Date(u.date).toLocaleDateString()})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-wrap",children:u.body})]},u.id||f)),i.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"text-4xl mb-4 opacity-20",children:""}),m.jsx("p",{className:"text-gray-500 italic",children:"No hay avisos nuevos por ahora."})]})]})]})}),FR=({isOpen:a,onClose:e,onInstall:i,isIOS:s})=>a?s?m.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:m.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-400/5 blur-3xl -mr-16 -mt-16 group-hover:bg-sky-400/10 transition-all"}),m.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-500 hover:text-white transition-colors",children:m.jsx(Fs,{className:"w-5 h-5"})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 bg-sky-400/10 rounded-3xl flex items-center justify-center text-4xl mb-6 mx-auto border border-sky-400/20 shadow-inner",children:""}),m.jsx("h4",{className:"font-black text-white text-2xl mb-2",children:"Descarga la App"}),m.jsx("p",{className:"text-gray-400 text-sm max-w-[250px] mx-auto leading-relaxed",children:"Instala la aplicacin en tu iPhone para un acceso ms rpido."})]}),m.jsxs("div",{className:"space-y-6 max-w-[280px] mx-auto",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-xl flex items-center justify-center shrink-0 border border-white/5 text-sky-400 font-bold",children:"1"}),m.jsxs("div",{className:"text-left",children:[m.jsxs("p",{className:"text-white font-bold text-sm flex items-center gap-2",children:['Pulsa el botn "Compartir" ',m.jsx(c2,{className:"w-4 h-4 text-sky-400"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ubicado en la barra inferior de Safari."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-xl flex items-center justify-center shrink-0 border border-white/5 text-sky-400 font-bold",children:"2"}),m.jsxs("div",{className:"text-left",children:[m.jsxs("p",{className:"text-white font-bold text-sm flex items-center gap-2",children:['"Aadir a pantalla de inicio" ',m.jsx(kc,{className:"w-4 h-4 text-sky-400"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Busca esta opcin en el men que aparece."})]})]})]}),m.jsx("button",{onClick:e,className:"w-full mt-10 bg-white/5 hover:bg-white/10 text-white font-bold py-4 rounded-2xl transition-all border border-white/5 text-xs uppercase tracking-widest",children:"Entendido"})]})}):m.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:m.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-6 rounded-[2.5rem] shadow-2xl flex items-center gap-6 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-400/5 blur-3xl -mr-16 -mt-16 group-hover:bg-sky-400/10 transition-all"}),m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:m.jsx(Fs,{className:"w-5 h-5"})}),m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-400 to-blue-600 rounded-2xl flex items-center justify-center text-3xl shadow-lg shrink-0",children:""}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-extrabold text-white text-lg leading-tight mb-1",children:"Instalar Aplicacin"}),m.jsx("p",{className:"text-[10px] text-gray-400 leading-tight pr-4",children:"Accede ms rpido y disfruta de una mejor experiencia desde tu pantalla de inicio."})]}),m.jsx("button",{onClick:i,className:"bg-sky-400 hover:bg-sky-300 text-black px-6 py-4 rounded-2xl font-black text-xs transition-all hover:scale-105 active:scale-95 shadow-lg shadow-sky-400/20 uppercase tracking-widest shrink-0",children:"Instalar"})]})}):null,D_=({value:a,onChange:e})=>{const i=o=>new Promise((u,f)=>{const p=new FileReader;p.readAsDataURL(o),p.onload=v=>{const y=new Image;y.src=v.target.result,y.onload=()=>{const x=document.createElement("canvas"),T=800,N=T/y.width;x.width=T,x.height=y.height*N,x.getContext("2d").drawImage(y,0,0,x.width,x.height);const B=x.toDataURL("image/jpeg",.7);u(B)}},p.onerror=v=>f(v)}),s=async o=>{const u=o[0];if(u)try{const f=await i(u);e(f)}catch{alert("Error al procesar la imagen")}};return m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex gap-2",onDragOver:o=>o.preventDefault(),onDrop:o=>{o.preventDefault(),s(o.dataTransfer.files)},children:[m.jsx("input",{type:"text",value:a||"",onChange:o=>e(o.target.value),onPaste:o=>{o.clipboardData.files.length&&s(o.clipboardData.files)},placeholder:"Imagen (URL, Pegar o Arrastrar)",className:"flex-1 bg-black/40 p-3 rounded border border-white/10 text-white"}),m.jsxs("label",{className:"cursor-pointer bg-white/10 hover:bg-white/20 p-3 rounded border border-white/10 flex items-center justify-center",children:[m.jsx(Z_,{className:"w-5 h-5"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o=>s(o.target.files)})]})]}),a&&m.jsx("img",{src:a,className:"h-24 rounded object-contain border border-white/10 bg-black/40 w-full",alt:"Preview"})]})},gx=({fields:a,onChange:e})=>{const i=()=>e([...a,{id:Date.now(),label:"",type:"text",options:""}]),s=()=>e([...a,{id:Date.now(),label:"Nombre Completo",type:"text",options:""},{id:Date.now()+1,label:"Email",type:"text",options:""},{id:Date.now()+2,label:"Comentarios",type:"text",options:""}]),o=(u,f,p)=>e(a.map(v=>v.id===u?{...v,[f]:p}:v));return m.jsxs("div",{className:"space-y-4 border border-white/10 p-4 rounded bg-black/20",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-sm uppercase text-gray-400",children:"Campos del Formulario"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:s,className:"text-xs bg-white/10 px-2 py-1 rounded hover:bg-white/20",children:"+ Presets"}),m.jsxs("button",{type:"button",onClick:i,className:"text-sky-400 text-sm font-bold flex items-center gap-1",children:[m.jsx(t2,{className:"w-4 h-4"})," Aadir Campo"]})]})]}),a.map(u=>m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center bg-white/5 p-2 rounded",children:[m.jsx("input",{value:u.label,onChange:f=>o(u.id,"label",f.target.value),placeholder:"Etiqueta",className:"col-span-4 bg-black/40 p-2 rounded text-sm"}),m.jsxs("select",{value:u.type,onChange:f=>o(u.id,"type",f.target.value),className:"col-span-3 bg-black/40 p-2 rounded text-sm text-gray-300",children:[m.jsx("option",{value:"text",children:"Texto"}),m.jsx("option",{value:"number",children:"Nmero"}),m.jsx("option",{value:"select",children:"Desplegable"})]}),m.jsx("input",{value:u.options,onChange:f=>o(u.id,"options",f.target.value),placeholder:"Opciones (sep. por coma)",className:"col-span-4 bg-black/40 p-2 rounded text-sm",disabled:u.type!=="select"}),m.jsx("button",{type:"button",onClick:()=>e(a.filter(f=>f.id!==u.id)),className:"col-span-1 text-red-400 flex justify-center",children:m.jsx(Fs,{className:"w-4 h-4"})})]},u.id)),a.length===0&&m.jsx("p",{className:"text-xs text-center text-gray-500",children:"Aade campos para el formulario."})]})},GR=({buttons:a,onChange:e})=>{const i=()=>e([...a||[],{id:Date.now(),label:"",type:"link",link:"",style:"primary",customFields:[]}]),s=(u,f,p)=>e(a.map(v=>v.id===u?{...v,[f]:p}:v)),o=u=>e(a.filter(f=>f.id!==u));return m.jsxs("div",{className:"space-y-3 bg-black/20 p-3 rounded border border-white/10",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("label",{className:"text-sm font-bold text-gray-400",children:"Botones de Accin"}),m.jsx("button",{type:"button",onClick:i,className:"text-xs bg-sky-400 text-black px-2 py-1 rounded font-bold",children:"+ Aadir"})]}),(a||[]).map(u=>m.jsxs("div",{className:"bg-white/5 p-2 rounded relative",children:[m.jsx("button",{type:"button",onClick:()=>o(u.id),"aria-label":"Eliminar botn",className:"absolute top-2 right-2 text-red-500",children:m.jsx(Fs,{className:"w-4 h-4"})}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 pr-6",children:[m.jsx("input",{value:u.label,onChange:f=>s(u.id,"label",f.target.value),placeholder:"Texto del Botn",className:"bg-black/40 p-2 rounded text-sm w-full"}),m.jsxs("select",{value:u.type||"link",onChange:f=>s(u.id,"type",f.target.value),className:"bg-black/40 p-2 rounded text-sm w-full",children:[m.jsx("option",{value:"link",children:"Enlace"}),m.jsx("option",{value:"form",children:"Formulario"})]})]}),m.jsx("div",{className:"mb-2",children:m.jsxs("select",{value:u.style,onChange:f=>s(u.id,"style",f.target.value),className:"w-full bg-black/40 p-2 rounded text-sm",children:[m.jsx("option",{value:"primary",children:"Azul (Principal)"}),m.jsx("option",{value:"secondary",children:"Blanco (Secundario)"}),m.jsx("option",{value:"outline",children:"Borde (Discreto)"}),m.jsx("option",{value:"gradient",children:"Gradiente (Destacado)"})]})}),u.type==="link"&&m.jsx("input",{value:u.link,onChange:f=>s(u.id,"link",f.target.value),placeholder:"https://...",className:"w-full bg-black/40 p-2 rounded text-sm"}),u.type==="form"&&m.jsx("div",{className:"mt-2 pl-2 border-l-2 border-sky-400/30",children:m.jsx(gx,{fields:u.customFields||[],onChange:f=>s(u.id,"customFields",f)})})]},u.id)),(!a||a.length===0)&&m.jsx("p",{className:"text-xs text-center text-gray-600",children:"Sin botones."})]})},QR=({isOpen:a,onClose:e,events:i,eventTypes:s,announcements:o,specialSections:u,onOpenDB:f,onOpenStats:p,fcmToken:v})=>{const[y,x]=L.useState("events"),T={title:"",date:"",time:"",location:"",typeId:"tournament",description:"",imageUrl:"",actionType:"none",actionLabel:"",actionLink:"",customFields:[],pollOptions:[]},[N,k]=L.useState(T),[B,Y]=L.useState(null),[z,J]=L.useState({name:"",color:"#6366f1",icon:""}),[ne,ae]=L.useState(u||[]);ZE.useEffect(()=>{ae(u||[])},[u]);const ye=async E=>{E.preventDefault();try{const R=s.find(we=>we.id===N.typeId),S={...N,typeColor:R?.color||"#6366f1",typeIcon:R?.icon||"",typeName:R?.name||"Evento"};B?await xm(dn(ut,"events",B),S):await Vo(ni(ut,"events"),{...S,surveyCount:0}),alert("Evento guardado con xito"),k(T),Y(null)}catch(R){console.error(R),alert("Error al guardar evento")}},ve=async E=>{confirm("Ests seguro de que quieres eliminar este evento?")&&await Em(dn(ut,"events",E))},_e=async()=>{if(!z.name)return;const E=[...s,{...z,id:Date.now().toString()}];await Eo(dn(ut,"config","eventTypes"),{types:E}),J({name:"",color:"#6366f1",icon:""})},I=async E=>{if(["party","tournament","tickets","special"].includes(E)){alert("Este tipo base no se puede eliminar.");return}const R=s.filter(S=>S.id!==E);await Eo(dn(ut,"config","eventTypes"),{types:R})},C=E=>{ae(E.map(R=>({...R,buttons:R.buttons||[]})))},D=async()=>{try{await Eo(dn(ut,"config","specialSections"),{sections:ne}),alert("Secciones especiales guardadas con xito")}catch{alert("Error al guardar las secciones")}},V=async E=>{E.preventDefault();const R=E.target.title.value,S=E.target.body.value;if(confirm("Deseas publicar este aviso? Todos los usuarios vern una notificacin."))try{await Vo(ni(ut,"announcements"),{title:R,body:S,date:new Date().toISOString()}),alert("Anuncio publicado"),E.target.reset()}catch{alert("Error al publicar anuncio")}};return m.jsx(Kr,{isOpen:a,onClose:e,size:"xl",children:m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Panel de Administracin"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-500 transition-colors flex items-center gap-2",children:[m.jsx(QT,{className:"w-4 h-4"})," Base de Datos"]}),m.jsx("div",{className:"flex bg-black/40 p-1 rounded-xl",children:[{id:"events",l:"Eventos"},{id:"types",l:"Categoras"},{id:"special",l:"Landing"},{id:"inbox",l:"Buzn"}].map(E=>m.jsx("button",{onClick:()=>x(E.id),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all ${y===E.id?"bg-primary text-black shadow-lg shadow-primary/20":"text-gray-400 hover:text-white"}`,children:E.l},E.id))})]})]}),m.jsxs("div",{className:"custom-scrollbar overflow-y-auto max-h-[70vh] pr-2",children:[y==="events"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in",children:[m.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[m.jsxs("h3",{className:"font-bold text-primary flex items-center gap-2",children:[B?m.jsx(ov,{className:"w-4 h-4"}):m.jsx(kc,{className:"w-4 h-4"}),B?"Editando Evento":"Nuevo Evento"]}),m.jsx("input",{value:N.title,onChange:E=>k({...N,title:E.target.value}),placeholder:"Ttulo del Evento",required:!0,className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 focus:border-primary outline-none"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsx("input",{value:N.date,onChange:E=>k({...N,date:E.target.value}),type:"date",required:!0,className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),m.jsx("input",{value:N.time,onChange:E=>k({...N,time:E.target.value}),type:"time",className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),m.jsx("select",{value:N.typeId,onChange:E=>k({...N,typeId:E.target.value}),className:"bg-black/40 p-3 rounded-xl border border-white/5",children:s.map(E=>m.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),m.jsx("input",{value:N.location,onChange:E=>k({...N,location:E.target.value}),placeholder:"Ubicacin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),m.jsx("textarea",{value:N.description,onChange:E=>k({...N,description:E.target.value}),placeholder:"Descripcin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5",rows:"3"}),m.jsx(D_,{value:N.imageUrl,onChange:E=>k({...N,imageUrl:E})}),m.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-3 tracking-widest",children:"Accin Interactiva"}),m.jsxs("select",{value:N.actionType,onChange:E=>k({...N,actionType:E.target.value}),className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3",children:[m.jsx("option",{value:"none",children:"Sin botn adicional"}),m.jsx("option",{value:"form",children:"Formulario de registro personalizado"}),m.jsx("option",{value:"link",children:"Enlace externo"})]}),["link","form"].includes(N.actionType)&&m.jsx("input",{value:N.actionLabel,onChange:E=>k({...N,actionLabel:E.target.value}),placeholder:"Texto del botn",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3"}),N.actionType==="link"&&m.jsx("input",{value:N.actionLink,onChange:E=>k({...N,actionLink:E.target.value}),placeholder:"URL del enlace (https://...)",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),N.actionType==="form"&&m.jsx(gx,{fields:N.customFields||[],onChange:E=>k({...N,customFields:E})})]}),m.jsx("button",{className:"w-full bg-primary text-black py-4 rounded-xl font-bold hover:bg-sky-500 transition-all shadow-lg shadow-primary/20",children:B?"Actualizar Evento":"Crear Evento"}),B&&m.jsx("button",{type:"button",onClick:()=>{Y(null),k(T)},className:"w-full text-gray-500 text-xs mt-2 uppercase font-bold tracking-widest hover:text-white transition-colors",children:"Cancelar Edicin"})]}),m.jsxs("div",{className:"space-y-2 max-h-[600px] overflow-y-auto custom-scrollbar",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Eventos Existentes"}),i.map(E=>m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl group hover:bg-white/10 border border-white/5 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-xl",children:E.typeIcon}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm",children:E.title}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono uppercase",children:new Date(E.date).toLocaleDateString()})]})]}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[m.jsx("button",{onClick:()=>p(E),className:"bg-green-500/20 text-green-400 p-2 text-[10px] font-bold rounded-lg border border-green-500/30 hover:bg-green-500/40",children:"DATA"}),m.jsx("button",{onClick:()=>{k({...E}),Y(E.id)},className:"text-primary p-2 hover:bg-primary/10 rounded-lg",children:m.jsx(ov,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>ve(E.id),className:"text-red-500 p-2 hover:bg-red-500/10 rounded-lg",children:m.jsx(Cc,{className:"w-4 h-4"})})]})]},E.id)),i.length===0&&m.jsx("p",{className:"text-center py-8 text-gray-600 italic",children:"No hay eventos creados."})]})]}),y==="types"&&m.jsxs("div",{className:"animate-fade-in space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-4 gap-4 bg-white/5 p-6 rounded-2xl border border-white/5",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Nombre Categora"}),m.jsx("input",{value:z.name,onChange:E=>J({...z,name:E.target.value}),placeholder:"Ej: Cena",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Color"}),m.jsx("input",{value:z.color,onChange:E=>J({...z,color:E.target.value}),type:"color",className:"bg-black/40 p-2 h-12 w-full rounded-xl cursor-pointer"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Icono/Emoji"}),m.jsx("input",{value:z.icon,onChange:E=>J({...z,icon:E.target.value}),placeholder:"",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 text-center text-xl"})]}),m.jsx("button",{onClick:_e,className:"col-span-4 bg-primary text-black py-3 rounded-xl font-bold hover:bg-sky-500 transition-all",children:"Aadir Nueva Categora"})]}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(E=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/5 border border-white/10",style:{borderLeft:`6px solid ${E.color}`},children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:E.icon}),m.jsx("span",{className:"font-bold",children:E.name})]}),!["party","tournament","tickets","special"].includes(E.id)&&m.jsx("button",{onClick:()=>I(E.id),className:"text-red-500 hover:bg-red-500/10 p-2 rounded-lg transition-colors",children:m.jsx(Cc,{className:"w-4 h-4"})})]},E.id))})]}),y==="special"&&m.jsxs("div",{className:"animate-fade-in space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5",children:[m.jsx("h3",{className:"font-bold text-gray-400 uppercase text-xs tracking-widest",children:"Secciones Especiales (Polls & Landing)"}),m.jsx("button",{onClick:()=>C([...ne,{id:Date.now(),title:"",description:"",imageUrl:"",active:!0,buttons:[],startDate:"",endDate:"",warningDays:"",link:"",linkText:"",pollOptions:[],pollCounts:{}}]),className:"bg-white/10 px-4 py-2 rounded-lg font-bold hover:bg-white/20 transition-all text-xs",children:"+ Aadir Seccin"})]}),m.jsx("div",{className:"space-y-6",children:ne.map(E=>m.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 space-y-4 relative group",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-4",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg border-white/10 bg-black/40 text-primary",checked:E.active,onChange:R=>C(ne.map(S=>S.id===E.id?{...S,active:R.target.checked}:S))}),m.jsx("span",{className:`font-bold text-sm ${E.active?"text-green-400":"text-gray-500"}`,children:E.active?"Visible en Landing":"Oculta"})]}),m.jsx("button",{onClick:()=>C(ne.filter(R=>R.id!==E.id)),className:"text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-500/10 px-3 py-1 rounded-lg",children:"Eliminar"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{value:E.title,onChange:R=>C(ne.map(S=>S.id===E.id?{...S,title:R.target.value}:S)),placeholder:"Ttulo de la Seccin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary"}),m.jsx("textarea",{value:E.description,onChange:R=>C(ne.map(S=>S.id===E.id?{...S,description:R.target.value}:S)),placeholder:"Breve descripcin para la landing...",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary",rows:"3"})]}),m.jsx("div",{className:"space-y-4",children:m.jsx(D_,{value:E.imageUrl,onChange:R=>C(ne.map(S=>S.id===E.id?{...S,imageUrl:R}:S))})})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-black/20 p-4 rounded-2xl",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Inicio"}),m.jsx("input",{type:"date",value:E.startDate||"",onChange:R=>C(ne.map(S=>S.id===E.id?{...S,startDate:R.target.value}:S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Fin"}),m.jsx("input",{type:"date",value:E.endDate||"",onChange:R=>C(ne.map(S=>S.id===E.id?{...S,endDate:R.target.value}:S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:'Aviso "Cierre"'}),m.jsx("input",{type:"number",placeholder:"Das restantes",value:E.warningDays||"",onChange:R=>C(ne.map(S=>S.id===E.id?{...S,warningDays:R.target.value}:S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]})]}),m.jsx(GR,{buttons:E.buttons||[],onChange:R=>C(ne.map(S=>S.id===E.id?{...S,buttons:R}:S))})]},E.id))}),m.jsx("button",{onClick:D,className:"w-full bg-primary text-black py-4 rounded-2xl font-black text-lg hover:bg-sky-500 transition-all shadow-xl shadow-primary/20",children:"GUARDAR CAMBIOS EN LA WEB"})]}),y==="inbox"&&m.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[m.jsxs("form",{onSubmit:V,className:"bg-white/5 p-8 rounded-3xl border border-white/5 space-y-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-primary flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-xl",children:""}),"Enviar Notificacin / Aviso"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Asunto"}),m.jsx("input",{name:"title",required:!0,placeholder:"Ej: Nueva fiesta confirmada",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Mensaje Completo"}),m.jsx("textarea",{name:"body",required:!0,rows:"4",placeholder:"Describe los detalles aqu...",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-sky-400 to-blue-500 text-black font-black py-4 rounded-2xl hover:scale-[1.01] transition-all shadow-lg shadow-primary/20 uppercase tracking-widest",children:"Publicar Aviso Global"})]}),m.jsxs("div",{className:"bg-yellow-500/5 border border-yellow-500/20 p-6 rounded-2xl",children:[m.jsx("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:" Notificaciones Push"}),m.jsx("p",{className:"text-xs text-gray-400 leading-relaxed mb-4",children:"Este panel aade mensajes al Buzn interno de la App. Para enviar notificaciones que hagan vibrar el mvil (Push), utiliza el panel de Firebase Messaging."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"text-[10px] bg-yellow-500/20 text-yellow-200 px-4 py-2 rounded-lg hover:bg-yellow-500/30 font-bold transition-all uppercase tracking-tighter",children:"Ir a Consola Firebase"}),m.jsx("button",{type:"button",onClick:()=>{const E=document.querySelector('input[name="title"]').value,R=document.querySelector('textarea[name="body"]').value;if(!E||!R){alert("Escribe algo primero.");return}navigator.clipboard.writeText(`Ttulo: ${E}
Texto: ${R}`),alert("Copiado al portapapeles. Ahora ve a Firebase y pgalo!"),window.open("https://console.firebase.google.com/u/0/project/liga-multisport/notification/compose","_blank")},className:"text-[10px] bg-white/10 text-white px-4 py-2 rounded-lg hover:bg-white/20 font-bold transition-all uppercase tracking-tighter",children:"COPIAR DATOS"})]})]}),m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 mt-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"font-bold text-xs text-gray-500 uppercase tracking-widest",children:"Estado Notificaciones"}),m.jsx("span",{className:`text-[10px] px-2 py-1 rounded border ${v?"bg-green-500/10 border-green-500 text-green-500":"bg-red-500/10 border-red-500 text-red-500"}`,children:v?"ACTIVO":"SIN TOKEN"})]}),v?m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsx("p",{className:"font-mono text-[10px] text-gray-400 truncate flex-1 bg-black/30 p-2 rounded",children:v}),m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(v),alert("Token copiado")},className:"bg-white/10 text-white px-3 py-2 rounded-lg text-xs font-bold hover:bg-white/20 transition-all shrink-0",children:"COPIAR"})]}):m.jsxs("div",{className:"text-[10px] text-gray-500",children:[m.jsx("p",{children:"No se ha generado token. Posibles causas:"}),m.jsxs("ul",{className:"list-disc ml-4 mt-1 space-y-1",children:[m.jsx("li",{children:"No has aceptado permisos (Icono candado )."}),m.jsx("li",{children:"Ests en modo incgnito."}),m.jsx("li",{children:"Problema de conexin con Firebase."})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Historial Reciente"}),o.map(E=>m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5 hover:bg-white/10 transition-all",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm",children:E.title}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono italic",children:new Date(E.date).toLocaleString()})]}),m.jsx("button",{onClick:()=>confirm("Borrar aviso?")&&Em(dn(ut,"announcements",E.id)),className:"text-red-500 hover:bg-red-500/10 p-3 rounded-full transition-all",children:m.jsx(Cc,{className:"w-4 h-4"})})]},E.id)),o.length===0&&m.jsx("p",{className:"text-center text-gray-600 italic py-8 text-sm",children:"No hay avisos anteriores."})]})]})]})]})})},KR=({onClose:a,onSuccess:e})=>{const[i,s]=L.useState(""),[o,u]=L.useState(!1),f=async p=>{p.preventDefault(),u(!0);try{const v=dn(ut,"config","settings"),y=await sC(v);let x="PasoWeb2526";y.exists()?x=y.data().adminPassword||"PasoWeb2526":await Eo(v,{adminPassword:"PasoWeb2526"}),i===x?e():alert("Contrasea incorrecta")}catch(v){console.error(v),alert("Error de verificacin con el servidor")}finally{u(!1)}};return m.jsx(Kr,{isOpen:!0,onClose:a,children:m.jsxs("div",{className:"p-8 text-center animate-fade-in",children:[m.jsx("div",{className:"w-16 h-16 bg-sky-400/20 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("span",{className:"text-3xl",children:""})}),m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acceso Admin"}),m.jsxs("form",{onSubmit:f,children:[m.jsx("input",{type:"password",autoFocus:!0,autoComplete:"current-password",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-center text-white text-xl tracking-widest mb-4 placeholder-gray-600 focus:border-sky-400 outline-none transition-all",placeholder:"",value:i,onChange:p=>s(p.target.value)}),m.jsxs("div",{className:"flex gap-2 justify-center",children:[m.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"}),m.jsx("button",{disabled:o||!i,className:"px-8 py-2 bg-sky-400 text-black font-bold rounded-lg hover:bg-sky-500 transition-all disabled:opacity-50",children:o?"Verificando...":"Entrar"})]})]})]})})},YR=({onBack:a,events:e,specialSections:i})=>{const[s,o]=L.useState(null),[u,f]=L.useState([]),p=L.useMemo(()=>{const x=(e||[]).map(N=>({...N,type:"event",label:"Evento"})),T=(i||[]).filter(N=>(N.buttons||[]).some(k=>k.type==="form")||(N.pollOptions||[]).length>0).map(N=>({...N,type:"section",label:"Seccin"}));return[...x,...T]},[e,i]),v=p.find(x=>x.id===s);L.useEffect(()=>{if(!s||!v)return;let x;return v.type==="event"?x=Ya(Zs(ni(ut,"event_registrations"),Hd("eventId","==",s)),T=>f(T.docs.map(N=>N.data()))):x=Ya(Zs(ni(ut,"event_registrations"),Hd("eventId",">=",`section_${s}`),Hd("eventId","<=",`section_${s}`)),T=>f(T.docs.map(N=>N.data()))),()=>x&&x()},[s,v]);const y=()=>{if(!v||u.length===0)return;const x=["ID Origen","Nombre","Email",...Object.keys(u[0]||{}).filter(z=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(z)),"Fecha"],T=u.map(z=>[z.eventTitle||"-",z.nombre||"-",z.email||"-",...Object.keys(z).filter(J=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(J)).map(J=>z[J]),z.submittedAt].join("	")),N=[x.join("	"),...T].join(`
`),k=new Blob([N],{type:"text/tab-separated-values"}),B=URL.createObjectURL(k),Y=document.createElement("a");Y.href=B,Y.download=`${v.title}_data.xls`,Y.click()};return m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white p-8 flex flex-col animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[m.jsx("h1",{className:"text-3xl font-black text-sky-400",children:"BASE DE DATOS"}),m.jsx("button",{onClick:a,className:"px-6 py-2 bg-white/10 hover:bg-white/20 rounded-lg font-bold transition-colors",children:"Volver"})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 flex-1 overflow-hidden",children:[m.jsxs("div",{className:"w-full md:w-1/4 h-64 md:h-full overflow-y-auto pr-4 border-b md:border-b-0 md:border-r border-white/10 space-y-2 custom-scrollbar",children:[m.jsx("h3",{className:"font-bold text-gray-400 mb-4 sticky top-0 bg-[#0a0a0f] py-2",children:"tems"}),p.map(x=>m.jsxs("button",{onClick:()=>o(x.id),className:`w-full text-left p-3 rounded transition-all flex justify-between items-center ${s===x.id?"bg-sky-400 text-black font-bold":"hover:bg-white/5 text-gray-300"}`,children:[m.jsx("span",{className:"truncate",children:x.title}),m.jsx("span",{className:"text-[10px] opacity-70 border px-1 rounded uppercase font-mono",children:x.label})]},x.id))]}),m.jsxs("div",{className:"flex-1 overflow-y-auto bg-black/20 rounded-2xl p-6 border border-white/5 custom-scrollbar",children:[!s&&m.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 italic",children:"Selecciona un tem de la izquierda para ver los registros."}),v&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-end mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-4xl font-bold mb-2",children:v.title}),m.jsxs("div",{className:"text-gray-400 text-sm font-mono",children:["ID: ",v.id]})]}),m.jsxs("button",{onClick:y,className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded font-bold text-sm flex items-center gap-2 transition-all",children:[m.jsx(Z_,{className:"w-4 h-4 rotate-180"})," Exportar Excel"]})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[m.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Tipo"}),m.jsx("div",{className:"text-2xl font-bold text-sky-400 uppercase",children:v.type})]}),m.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Registros"}),m.jsx("div",{className:"text-2xl font-bold text-purple-400",children:u.length})]})]}),m.jsx("h3",{className:"font-bold mb-4 text-sky-400",children:"Registros Recibidos"}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[m.jsx("thead",{className:"text-xs uppercase bg-white/5 text-gray-200",children:m.jsx("tr",{children:["Origen","Fecha","Nombre","Email",...Object.keys(u[0]||{}).filter(x=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(x))].map(x=>m.jsx("th",{className:"px-4 py-3",children:x},x))})}),m.jsx("tbody",{children:u.map((x,T)=>m.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[m.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:x.eventTitle?.split("-")[1]||"General"}),m.jsx("td",{className:"px-4 py-2",children:new Date(x.submittedAt).toLocaleDateString()}),m.jsx("td",{className:"px-4 py-2 font-bold text-white",children:x.nombre||"-"}),m.jsx("td",{className:"px-4 py-2",children:x.email||"-"}),Object.keys(x).filter(N=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(N)).map(N=>m.jsx("td",{className:"px-4 py-2",children:typeof x[N]=="object"?JSON.stringify(x[N]):x[N]},N))]},T))})]}),u.length===0&&m.jsx("p",{className:"text-center py-8 italic text-gray-600",children:"No hay registros an para este tem."})]})]})]})]})]})},XR=()=>{const[a,e]=L.useState(null),[i,s]=L.useState(!1),[o,u]=L.useState(!1),[f,p]=L.useState(!1);return L.useEffect(()=>{const x=/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream;u(x);const N=(()=>{const B=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;return p(B),B})();x&&!N&&(localStorage.getItem("pwa_prompt_dismissed")||s(!0));const k=B=>{B.preventDefault(),e(B);const Y=localStorage.getItem("pwa_prompt_dismissed");!N&&!Y&&s(!0)};return window.addEventListener("beforeinstallprompt",k),()=>window.removeEventListener("beforeinstallprompt",k)},[]),{showInstall:i,setShowInstall:s,install:()=>{o||a&&(a.prompt(),a.userChoice.then(x=>{x.outcome==="accepted"&&(s(!1),localStorage.setItem("pwa_installed","true")),e(null)}))},dismiss:()=>{s(!1),localStorage.setItem("pwa_prompt_dismissed",Date.now().toString())},isIOS:o,isStandalone:f}},$R=()=>{const[a,e]=L.useState(Notification.permission),[i,s]=L.useState(null),o=async()=>{if(!go){console.warn("Messaging not supported or failed to initialize.");return}try{const u=await Notification.requestPermission();if(e(u),u==="granted"){console.log("Permission granted. retrieving token...");let f;try{f=await navigator.serviceWorker.ready,console.log("Service Worker ready:",f)}catch(v){console.error("Error waiting for SW ready:",v)}const p=await VR(go,{vapidKey:"BJZr34oV68SKsSBbxY-rB7xzbcKQ4DjIIsgtW-y8SW5I-4dGHIpeHsmIo7mQEMMXNK8ov5RqMRKw7-IWD1_Oa4M",serviceWorkerRegistration:f});if(p){console.log("Token retrieved:",p),s(p);try{await Eo(dn(ut,"fcm_tokens",p),{token:p,lastSeen:new Date,userAgent:navigator.userAgent},{merge:!0}),console.log("Token saved to Firestore")}catch(v){console.error("Error saving to DB:",v),alert("Error guardando token: "+v.message)}}else console.log("No registration token available. Request permission to generate one.")}}catch(u){console.error("An error occurred while retrieving token. ",u),alert("Error token: "+u.message)}};return L.useEffect(()=>{if(a==="granted"&&go){const u=OR(go,f=>{console.log("Message received. ",f),Notification.permission==="granted"&&new Notification(f.notification.title,{body:f.notification.body,icon:"/logo.png"})});return()=>u()}},[a]),{permission:a,requestPermission:o,fcmToken:i}},ZR=()=>{const[a,e]=L.useState([]),[i,s]=L.useState([]),[o,u]=L.useState([]),[f,p]=L.useState([]),[v,y]=L.useState("app"),[x,T]=L.useState(null),[N,k]=L.useState(null),[B,Y]=L.useState(null),[z,J]=L.useState(null),[ne,ae]=L.useState(null),[ye,ve]=L.useState(!1),[_e,I]=L.useState(!1),[C,D]=L.useState(!1),[V,E]=L.useState(!1),[R,S]=L.useState(!1),[we,Ue]=L.useState(new Date().getMonth()),[K,se]=L.useState(new Date().getFullYear()),{showInstall:me,isIOS:Ie,install:Pe,dismiss:O}=XR(),{permission:$,requestPermission:le,fcmToken:ie}=$R();L.useEffect(()=>{const ce=Zs(ni(ut,"events"),v_("date","asc")),He=Ya(ce,xt=>{e(xt.docs.map(Nn=>({id:Nn.id,...Nn.data()})))}),An=Ya(dn(ut,"config","eventTypes"),xt=>{xt.exists()&&s(xt.data().types||[])}),si=Zs(ni(ut,"announcements"),v_("date","desc"),iC(20)),ha=Ya(si,xt=>{const Nn=xt.docs.map(da=>({id:da.id,...da.data()}));u(Nn);const li=localStorage.getItem("last_inbox_view");Nn.length>0&&(!li||new Date(Nn[0].date)>new Date(li))&&S(!0)}),fa=Ya(dn(ut,"config","specialSections"),xt=>{xt.exists()&&p(xt.data().sections||[])});return()=>{He(),An(),ha(),fa()}},[]),L.useEffect(()=>{if($==="default"){const ce=setTimeout(()=>{const He=localStorage.getItem("last_notification_prompt"),An=Date.now(),si=1440*60*1e3;(!He||An-parseInt(He)>si)&&(E(!0),localStorage.setItem("last_notification_prompt",An.toString()),console.log("Smart Onboarding: Triggering notification prompt"))},1e4);return()=>clearTimeout(ce)}},[$]);const de=()=>{E(!0),S(!1),localStorage.setItem("last_inbox_view",new Date().toISOString())},be=ce=>{ae(ce)},Ne=a.filter(ce=>new Date(ce.date)>=new Date().setHours(0,0,0,0));return v==="database"?m.jsx(YR,{events:a,specialSections:f,onBack:()=>y("app")}):m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white font-sans selection:bg-sky-500/30",children:[m.jsx(mx,{}),m.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[m.jsx(qR,{onClick:de,hasUnread:R}),_e&&m.jsx("button",{onClick:()=>D(!0),className:"p-3 bg-primary text-white rounded-full shadow-lg hover:bg-primary/80 transition-all border border-primary/30",children:m.jsx(l2,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>_e?I(!1):ve(!0),className:`p-3 rounded-full shadow-lg transition-all ${_e?"bg-red-500 text-white":"bg-white/5 text-gray-400 hover:text-white border border-white/10"}`,children:m.jsx(JT,{className:"w-5 h-5"})})]}),m.jsxs("section",{className:"min-h-[90vh] flex flex-col items-center justify-center p-6 relative overflow-hidden bg-celestial",children:[m.jsx("div",{className:"absolute inset-0 bg-sky-400/5 blur-[120px] pointer-events-none"}),m.jsx("div",{className:"relative w-64 h-64 md:w-80 md:h-80 mb-8 animate-float",children:m.jsx("img",{src:"/Paso-Ecuador-INEF/logo.png",className:"w-full h-full object-contain drop-shadow-[0_0_40px_rgba(56,189,248,0.5)]",alt:"Logo"})}),m.jsxs("h1",{className:"text-6xl md:text-9xl font-black text-center tracking-tighter mb-4",children:[m.jsx("span",{className:"text-white",children:"PASO DE "}),m.jsx("span",{className:"text-sky-400 text-glow",children:"ECUADOR"})]}),m.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light tracking-[0.2em] mb-12 uppercase",children:"INEF 25/26"}),m.jsx("a",{href:"#events",className:"px-10 py-4 rounded-full bg-sky-400 text-black font-black text-lg hover:shadow-[0_0_30px_rgba(56,189,248,0.5)] transition-all transform hover:scale-105",children:"PRXIMOS EVENTOS"})]}),m.jsx(UR,{sections:f,onOpenSection:Y,onOpenForm:ce=>J(ce)}),m.jsx("section",{id:"events",className:"py-24 px-4 md:px-8 bg-celestial-gradient border-y border-white/5",children:m.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[m.jsxs("h2",{className:"text-4xl font-bold mb-16 flex items-center gap-4",children:[m.jsx("span",{className:"w-2 h-12 bg-sky-400 rounded-full shadow-[0_0_15px_rgba(56,189,248,0.5)]"}),"Prximamente"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Ne.map(ce=>m.jsxs("div",{onClick:()=>k(ce),className:"bg-white/5 backdrop-blur-md p-6 rounded-[2.5rem] border border-white/5 hover:bg-white/10 transition-all group relative overflow-hidden flex flex-col cursor-pointer transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-sky-400/5",children:[m.jsxs("div",{className:"absolute top-6 right-6 px-3 py-1 rounded-full text-[10px] font-black uppercase border bg-black/50 backdrop-blur-md z-10 tracking-widest",style:{color:ce.typeColor,borderColor:ce.typeColor},children:[ce.typeIcon," ",ce.typeName]}),ce.imageUrl&&m.jsxs("div",{className:"w-full h-56 mb-6 rounded-3xl overflow-hidden relative",children:[m.jsx("img",{src:ce.imageUrl,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000",alt:ce.title}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-6",children:m.jsx("span",{className:"text-white font-bold text-sm",children:"Ver Detalles"})})]}),m.jsxs("div",{className:"text-sky-400 font-black tracking-widest text-xs mb-3 uppercase",children:[new Date(ce.date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"}),ce.time&&m.jsxs("span",{className:"ml-2",children:[" ",ce.time]})]}),m.jsx("h3",{className:"text-3xl font-black text-white mb-3 leading-tight group-hover:text-sky-400 transition-colors",children:ce.title}),ce.location&&m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-4",children:[m.jsx(X_,{className:"w-4 h-4 text-sky-400"})," ",ce.location]}),m.jsx("div",{className:"mt-auto",onClick:He=>He.stopPropagation(),children:m.jsx(px,{event:ce,onOpenForm:J})})]},ce.id))})]})}),m.jsxs("section",{className:"relative py-40 overflow-hidden bg-deep",children:[m.jsx("div",{className:"absolute inset-0 bg-transparent"}),m.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-16 items-center",children:[m.jsxs("div",{className:"animate-fade-in-left",children:[m.jsxs("h2",{className:"text-6xl md:text-8xl font-black mb-8 tracking-tighter leading-none",children:[m.jsx("span",{className:"bg-gradient-to-r from-white to-gray-500 bg-clip-text text-transparent",children:"LIGA"}),m.jsx("br",{}),m.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),m.jsx("p",{className:"text-gray-400 text-xl mb-12 leading-relaxed max-w-md font-medium",children:"Compite en torneos exclusivos, acumula puntos para el ranking anual y convirtete en la leyenda de INEF."}),m.jsxs(To,{to:"/liga",className:"inline-flex items-center gap-4 px-10 py-5 rounded-full bg-gradient-to-r from-primary to-secondary text-white font-black text-xl hover:scale-105 transition-all shadow-[0_10px_40px_rgba(79,70,229,0.3)] active:scale-95",children:["VER CLASIFICACIN ",m.jsx(Dm,{className:"w-6 h-6"})]})]}),m.jsxs("div",{className:"relative group animate-fade-in-right",children:[m.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-indigo-500 to-purple-600 blur-[80px] opacity-10 group-hover:opacity-30 transition-opacity duration-1000"}),m.jsxs("div",{className:"glass-panel p-8 rounded-[3rem] border border-white/10 transform rotate-[-3deg] group-hover:rotate-1 transition-all duration-700 shadow-2xl bg-black/40 backdrop-blur-xl",children:[m.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-white/10 pb-6",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-600 flex items-center justify-center font-black text-black text-2xl border-2 border-yellow-200 outline outline-4 outline-yellow-400/20",children:"#1"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-black tracking-widest mb-1",children:"Top Ranking"}),m.jsx("div",{className:"font-black text-2xl text-white",children:"LDER"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-full overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-3/4"})}),m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-5/6 overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-purple-500/50 w-1/2"})}),m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-2/3 overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-2/3"})})]})]})]})]})]}),m.jsx("section",{className:"py-24 px-4 md:px-8 bg-celestial-gradient",children:m.jsx("div",{className:"max-w-6xl mx-auto w-full",children:m.jsx(LR,{events:a,currentMonth:we,setCurrentMonth:Ue,currentYear:K,setCurrentYear:se,onSelectDay:T})})}),m.jsx("footer",{className:"py-20 border-t border-white/5 bg-deep",children:m.jsxs("div",{className:"flex flex-col items-center gap-8",children:[m.jsxs("div",{className:"flex gap-8",children:[m.jsx("a",{href:"https://www.instagram.com/pasoecuadorinef26/",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-gradient-to-br hover:from-purple-600 hover:to-orange-500 transition-all hover:scale-110 border border-white/5",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),m.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),m.jsx("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]})}),m.jsx("a",{href:"https://www.tiktok.com/@pasoecuadorinef26",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-black hover:border hover:border-sky-400 hover:text-sky-400 transition-all hover:scale-110 border border-white/5",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]}),m.jsx("p",{className:"text-gray-600 text-xs font-bold tracking-widest uppercase",children:" 2025 Paso de Ecuador INEF 25/26"})]})}),m.jsx(Kr,{isOpen:!!x,onClose:()=>T(null),children:x&&m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsx("h2",{className:"text-3xl font-black capitalize",children:new Date(x.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})}),m.jsxs("div",{className:"space-y-4",children:[x.events.map(ce=>m.jsx("div",{onClick:()=>{k(ce),T(null)},className:"bg-white/5 p-6 rounded-3xl border-l-4 cursor-pointer hover:bg-white/10 transition-all group",style:{borderColor:ce.typeColor},children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-xl group-hover:text-sky-400 transition-colors",children:ce.title}),m.jsxs("div",{className:"text-xs opacity-50 flex items-center gap-2 mt-1 uppercase tracking-widest",children:[ce.typeIcon," ",ce.typeName]})]}),m.jsx("div",{className:"text-xs text-sky-400 font-bold uppercase border border-sky-400/30 px-3 py-1 rounded-full group-hover:bg-sky-400 group-hover:text-black transition-all",children:"Ver Ms"})]})},ce.id)),x.events.length===0&&m.jsx("p",{className:"text-center text-gray-500 py-12 italic",children:"No hay eventos programados para este da."})]})]})}),N&&m.jsx(PR,{event:N,onClose:()=>k(null),onOpenForm:ce=>{k(null),J(ce)}}),m.jsx(Kr,{isOpen:!!B,onClose:()=>Y(null),children:B&&m.jsxs("div",{className:"relative",children:[B.imageUrl&&m.jsx("div",{className:"w-full h-80",children:m.jsx("img",{src:B.imageUrl,className:"w-full h-full object-cover",alt:""})}),m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-4xl font-black mb-4 text-white",children:B.title}),m.jsx("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 mb-8",children:m.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap text-lg",children:B.description})}),m.jsx("div",{className:"flex flex-wrap gap-4",children:(B.buttons||[]).map(ce=>m.jsx("button",{className:"px-8 py-3 rounded-xl font-bold bg-sky-400 text-black hover:bg-sky-500 transition-all shadow-lg",onClick:()=>{ce.type==="form"?(J({id:`section_${B.id}_${ce.id}`,title:`${B.title} - ${ce.label}`,customFields:ce.customFields||[]}),Y(null)):ce.link&&window.open(ce.link,"_blank")},children:ce.label},ce.id))})]})]})}),z&&m.jsx(BR,{event:z,onClose:()=>J(null)}),m.jsx(HR,{isOpen:V,onClose:()=>E(!1),announcements:o,permission:$,onRequestPermission:le}),ye&&m.jsx(KR,{onClose:()=>ve(!1),onSuccess:()=>{I(!0),ve(!1),D(!0)}}),m.jsx(QR,{isOpen:C,onClose:()=>D(!1),events:a,eventTypes:i,announcements:o,specialSections:f,onOpenDB:()=>{D(!1),y("database")},onOpenStats:be,fcmToken:ie}),m.jsx(FR,{isOpen:me,onClose:O,onInstall:Pe,isIOS:Ie})]})},co=a=>a?a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():"",JR=(a,e=!1)=>a?new Date(a).toLocaleDateString("es-ES",{day:"numeric",month:"short",...e&&{hour:"2-digit",minute:"2-digit"}}):"",WR=`Se trata de una liga individual en la que daremos 100 a la persona ganadora al final del curso.
Los puntos se obtienen participando en torneos y ganndolos, siendo los puntos obtenidos:

 **+1 punto** por participar
 **+3 puntos** por quedar segundo/a
 **+5 puntos** por quedar primero/a`,I_=({isOpen:a,onClose:e,children:i})=>a?m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),m.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-[#0f0f16] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up flex flex-col max-h-[90vh]",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-20",children:m.jsx(Fs,{className:"w-6 h-6"})}),i]})]}):null,eD=({player:a,rank:e,onClick:i})=>{const s=e===1?"rank-1":e===2?"rank-2":e===3?"rank-3":"text-gray-500",o=e===1?"bg-yellow-500/10 border-yellow-500/20":"bg-[#1c1c2e]/50 hover:bg-[#1c1c2e] border-white/5";return m.jsxs("div",{onClick:i,className:`group relative flex items-center p-4 rounded-xl border transition-all duration-300 cursor-pointer ${o}`,children:[m.jsx("div",{className:`w-12 h-12 flex items-center justify-center text-2xl font-black mr-4 ${s}`,children:e<=3?"#"+e:e}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:`font-bold text-lg ${e===1?"text-white":"text-gray-200"} group-hover:text-primary transition-colors`,children:a.name}),e===1&&m.jsx("span",{className:"text-xs text-yellow-500 font-medium tracking-wider",children:"LDER ACTUAL"})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-2xl font-bold text-white tracking-tight",children:a.displayPoints!==void 0?a.displayPoints:a.points}),m.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"PUNTOS"})]}),m.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary/0 to-secondary/0 opacity-0 group-hover:opacity-5 transition-opacity pointer-events-none"})]})},tD=({players:a,processTournament:e,goBack:i,manualDelete:s,manualUpdatePoints:o,password:u,setPassword:f,description:p,setDescription:v})=>{const[y,x]=L.useState(""),[T,N]=L.useState(new Date().toISOString().split("T")[0]),[k,B]=L.useState(""),[Y,z]=L.useState(""),[J,ne]=L.useState(""),[ae,ye]=L.useState(!1),[ve,_e]=L.useState(""),[I,C]=L.useState(""),[D,V]=L.useState(p),E=S=>{if(S.preventDefault(),!y)return alert("Ponle nombre al torneo");e(y,T,k,Y,J),B(""),z(""),ne(""),x("")},R=()=>{if(ve!==u){alert("La contrasea actual no es correcta.");return}if(!I){alert("Escribe una nueva contrasea");return}f(I),alert("Contrasea cambiada exitosamente"),C(""),_e("")};return m.jsx("div",{className:"min-h-screen p-4 md:p-8 pb-32 bg-liga",children:m.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"flex flex-col gap-8",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>ye(!ae),className:"flex-1 glass-panel p-4 rounded-2xl flex items-center justify-center gap-2 font-bold hover:bg-white/5 transition-colors text-gray-300",children:[m.jsx($_,{className:"w-5 h-5"})," ",ae?"Volver a Torneos":"Configuracin"]}),m.jsx("button",{onClick:i,className:"glass-panel px-6 rounded-2xl text-red-400 hover:bg-white/5 transition-colors font-bold",children:"Salir"})]}),ae?m.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit space-y-8 animate-fade-in-up",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Configuracin"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Descripcin de la Liga"}),m.jsx("textarea",{className:"w-full h-40 bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-primary focus:outline-none",value:D,onChange:S=>V(S.target.value)}),m.jsxs("button",{onClick:()=>{v(D),alert("Descripcin actualizada")},className:"px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg text-sm font-bold flex items-center gap-2",children:[m.jsx(i2,{className:"w-4 h-4"})," Guardar Texto"]})]}),m.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-4",children:[m.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Seguridad"}),m.jsx("input",{type:"password",placeholder:"Contrasea Actual",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none mb-2",value:ve,onChange:S=>_e(S.target.value)}),m.jsx("input",{type:"password",placeholder:"Nueva Contrasea",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none",value:I,onChange:S=>C(S.target.value)}),m.jsx("button",{onClick:R,className:"px-4 py-2 bg-secondary/20 hover:bg-secondary/30 text-secondary rounded-lg text-sm font-bold",children:"Actualizar Contrasea"})]})]}):m.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit animate-fade-in-up",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[m.jsx(kc,{className:"text-secondary w-6 h-6"})," Nuevo Torneo"]})}),m.jsxs("form",{onSubmit:E,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Nombre Torneo"}),m.jsx("input",{type:"text",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",placeholder:"Ej: Torneo FIFA",value:y,onChange:S=>x(S.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Fecha"}),m.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",value:T,onChange:S=>N(S.target.value)})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"flex justify-between text-xs uppercase font-bold text-yellow-500 mb-2",children:m.jsx("span",{children:" 1 Puesto (+5 pts)"})}),m.jsx("textarea",{className:"w-full h-24 bg-yellow-900/10 border border-yellow-500/20 rounded-xl p-3 text-sm text-white focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Nombres...",value:k,onChange:S=>B(S.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-300 mb-2 block",children:" 2 Puesto (+3 pts)"}),m.jsx("textarea",{className:"w-full h-24 bg-white/5 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-gray-500 focus:outline-none",placeholder:"Nombres...",value:Y,onChange:S=>z(S.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-primary mb-2 block",children:"Participantes (+1 pt)"}),m.jsx("textarea",{className:"w-full h-32 bg-primary/5 border border-primary/20 rounded-xl p-3 text-sm text-white focus:border-primary focus:outline-none",placeholder:"Lista de nombres...",value:J,onChange:S=>ne(S.target.value)}),m.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"* El sistema evitar duplicar puntos si alguien ya est en 1 o 2 puesto."})]})]}),m.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-primary to-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-primary/25 transition-all transform hover:scale-[1.02]",children:"Guardar Resultados"})]})]})]}),m.jsxs("div",{className:"glass-panel p-6 rounded-3xl h-[800px] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-white mb-6",children:["Base de Datos (",a.length,")"]}),m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-2",children:a.map(S=>m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5 group",children:[m.jsx("span",{className:"font-medium text-gray-300",children:S.name}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-white",children:[S.points," pts"]}),m.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>o(S.id,1),className:"text-green-400 hover:bg-green-500/20 p-2 rounded",title:"+1",children:m.jsx(kc,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>o(S.id,-1),className:"text-yellow-400 hover:bg-yellow-500/20 p-2 rounded",title:"-1",children:m.jsx("div",{className:"w-4 h-4 flex items-center justify-center font-bold text-xs",children:"-"})}),m.jsx("button",{onClick:()=>s(S.id),className:"text-red-500 hover:bg-red-500/20 p-2 rounded",title:"Eliminar",children:m.jsx(Cc,{className:"w-4 h-4"})})]})]})]},S.id))})]})]})})},nD=()=>{const[a,e]=L.useState("public"),[i,s]=L.useState([]),[o,u]=L.useState([]),[f,p]=L.useState(()=>localStorage.getItem("liga_description")||WR),[v,y]=L.useState(()=>localStorage.getItem("liga_password")||"4321"),[x,T]=L.useState(""),[N,k]=L.useState(null),[B,Y]=L.useState("ALL"),[z,J]=L.useState(!1),[ne,ae]=L.useState(!1),[ye,ve]=L.useState("");L.useEffect(()=>{const E=Ya(Zs(ni(ut,"players")),S=>{s(S.docs.map(we=>({id:we.id,...we.data()})))}),R=Ya(Zs(ni(ut,"tournaments")),S=>{const we=S.docs.map(Ue=>({id:Ue.id,...Ue.data()}));we.sort((Ue,K)=>new Date(K.date)-new Date(Ue.date)),u(we)});return()=>{E(),R()}},[]),L.useEffect(()=>{localStorage.setItem("liga_description",f)},[f]),L.useEffect(()=>{localStorage.setItem("liga_password",v)},[v]);const _e=async(E,R,S,we,Ue)=>{const K=ie=>ie.split(/[\n,]+/).map(de=>de.trim()).filter(Boolean),se=K(S),me=K(we),Ie=K(Ue),Pe=new Set,O=[],$=(ie,de,be)=>{const Ne=co(ie);Pe.has(Ne)||(Pe.add(Ne),O.push({name:ie,points:de,type:be}))};se.forEach(ie=>$(ie,5,"1 Puesto")),me.forEach(ie=>$(ie,3,"2 Puesto")),Ie.forEach(ie=>$(ie,1,"Participacin"));for(const ie of O){let de=i.find(be=>co(be.name)===co(ie.name));if(de){const be=[...de.history||[],{tournament:E,points:ie.points,date:R,type:ie.type}],Ne=de.points+ie.points,ce=[...de.wins||[]];ie.type==="1 Puesto"&&ce.push(new Date(R).getTime());try{await xm(dn(ut,"players",de.id),{history:be,points:Ne,wins:ce})}catch(He){console.error("Error updating player",ie.name,He)}}else{const be={name:ie.name,points:ie.points,wins:ie.type==="1 Puesto"?[new Date(R).getTime()]:[],history:[{tournament:E,points:ie.points,date:R,type:ie.type}]};try{await Vo(ni(ut,"players"),be)}catch(Ne){console.error("Error creating player",ie.name,Ne)}}}const le={name:E,date:R,winners:se};try{await Vo(ni(ut,"tournaments"),le),alert("Torneo guardado y sincronizado.")}catch(ie){alert("Error guardando torneo: "+ie.message)}},I=async E=>{if(confirm("Seguro que quieres borrar a este jugador?"))try{await Em(dn(ut,"players",E))}catch(R){alert("Error eliminando: "+R.message)}},C=async(E,R)=>{const S=i.find(we=>we.id===E);if(S)try{await xm(dn(ut,"players",E),{points:Math.max(0,S.points+R)})}catch(we){console.error(we)}},D=L.useMemo(()=>{let E=[...i];if(B!=="ALL"){const R=o.find(S=>S.id===B);R&&(E=E.map(S=>{const we=S.history?S.history.filter(Ue=>Ue.tournament===R.name).reduce((Ue,K)=>Ue+K.points,0):0;return{...S,displayPoints:we}}).filter(S=>S.displayPoints>0))}else E=E.map(R=>({...R,displayPoints:R.points}));E.sort((R,S)=>{const we=R.displayPoints,Ue=S.displayPoints;if(Ue!==we)return Ue-we;const K=R.wins&&R.wins.length>0?Math.max(...R.wins):0;return(S.wins&&S.wins.length>0?Math.max(...S.wins):0)-K});for(let R=0;R<E.length;R++)R>0?E[R].displayPoints===E[R-1].displayPoints?E[R].realRank=E[R-1].realRank:E[R].realRank=R+1:E[R].realRank=1;return x&&(E=E.filter(R=>co(R.name).includes(co(x)))),E},[i,x,B,o]),V=D.length>0?D[0]:null;return a==="public"?m.jsxs("div",{className:"min-h-screen bg-liga text-white p-4 selection:bg-primary selection:text-white",children:[m.jsxs("div",{className:"relative py-12 px-4 overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),m.jsx("div",{className:"absolute top-6 right-6 z-20 flex gap-2",children:m.jsx("button",{onClick:()=>J(!0),className:"p-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 transition-colors group",children:m.jsx(sv,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})})}),m.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[m.jsxs("h1",{className:"text-4xl md:text-7xl font-black mb-2 tracking-tighter",children:[m.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-gray-400 bg-clip-text text-transparent",children:"LIGA"}),m.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent text-glow ml-2 md:ml-4 tracking-[0.05em] drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),m.jsx("p",{className:"text-blue-200/60 uppercase tracking-[0.3em] font-bold text-sm mb-12",children:"Paso de Ecuador 25/26"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-12",children:[m.jsxs("div",{className:"glass p-4 rounded-2xl",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:B==="ALL"?"Lder Actual":"Ganador Torneo"}),m.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-yellow-200 to-yellow-600 bg-clip-text text-transparent text-center truncate",children:V?V.name:"-"})]}),m.jsxs("div",{className:"glass p-4 rounded-2xl",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Jugadores"}),m.jsx("div",{className:"text-2xl font-bold text-white text-center",children:i.length})]}),m.jsxs("div",{className:"glass p-4 rounded-2xl hidden md:block",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Torneos"}),m.jsx("div",{className:"text-2xl font-bold text-white text-center",children:o.length})]})]}),m.jsxs("div",{className:"max-w-2xl mx-auto flex flex-col md:flex-row gap-4 mb-8",children:[m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:m.jsx(r2,{className:"text-gray-500 w-5 h-5 group-focus-within:text-primary transition-colors"})}),m.jsx("input",{type:"text",placeholder:"Buscar jugador...",className:"w-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-12 pr-6 text-white focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-all shadow-xl",value:x,onChange:E=>T(E.target.value)})]}),m.jsxs("div",{className:"relative md:w-64",children:[m.jsxs("select",{className:"w-full h-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-4 pr-10 text-white focus:outline-none focus:border-primary/50 appearance-none cursor-pointer",value:B,onChange:E=>Y(E.target.value),children:[m.jsx("option",{value:"ALL",children:"Clasificacin Global"}),o.map(E=>m.jsx("option",{value:E.id,children:E.name},E.id))]}),m.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none",children:m.jsx(zT,{className:"text-gray-500 w-4 h-4"})})]})]})]})]}),m.jsxs("div",{className:"max-w-3xl mx-auto px-4 pb-20 space-y-3",children:[D.map(E=>m.jsx(eD,{player:E,rank:E.realRank,onClick:()=>k(E)},E.id)),D.length===0&&m.jsxs("div",{className:"text-center py-20 text-gray-600",children:[m.jsx(XT,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),m.jsx("p",{children:"No se encontraron jugadores"})]})]}),m.jsxs("div",{className:"fixed bottom-6 right-6 z-30 flex flex-col gap-3",children:[m.jsx("button",{onClick:async()=>{const E=window.location.href,R="Liga Multisport - Clasificacin";if(navigator.share)try{await navigator.share({title:R,text:"Mira la clasificacin en directo!",url:E})}catch{}else navigator.clipboard.writeText(E),alert("Enlace copiado al portapapeles")},className:"w-12 h-12 rounded-full bg-primary hover:bg-primary/80 text-white flex items-center justify-center transition-all shadow-lg shadow-primary/30 transform hover:scale-110",title:"Compartir Web",children:m.jsx(lv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>e("login"),className:"w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-700 border border-white/10 text-white flex items-center justify-center transition-all shadow-lg transform hover:scale-110",children:m.jsx($_,{className:"w-5 h-5"})})]}),z&&m.jsx(I_,{isOpen:z,onClose:()=>J(!1),children:m.jsxs("div",{className:"p-8",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[m.jsx(sv,{className:"w-6 h-6 text-primary"})," Qu es Liga Multisport?"]}),m.jsx("div",{className:"prose prose-invert text-gray-300 whitespace-pre-line leading-relaxed",children:f})]})}),N&&m.jsx(I_,{isOpen:!!N,onClose:()=>k(null),children:m.jsxs("div",{className:"p-8 flex-1 overflow-auto custom-scrollbar",children:[m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[N.name,m.jsx("button",{onClick:()=>{const E=`Voy #${N.realRank} en la Liga Multisport con ${N.points} puntos! Me superas?`;navigator.share?navigator.share({text:E,url:window.location.href}):(navigator.clipboard.writeText(E+" "+window.location.href),alert("Texto copiado"))},className:"p-2 bg-primary/20 text-primary hover:text-white hover:bg-primary rounded-full transition-all",title:"Compartir mi puesto",children:m.jsx(lv,{className:"w-4 h-4"})})]}),m.jsxs("p",{className:"text-primary font-bold text-xl",children:[N.points," Puntos Totales"]})]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-xs uppercase font-bold text-gray-500 tracking-wider",children:"Historial de Torneos"}),N.history&&N.history.slice().reverse().map((E,R)=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/5",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-white",children:E.tournament||"Torneo Desconocido"}),m.jsx("div",{className:"text-xs text-gray-500",children:JR(E.date)})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:`font-bold ${["1 Puesto","2 Puesto"].includes(E.type)?"text-yellow-500":"text-gray-300"}`,children:E.type}),m.jsxs("div",{className:"text-sm font-mono text-primary",children:["+",E.points," pts"]})]})]},R)),(!N.history||N.history.length===0)&&m.jsx("p",{className:"text-gray-600 text-center py-8",children:"Sin historial detallado"})]})]})})]}):a==="login"?m.jsxs("div",{className:"min-h-screen transition-all duration-700 bg-liga flex items-center justify-center px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-primary/5"}),m.jsxs("div",{className:"glass-panel p-10 rounded-3xl w-full max-w-md relative z-10 text-center space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acceso Administrador"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Introduce la clave de seguridad"})]}),m.jsx("input",{type:"password",autoFocus:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-center text-3xl tracking-[1em] text-white focus:outline-none focus:border-secondary transition-colors",value:ye,onChange:E=>{ve(E.target.value),E.target.value===v&&(e("admin"),ae(!0))}}),m.jsx("button",{onClick:()=>{e("public"),ve("")},className:"text-gray-500 hover:text-white text-sm",children:"Cancelar"})]})]}):m.jsx(tD,{players:i,processTournament:_e,goBack:()=>{e("public"),ve("")},manualDelete:I,manualUpdatePoints:C,password:v,setPassword:y,description:f,setDescription:p})};function iD(){return m.jsxs(bT,{basename:"/Paso-Ecuador-INEF/",children:[m.jsx(mx,{}),m.jsxs("div",{className:"min-h-screen",children:[m.jsxs(Zw,{children:[m.jsx($d,{path:"/",element:m.jsx(ZR,{})}),m.jsx($d,{path:"/liga",element:m.jsx(nD,{})})]}),m.jsx(zR,{})]})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/Paso-Ecuador-INEF/firebase-messaging-sw.js",{scope:"/Paso-Ecuador-INEF/"}).then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});aw.createRoot(document.getElementById("root")).render(m.jsx(L.StrictMode,{children:m.jsx(iD,{})}));
