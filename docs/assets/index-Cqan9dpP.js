function Dj(){import.meta.url,import("_").catch(()=>1),(async function*(){})().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function GE(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Hd={exports:{}},vo={};var mv;function QE(){if(mv)return vo;mv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:u}}return vo.Fragment=e,vo.jsx=i,vo.jsxs=i,vo}var pv;function KE(){return pv||(pv=1,Hd.exports=QE()),Hd.exports}var m=KE(),Fd={exports:{}},Ae={};var gv;function $E(){if(gv)return Ae;gv=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function j(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,U={};function Y(M,J,le){this.props=M,this.context=J,this.refs=U,this.updater=le||P}Y.prototype.isReactComponent={},Y.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},Y.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ie(){}ie.prototype=Y.prototype;function X(M,J,le){this.props=M,this.context=J,this.refs=U,this.updater=le||P}var oe=X.prototype=new ie;oe.constructor=X,G(oe,Y.prototype),oe.isPureReactComponent=!0;var me=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(M,J,le){var ae=le.ref;return{$$typeof:a,type:M,key:J,ref:ae!==void 0?ae:null,props:le}}function O(M,J){return D(M.type,J,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function R(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(le){return J[le]})}var S=/\/+/g;function pe(M,J){return typeof M=="object"&&M!==null&&M.key!=null?R(""+M.key):J.toString(36)}function Ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ye,ye):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,J,le,ae,ve){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(xe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case a:case e:Re=!0;break;case b:return Re=M._init,$(Re(M._payload),J,le,ae,ve)}}if(Re)return ve=ve(M),Re=ae===""?"."+pe(M,0):ae,me(ve)?(le="",Re!=null&&(le=Re.replace(S,"$&/")+"/"),$(ve,J,le,"",function(In){return In})):ve!=null&&(w(ve)&&(ve=O(ve,le+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(S,"$&/")+"/")+Re)),J.push(ve)),1;Re=0;var he=ae===""?".":ae+":";if(me(M))for(var He=0;He<M.length;He++)ae=M[He],xe=he+pe(ae,He),Re+=$(ae,J,le,xe,ve);else if(He=j(M),typeof He=="function")for(M=He.call(M),He=0;!(ae=M.next()).done;)ae=ae.value,xe=he+pe(ae,He++),Re+=$(ae,J,le,xe,ve);else if(xe==="object"){if(typeof M.then=="function")return $(Ee(M),J,le,ae,ve);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Re}function se(M,J,le){if(M==null)return M;var ae=[],ve=0;return $(M,ae,"","",function(xe){return J.call(le,xe,ve++)}),ae}function de(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(le){(M._status===0||M._status===-1)&&(M._status=1,M._result=le)},function(le){(M._status===0||M._status===-1)&&(M._status=2,M._result=le)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Ce=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ke={map:se,forEach:function(M,J,le){se(M,function(){J.apply(this,arguments)},le)},count:function(M){var J=0;return se(M,function(){J++}),J},toArray:function(M){return se(M,function(J){return J})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=E,Ae.Children=ke,Ae.Component=Y,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=X,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,J,le){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=G({},M.props),ve=M.key;if(J!=null)for(xe in J.key!==void 0&&(ve=""+J.key),J)!C.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(ae[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)ae.children=le;else if(1<xe){for(var Re=Array(xe),he=0;he<xe;he++)Re[he]=arguments[he+2];ae.children=Re}return D(M.type,ve,ae)},Ae.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,J,le){var ae,ve={},xe=null;if(J!=null)for(ae in J.key!==void 0&&(xe=""+J.key),J)C.call(J,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=J[ae]);var Re=arguments.length-2;if(Re===1)ve.children=le;else if(1<Re){for(var he=Array(Re),He=0;He<Re;He++)he[He]=arguments[He+2];ve.children=he}if(M&&M.defaultProps)for(ae in Re=M.defaultProps,Re)ve[ae]===void 0&&(ve[ae]=Re[ae]);return D(M,xe,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:p,render:M}},Ae.isValidElement=w,Ae.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:de}},Ae.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Ae.startTransition=function(M){var J=I.T,le={};I.T=le;try{var ae=M(),ve=I.S;ve!==null&&ve(le,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ye,Ce)}catch(xe){Ce(xe)}finally{J!==null&&le.types!==null&&(J.types=le.types),I.T=J}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(M){return I.H.use(M)},Ae.useActionState=function(M,J,le){return I.H.useActionState(M,J,le)},Ae.useCallback=function(M,J){return I.H.useCallback(M,J)},Ae.useContext=function(M){return I.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,J){return I.H.useDeferredValue(M,J)},Ae.useEffect=function(M,J){return I.H.useEffect(M,J)},Ae.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(M,J,le){return I.H.useImperativeHandle(M,J,le)},Ae.useInsertionEffect=function(M,J){return I.H.useInsertionEffect(M,J)},Ae.useLayoutEffect=function(M,J){return I.H.useLayoutEffect(M,J)},Ae.useMemo=function(M,J){return I.H.useMemo(M,J)},Ae.useOptimistic=function(M,J){return I.H.useOptimistic(M,J)},Ae.useReducer=function(M,J,le){return I.H.useReducer(M,J,le)},Ae.useRef=function(M){return I.H.useRef(M)},Ae.useState=function(M){return I.H.useState(M)},Ae.useSyncExternalStore=function(M,J,le){return I.H.useSyncExternalStore(M,J,le)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.1",Ae}var yv;function Gm(){return yv||(yv=1,Fd.exports=$E()),Fd.exports}var L=Gm();const Jc=GE(L);var Gd={exports:{}},_o={},Qd={exports:{}},Kd={};var vv;function YE(){return vv||(vv=1,(function(a){function e($,se){var de=$.length;$.push(se);e:for(;0<de;){var Ce=de-1>>>1,ke=$[Ce];if(0<l(ke,se))$[Ce]=se,$[de]=ke,de=Ce;else break e}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],de=$.pop();if(de!==se){$[0]=de;e:for(var Ce=0,ke=$.length,M=ke>>>1;Ce<M;){var J=2*(Ce+1)-1,le=$[J],ae=J+1,ve=$[ae];if(0>l(le,de))ae<ke&&0>l(ve,le)?($[Ce]=ve,$[ae]=de,Ce=ae):($[Ce]=le,$[J]=de,Ce=J);else if(ae<ke&&0>l(ve,de))$[Ce]=ve,$[ae]=de,Ce=ae;else break e}}return se}function l($,se){var de=$.sortIndex-se.sortIndex;return de!==0?de:$.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var g=[],y=[],b=1,E=null,A=3,j=!1,P=!1,G=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function oe($){for(var se=i(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=$)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=i(y)}}function me($){if(G=!1,oe($),!P)if(i(g)!==null)P=!0,ye||(ye=!0,R());else{var se=i(y);se!==null&&Ee(me,se.startTime-$)}}var ye=!1,I=-1,C=5,D=-1;function O(){return U?!0:!(a.unstable_now()-D<C)}function w(){if(U=!1,ye){var $=a.unstable_now();D=$;var se=!0;try{e:{P=!1,G&&(G=!1,ie(I),I=-1),j=!0;var de=A;try{t:{for(oe($),E=i(g);E!==null&&!(E.expirationTime>$&&O());){var Ce=E.callback;if(typeof Ce=="function"){E.callback=null,A=E.priorityLevel;var ke=Ce(E.expirationTime<=$);if($=a.unstable_now(),typeof ke=="function"){E.callback=ke,oe($),se=!0;break t}E===i(g)&&s(g),oe($)}else s(g);E=i(g)}if(E!==null)se=!0;else{var M=i(y);M!==null&&Ee(me,M.startTime-$),se=!1}}break e}finally{E=null,A=de,j=!1}se=void 0}}finally{se?R():ye=!1}}}var R;if(typeof X=="function")R=function(){X(w)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,pe=S.port2;S.port1.onmessage=w,R=function(){pe.postMessage(null)}}else R=function(){Y(w,0)};function Ee($,se){I=Y(function(){$(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function($){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var de=A;A=se;try{return $()}finally{A=de}},a.unstable_requestPaint=function(){U=!0},a.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var de=A;A=$;try{return se()}finally{A=de}},a.unstable_scheduleCallback=function($,se,de){var Ce=a.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ce+de:Ce):de=Ce,$){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,$={id:b++,callback:se,priorityLevel:$,startTime:de,expirationTime:ke,sortIndex:-1},de>Ce?($.sortIndex=de,e(y,$),i(g)===null&&$===i(y)&&(G?(ie(I),I=-1):G=!0,Ee(me,de-Ce))):($.sortIndex=ke,e(g,$),P||j||(P=!0,ye||(ye=!0,R()))),$},a.unstable_shouldYield=O,a.unstable_wrapCallback=function($){var se=A;return function(){var de=A;A=se;try{return $.apply(this,arguments)}finally{A=de}}}})(Kd)),Kd}var _v;function XE(){return _v||(_v=1,Qd.exports=YE()),Qd.exports}var $d={exports:{}},Wt={};var bv;function ZE(){if(bv)return Wt;bv=1;var a=Gm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Wt.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:j}):b==="script"&&s.d.X(g,{crossOrigin:E,integrity:A,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Wt.requestFormReset=function(g){s.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.1",Wt}var xv;function JE(){if(xv)return $d.exports;xv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),$d.exports=ZE(),$d.exports}var wv;function WE(){if(wv)return _o;wv=1;var a=XE(),e=Gm(),i=JE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return g(h),t;if(d===o)return g(h),n;d=d.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===r){_=!0,r=h,o=d;break}if(T===o){_=!0,o=h,r=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===r){_=!0,r=d,o=h;break}if(T===o){_=!0,o=d,r=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),X=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case me:return"Suspense";case ye:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case X:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case oe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case C:n=t._payload,t=t._init;try{return pe(t(n))}catch(r){}}return null}var Ee=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ce=[],ke=-1;function M(t){return{current:t}}function J(t){0>ke||(t.current=Ce[ke],Ce[ke]=null,ke--)}function le(t,n){ke++,Ce[ke]=t.current,t.current=n}var ae=M(null),ve=M(null),xe=M(null),Re=M(null);function he(t,n){switch(le(xe,n),le(ve,t),le(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?L0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=L0(n),t=U0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(ae),le(ae,t)}function He(){J(ae),J(ve),J(xe)}function In(t){t.memoizedState!==null&&le(Re,t);var n=ae.current,r=U0(n,t.type);n!==r&&(le(ve,t),le(ae,r))}function hi(t){ve.current===t&&(J(ae),J(ve)),Re.current===t&&(J(Re),mo._currentValue=de)}var _a,ba;function Et(t){if(_a===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);_a=n&&n[1]||"",ba=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_a+t+ba}var jn=!1;function fi(t,n){if(!t||jn)return"";jn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var F=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){F=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){F=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var k=_.split("\n"),H=T.split("\n");for(h=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(o===k.length||h===H.length)for(o=k.length-1,h=H.length-1;1<=o&&0<=h&&k[o]!==H[h];)h--;for(;1<=o&&0<=h;o--,h--)if(k[o]!==H[h]){if(o!==1||h!==1)do if(o--,h--,0>h||k[o]!==H[h]){var Z="\n"+k[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=h);break}}}finally{jn=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Et(r):""}function xa(t,n){switch(t.tag){case 26:case 27:case 5:return Et(t.type);case 16:return Et("Lazy");case 13:return t.child!==n&&n!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return fi(t.type,!1);case 11:return fi(t.type.render,!1);case 1:return fi(t.type,!0);case 31:return Et("Activity");default:return""}}function pl(t){try{var n="",r=null;do n+=xa(t,r),r=t,t=t.return;while(t);return n}catch(o){return"\nError generating stack: "+o.message+"\n"+o.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=a.unstable_scheduleCallback,wa=a.unstable_cancelCallback,Fh=a.unstable_shouldYield,au=a.unstable_requestPaint,sn=a.unstable_now,vs=a.unstable_getCurrentPriorityLevel,gl=a.unstable_ImmediatePriority,yl=a.unstable_UserBlockingPriority,Ea=a.unstable_NormalPriority,Gh=a.unstable_LowPriority,su=a.unstable_IdlePriority,ru=a.log,lu=a.unstable_setDisableYieldValue,Xn=null,Ht=null;function kn(t){if(typeof ru=="function"&&lu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Xn,t)}catch(n){}}var vt=Math.clz32?Math.clz32:uu,ou=Math.log,lr=Math.LN2;function uu(t){return t>>>=0,t===0?32:31-(ou(t)/lr|0)|0}var di=256,_s=262144,St=4194304;function mi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=mi(o):(_&=T,_!==0?h=mi(_):r||(r=T&~t,r!==0&&(h=mi(r))))):(T=o&~d,T!==0?h=mi(T):_!==0?h=mi(_):r||(r=o&~t,r!==0&&(h=mi(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Qh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function gi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function bs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kh(t,n,r,o,h,d){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,k=t.expirationTimes,H=t.hiddenUpdates;for(r=_&~r;0<r;){var Z=31-vt(r),te=1<<Z;T[Z]=0,k[Z]=-1;var F=H[Z];if(F!==null)for(H[Z]=null,Z=0;Z<F.length;Z++){var K=F[Z];K!==null&&(K.lane&=-536870913)}r&=~te}o!==0&&xs(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function xs(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-vt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function vl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-vt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function _l(t,n){var r=n&-n;return r=(r&42)!==0?1:ws(r),(r&(t.suspendedLanes|n))!==0?0:r}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:lv(t.type))}function Jn(t,n){var r=se.p;try{return se.p=t,n()}finally{se.p=r}}var Wn=Math.random().toString(36).slice(2),At="__reactFiber$"+Wn,Pt="__reactProps$"+Wn,yi="__reactContainer$"+Wn,or="__reactEvents$"+Wn,$h="__reactListeners$"+Wn,fu="__reactHandles$"+Wn,du="__reactResources$"+Wn,vi="__reactMarker$"+Wn;function ur(t){delete t[At],delete t[Pt],delete t[or],delete t[$h],delete t[fu]}function _i(t){var n=t[At];if(n)return n;for(var r=t.parentNode;r;){if(n=r[yi]||r[At]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=G0(t);t!==null;){if(r=t[At])return r;t=G0(t)}return n}t=r,r=t.parentNode}return null}function On(t){if(t=t[At]||t[yi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _n(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function bi(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[vi]=!0}var bl=new Set,xl={};function xi(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(xl[t]=n,t=0;t<n.length;t++)bl.add(n[t])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function mu(t){return Tt.call(Tl,t)?!0:Tt.call(El,t)?!1:wl.test(t)?Tl[t]=!0:(El[t]=!0,!1)}function cr(t,n,r){if(mu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Rt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ta(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sl(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Xe(t){if(!t._valueTracker){var n=Ta(t)?"checked":"value";t._valueTracker=Sl(t,n,""+t[n])}}function Es(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ta(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch(n){return t.body}}var Ts=/[\n"\\]/g;function un(t){return t.replace(Ts,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hr(t,n,r,o,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Al(t,_,zt(n)):r!=null?Al(t,_,zt(r)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+zt(T):t.removeAttribute("name")}function pu(t,n,r,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Xe(t);return}r=r!=null?""+zt(r):"",n=n!=null?""+zt(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o!=null?o:h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Al(t,n,r){n==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Sa(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+zt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function gu(t,n,r){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+zt(r):""}function Aa(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Ee(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=zt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Xe(t)}function cn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||yu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Rl(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Nl(t,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Nl(t,d,n[d])}function fr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dr(t){return Na.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Cl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ra=null,Ti=null;function Ss(t){var n=On(t);if(n&&(t=n.stateNode)){var r=t[Pt]||null;e:switch(t=n.stateNode,n.type){case"input":if(hr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Pt]||null;if(!h)throw Error(s(90));hr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Es(o)}break e;case"textarea":gu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Sa(t,!!r.multiple,n,!1)}}}var mr=!1;function Ca(t,n,r){if(mr)return t(n,r);mr=!0;try{var o=t(n);return o}finally{if(mr=!1,(Ra!==null||Ti!==null)&&(hc(),Ra&&(n=Ra,t=Ti,Ti=Ra=null,Ss(n),t)))for(n=0;n<t.length;n++)Ss(t[n])}}function ti(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Pt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Vn)try{var We={};Object.defineProperty(We,"passive",{get:function(){As=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(t){As=!1}var Si=null,Dl=null,Ns=null;function Il(){if(Ns)return Ns;var t,n=Dl,r=n.length,o,h="value"in Si?Si.value:Si.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var _=r-t;for(o=1;o<=_&&n[r-o]===h[d-o];o++);return Ns=h.slice(t,1<o?1-o:void 0)}function Rs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function ni(){return!1}function Ft(t){function n(r,o,h,d,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:ni,this.isPropagationStopped=ni,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Ft(Fi),Da=E({},Fi,{view:0,detail:0}),jl=Ft(Da),Ia,pr,Ni,gr=E({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ia=t.screenX-Ni.screenX,pr=t.screenY-Ni.screenY):pr=Ia=0,Ni=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:pr}}),kl=Ft(gr),Cs=E({},gr,{dataTransfer:0}),_u=Ft(Cs),bu=E({},Da,{relatedTarget:0}),Ds=Ft(bu),Ol=E({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=Ft(Ol),yr=E({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=Ft(yr),Eu=E({},Fi,{data:0}),Ri=Ft(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function ja(){return Nu}var rn=E({},Da,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(t){return t.type==="keypress"?Rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Ft(rn),Cu=E({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Ft(Cu),c=E({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),v=Ft(c),x=E({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Ft(x),B=E({},gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ft(B),re=E({},Fi,{newState:0,oldState:0}),De=Ft(re),_t=[9,13,27,32],Qe=Vn&&"CompositionEvent"in window,ut=null;Vn&&"documentMode"in document&&(ut=document.documentMode);var Ln=Vn&&"TextEvent"in window&&!ut,Ci=Vn&&(!Qe||ut&&8<ut&&11>=ut),ii=" ",ai=!1;function Is(t,n){switch(t){case"keyup":return _t.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function pw(t,n){switch(t){case"compositionend":return vr(n);case"keypress":return n.which!==32?null:(ai=!0,ii);case"textInput":return t=n.data,t===ii&&ai?null:t;default:return null}}function gw(t,n){if(_r)return t==="compositionend"||!Qe&&Is(t,n)?(t=Il(),Ns=Dl=Si=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!yw[t.type]:n==="textarea"}function Yp(t,n,r,o){Ra?Ti?Ti.push(o):Ti=[o]:Ra=o,n=vc(n,"onChange"),0<n.length&&(r=new Ai("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ml=null,Vl=null;function vw(t){I0(t,0)}function Du(t){var n=_n(t);if(Es(n))return t}function Xp(t,n){if(t==="change")return n}var Zp=!1;if(Vn){var Yh;if(Vn){var Xh="oninput"in document;if(!Xh){var Jp=document.createElement("div");Jp.setAttribute("oninput","return;"),Xh=typeof Jp.oninput=="function"}Yh=Xh}else Yh=!1;Zp=Yh&&(!document.documentMode||9<document.documentMode)}function Wp(){Ml&&(Ml.detachEvent("onpropertychange",eg),Vl=Ml=null)}function eg(t){if(t.propertyName==="value"&&Du(Vl)){var n=[];Yp(n,Vl,t,Mn(t)),Ca(vw,n)}}function _w(t,n,r){t==="focusin"?(Wp(),Ml=n,Vl=r,Ml.attachEvent("onpropertychange",eg)):t==="focusout"&&Wp()}function bw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Vl)}function xw(t,n){if(t==="click")return Du(n)}function ww(t,n){if(t==="input"||t==="change")return Du(n)}function Ew(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var xn=typeof Object.is=="function"?Object.is:Ew;function Ll(t,n){if(xn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Tt.call(n,h)||!xn(t[h],n[h]))return!1}return!0}function tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ng(t,n){var r=tg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tg(r)}}function ig(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ig(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ei(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch(o){r=!1}if(r)t=n.contentWindow;else break;n=Ei(t.document)}return n}function Zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Tw=Vn&&"documentMode"in document&&11>=document.documentMode,br=null,Jh=null,Ul=null,Wh=!1;function sg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wh||br==null||br!==Ei(o)||(o=br,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ul&&Ll(Ul,o)||(Ul=o,o=vc(Jh,"onSelect"),0<o.length&&(n=new Ai("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=br)))}function js(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var xr={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},ef={},rg={};Vn&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function ks(t){if(ef[t])return ef[t];if(!xr[t])return t;var n=xr[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in rg)return ef[t]=n[r];return t}var lg=ks("animationend"),og=ks("animationiteration"),ug=ks("animationstart"),Sw=ks("transitionrun"),Aw=ks("transitionstart"),Nw=ks("transitioncancel"),cg=ks("transitionend"),hg=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function si(t,n){hg.set(t,n),xi(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],wr=0,nf=0;function ju(){for(var t=wr,n=nf=wr=0;n<t;){var r=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var d=Un[n];if(Un[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&fg(r,h,d)}}function ku(t,n,r,o){Un[wr++]=t,Un[wr++]=n,Un[wr++]=r,Un[wr++]=o,nf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function af(t,n,r,o){return ku(t,n,r,o),Ou(t)}function Os(t,n){return ku(t,null,null,n),Ou(t)}function fg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-vt(r),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),d):null}function Ou(t){if(50<ro)throw ro=0,dd=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Er={};function Rw(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,o){return new Rw(t,n,r,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function dg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,r,o,h,d){var _=0;if(o=t,typeof t=="function")sf(t)&&(_=1);else if(typeof t=="string")_=kE(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=wn(31,r,n,h),t.elementType=D,t.lanes=d,t;case G:return Ms(r.children,h,d,n);case U:_=8,h|=24;break;case Y:return t=wn(12,r,n,h|2),t.elementType=Y,t.lanes=d,t;case me:return t=wn(13,r,n,h),t.elementType=me,t.lanes=d,t;case ye:return t=wn(19,r,n,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:_=10;break e;case ie:_=9;break e;case oe:_=11;break e;case I:_=14;break e;case C:_=16,o=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=wn(_,r,n,h),n.elementType=t,n.type=o,n.lanes=d,n}function Ms(t,n,r,o){return t=wn(7,t,o,n),t.lanes=r,t}function rf(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function mg(t){var n=wn(18,null,null,0);return n.stateNode=t,n}function lf(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var pg=new WeakMap;function Pn(t,n){if(typeof t=="object"&&t!==null){var r=pg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:pl(n)},pg.set(t,n),n)}return{value:t,source:n,stack:pl(n)}}var Tr=[],Sr=0,Vu=null,Pl=0,zn=[],Bn=0,ka=null,Di=1,Ii="";function Ki(t,n){Tr[Sr++]=Pl,Tr[Sr++]=Vu,Vu=t,Pl=n}function gg(t,n,r){zn[Bn++]=Di,zn[Bn++]=Ii,zn[Bn++]=ka,ka=t;var o=Di;t=Ii;var h=32-vt(o)-1;o&=~(1<<h),r+=1;var d=32-vt(n)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Di=1<<32-vt(n)+h|r<<h|o,Ii=d+t}else Di=1<<d|r<<h|o,Ii=t}function of(t){t.return!==null&&(Ki(t,1),gg(t,1,0))}function uf(t){for(;t===Vu;)Vu=Tr[--Sr],Tr[Sr]=null,Pl=Tr[--Sr],Tr[Sr]=null;for(;t===ka;)ka=zn[--Bn],zn[Bn]=null,Ii=zn[--Bn],zn[Bn]=null,Di=zn[--Bn],zn[Bn]=null}function yg(t,n){zn[Bn++]=Di,zn[Bn++]=Ii,zn[Bn++]=ka,Di=n.id,Ii=n.overflow,ka=t}var Gt=null,rt=null,ze=!1,Oa=null,qn=!1,cf=Error(s(519));function Ma(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(Pn(n,t)),cf}function vg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[At]=t,n[Pt]=o,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(r=0;r<oo.length;r++)Me(oo[r],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),Aa(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||M0(n.textContent,r)?(o.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),o.onScroll!=null&&Me("scroll",n),o.onScrollEnd!=null&&Me("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ma(t,!0)}function _g(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Gt=Gt.return}}function Ar(t){if(t!==Gt)return!1;if(!ze)return _g(t),ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rd(t.type,t.memoizedProps)),r=!r),r&&rt&&Ma(t),_g(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=F0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=F0(t)}else n===27?(n=rt,Ya(t.type)?(t=kd,kd=null,rt=t):rt=n):rt=Gt?Fn(t.stateNode.nextSibling):null;return!0}function Vs(){rt=Gt=null,ze=!1}function hf(){var t=Oa;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Oa=null),t}function zl(t){Oa===null?Oa=[t]:Oa.push(t)}var ff=M(null),Ls=null,$i=null;function Va(t,n,r){le(ff,n._currentValue),n._currentValue=r}function Yi(t){t._currentValue=ff.current,J(ff)}function df(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function mf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var k=0;k<n.length;k++)if(T.context===n[k]){d.lanes|=r,T=d.alternate,T!==null&&(T.lanes|=r),df(d.return,r,t),o||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,d=_.alternate,d!==null&&(d.lanes|=r),df(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Nr(t,n,r,o){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;xn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(mo):t=[mo])}h=h.return}t!==null&&mf(n,t,r,o),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ls=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return bg(Ls,t)}function Uu(t,n){return Ls===null&&Us(t),bg(t,n)}function bg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},$i===null){if(t===null)throw Error(s(308));$i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $i=$i.next=n;return r}var Cw=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Dw=a.unstable_scheduleCallback,Iw=a.unstable_NormalPriority,Ct={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new Cw,data:new Map,refCount:0}}function Bl(t){t.refCount--,t.refCount===0&&Dw(Iw,function(){t.controller.abort()})}var ql=null,gf=0,Rr=0,Cr=null;function jw(t,n){if(ql===null){var r=ql=[];gf=0,Rr=_d(),Cr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return gf++,n.then(xg,xg),n}function xg(){if(--gf===0&&ql!==null){Cr!==null&&(Cr.status="fulfilled");var t=ql;ql=null,Rr=0,Cr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kw(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var wg=$.S;$.S=function(t,n){s0=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jw(t,n),wg!==null&&wg(t,n)};var Ps=M(null);function yf(){var t=Ps.current;return t!==null?t:it.pooledCache}function Pu(t,n){n===null?le(Ps,Ps.current):le(Ps,n.pool)}function Eg(){var t=yf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Dr=Error(s(460)),vf=Error(s(474)),zu=Error(s(542)),Bu={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ei,ei),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ng(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ng(t),t}throw Bs=n,Dr}}function zs(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Bs=r,Dr):r}}var Bs=null;function Ag(){if(Bs===null)throw Error(s(459));var t=Bs;return Bs=null,t}function Ng(t){if(t===Dr||t===zu)throw Error(s(483))}var Ir=null,Hl=0;function qu(t){var n=Hl;return Hl+=1,Ir===null&&(Ir=[]),Sg(Ir,t,n)}function Fl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Rg(t){function n(z,V){if(t){var q=z.deletions;q===null?(z.deletions=[V],z.flags|=16):q.push(V)}}function r(z,V){if(!t)return null;for(;V!==null;)n(z,V),V=V.sibling;return null}function o(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=Qi(z,V),z.index=0,z.sibling=null,z}function d(z,V,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<V?(z.flags|=67108866,V):q):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,V,q,W){return V===null||V.tag!==6?(V=rf(q,z.mode,W),V.return=z,V):(V=h(V,q),V.return=z,V)}function k(z,V,q,W){var _e=q.type;return _e===G?Z(z,V,q.props.children,W,q.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&zs(_e)===V.type)?(V=h(V,q.props),Fl(V,q),V.return=z,V):(V=Mu(q.type,q.key,q.props,null,z.mode,W),Fl(V,q),V.return=z,V)}function H(z,V,q,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=lf(q,z.mode,W),V.return=z,V):(V=h(V,q.children||[]),V.return=z,V)}function Z(z,V,q,W,_e){return V===null||V.tag!==7?(V=Ms(q,z.mode,W,_e),V.return=z,V):(V=h(V,q),V.return=z,V)}function te(z,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=rf(""+V,z.mode,q),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return q=Mu(V.type,V.key,V.props,null,z.mode,q),Fl(q,V),q.return=z,q;case P:return V=lf(V,z.mode,q),V.return=z,V;case C:return V=zs(V),te(z,V,q)}if(Ee(V)||R(V))return V=Ms(V,z.mode,q,null),V.return=z,V;if(typeof V.then=="function")return te(z,qu(V),q);if(V.$$typeof===X)return te(z,Uu(z,V),q);Hu(z,V)}return null}function F(z,V,q,W){var _e=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:T(z,V,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case j:return q.key===_e?k(z,V,q,W):null;case P:return q.key===_e?H(z,V,q,W):null;case C:return q=zs(q),F(z,V,q,W)}if(Ee(q)||R(q))return _e!==null?null:Z(z,V,q,W,null);if(typeof q.then=="function")return F(z,V,qu(q),W);if(q.$$typeof===X)return F(z,V,Uu(z,q),W);Hu(z,q)}return null}function K(z,V,q,W,_e){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(q)||null,T(V,z,""+W,_e);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return z=z.get(W.key===null?q:W.key)||null,k(V,z,W,_e);case P:return z=z.get(W.key===null?q:W.key)||null,H(V,z,W,_e);case C:return W=zs(W),K(z,V,q,W,_e)}if(Ee(W)||R(W))return z=z.get(q)||null,Z(V,z,W,_e,null);if(typeof W.then=="function")return K(z,V,q,qu(W),_e);if(W.$$typeof===X)return K(z,V,q,Uu(V,W),_e);Hu(V,W)}return null}function fe(z,V,q,W){for(var _e=null,Fe=null,ge=V,je=V=0,Le=null;ge!==null&&je<q.length;je++){ge.index>je?(Le=ge,ge=null):Le=ge.sibling;var Ge=F(z,ge,q[je],W);if(Ge===null){ge===null&&(ge=Le);break}t&&ge&&Ge.alternate===null&&n(z,ge),V=d(Ge,V,je),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge,ge=Le}if(je===q.length)return r(z,ge),ze&&Ki(z,je),_e;if(ge===null){for(;je<q.length;je++)ge=te(z,q[je],W),ge!==null&&(V=d(ge,V,je),Fe===null?_e=ge:Fe.sibling=ge,Fe=ge);return ze&&Ki(z,je),_e}for(ge=o(ge);je<q.length;je++)Le=K(ge,z,je,q[je],W),Le!==null&&(t&&Le.alternate!==null&&ge.delete(Le.key===null?je:Le.key),V=d(Le,V,je),Fe===null?_e=Le:Fe.sibling=Le,Fe=Le);return t&&ge.forEach(function(es){return n(z,es)}),ze&&Ki(z,je),_e}function we(z,V,q,W){if(q==null)throw Error(s(151));for(var _e=null,Fe=null,ge=V,je=V=0,Le=null,Ge=q.next();ge!==null&&!Ge.done;je++,Ge=q.next()){ge.index>je?(Le=ge,ge=null):Le=ge.sibling;var es=F(z,ge,Ge.value,W);if(es===null){ge===null&&(ge=Le);break}t&&ge&&es.alternate===null&&n(z,ge),V=d(es,V,je),Fe===null?_e=es:Fe.sibling=es,Fe=es,ge=Le}if(Ge.done)return r(z,ge),ze&&Ki(z,je),_e;if(ge===null){for(;!Ge.done;je++,Ge=q.next())Ge=te(z,Ge.value,W),Ge!==null&&(V=d(Ge,V,je),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Ki(z,je),_e}for(ge=o(ge);!Ge.done;je++,Ge=q.next())Ge=K(ge,z,je,Ge.value,W),Ge!==null&&(t&&Ge.alternate!==null&&ge.delete(Ge.key===null?je:Ge.key),V=d(Ge,V,je),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ge.forEach(function(FE){return n(z,FE)}),ze&&Ki(z,je),_e}function nt(z,V,q,W){if(typeof q=="object"&&q!==null&&q.type===G&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case j:e:{for(var _e=q.key;V!==null;){if(V.key===_e){if(_e=q.type,_e===G){if(V.tag===7){r(z,V.sibling),W=h(V,q.props.children),W.return=z,z=W;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===C&&zs(_e)===V.type){r(z,V.sibling),W=h(V,q.props),Fl(W,q),W.return=z,z=W;break e}r(z,V);break}else n(z,V);V=V.sibling}q.type===G?(W=Ms(q.props.children,z.mode,W,q.key),W.return=z,z=W):(W=Mu(q.type,q.key,q.props,null,z.mode,W),Fl(W,q),W.return=z,z=W)}return _(z);case P:e:{for(_e=q.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){r(z,V.sibling),W=h(V,q.children||[]),W.return=z,z=W;break e}else{r(z,V);break}else n(z,V);V=V.sibling}W=lf(q,z.mode,W),W.return=z,z=W}return _(z);case C:return q=zs(q),nt(z,V,q,W)}if(Ee(q))return fe(z,V,q,W);if(R(q)){if(_e=R(q),typeof _e!="function")throw Error(s(150));return q=_e.call(q),we(z,V,q,W)}if(typeof q.then=="function")return nt(z,V,qu(q),W);if(q.$$typeof===X)return nt(z,V,Uu(z,q),W);Hu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(r(z,V.sibling),W=h(V,q),W.return=z,z=W):(r(z,V),W=rf(q,z.mode,W),W.return=z,z=W),_(z)):r(z,V)}return function(z,V,q,W){try{Hl=0;var _e=nt(z,V,q,W);return Ir=null,_e}catch(ge){if(ge===Dr||ge===zu)throw ge;var Fe=wn(29,ge,null,z.mode);return Fe.lanes=W,Fe.return=z,Fe}finally{}}}var qs=Rg(!0),Cg=Rg(!1),La=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ke&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ou(t),fg(t,null,r),n}return ku(t,o,n,r),Ou(t)}function Gl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,vl(t,r)}}function xf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var wf=!1;function Ql(){if(wf){var t=Cr;if(t!==null)throw t}}function Kl(t,n,r,o){wf=!1;var h=t.updateQueue;La=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var k=T,H=k.next;k.next=null,_===null?d=H:_.next=H,_=k;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=k))}if(d!==null){var te=h.baseState;_=0,Z=H=k=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(Ve&F)===F:(o&F)===F){F!==0&&F===Rr&&(wf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,we=T;F=n;var nt=r;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){te=fe.call(nt,te,F);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,F=typeof fe=="function"?fe.call(nt,te,F):fe,F==null)break e;te=E({},te,F);break e;case 2:La=!0}}F=T.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=K,k=te):Z=Z.next=K,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(k=te),h.baseState=k,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Fa|=_,t.lanes=_,t.memoizedState=te}}function Dg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Ig(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Dg(r[t],n)}var jr=M(null),Fu=M(0);function jg(t,n){t=aa,le(Fu,t),le(jr,n),aa=t|n.baseLanes}function Ef(){le(Fu,aa),le(jr,jr.current)}function Tf(){aa=Fu.current,J(jr),J(Fu)}var En=M(null),Hn=null;function za(t){var n=t.alternate;le(bt,bt.current&1),le(En,t),Hn===null&&(n===null||jr.current!==null||n.memoizedState!==null)&&(Hn=t)}function Sf(t){le(bt,bt.current),le(En,t),Hn===null&&(Hn=t)}function kg(t){t.tag===22?(le(bt,bt.current),le(En,t),Hn===null&&(Hn=t)):Ba()}function Ba(){le(bt,bt.current),le(En,En.current)}function Tn(t){J(En),Hn===t&&(Hn=null),J(bt)}var bt=M(0);function Gu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Id(r)||jd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,Ie=null,et=null,Dt=null,Qu=!1,kr=!1,Hs=!1,Ku=0,$l=0,Or=null,Ow=0;function dt(){throw Error(s(321))}function Af(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!xn(t[r],n[r]))return!1;return!0}function Nf(t,n,r,o,h,d){return Xi=d,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?gy:qf,Hs=!1,d=r(o,h),Hs=!1,kr&&(d=Mg(n,r,o,h)),Og(t),d}function Og(t){$.H=Zl;var n=et!==null&&et.next!==null;if(Xi=0,Dt=et=Ie=null,Qu=!1,$l=0,Or=null,n)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&Lu(t)&&(It=!0))}function Mg(t,n,r,o){Ie=t;var h=0;do{if(kr&&(Or=null),$l=0,kr=!1,25<=h)throw Error(s(301));if(h+=1,Dt=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=yy,d=n(r,o)}while(kr);return d}function Mw(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?Yl(n):n,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),n}function Rf(){var t=Ku!==0;return Ku=0,t}function Cf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Df(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}Xi=0,Dt=et=Ie=null,kr=!1,$l=Ku=0,Or=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ie.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function xt(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var n=Dt===null?Ie.memoizedState:Dt.next;if(n!==null)Dt=n,et=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Dt===null?Ie.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var n=$l;return $l+=1,Or===null&&(Or=[]),t=Sg(Or,t,n),n=Ie,(Dt===null?n.memoizedState:Dt.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?gy:qf),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===X)return Qt(t)}throw Error(s(438,String(t)))}function If(t){var n=null,r=Ie.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$u(),Ie.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=O;return n.index++,r}function Zi(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=xt();return jf(n,et,t)}function jf(t,n,r){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=_=null,k=null,H=n,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Ve&te)===te:(Xi&te)===te){var F=H.revertLane;if(F===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Rr&&(Z=!0);else if((Xi&F)===F){H=H.next,F===Rr&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(T=k=te,_=d):k=k.next=te,Ie.lanes|=F,Fa|=F;te=H.action,Hs&&r(d,te),d=H.hasEagerState?H.eagerState:r(d,te)}else F={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},k===null?(T=k=F,_=d):k=k.next=F,Ie.lanes|=te,Fa|=te;H=H.next}while(H!==null&&H!==n);if(k===null?_=d:k.next=T,!xn(d,t.memoizedState)&&(It=!0,Z&&(r=Cr,r!==null)))throw r;t.memoizedState=d,t.baseState=_,t.baseQueue=k,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function kf(t){var n=xt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);xn(d,n.memoizedState)||(It=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,o]}function Vg(t,n,r){var o=Ie,h=xt(),d=ze;if(d){if(r===void 0)throw Error(s(407));r=r()}else r=n();var _=!xn((et||h).memoizedState,r);if(_&&(h.memoizedState=r,It=!0),h=h.queue,Vf(Pg.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||Dt!==null&&Dt.memoizedState.tag&1){if(o.flags|=2048,Mr(9,{destroy:void 0},Ug.bind(null,o,h,r,n),null),it===null)throw Error(s(349));d||(Xi&127)!==0||Lg(o,n,r)}return r}function Lg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ie.updateQueue,n===null?(n=$u(),Ie.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Ug(t,n,r,o){n.value=r,n.getSnapshot=o,zg(n)&&Bg(t)}function Pg(t,n,r){return r(function(){zg(n)&&Bg(t)})}function zg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!xn(t,r)}catch(o){return!0}}function Bg(t){var n=Os(t,2);n!==null&&pn(n,t,2)}function Of(t){var n=ln();if(typeof t=="function"){var r=t;if(t=r(),Hs){kn(!0);try{r()}finally{kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},n}function qg(t,n,r,o){return t.baseState=r,jf(t,et,typeof o=="function"?o:Zi)}function Vw(t,n,r,o,h){if(Wu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?r(!0):d.isTransition=!1,o(d),r=n.pending,r===null?(d.next=n.pending=d,Hg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Hg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var d=$.T,_={};$.T=_;try{var T=r(h,o),k=$.S;k!==null&&k(_,T),Fg(t,n,T)}catch(H){Mf(t,n,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=r(h,o),Fg(t,n,d)}catch(H){Mf(t,n,H)}}function Fg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Gg(t,n,o)},function(o){return Mf(t,n,o)}):Gg(t,n,r)}function Gg(t,n,r){n.status="fulfilled",n.value=r,Qg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Hg(t,r)))}function Mf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Qg(n),n=n.next;while(n!==o)}t.action=null}function Qg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Kg(t,n){return n}function $g(t,n){if(ze){var r=it.formState;if(r!==null){e:{var o=Ie;if(ze){if(rt){t:{for(var h=rt,d=qn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=Fn(h.nextSibling),o=h.data==="F!";break e}}Ma(o)}o=!1}o&&(n=r[0])}}return r=ln(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:n},r.queue=o,r=dy.bind(null,Ie,o),o.dispatch=r,o=Of(!1),d=Bf.bind(null,Ie,!1,o.queue),o=ln(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=Vw.bind(null,Ie,h,d,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Yg(t){var n=xt();return Xg(n,et,t)}function Xg(t,n,r){if(n=jf(t,n,Kg)[0],t=Xu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yl(n)}catch(_){throw _===Dr?zu:_}else o=n;n=xt();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Ie.flags|=2048,Mr(9,{destroy:void 0},Lw.bind(null,h,r),null)),[o,d,t]}function Lw(t,n){t.action=n}function Zg(t){var n=xt(),r=et;if(r!==null)return Xg(n,r,t);xt(),n=n.memoizedState,r=xt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Mr(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=$u(),Ie.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Jg(){return xt().memoizedState}function Zu(t,n,r,o){var h=ln();Ie.flags|=t,h.memoizedState=Mr(1|n,{destroy:void 0},r,o===void 0?null:o)}function Ju(t,n,r,o){var h=xt();o=o===void 0?null:o;var d=h.memoizedState.inst;et!==null&&o!==null&&Af(o,et.memoizedState.deps)?h.memoizedState=Mr(n,d,r,o):(Ie.flags|=t,h.memoizedState=Mr(1|n,d,r,o))}function Wg(t,n){Zu(8390656,8,t,n)}function Vf(t,n){Ju(2048,8,t,n)}function Uw(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=$u(),Ie.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function ey(t){var n=xt().memoizedState;return Uw({ref:n,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ty(t,n){return Ju(4,2,t,n)}function ny(t,n){return Ju(4,4,t,n)}function iy(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ay(t,n,r){r=r!=null?r.concat([t]):null,Ju(4,4,iy.bind(null,n,t),r)}function Lf(){}function sy(t,n){var r=xt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Af(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function ry(t,n){var r=xt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Af(n,o[1]))return o[0];if(o=t(),Hs){kn(!0);try{t()}finally{kn(!1)}}return r.memoizedState=[o,n],o}function Uf(t,n,r){return r===void 0||(Xi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=l0(),Ie.lanes|=t,Fa|=t,r)}function ly(t,n,r,o){return xn(r,n)?r:jr.current!==null?(t=Uf(t,r,o),xn(t,n)||(It=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Ve&261930)===0?(It=!0,t.memoizedState=r):(t=l0(),Ie.lanes|=t,Fa|=t,n)}function oy(t,n,r,o,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,T={};$.T=T,Bf(t,!1,n,r);try{var k=h(),H=$.S;if(H!==null&&H(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=kw(k,o);Xl(t,n,Z,Nn(t))}else Xl(t,n,o,Nn(t))}catch(te){Xl(t,n,{then:function(){},status:"rejected",reason:te},Nn())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),$.T=_}}function Pw(){}function Pf(t,n,r,o){if(t.tag!==5)throw Error(s(476));var h=uy(t).queue;oy(t,h,n,de,r===null?Pw:function(){return cy(t),r(o)})}function uy(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function cy(t){var n=uy(t);n.next===null&&(n=t.alternate.memoizedState),Xl(t,n.next.queue,{},Nn())}function zf(){return Qt(mo)}function hy(){return xt().memoizedState}function fy(){return xt().memoizedState}function zw(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Nn();t=Ua(r);var o=Pa(n,t,r);o!==null&&(pn(o,n,r),Gl(o,n,r)),n={cache:pf()},t.payload=n;return}n=n.return}}function Bw(t,n,r){var o=Nn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Wu(t)?my(n,r):(r=af(t,n,r,o),r!==null&&(pn(r,t,o),py(r,n,o)))}function dy(t,n,r){var o=Nn();Xl(t,n,r,o)}function Xl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))my(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,r);if(h.hasEagerState=!0,h.eagerState=T,xn(T,_))return ku(t,n,h,0),it===null&&ju(),!1}catch(k){}finally{}if(r=af(t,n,h,o),r!==null)return pn(r,t,o),py(r,n,o),!0}return!1}function Bf(t,n,r,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(s(479))}else n=af(t,r,o,2),n!==null&&pn(n,t,2)}function Wu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function my(t,n){kr=Qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function py(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,vl(t,r)}}var Zl={readContext:Qt,use:Yu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Zl.useEffectEvent=dt;var gy={readContext:Qt,use:Yu,useCallback:function(t,n){return ln().memoizedState=[t,n===void 0?null:n],t},useContext:Qt,useEffect:Wg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Zu(4194308,4,iy.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var r=ln();n=n===void 0?null:n;var o=t();if(Hs){kn(!0);try{t()}finally{kn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=ln();if(r!==void 0){var h=r(n);if(Hs){kn(!0);try{r(n)}finally{kn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Bw.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var n=ln();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,r=dy.bind(null,Ie,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Lf,useDeferredValue:function(t,n){var r=ln();return Uf(r,t,n)},useTransition:function(){var t=Of(!1);return t=oy.bind(null,Ie,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ie,h=ln();if(ze){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),it===null)throw Error(s(349));(Ve&127)!==0||Lg(o,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Wg(Pg.bind(null,o,d,t),[t]),o.flags|=2048,Mr(9,{destroy:void 0},Ug.bind(null,o,d,r,n),null),r},useId:function(){var t=ln(),n=it.identifierPrefix;if(ze){var r=Ii,o=Di;r=(o&~(1<<32-vt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Ow++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:zf,useFormState:$g,useActionState:$g,useOptimistic:function(t){var n=ln();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Bf.bind(null,Ie,!0,r),r.dispatch=n,[t,n]},useMemoCache:If,useCacheRefresh:function(){return ln().memoizedState=zw.bind(null,Ie)},useEffectEvent:function(t){var n=ln(),r={impl:t};return n.memoizedState=r,function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},qf={readContext:Qt,use:Yu,useCallback:sy,useContext:Qt,useEffect:Vf,useImperativeHandle:ay,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ry,useReducer:Xu,useRef:Jg,useState:function(){return Xu(Zi)},useDebugValue:Lf,useDeferredValue:function(t,n){var r=xt();return ly(r,et.memoizedState,t,n)},useTransition:function(){var t=Xu(Zi)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:Vg,useId:hy,useHostTransitionStatus:zf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,n){var r=xt();return qg(r,et,t,n)},useMemoCache:If,useCacheRefresh:fy};qf.useEffectEvent=ey;var yy={readContext:Qt,use:Yu,useCallback:sy,useContext:Qt,useEffect:Vf,useImperativeHandle:ay,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ry,useReducer:kf,useRef:Jg,useState:function(){return kf(Zi)},useDebugValue:Lf,useDeferredValue:function(t,n){var r=xt();return et===null?Uf(r,t,n):ly(r,et.memoizedState,t,n)},useTransition:function(){var t=kf(Zi)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:Vg,useId:hy,useHostTransitionStatus:zf,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,n){var r=xt();return et!==null?qg(r,et,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:If,useCacheRefresh:fy};yy.useEffectEvent=ey;function Hf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ff={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Nn(),h=Ua(o);h.payload=n,r!=null&&(h.callback=r),n=Pa(t,h,o),n!==null&&(pn(n,t,o),Gl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Nn(),h=Ua(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Pa(t,h,o),n!==null&&(pn(n,t,o),Gl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Nn(),o=Ua(r);o.tag=2,n!=null&&(o.callback=n),n=Pa(t,o,r),n!==null&&(pn(n,t,r),Gl(n,t,r))}};function vy(t,n,r,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!Ll(r,o)||!Ll(h,d):!0}function _y(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Ff.enqueueReplaceState(n,n.state,null)}function Fs(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function by(t){Iu(t)}function xy(t){console.error(t)}function wy(t){Iu(t)}function ec(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ey(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,n,r){return r=Ua(r),r.tag=3,r.payload={element:null},r.callback=function(){ec(t,n)},r}function Ty(t){return t=Ua(t),t.tag=3,t}function Sy(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Ey(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ey(n,r,o),typeof h!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function qw(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Nr(n,r,h,!0),r=En.current,r!==null){switch(r.tag){case 31:case 13:return Hn===null?fc():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Bu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),gd(t,o,h)),!1;case 22:return r.flags|=65536,o===Bu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),gd(t,o,h)),!1}throw Error(s(435,r.tag))}return gd(t,o,h),fc(),!1}if(ze)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(t=Error(s(422),{cause:o}),zl(Pn(t,r)))):(o!==cf&&(n=Error(s(423),{cause:o}),zl(Pn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Pn(o,r),h=Gf(t.stateNode,o,h),xf(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:o});if(d=Pn(d,r),so===null?so=[d]:so.push(d),mt!==4&&(mt=2),n===null)return!0;o=Pn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Gf(r.stateNode,o,t),xf(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ga===null||!Ga.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Ty(h),Sy(h,t,r,o),xf(r,h),!1}r=r.return}while(r!==null);return!1}var Qf=Error(s(461)),It=!1;function Kt(t,n,r,o){n.child=t===null?Cg(n,null,r,o):qs(n,t.child,r,o)}function Ay(t,n,r,o,h){r=r.render;var d=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Us(n),o=Nf(t,n,r,_,d,h),T=Rf(),t!==null&&!It?(Cf(t,n,h),Ji(t,n,h)):(ze&&T&&of(n),n.flags|=1,Kt(t,n,o,h),n.child)}function Ny(t,n,r,o,h){if(t===null){var d=r.type;return typeof d=="function"&&!sf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,Ry(t,n,d,o,h)):(t=Mu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!ed(t,h)){var _=d.memoizedProps;if(r=r.compare,r=r!==null?r:Ll,r(_,o)&&t.ref===n.ref)return Ji(t,n,h)}return n.flags|=1,t=Qi(d,o),t.ref=n.ref,t.return=n,n.child=t}function Ry(t,n,r,o,h){if(t!==null){var d=t.memoizedProps;if(Ll(d,o)&&t.ref===n.ref)if(It=!1,n.pendingProps=o=d,ed(t,h))(t.flags&131072)!==0&&(It=!0);else return n.lanes=t.lanes,Ji(t,n,h)}return Kf(t,n,r,o,h)}function Cy(t,n,r,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,n.child=null;return Dy(t,n,d,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,d!==null?d.cachePool:null),d!==null?jg(n,d):Ef(),kg(n);else return o=n.lanes=536870912,Dy(t,n,d!==null?d.baseLanes|r:r,r,o)}else d!==null?(Pu(n,d.cachePool),jg(n,d),Ba(),n.memoizedState=null):(t!==null&&Pu(n,null),Ef(),Ba());return Kt(t,n,h,r),n.child}function Jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dy(t,n,r,o,h){var d=yf();return d=d===null?null:{parent:Ct._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Pu(n,null),Ef(),kg(n),t!==null&&Nr(t,n,o,!0),n.childLanes=h,null}function tc(t,n){return n=ic({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Iy(t,n,r){return qs(n,t.child,null,r),t=tc(n,n.pendingProps),t.flags|=2,Tn(n),n.memoizedState=null,t}function Hw(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=tc(n,o),n.lanes=536870912,Jl(null,t);if(Sf(n),(t=rt)?(t=H0(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ka!==null?{id:Di,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=mg(t),r.return=n,n.child=r,Gt=n,rt=null)):t=null,t===null)throw Ma(n);return n.lanes=536870912,null}return tc(n,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Sf(n),h)if(n.flags&256)n.flags&=-257,n=Iy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(It||Nr(t,n,r,!1),h=(r&t.childLanes)!==0,It||h){if(o=it,o!==null&&(_=_l(o,r),_!==0&&_!==d.retryLane))throw d.retryLane=_,Os(t,_),pn(o,t,_),Qf;fc(),n=Iy(t,n,r)}else t=d.treeContext,rt=Fn(_.nextSibling),Gt=n,ze=!0,Oa=null,qn=!1,t!==null&&yg(n,t),n=tc(n,o),n.flags|=4096;return n}return t=Qi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function nc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Kf(t,n,r,o,h){return Us(n),r=Nf(t,n,r,o,void 0,h),o=Rf(),t!==null&&!It?(Cf(t,n,h),Ji(t,n,h)):(ze&&o&&of(n),n.flags|=1,Kt(t,n,r,h),n.child)}function jy(t,n,r,o,h,d){return Us(n),n.updateQueue=null,r=Mg(n,o,r,h),Og(t),o=Rf(),t!==null&&!It?(Cf(t,n,d),Ji(t,n,d)):(ze&&o&&of(n),n.flags|=1,Kt(t,n,r,d),n.child)}function ky(t,n,r,o,h){if(Us(n),n.stateNode===null){var d=Er,_=r.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new r(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ff,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},_f(n),_=r.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):Er,d.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Hf(n,r,_,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ff.enqueueReplaceState(d,d.state,null),Kl(n,o,d,h),Ql(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,k=Fs(r,T);d.props=k;var H=d.context,Z=r.contextType;_=Er,typeof Z=="object"&&Z!==null&&(_=Qt(Z));var te=r.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&_y(n,d,o,_),La=!1;var F=n.memoizedState;d.state=F,Kl(n,o,d,h),Ql(),H=n.memoizedState,T||F!==H||La?(typeof te=="function"&&(Hf(n,r,te,o),H=n.memoizedState),(k=La||vy(n,r,k,o,F,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),d.props=o,d.state=H,d.context=_,o=k):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,bf(t,n),_=n.memoizedProps,Z=Fs(r,_),d.props=Z,te=n.pendingProps,F=d.context,H=r.contextType,k=Er,typeof H=="object"&&H!==null&&(k=Qt(H)),T=r.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||F!==k)&&_y(n,d,o,k),La=!1,F=n.memoizedState,d.state=F,Kl(n,o,d,h),Ql();var K=n.memoizedState;_!==te||F!==K||La||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof T=="function"&&(Hf(n,r,T,o),K=n.memoizedState),(Z=La||vy(n,r,Z,o,F,K,k)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,K,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,K,k)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=K),d.props=o,d.state=K,d.context=k,o=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,nc(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=qs(n,t.child,null,h),n.child=qs(n,null,r,h)):Kt(t,n,r,h),n.memoizedState=d.state,t=n.child):t=Ji(t,n,h),t}function Oy(t,n,r,o){return Vs(),n.flags|=256,Kt(t,n,r,o),n.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:Eg()}}function Xf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function My(t,n,r){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?za(n):Ba(),(t=rt)?(t=H0(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ka!==null?{id:Di,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},r=mg(t),r.return=n,n.child=r,Gt=n,rt=null)):t=null,t===null)throw Ma(n);return jd(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ba(),h=n.mode,T=ic({mode:"hidden",children:T},h),o=Ms(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Yf(r),o.childLanes=Xf(t,_,r),n.memoizedState=$f,Jl(null,o)):(za(n),Zf(n,T))}var k=t.memoizedState;if(k!==null&&(T=k.dehydrated,T!==null)){if(d)n.flags&256?(za(n),n.flags&=-257,n=Jf(t,n,r)):n.memoizedState!==null?(Ba(),n.child=t.child,n.flags|=128,n=null):(Ba(),T=o.fallback,h=n.mode,o=ic({mode:"visible",children:o.children},h),T=Ms(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,qs(n,t.child,null,r),o=n.child,o.memoizedState=Yf(r),o.childLanes=Xf(t,_,r),n.memoizedState=$f,n=Jl(null,o));else if(za(n),jd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(s(419)),o.stack="",o.digest=_,zl({value:o,source:null,stack:null}),n=Jf(t,n,r)}else if(It||Nr(t,n,r,!1),_=(r&t.childLanes)!==0,It||_){if(_=it,_!==null&&(o=_l(_,r),o!==0&&o!==k.retryLane))throw k.retryLane=o,Os(t,o),pn(_,t,o),Qf;Id(T)||fc(),n=Jf(t,n,r)}else Id(T)?(n.flags|=192,n.child=t.child,n=null):(t=k.treeContext,rt=Fn(T.nextSibling),Gt=n,ze=!0,Oa=null,qn=!1,t!==null&&yg(n,t),n=Zf(n,o.children),n.flags|=4096);return n}return h?(Ba(),T=o.fallback,h=n.mode,k=t.child,H=k.sibling,o=Qi(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,H!==null?T=Qi(H,T):(T=Ms(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Jl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Yf(r):(h=T.cachePool,h!==null?(k=Ct._currentValue,h=h.parent!==k?{parent:k,pool:k}:h):h=Eg(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Xf(t,_,r),n.memoizedState=$f,Jl(t.child,o)):(za(n),r=t.child,t=r.sibling,r=Qi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=r,n.memoizedState=null,r)}function Zf(t,n){return n=ic({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ic(t,n){return t=wn(22,t,null,n),t.lanes=0,t}function Jf(t,n,r){return qs(n,t.child,null,r),t=Zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Vy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),df(t.return,n,r)}function Wf(t,n,r,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=r,_.tailMode=h,_.treeForkCount=d)}function Ly(t,n,r){var o=n.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=bt.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,le(bt,_),Kt(t,n,o,r),o=ze?Pl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,r,n);else if(t.tag===19)Vy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Gu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Wf(n,!1,h,r,d,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Wf(n,!0,r,null,d,o);break;case"together":Wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Fa|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Nr(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Qi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Qi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function Fw(t,n,r){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),Va(n,Ct,t.memoizedState.cache),Vs();break;case 27:case 5:In(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:Va(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(za(n),n.flags|=128,null):(r&n.child.childLanes)!==0?My(t,n,r):(za(n),t=Ji(t,n,r),t!==null?t.sibling:null);za(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Nr(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Ly(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(bt,bt.current),o)break;return null;case 22:return n.lanes=0,Cy(t,n,r,n.pendingProps);case 24:Va(n,Ct,t.memoizedState.cache)}return Ji(t,n,r)}function Uy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)It=!0;else{if(!ed(t,r)&&(n.flags&128)===0)return It=!1,Fw(t,n,r);It=(t.flags&131072)!==0}else It=!1,ze&&(n.flags&1048576)!==0&&gg(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=zs(n.elementType),n.type=t,typeof t=="function")sf(t)?(o=Fs(t,o),n.tag=1,n=ky(null,n,t,o,r)):(n.tag=0,n=Kf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===oe){n.tag=11,n=Ay(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=Ny(null,n,t,o,r);break e}}throw n=pe(t)||t,Error(s(306,n,""))}}return n;case 0:return Kf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Fs(o,n.pendingProps),ky(t,n,o,h,r);case 3:e:{if(he(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,bf(t,n),Kl(n,o,null,r);var _=n.memoizedState;if(o=_.cache,Va(n,Ct,o),o!==d.cache&&mf(n,[Ct],r,!0),Ql(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Oy(t,n,o,r);break e}else if(o!==h){h=Pn(Error(s(424)),n),zl(h),n=Oy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Fn(t.firstChild),Gt=n,ze=!0,Oa=null,qn=!0,r=Cg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Vs(),o===h){n=Ji(t,n,r);break e}Kt(t,n,o,r)}n=n.child}return n;case 26:return nc(t,n),t===null?(r=Y0(n.type,null,n.pendingProps,null))?n.memoizedState=r:ze||(r=n.type,t=n.pendingProps,o=_c(xe.current).createElement(r),o[At]=n,o[Pt]=t,$t(o,r,t),Nt(o),n.stateNode=o):n.memoizedState=Y0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return In(n),t===null&&ze&&(o=n.stateNode=Q0(n.type,n.pendingProps,xe.current),Gt=n,qn=!0,h=rt,Ya(n.type)?(kd=h,rt=Fn(o.firstChild)):rt=h),Kt(t,n,n.pendingProps.children,r),nc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=rt)&&(o=bE(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,Gt=n,rt=Fn(o.firstChild),qn=!1,h=!0):h=!1),h||Ma(n)),In(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,Rd(h,d)?o=null:_!==null&&Rd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Nf(t,n,Mw,null,null,r),mo._currentValue=h),nc(t,n),Kt(t,n,o,r),n.child;case 6:return t===null&&ze&&((t=r=rt)&&(r=xE(r,n.pendingProps,qn),r!==null?(n.stateNode=r,Gt=n,rt=null,t=!0):t=!1),t||Ma(n)),null;case 13:return My(t,n,r);case 4:return he(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=qs(n,null,o,r):Kt(t,n,o,r),n.child;case 11:return Ay(t,n,n.type,n.pendingProps,r);case 7:return Kt(t,n,n.pendingProps,r),n.child;case 8:return Kt(t,n,n.pendingProps.children,r),n.child;case 12:return Kt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Va(n,n.type,o.value),Kt(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Us(n),h=Qt(h),o=o(h),n.flags|=1,Kt(t,n,o,r),n.child;case 14:return Ny(t,n,n.type,n.pendingProps,r);case 15:return Ry(t,n,n.type,n.pendingProps,r);case 19:return Ly(t,n,r);case 31:return Hw(t,n,r);case 22:return Cy(t,n,r,n.pendingProps);case 24:return Us(n),o=Qt(Ct),t===null?(h=yf(),h===null&&(h=it,d=pf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:o,cache:h},_f(n),Va(n,Ct,h)):((t.lanes&r)!==0&&(bf(t,n),Kl(n,null,null,r),Ql()),h=t.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Va(n,Ct,o)):(o=d.cache,Va(n,Ct,o),o!==h.cache&&mf(n,[Ct],r,!0))),Kt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Wi(t){t.flags|=4}function td(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(h0())t.flags|=8192;else throw Bs=Bu,vf}else t.flags&=-16777217}function Py(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ev(n))if(h0())t.flags|=8192;else throw Bs=Bu,vf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?cu():536870912,t.lanes|=n,Pr|=n)}function Wl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function Gw(t,n,r){var o=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Yi(Ct),He(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ar(n)?Wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),lt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Wi(n),d!==null?(lt(n),Py(n,d)):(lt(n),td(n,h,null,o,r))):d?d!==t.memoizedState?(Wi(n),lt(n),Py(n,d)):(lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Wi(n),lt(n),td(n,h,t,o,r)),null;case 27:if(hi(n),r=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return lt(n),null}t=ae.current,Ar(n)?vg(n):(t=Q0(h,o,r),n.stateNode=t,Wi(n))}return lt(n),null;case 5:if(hi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return lt(n),null}if(d=ae.current,Ar(n))vg(n);else{var _=_c(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[At]=n,d[Pt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;e:switch($t(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Wi(n)}}return lt(n),td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=xe.current,Ar(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[At]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||M0(t.nodeValue,r)),t||Ma(n,!0)}else t=_c(t).createTextNode(o),t[At]=n,n.stateNode=t}return lt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ar(n),r!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=n}else Vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),t=!1}else r=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return lt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ar(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=n}else Vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ac(n,n.updateQueue),lt(n),null);case 4:return He(),t===null&&Ed(n.stateNode.containerInfo),lt(n),null;case 10:return Yi(n.type),lt(n),null;case 19:if(J(bt),o=n.memoizedState,o===null)return lt(n),null;if(h=(n.flags&128)!==0,d=o.rendering,d===null)if(h)Wl(o,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Gu(t),d!==null){for(n.flags|=128,Wl(o,!1),t=d.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)dg(r,t),r=r.sibling;return le(bt,bt.current&1|2),ze&&Ki(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&sn()>uc&&(n.flags|=128,h=!0,Wl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Gu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),Wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ze)return lt(n),null}else 2*sn()-o.renderingStartTime>uc&&r!==536870912&&(n.flags|=128,h=!0,Wl(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(t=o.last,t!==null?t.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=sn(),t.sibling=null,r=bt.current,le(bt,h?r&1|2:r&1),ze&&Ki(n,o.treeForkCount),t):(lt(n),null);case 22:case 23:return Tn(n),Tf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),r=n.updateQueue,r!==null&&ac(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&J(Ps),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Yi(Ct),lt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Qw(t,n){switch(uf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Yi(Ct),He(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(s(340));Vs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Tn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Vs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return J(bt),null;case 4:return He(),null;case 10:return Yi(n.type),null;case 22:case 23:return Tn(n),Tf(),t!==null&&J(Ps),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Yi(Ct),null;case 25:return null;default:return null}}function zy(t,n){switch(uf(n),n.tag){case 3:Yi(Ct),He();break;case 26:case 27:case 5:hi(n);break;case 4:He();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:J(bt);break;case 10:Yi(n.type);break;case 22:case 23:Tn(n),Tf(),t!==null&&J(Ps);break;case 24:Yi(Ct)}}function eo(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var d=r.create,_=r.inst;o=d(),_.destroy=o}r=r.next}while(r!==h)}}catch(T){Je(n,n.return,T)}}function qa(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var k=r,H=T;try{H()}catch(Z){Je(h,k,Z)}}}o=o.next}while(o!==d)}}catch(Z){Je(n,n.return,Z)}}function By(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Ig(n,r)}catch(o){Je(t,t.return,o)}}}function qy(t,n,r){r.props=Fs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Je(t,n,o)}}function to(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){Je(t,n,h)}}function ji(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Je(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Je(t,n,h)}else r.current=null}function Hy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Je(t,t.return,h)}}function nd(t,n,r){try{var o=t.stateNode;mE(o,t.type,r,n),o[Pt]=n}catch(h){Je(t,t.return,h)}}function Fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ya(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Ya(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ad(t,n,r),t=t.sibling;t!==null;)ad(t,n,r),t=t.sibling}function sc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Ya(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(sc(t,n,r),t=t.sibling;t!==null;)sc(t,n,r),t=t.sibling}function Gy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$t(n,o,r),n[At]=t,n[Pt]=r}catch(d){Je(t,t.return,d)}}var ea=!1,jt=!1,sd=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Kw(t,n){if(t=t.containerInfo,Ad=Ac,t=ag(t),Zh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch(we){r=null;break e}var _=0,T=-1,k=-1,H=0,Z=0,te=t,F=null;t:for(;;){for(var K;te!==r||h!==0&&te.nodeType!==3||(T=_+h),te!==d||o!==0&&te.nodeType!==3||(k=_+o),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)F=te,te=K;for(;;){if(te===t)break t;if(F===r&&++H===h&&(T=_),F===d&&++Z===o&&(k=_),(K=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=K}r=T===-1||k===-1?null:{start:T,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nd={focusedElem:t,selectionRange:r},Ac=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var fe=Fs(r.type,h);t=o.getSnapshotBeforeUpdate(fe,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){Je(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Dd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function Ky(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:na(t,r),o&4&&eo(5,r);break;case 1:if(na(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(_){Je(r,r.return,_)}else{var h=Fs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(r,r.return,_)}}o&64&&By(r),o&512&&to(r,r.return);break;case 3:if(na(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ig(t,n)}catch(_){Je(r,r.return,_)}}break;case 27:n===null&&o&4&&Gy(r);case 26:case 5:na(t,r),n===null&&o&4&&Hy(r),o&512&&to(r,r.return);break;case 12:na(t,r);break;case 31:na(t,r),o&4&&Xy(t,r);break;case 13:na(t,r),o&4&&Zy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=nE.bind(null,r),wE(t,r))));break;case 22:if(o=r.memoizedState!==null||ea,!o){n=n!==null&&n.memoizedState!==null||jt,h=ea;var d=jt;ea=o,(jt=n)&&!d?ia(t,r,(r.subtreeFlags&8772)!==0):na(t,r),ea=h,jt=d}break;case 30:break;default:na(t,r)}}function $y(t){var n=t.alternate;n!==null&&(t.alternate=null,$y(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ur(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function ta(t,n,r){for(r=r.child;r!==null;)Yy(t,n,r),r=r.sibling}function Yy(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Xn,r)}catch(d){}switch(r.tag){case 26:jt||ji(r,n),ta(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||ji(r,n);var o=ct,h=hn;Ya(r.type)&&(ct=r.stateNode,hn=!1),ta(t,n,r),co(r.stateNode),ct=o,hn=h;break;case 5:jt||ji(r,n);case 6:if(o=ct,h=hn,ct=null,ta(t,n,r),ct=o,hn=h,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(r.stateNode)}catch(d){Je(r,n,d)}else try{ct.removeChild(r.stateNode)}catch(d){Je(r,n,d)}break;case 18:ct!==null&&(hn?(t=ct,B0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Kr(t)):B0(ct,r.stateNode));break;case 4:o=ct,h=hn,ct=r.stateNode.containerInfo,hn=!0,ta(t,n,r),ct=o,hn=h;break;case 0:case 11:case 14:case 15:qa(2,r,n),jt||qa(4,r,n),ta(t,n,r);break;case 1:jt||(ji(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&qy(r,n,o)),ta(t,n,r);break;case 21:ta(t,n,r);break;case 22:jt=(o=jt)||r.memoizedState!==null,ta(t,n,r),jt=o;break;default:ta(t,n,r)}}function Xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Kr(t)}catch(r){Je(n,n.return,r)}}}function Zy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kr(t)}catch(r){Je(n,n.return,r)}}function $w(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Qy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Qy),n;default:throw Error(s(435,t.tag))}}function rc(t,n){var r=$w(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=iE.bind(null,t,o);o.then(h,h)}})}function fn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],d=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ya(T.type)){ct=T.stateNode,hn=!1;break e}break;case 5:ct=T.stateNode,hn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ct===null)throw Error(s(160));Yy(d,_,h),ct=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jy(n,t),n=n.sibling}var ri=null;function Jy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),o&4&&(qa(3,t,t.return),eo(3,t),qa(5,t,t.return));break;case 1:fn(n,t),dn(t),o&512&&(jt||r===null||ji(r,r.return)),o&64&&ea&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ri;if(fn(n,t),dn(t),o&512&&(jt||r===null||ji(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vi]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),$t(d,o,r),d[At]=t,Nt(d),o=d;break e;case"link":var _=J0("link","href",h).get(o+(r.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(o),$t(d,o,r),h.head.appendChild(d);break;case"meta":if(_=J0("meta","content",h).get(o+(r.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(T,1);break t}}d=h.createElement(o),$t(d,o,r),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[At]=t,Nt(d),o=d}t.stateNode=o}else W0(h,t.type,t.stateNode);else t.stateNode=Z0(h,o,t.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?W0(h,t.type,t.stateNode):Z0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,r.memoizedProps)}break;case 27:fn(n,t),dn(t),o&512&&(jt||r===null||ji(r,r.return)),r!==null&&o&4&&nd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(fn(n,t),dn(t),o&512&&(jt||r===null||ji(r,r.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(fe){Je(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,r!==null?r.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(fn(n,t),dn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(fe){Je(t,t.return,fe)}}break;case 3:if(wc=null,h=ri,ri=bc(n.containerInfo),fn(n,t),ri=h,dn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Kr(n.containerInfo)}catch(fe){Je(t,t.return,fe)}sd&&(sd=!1,Wy(t));break;case 4:o=ri,ri=bc(t.stateNode.containerInfo),fn(n,t),dn(t),ri=o;break;case 12:fn(n,t),dn(t);break;case 31:fn(n,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(oc=sn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 22:h=t.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,H=ea,Z=jt;if(ea=H||h,jt=Z||k,fn(n,t),jt=Z,ea=H,dn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||k||ea||jt||Gs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){k=r=n;try{if(d=k.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=k.stateNode;var te=k.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Je(k,k.return,fe)}}}else if(n.tag===6){if(r===null){k=n;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(fe){Je(k,k.return,fe)}}}else if(n.tag===18){if(r===null){k=n;try{var K=k.stateNode;h?q0(K,!0):q0(k.stateNode,!1)}catch(fe){Je(k,k.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,rc(t,r))));break;case 19:fn(n,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Fy(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,d=id(t);sc(t,d,h);break;case 5:var _=r.stateNode;r.flags&32&&(cn(_,""),r.flags&=-33);var T=id(t);sc(t,T,_);break;case 3:case 4:var k=r.stateNode.containerInfo,H=id(t);ad(t,H,k);break;default:throw Error(s(161))}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function na(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ky(t,n.alternate,n),n=n.sibling}function Gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qa(4,n,n.return),Gs(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&qy(n,n.return,r),Gs(n);break;case 27:co(n.stateNode);case 26:case 5:ji(n,n.return),Gs(n);break;case 22:n.memoizedState===null&&Gs(n);break;case 30:Gs(n);break;default:Gs(n)}t=t.sibling}}function ia(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:ia(h,d,r),eo(4,d);break;case 1:if(ia(h,d,r),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Je(o,o.return,H)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Dg(k[h],T)}catch(H){Je(o,o.return,H)}}r&&_&64&&By(d),to(d,d.return);break;case 27:Gy(d);case 26:case 5:ia(h,d,r),r&&o===null&&_&4&&Hy(d),to(d,d.return);break;case 12:ia(h,d,r);break;case 31:ia(h,d,r),r&&_&4&&Xy(h,d);break;case 13:ia(h,d,r),r&&_&4&&Zy(h,d);break;case 22:d.memoizedState===null&&ia(h,d,r),to(d,d.return);break;case 30:break;default:ia(h,d,r)}n=n.sibling}}function rd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Bl(r))}function ld(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bl(t))}function li(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)e0(t,n,r,o),n=n.sibling}function e0(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,r,o),h&2048&&eo(9,n);break;case 1:li(t,n,r,o);break;case 3:li(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bl(t)));break;case 12:if(h&2048){li(t,n,r,o),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Je(n,n.return,k)}}else li(t,n,r,o);break;case 31:li(t,n,r,o);break;case 13:li(t,n,r,o);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?li(t,n,r,o):no(t,n):d._visibility&2?li(t,n,r,o):(d._visibility|=2,Vr(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&rd(_,n);break;case 24:li(t,n,r,o),h&2048&&ld(n.alternate,n);break;default:li(t,n,r,o)}}function Vr(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,_=n,T=r,k=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:Vr(d,_,T,k,h),eo(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Vr(d,_,T,k,h):no(d,_):(Z._visibility|=2,Vr(d,_,T,k,h)),h&&H&2048&&rd(_.alternate,_);break;case 24:Vr(d,_,T,k,h),h&&H&2048&&ld(_.alternate,_);break;default:Vr(d,_,T,k,h)}n=n.sibling}}function no(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:no(r,o),h&2048&&rd(o.alternate,o);break;case 24:no(r,o),h&2048&&ld(o.alternate,o);break;default:no(r,o)}n=n.sibling}}var io=8192;function Lr(t,n,r){if(t.subtreeFlags&io)for(t=t.child;t!==null;)t0(t,n,r),t=t.sibling}function t0(t,n,r){switch(t.tag){case 26:Lr(t,n,r),t.flags&io&&t.memoizedState!==null&&OE(r,ri,t.memoizedState,t.memoizedProps);break;case 5:Lr(t,n,r);break;case 3:case 4:var o=ri;ri=bc(t.stateNode.containerInfo),Lr(t,n,r),ri=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=io,io=16777216,Lr(t,n,r),io=o):Lr(t,n,r));break;default:Lr(t,n,r)}}function n0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Bt=o,a0(o,t)}n0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)i0(t),t=t.sibling}function i0(t){switch(t.tag){case 0:case 11:case 15:ao(t),t.flags&2048&&qa(9,t,t.return);break;case 3:ao(t);break;case 12:ao(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):ao(t);break;default:ao(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Bt=o,a0(o,t)}n0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qa(8,n,n.return),lc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function a0(t,n){for(;Bt!==null;){var r=Bt;switch(r.tag){case 0:case 11:case 15:qa(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Bt=o;else e:for(r=t;Bt!==null;){o=Bt;var h=o.sibling,d=o.return;if($y(o),o===r){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var Yw={getCacheForType:function(t){var n=Qt(Ct),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Qt(Ct).controller.signal}},Xw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,Oe=null,Ve=0,Ze=0,Sn=null,Ha=!1,Ur=!1,od=!1,aa=0,mt=0,Fa=0,Qs=0,ud=0,An=0,Pr=0,so=null,mn=null,cd=!1,oc=0,s0=0,uc=1/0,cc=null,Ga=null,Lt=0,Qa=null,zr=null,sa=0,hd=0,fd=null,r0=null,ro=0,dd=null;function Nn(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:$.T!==null?_d():hu()}function l0(){if(An===0)if((Ve&536870912)===0||ze){var t=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function pn(t,n,r){(t===it&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Br(t,0),Ka(t,Ve,An,!1)),bs(t,r),((Ke&2)===0||t!==it)&&(t===it&&((Ke&2)===0&&(Qs|=r),mt===4&&Ka(t,Ve,An,!1)),ki(t))}function o0(t,n,r){if((Ke&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Zn(t,n),h=o?Ww(t,n):pd(t,n,!0),d=o;do{if(h===0){Ur&&!o&&Ka(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!Zw(r)){h=pd(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=so;var k=T.current.memoizedState.isDehydrated;if(k&&(Br(T,_).flags|=256),_=pd(T,_,!1),_!==2){if(od&&!k){T.errorRecoveryDisabledLanes|=d,Qs|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Br(t,0),Ka(t,n,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ka(o,n,An,!Ha);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=oc+300-sn(),10<h)){if(Ka(o,n,An,!Ha),pi(o,0,!0)!==0)break e;sa=n,o.timeoutHandle=P0(u0.bind(null,o,r,mn,cc,cd,n,An,Qs,Pr,Ha,d,"Throttled",-0,0),h);break e}u0(o,r,mn,cc,cd,n,An,Qs,Pr,Ha,d,null,-0,0)}}break}while(!0);ki(t)}function u0(t,n,r,o,h,d,_,T,k,H,Z,te,F,K){if(t.timeoutHandle=-1,te=n.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},t0(n,d,te);var fe=(d&62914560)===d?oc-sn():(d&4194048)===d?s0-sn():0;if(fe=ME(te,fe),fe!==null){sa=d,t.cancelPendingCommit=fe(y0.bind(null,t,n,d,r,o,h,_,T,k,Z,te,null,F,K)),Ka(t,d,_,!H);return}}y0(t,n,d,r,o,h,_,T,k)}function Zw(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],d=h.getSnapshot;h=h.value;try{if(!xn(d(),h))return!1}catch(_){return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ka(t,n,r,o){n&=~ud,n&=~Qs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var d=31-vt(h),_=1<<d;o[d]=-1,h&=~_}r!==0&&xs(t,r,n)}function hc(){return(Ke&6)===0?(lo(0),!1):!0}function md(){if(Oe!==null){if(Ze===0)var t=Oe.return;else t=Oe,$i=Ls=null,Df(t),Ir=null,Hl=0,t=Oe;for(;t!==null;)zy(t.alternate,t),t=t.return;Oe=null}}function Br(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,yE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),sa=0,md(),it=t,Oe=r=Qi(t.current,null),Ve=n,Ze=0,Sn=null,Ha=!1,Ur=Zn(t,n),od=!1,Pr=An=ud=Qs=Fa=mt=0,mn=so=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-vt(o),d=1<<h;n|=t[h],o&=~d}return aa=n,ju(),r}function c0(t,n){Ie=null,$.H=Zl,n===Dr||n===zu?(n=Ag(),Ze=3):n===vf?(n=Ag(),Ze=4):Ze=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Oe===null&&(mt=1,ec(t,Pn(n,t.current)))}function h0(){var t=En.current;return t===null?!0:(Ve&4194048)===Ve?Hn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Hn:!1}function f0(){var t=$.H;return $.H=Zl,t===null?Zl:t}function d0(){var t=$.A;return $.A=Yw,t}function fc(){mt=4,Ha||(Ve&4194048)!==Ve&&En.current!==null||(Ur=!0),(Fa&134217727)===0&&(Qs&134217727)===0||it===null||Ka(it,Ve,An,!1)}function pd(t,n,r){var o=Ke;Ke|=2;var h=f0(),d=d0();(it!==t||Ve!==n)&&(cc=null,Br(t,n)),n=!1;var _=mt;e:do try{if(Ze!==0&&Oe!==null){var T=Oe,k=Sn;switch(Ze){case 8:md(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var H=Ze;if(Ze=0,Sn=null,qr(t,T,k,H),r&&Ur){_=0;break e}break;default:H=Ze,Ze=0,Sn=null,qr(t,T,k,H)}}Jw(),_=mt;break}catch(Z){c0(t,Z)}while(!0);return n&&t.shellSuspendCounter++,$i=Ls=null,Ke=o,$.H=h,$.A=d,Oe===null&&(it=null,Ve=0,ju()),_}function Jw(){for(;Oe!==null;)m0(Oe)}function Ww(t,n){var r=Ke;Ke|=2;var o=f0(),h=d0();it!==t||Ve!==n?(cc=null,uc=sn()+500,Br(t,n)):Ur=Zn(t,n);e:do try{if(Ze!==0&&Oe!==null){n=Oe;var d=Sn;t:switch(Ze){case 1:Ze=0,Sn=null,qr(t,n,d,1);break;case 2:case 9:if(Tg(d)){Ze=0,Sn=null,p0(n);break}n=function(){Ze!==2&&Ze!==9||it!==t||(Ze=7),ki(t)},d.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Tg(d)?(Ze=0,Sn=null,p0(n)):(Ze=0,Sn=null,qr(t,n,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var T=Oe;if(_?ev(_):T.stateNode.complete){Ze=0,Sn=null;var k=T.sibling;if(k!==null)Oe=k;else{var H=T.return;H!==null?(Oe=H,dc(H)):Oe=null}break t}}Ze=0,Sn=null,qr(t,n,d,5);break;case 6:Ze=0,Sn=null,qr(t,n,d,6);break;case 8:md(),mt=6;break e;default:throw Error(s(462))}}eE();break}catch(Z){c0(t,Z)}while(!0);return $i=Ls=null,$.H=o,$.A=h,Ke=r,Oe!==null?0:(it=null,Ve=0,ju(),mt)}function eE(){for(;Oe!==null&&!Fh();)m0(Oe)}function m0(t){var n=Uy(t.alternate,t,aa);t.memoizedProps=t.pendingProps,n===null?dc(t):Oe=n}function p0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=jy(r,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=jy(r,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:Df(n);default:zy(r,n),n=Oe=dg(n,aa),n=Uy(r,n,aa)}t.memoizedProps=t.pendingProps,n===null?dc(t):Oe=n}function qr(t,n,r,o){$i=Ls=null,Df(n),Ir=null,Hl=0;var h=n.return;try{if(qw(t,h,n,r,Ve)){mt=1,ec(t,Pn(r,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;mt=1,ec(t,Pn(r,t.current)),Oe=null;return}n.flags&32768?(ze||o===1?t=!0:Ur||(Ve&536870912)!==0?t=!1:(Ha=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),g0(n,t)):dc(n)}function dc(t){var n=t;do{if((n.flags&32768)!==0){g0(n,Ha);return}t=n.return;var r=Gw(n.alternate,n,aa);if(r!==null){Oe=r;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);mt===0&&(mt=5)}function g0(t,n){do{var r=Qw(t.alternate,t);if(r!==null){r.flags&=32767,Oe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=r}while(t!==null);mt=6,Oe=null}function y0(t,n,r,o,h,d,_,T,k){t.cancelPendingCommit=null;do mc();while(Lt!==0);if((Ke&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=nf,Kh(t,r,d,_,T,k),t===it&&(Oe=it=null,Ve=0),zr=n,Qa=t,sa=r,hd=d,fd=h,r0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aE(Ea,function(){return w0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,h=se.p,se.p=2,_=Ke,Ke|=4;try{Kw(t,n,r)}finally{Ke=_,se.p=h,$.T=o}}Lt=1,v0(),_0(),b0()}}function v0(){if(Lt===1){Lt=0;var t=Qa,n=zr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var o=se.p;se.p=2;var h=Ke;Ke|=4;try{Jy(n,t);var d=Nd,_=ag(t.containerInfo),T=d.focusedElem,k=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&ig(T.ownerDocument.documentElement,T)){if(k!==null&&Zh(T)){var H=k.start,Z=k.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var K=F.getSelection(),fe=T.textContent.length,we=Math.min(k.start,fe),nt=k.end===void 0?we:Math.min(k.end,fe);!K.extend&&we>nt&&(_=nt,nt=we,we=_);var z=ng(T,we),V=ng(T,nt);if(z&&V&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var q=te.createRange();q.setStart(z.node,z.offset),K.removeAllRanges(),we>nt?(K.addRange(q),K.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),K.addRange(q))}}}}for(te=[],K=T;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var W=te[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ac=!!Ad,Nd=Ad=null}finally{Ke=h,se.p=o,$.T=r}}t.current=n,Lt=2}}function _0(){if(Lt===2){Lt=0;var t=Qa,n=zr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var o=se.p;se.p=2;var h=Ke;Ke|=4;try{Ky(t,n.alternate,n)}finally{Ke=h,se.p=o,$.T=r}}Lt=3}}function b0(){if(Lt===4||Lt===3){Lt=0,au();var t=Qa,n=zr,r=sa,o=r0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,zr=Qa=null,x0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ga=null),qi(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch(k){}if(o!==null){n=$.T,h=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];d(T.value,{componentStack:T.stack})}}finally{$.T=n,se.p=h}}(sa&3)!==0&&mc(),ki(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===dd?ro++:(ro=0,dd=t):ro=0,lo(0)}}function x0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Bl(n)))}function mc(){return v0(),_0(),b0(),w0()}function w0(){if(Lt!==5)return!1;var t=Qa,n=hd;hd=0;var r=qi(sa),o=$.T,h=se.p;try{se.p=32>r?32:r,$.T=null,r=fd,fd=null;var d=Qa,_=sa;if(Lt=0,zr=Qa=null,sa=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,i0(d.current),e0(d,d.current,_,r),Ke=T,lo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Xn,d)}catch(k){}return!0}finally{se.p=h,$.T=o,x0(t,n)}}function E0(t,n,r){n=Pn(r,n),n=Gf(t.stateNode,n,2),t=Pa(t,n,2),t!==null&&(bs(t,2),ki(t))}function Je(t,n,r){if(t.tag===3)E0(t,t,r);else for(;n!==null;){if(n.tag===3){E0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ga===null||!Ga.has(o))){t=Pn(r,t),r=Ty(2),o=Pa(n,r,2),o!==null&&(Sy(r,o,n,t),bs(o,2),ki(o));break}}n=n.return}}function gd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new Xw;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(od=!0,h.add(r),t=tE.bind(null,t,n,r),n.then(t,t))}function tE(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,it===t&&(Ve&r)===r&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>sn()-oc?(Ke&2)===0&&Br(t,0):ud|=r,Pr===Ve&&(Pr=0)),ki(t)}function T0(t,n){n===0&&(n=cu()),t=Os(t,n),t!==null&&(bs(t,n),ki(t))}function nE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),T0(t,r)}function iE(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),T0(t,r)}function aE(t,n){return Vt(t,n)}var pc=null,Hr=null,yd=!1,gc=!1,vd=!1,$a=0;function ki(t){t!==Hr&&t.next===null&&(Hr===null?pc=Hr=t:Hr=Hr.next=t),gc=!0,yd||(yd=!0,rE())}function lo(t,n){if(!vd&&gc){vd=!0;do for(var r=!1,o=pc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,R0(o,d))}else d=Ve,d=pi(o,o===it?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Zn(o,d)||(r=!0,R0(o,d));o=o.next}while(r);vd=!1}}function sE(){S0()}function S0(){gc=yd=!1;var t=0;$a!==0&&gE()&&(t=$a);for(var n=sn(),r=null,o=pc;o!==null;){var h=o.next,d=A0(o,n);d===0?(o.next=null,r===null?pc=h:r.next=h,h===null&&(Hr=r)):(r=o,(t!==0||(d&3)!==0)&&(gc=!0)),o=h}Lt!==0&&Lt!==5||lo(t),$a!==0&&($a=0)}function A0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-vt(d),T=1<<_,k=h[_];k===-1?((T&r)===0||(T&o)!==0)&&(h[_]=Qh(T,n)):k<=n&&(t.expiredLanes|=T),d&=~T}if(n=it,r=Ve,r=pi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&wa(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Zn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&wa(o),qi(r)){case 2:case 8:r=yl;break;case 32:r=Ea;break;case 268435456:r=su;break;default:r=Ea}return o=N0.bind(null,t),r=Vt(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&wa(o),t.callbackPriority=2,t.callbackNode=null,2}function N0(t,n){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mc()&&t.callbackNode!==r)return null;var o=Ve;return o=pi(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(o0(t,o,n),A0(t,sn()),t.callbackNode!=null&&t.callbackNode===r?N0.bind(null,t):null)}function R0(t,n){if(mc())return null;o0(t,n,!0)}function rE(){vE(function(){(Ke&6)!==0?Vt(gl,sE):S0()})}function _d(){if($a===0){var t=Rr;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),$a=t}return $a}function C0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:dr(""+t)}function D0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function lE(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var d=C0((h[Pt]||null).action),_=o.submitter;_&&(n=(n=_[Pt]||null)?C0(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new Ai("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($a!==0){var k=_?D0(h,_):new FormData(h);Pf(r,{pending:!0,data:k,method:h.method,action:d},null,k)}}else typeof d=="function"&&(T.preventDefault(),k=_?D0(h,_):new FormData(h),Pf(r,{pending:!0,data:k,method:h.method,action:d},d,k))},currentTarget:h}]})}}for(var bd=0;bd<tf.length;bd++){var xd=tf[bd],oE=xd.toLowerCase(),uE=xd[0].toUpperCase()+xd.slice(1);si(oE,"on"+uE)}si(lg,"onAnimationEnd"),si(og,"onAnimationIteration"),si(ug,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Sw,"onTransitionRun"),si(Aw,"onTransitionStart"),si(Nw,"onTransitionCancel"),si(cg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function I0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],k=T.instance,H=T.currentTarget;if(T=T.listener,k!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){Iu(Z)}h.currentTarget=null,d=k}else for(_=0;_<o.length;_++){if(T=o[_],k=T.instance,H=T.currentTarget,T=T.listener,k!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){Iu(Z)}h.currentTarget=null,d=k}}}}function Me(t,n){var r=n[or];r===void 0&&(r=n[or]=new Set);var o=t+"__bubble";r.has(o)||(j0(n,t,2,!1),r.add(o))}function wd(t,n,r){var o=0;n&&(o|=4),j0(r,t,o,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[yc]){t[yc]=!0,bl.forEach(function(r){r!=="selectionchange"&&(cE.has(r)||wd(r,!1,t),wd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[yc]||(n[yc]=!0,wd("selectionchange",!1,n))}}function j0(t,n,r,o){switch(lv(n)){case 2:var h=UE;break;case 8:h=PE;break;default:h=Ud}r=h.bind(null,n,r,t),h=void 0,!As||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Td(t,n,r,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var k=_.tag;if((k===3||k===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=_i(T),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){o=d=_;continue e}T=T.parentNode}}o=o.return}Ca(function(){var H=d,Z=Mn(r),te=[];e:{var F=hg.get(t);if(F!==void 0){var K=Ai,fe=t;switch(t){case"keypress":if(Rs(r)===0)break e;case"keydown":case"keyup":K=Ru;break;case"focusin":fe="focus",K=Ds;break;case"focusout":fe="blur",K=Ds;break;case"beforeblur":case"afterblur":K=Ds;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=v;break;case lg:case og:case ug:K=xu;break;case cg:K=N;break;case"scroll":case"scrollend":K=jl;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gi;break;case"toggle":case"beforetoggle":K=De}var we=(n&4)!==0,nt=!we&&(t==="scroll"||t==="scrollend"),z=we?F!==null?F+"Capture":null:F;we=[];for(var V=H,q;V!==null;){var W=V;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||z===null||(W=ti(V,z),W!=null&&we.push(uo(V,W,q))),nt)break;V=V.return}0<we.length&&(F=new K(F,fe,null,r,Z),te.push({event:F,listeners:we}))}}if((n&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&r!==Cl&&(fe=r.relatedTarget||r.fromElement)&&(_i(fe)||fe[yi]))break e;if((K||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,K?(fe=r.relatedTarget||r.toElement,K=H,fe=fe?_i(fe):null,fe!==null&&(nt=u(fe),we=fe.tag,fe!==nt||we!==5&&we!==27&&we!==6)&&(fe=null)):(K=null,fe=H),K!==fe)){if(we=kl,W="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(we=Gi,W="onPointerLeave",z="onPointerEnter",V="pointer"),nt=K==null?F:_n(K),q=fe==null?F:_n(fe),F=new we(W,V+"leave",K,r,Z),F.target=nt,F.relatedTarget=q,W=null,_i(Z)===H&&(we=new we(z,V+"enter",fe,r,Z),we.target=q,we.relatedTarget=nt,W=we),nt=W,K&&fe)t:{for(we=hE,z=K,V=fe,q=0,W=z;W;W=we(W))q++;W=0;for(var _e=V;_e;_e=we(_e))W++;for(;0<q-W;)z=we(z),q--;for(;0<W-q;)V=we(V),W--;for(;q--;){if(z===V||V!==null&&z===V.alternate){we=z;break t}z=we(z),V=we(V)}we=null}else we=null;K!==null&&k0(te,F,K,we,!1),fe!==null&&nt!==null&&k0(te,nt,fe,we,!0)}}e:{if(F=H?_n(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Fe=Xp;else if($p(F))if(Zp)Fe=ww;else{Fe=bw;var ge=_w}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&fr(H.elementType)&&(Fe=Xp):Fe=xw;if(Fe&&(Fe=Fe(t,H))){Yp(te,Fe,r,Z);break e}ge&&ge(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Al(F,"number",F.value)}switch(ge=H?_n(H):window,t){case"focusin":($p(ge)||ge.contentEditable==="true")&&(br=ge,Jh=H,Ul=null);break;case"focusout":Ul=Jh=br=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,sg(te,r,Z);break;case"selectionchange":if(Tw)break;case"keydown":case"keyup":sg(te,r,Z)}var je;if(Qe)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else _r?Is(t,r)&&(Le="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Le="onCompositionStart");Le&&(Ci&&r.locale!=="ko"&&(_r||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&_r&&(je=Il()):(Si=Z,Dl="value"in Si?Si.value:Si.textContent,_r=!0)),ge=vc(H,Le),0<ge.length&&(Le=new Ri(Le,t,null,r,Z),te.push({event:Le,listeners:ge}),je?Le.data=je:(je=vr(r),je!==null&&(Le.data=je)))),(je=Ln?pw(t,r):gw(t,r))&&(Le=vc(H,"onBeforeInput"),0<Le.length&&(ge=new Ri("onBeforeInput","beforeinput",null,r,Z),te.push({event:ge,listeners:Le}),ge.data=je)),lE(te,t,H,r,Z)}I0(te,n)})}function uo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ti(t,r),h!=null&&o.unshift(uo(t,h,d)),h=ti(t,n),h!=null&&o.push(uo(t,h,d))),t.tag===3)return o;t=t.return}return[]}function hE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function k0(t,n,r,o,h){for(var d=n._reactName,_=[];r!==null&&r!==o;){var T=r,k=T.alternate,H=T.stateNode;if(T=T.tag,k!==null&&k===o)break;T!==5&&T!==26&&T!==27||H===null||(k=H,h?(H=ti(r,d),H!=null&&_.unshift(uo(r,H,k))):h||(H=ti(r,d),H!=null&&_.push(uo(r,H,k)))),r=r.return}_.length!==0&&t.push({event:n,listeners:_})}var fE=/\r\n?/g,dE=/\u0000|\uFFFD/g;function O0(t){return(typeof t=="string"?t:""+t).replace(fE,"\n").replace(dE,"")}function M0(t,n){return n=O0(n),O0(t)===n}function tt(t,n,r,o,h,d){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(t,""+o);break;case"className":bn(t,"class",o);break;case"tabIndex":bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,r,o);break;case"style":Rl(t,o,d);break;case"data":if(n!=="object"){bn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=dr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&tt(t,n,"name",h.name,h,null),tt(t,n,"formEncType",h.formEncType,h,null),tt(t,n,"formMethod",h.formMethod,h,null),tt(t,n,"formTarget",h.formTarget,h,null)):(tt(t,n,"encType",h.encType,h,null),tt(t,n,"method",h.method,h,null),tt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=dr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=dr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),cr(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":cr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vu.get(r)||r,cr(t,r,o))}}function Sd(t,n,r,o,h,d){switch(r){case"style":Rl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof o=="string"?cn(t,o):(typeof o=="number"||typeof o=="bigint")&&cn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[Pt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):cr(t,r,o)}}}function $t(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var _=r[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:tt(t,n,d,_,r,null)}}h&&tt(t,n,"srcSet",r.srcSet,r,null),o&&tt(t,n,"src",r.src,r,null);return;case"input":Me("invalid",t);var T=d=_=h=null,k=null,H=null;for(o in r)if(r.hasOwnProperty(o)){var Z=r[o];if(Z!=null)switch(o){case"name":h=Z;break;case"type":_=Z;break;case"checked":k=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:tt(t,n,o,Z,r,null)}}pu(t,d,T,k,H,_,h,!1);return;case"select":Me("invalid",t),o=_=d=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:tt(t,n,h,T,r,null)}n=d,r=_,t.multiple=!!o,n!=null?Sa(t,!!o,n,!1):r!=null&&Sa(t,!!o,r,!0);return;case"textarea":Me("invalid",t),d=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(T=r[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:tt(t,n,_,T,r,null)}Aa(t,o,h,d);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(t,n,k,o,r,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<oo.length;o++)Me(oo[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in r)if(r.hasOwnProperty(H)&&(o=r[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:tt(t,n,H,o,r,null)}return;default:if(fr(n)){for(Z in r)r.hasOwnProperty(Z)&&(o=r[Z],o!==void 0&&Sd(t,n,Z,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&tt(t,n,T,o,r,null))}function mE(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,k=null,H=null,Z=null;for(K in r){var te=r[K];if(r.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=te;default:o.hasOwnProperty(K)||tt(t,n,K,null,o,te)}}for(var F in o){var K=o[F];if(te=r[F],o.hasOwnProperty(F)&&(K!=null||te!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==te&&tt(t,n,F,K,o,te)}}hr(t,_,T,k,H,Z,d,h);return;case"select":K=_=T=F=null;for(d in r)if(k=r[d],r.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":K=k;default:o.hasOwnProperty(d)||tt(t,n,d,null,o,k)}for(h in o)if(d=o[h],k=r[h],o.hasOwnProperty(h)&&(d!=null||k!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==k&&tt(t,n,h,d,o,k)}n=T,r=_,o=K,F!=null?Sa(t,!!r,F,!1):!!o!=!!r&&(n!=null?Sa(t,!!r,n,!0):Sa(t,!!r,r?[]:"",!1));return;case"textarea":K=F=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,n,T,null,o,h)}for(_ in o)if(h=o[_],d=r[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,n,_,h,o,d)}gu(t,F,K);return;case"option":for(var fe in r)if(F=r[fe],r.hasOwnProperty(fe)&&F!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:tt(t,n,fe,null,o,F)}for(k in o)if(F=o[k],K=r[k],o.hasOwnProperty(k)&&F!==K&&(F!=null||K!=null))switch(k){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:tt(t,n,k,F,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)F=r[we],r.hasOwnProperty(we)&&F!=null&&!o.hasOwnProperty(we)&&tt(t,n,we,null,o,F);for(H in o)if(F=o[H],K=r[H],o.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:tt(t,n,H,F,o,K)}return;default:if(fr(n)){for(var nt in r)F=r[nt],r.hasOwnProperty(nt)&&F!==void 0&&!o.hasOwnProperty(nt)&&Sd(t,n,nt,void 0,o,F);for(Z in o)F=o[Z],K=r[Z],!o.hasOwnProperty(Z)||F===K||F===void 0&&K===void 0||Sd(t,n,Z,F,o,K);return}}for(var z in r)F=r[z],r.hasOwnProperty(z)&&F!=null&&!o.hasOwnProperty(z)&&tt(t,n,z,null,o,F);for(te in o)F=o[te],K=r[te],!o.hasOwnProperty(te)||F===K||F==null&&K==null||tt(t,n,te,F,o,K)}function V0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&V0(_)){for(_=0,T=h.responseEnd,o+=1;o<r.length;o++){var k=r[o],H=k.startTime;if(H>T)break;var Z=k.transferSize,te=k.initiatorType;Z&&V0(te)&&(k=k.responseEnd,_+=Z*(k<T?1:(T-H)/(k-H)))}if(--o,n+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ad=null,Nd=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function L0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function gE(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var P0=typeof setTimeout=="function"?setTimeout:void 0,yE=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,vE=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(t){return z0.resolve(null).then(t).catch(_E)}:P0;function _E(t){setTimeout(function(){throw t})}function Ya(t){return t==="head"}function B0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Kr(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")co(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,co(r);for(var d=r.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=_}}else r==="body"&&co(t.ownerDocument.body);r=h}while(r);Kr(n)}function q0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Dd(r),ur(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function bE(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function xE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fn(t.nextSibling),t===null))return null;return t}function H0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Fn(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$?"||t.data==="$~"}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wE(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Fn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var kd=null;function F0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Fn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function G0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function Q0(t,n,r){switch(n=_c(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function co(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ur(t)}var Gn=new Map,K0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ra=se.d;se.d={f:EE,r:TE,D:SE,C:AE,L:NE,m:RE,X:DE,S:CE,M:IE};function EE(){var t=ra.f(),n=hc();return t||n}function TE(t){var n=On(t);n!==null&&n.tag===5&&n.type==="form"?cy(n):ra.r(t)}var Fr=typeof document>"u"?null:document;function $0(t,n,r){var o=Fr;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),K0.has(h)||(K0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$t(n,"link",t),Nt(n),o.head.appendChild(n)))}}function SE(t){ra.D(t),$0("dns-prefetch",t,null)}function AE(t,n){ra.C(t,n),$0("preconnect",t,n)}function NE(t,n,r){ra.L(t,n,r);var o=Fr;if(o&&t&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+un(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+un(r.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(n){case"style":d=Gr(t);break;case"script":d=Qr(t)}Gn.has(d)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Gn.set(d,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ho(d))||n==="script"&&o.querySelector(fo(d))||(n=o.createElement("link"),$t(n,"link",t),Nt(n),o.head.appendChild(n)))}}function RE(t,n){ra.m(t,n);var r=Fr;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qr(t)}if(!Gn.has(d)&&(t=E({rel:"modulepreload",href:t},n),Gn.set(d,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fo(d)))return}o=r.createElement("link"),$t(o,"link",t),Nt(o),r.head.appendChild(o)}}}function CE(t,n,r){ra.S(t,n,r);var o=Fr;if(o&&t){var h=bi(o).hoistableStyles,d=Gr(t);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(ho(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Gn.get(d))&&Od(t,r);var k=_=o.createElement("link");Nt(k),$t(k,"link",t),k._p=new Promise(function(H,Z){k.onload=H,k.onerror=Z}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function DE(t,n){ra.X(t,n);var r=Fr;if(r&&t){var o=bi(r).hoistableScripts,h=Qr(t),d=o.get(h);d||(d=r.querySelector(fo(h)),d||(t=E({src:t,async:!0},n),(n=Gn.get(h))&&Md(t,n),d=r.createElement("script"),Nt(d),$t(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function IE(t,n){ra.M(t,n);var r=Fr;if(r&&t){var o=bi(r).hoistableScripts,h=Qr(t),d=o.get(h);d||(d=r.querySelector(fo(h)),d||(t=E({src:t,async:!0,type:"module"},n),(n=Gn.get(h))&&Md(t,n),d=r.createElement("script"),Nt(d),$t(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Y0(t,n,r,o){var h=(h=xe.current)?bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Gr(r.href),r=bi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Gr(r.href);var d=bi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(ho(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gn.set(t,r),d||jE(h,t,r,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qr(r),r=bi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Gr(t){return'href="'+un(t)+'"'}function ho(t){return'link[rel="stylesheet"]['+t+"]"}function X0(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function jE(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$t(n,"link",r),Nt(n),t.head.appendChild(n))}function Qr(t){return'[src="'+un(t)+'"]'}function fo(t){return"script[async]"+t}function Z0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+un(r.href)+'"]');if(o)return n.instance=o,Nt(o),o;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),$t(o,"style",h),xc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Gr(r.href);var d=t.querySelector(ho(h));if(d)return n.state.loading|=4,n.instance=d,Nt(d),d;o=X0(r),(h=Gn.get(h))&&Od(o,h),d=(t.ownerDocument||t).createElement("link"),Nt(d);var _=d;return _._p=new Promise(function(T,k){_.onload=T,_.onerror=k}),$t(d,"link",o),n.state.loading|=4,xc(d,r.precedence,t),n.instance=d;case"script":return d=Qr(r.src),(h=t.querySelector(fo(d)))?(n.instance=h,Nt(h),h):(o=r,(h=Gn.get(d))&&(o=E({},r),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),$t(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,xc(o,r.precedence,t));return n.instance}function xc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wc=null;function J0(t,n,r){if(wc===null){var o=new Map,h=wc=new Map;h.set(r,o)}else h=wc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[vi]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function W0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function kE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function OE(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Gr(o.href),d=n.querySelector(ho(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,Nt(d);return}d=n.ownerDocument||n,o=X0(o),(h=Gn.get(h))&&Od(o,h),d=d.createElement("link"),Nt(d);var _=d;_._p=new Promise(function(T,k){_.onload=T,_.onerror=k}),$t(d,"link",o),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ec.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Vd=0;function ME(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Vd===0&&(Vd=62500*pE());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Vd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(VE,t),Tc=null,Ec.call(t))}function VE(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var o=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),d=r.get(_)||o,d===o&&r.set(null,h),r.set(_,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var mo={$$typeof:X,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function LE(t,n,r,o,h,d,_,T,k){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function tv(t,n,r,o,h,d,_,T,k,H,Z,te){return t=new LE(t,n,r,_,k,H,Z,te,T),n=1,d===!0&&(n|=24),d=wn(3,null,null,n),t.current=d,d.stateNode=t,n=pf(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:n},_f(d),t}function nv(t){return t?(t=Er,t):Er}function iv(t,n,r,o,h,d){h=nv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ua(n),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Pa(t,o,n),r!==null&&(pn(r,t,n),Gl(r,t,n))}function av(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ld(t,n){av(t,n),(t=t.alternate)&&av(t,n)}function sv(t){if(t.tag===13||t.tag===31){var n=Os(t,67108864);n!==null&&pn(n,t,67108864),Ld(t,67108864)}}function rv(t){if(t.tag===13||t.tag===31){var n=Nn();n=ws(n);var r=Os(t,n);r!==null&&pn(r,t,n),Ld(t,n)}}var Ac=!0;function UE(t,n,r,o){var h=$.T;$.T=null;var d=se.p;try{se.p=2,Ud(t,n,r,o)}finally{se.p=d,$.T=h}}function PE(t,n,r,o){var h=$.T;$.T=null;var d=se.p;try{se.p=8,Ud(t,n,r,o)}finally{se.p=d,$.T=h}}function Ud(t,n,r,o){if(Ac){var h=Pd(o);if(h===null)Td(t,n,o,Nc,r),ov(t,o);else if(BE(h,t,n,r,o))o.stopPropagation();else if(ov(t,o),n&4&&-1<zE.indexOf(t)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var k=1<<31-vt(_);T.entanglements[1]|=k,_&=~k}ki(d),(Ke&6)===0&&(uc=sn()+500,lo(0))}}break;case 31:case 13:T=Os(d,2),T!==null&&pn(T,d,2),hc(),Ld(d,2)}if(d=Pd(o),d===null&&Td(t,n,o,Nc,r),d===h)break;h=d}h!==null&&o.stopPropagation()}else Td(t,n,o,null,r)}}function Pd(t){return t=Mn(t),zd(t)}var Nc=null;function zd(t){if(Nc=null,t=_i(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nc=t,null}function lv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case gl:return 2;case yl:return 8;case Ea:case Gh:return 32;case su:return 268435456;default:return 32}default:return 32}}var Bd=!1,Xa=null,Za=null,Ja=null,po=new Map,go=new Map,Wa=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(t,n){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":po.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(n.pointerId)}}function yo(t,n,r,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&sv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function BE(t,n,r,o,h){switch(n){case"focusin":return Xa=yo(Xa,t,n,r,o,h),!0;case"dragenter":return Za=yo(Za,t,n,r,o,h),!0;case"mouseover":return Ja=yo(Ja,t,n,r,o,h),!0;case"pointerover":var d=h.pointerId;return po.set(d,yo(po.get(d)||null,t,n,r,o,h)),!0;case"gotpointercapture":return d=h.pointerId,go.set(d,yo(go.get(d)||null,t,n,r,o,h)),!0}return!1}function uv(t){var n=_i(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,Jn(t.priority,function(){rv(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,Jn(t.priority,function(){rv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Pd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Cl=o,r.target.dispatchEvent(o),Cl=null}else return n=On(r),n!==null&&sv(n),t.blockedOn=r,!1;n.shift()}return!0}function cv(t,n,r){Rc(t)&&r.delete(n)}function qE(){Bd=!1,Xa!==null&&Rc(Xa)&&(Xa=null),Za!==null&&Rc(Za)&&(Za=null),Ja!==null&&Rc(Ja)&&(Ja=null),po.forEach(cv),go.forEach(cv)}function Cc(t,n){t.blockedOn===n&&(t.blockedOn=null,Bd||(Bd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qE)))}var Dc=null;function hv(t){Dc!==t&&(Dc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(zd(o||r)===null)continue;break}var d=On(r);d!==null&&(t.splice(n,3),n-=3,Pf(d,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Kr(t){function n(k){return Cc(k,t)}Xa!==null&&Cc(Xa,t),Za!==null&&Cc(Za,t),Ja!==null&&Cc(Ja,t),po.forEach(n),go.forEach(n);for(var r=0;r<Wa.length;r++){var o=Wa[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Wa.length&&(r=Wa[0],r.blockedOn===null);)uv(r),r.blockedOn===null&&Wa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],d=r[o+1],_=h[Pt]||null;if(typeof d=="function")_||hv(r);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)T=_.formAction;else if(zd(h)!==null)continue}else T=_.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),hv(r)}}}function fv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}Ic.prototype.render=qd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=Nn();iv(r,o,t,n,null,null)},Ic.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;iv(t.current,2,null,t,null,null),hc(),n[yi]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=hu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Wa.length&&n!==0&&n<Wa[r].priority;r++);Wa.splice(r,0,t),r===0&&uv(t)}};var dv=e.version;if(dv!=="19.2.1")throw Error(s(527,dv,"19.2.1"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var HE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Xn=jc.inject(HE),Ht=jc}catch(t){}}return _o.createRoot=function(t,n){if(!l(t))throw Error(s(299));var r=!1,o="",h=by,d=xy,_=wy;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=tv(t,1,!1,null,null,r,o,null,h,d,_,fv),t[yi]=n.current,Ed(t),new qd(n)},_o.hydrateRoot=function(t,n,r){if(!l(t))throw Error(s(299));var o=!1,h="",d=by,_=xy,T=wy,k=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(k=r.formState)),n=tv(t,1,!0,n,r!=null?r:null,o,h,k,d,_,T,fv),n.context=nv(null),r=n.current,o=Nn(),o=ws(o),h=Ua(o),h.callback=null,Pa(r,h,o),r=o,n.current.lanes=r,bs(n,r),ki(n),t[yi]=n.current,Ed(t),new Ic(n)},_o.version="19.2.1",_o}var Ev;function eT(){if(Ev)return Gd.exports;Ev=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Gd.exports=WE(),Gd.exports}var tT=eT();var Tv="popstate";function nT(a={}){function e(s,l){let{pathname:u,search:f,hash:p}=s.location;return pm("",{pathname:u,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){return typeof l=="string"?l:Vo(l)}return aT(e,i,null,a)}function ht(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function oi(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(i){}}}function iT(){return Math.random().toString(36).substring(2,10)}function Sv(a,e){return{usr:a.state,key:a.key,idx:e}}function pm(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:i,key:e&&e.key||s||iT()}}function Vo({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function ol(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function aT(a,e,i,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,p="POP",g=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function E(){p="POP";let U=b(),Y=U==null?null:U-y;y=U,g&&g({action:p,location:G.location,delta:Y})}function A(U,Y){p="PUSH";let ie=pm(G.location,U,Y);y=b()+1;let X=Sv(ie,y),oe=G.createHref(ie);try{f.pushState(X,"",oe)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;l.location.assign(oe)}u&&g&&g({action:p,location:G.location,delta:1})}function j(U,Y){p="REPLACE";let ie=pm(G.location,U,Y);y=b();let X=Sv(ie,y),oe=G.createHref(ie);f.replaceState(X,"",oe),u&&g&&g({action:p,location:G.location,delta:0})}function P(U){return sT(U)}let G={get action(){return p},get location(){return a(l,f)},listen(U){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Tv,E),g=U,()=>{l.removeEventListener(Tv,E),g=null}},createHref(U){return e(l,U)},createURL:P,encodeLocation(U){let Y=P(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:j,go(U){return f.go(U)}};return G}function sT(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ht(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Vo(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function ob(a,e,i="/"){return rT(a,e,i,!1)}function rT(a,e,i,s){let l=typeof e=="string"?ol(e):e,u=ha(l.pathname||"/",i);if(u==null)return null;let f=ub(a);lT(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=vT(u);p=gT(f[g],y,s)}return p}function ub(a,e=[],i=[],s="",l=!1){let u=(f,p,g=l,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;ht(b.relativePath.startsWith(s),'Absolute route path "'.concat(b.relativePath,'" nested under path "').concat(s,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),b.relativePath=b.relativePath.slice(s.length)}let E=ua([s,b.relativePath]),A=i.concat(b);f.children&&f.children.length>0&&(ht(f.index!==!0,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(E,'".')),ub(f.children,e,A,E,g)),!(f.path==null&&!f.index)&&e.push({path:E,score:mT(E,f.index),routesMeta:A})};return a.forEach((f,p)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,p);else for(let y of cb(f.path))u(f,p,!0,y)}),e}function cb(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=cb(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&p.push(...f),p.map(g=>a.startsWith("/")&&g===""?"/":g)}function lT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:pT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var oT=/^:[\w-]+$/,uT=3,cT=2,hT=1,fT=10,dT=-2,Av=a=>a==="*";function mT(a,e){let i=a.split("/"),s=i.length;return i.some(Av)&&(s+=dT),e&&(s+=cT),i.filter(l=>!Av(l)).reduce((l,u)=>l+(oT.test(u)?uT:u===""?hT:fT),s)}function pT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,l)=>s===e[l])?a[a.length-1]-e[e.length-1]:0}function gT(a,e,i=!1){let{routesMeta:s}=a,l={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",E=Wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),A=g.route;if(!E&&y&&i&&!s[s.length-1].route.index&&(E=Wc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!E)return null;Object.assign(l,E.params),f.push({params:l,pathname:ua([u,E.pathname]),pathnameBase:ET(ua([u,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(u=ua([u,E.pathnameBase]))}return f}function Wc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=yT(a.path,a.caseSensitive,a.end),l=e.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:E},A)=>{if(b==="*"){let P=p[A]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const j=p[A];return E&&!j?y[b]=void 0:y[b]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:a}}function yT(a,e=!1,i=!0){oi(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'.concat(a,'" will be treated as if it were "').concat(a.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(a.replace(/\*$/,"/*"),'".'));let s=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function vT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,'The URL path "'.concat(a,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(e,").")),a}}function ha(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bT=a=>_T.test(a);function xT(a,e="/"){let{pathname:i,search:s="",hash:l=""}=typeof a=="string"?ol(a):a,u;if(i)if(bT(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),oi(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(f," -> ").concat(i))}i.startsWith("/")?u=Nv(i.substring(1),"/"):u=Nv(i,e)}else u=e;return{pathname:u,search:TT(s),hash:ST(l)}}function Nv(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Yd(a,e,i,s){return"Cannot include a '".concat(a,"' character in a manually specified `to.").concat(e,"` field [").concat(JSON.stringify(s),"].  Please separate it out to the `to.").concat(i,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function wT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function hb(a){let e=wT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function fb(a,e,i,s=!1){let l;typeof a=="string"?l=ol(a):(l={...a},ht(!l.pathname||!l.pathname.includes("?"),Yd("?","pathname","search",l)),ht(!l.pathname||!l.pathname.includes("#"),Yd("#","pathname","hash",l)),ht(!l.search||!l.search.includes("#"),Yd("#","search","hash",l)));let u=a===""||l.pathname==="",f=u?"/":l.pathname,p;if(f==null)p=i;else{let E=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),E-=1;l.pathname=A.join("/")}p=E>=0?e[E]:"/"}let g=xT(l,p),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var ua=a=>a.join("/").replace(/\/\/+/g,"/"),ET=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),TT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,ST=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function AT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function NT(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var db=["POST","PUT","PATCH","DELETE"];new Set(db);var RT=["GET",...db];new Set(RT);var ul=L.createContext(null);ul.displayName="DataRouter";var yh=L.createContext(null);yh.displayName="DataRouterState";L.createContext(!1);var mb=L.createContext({isTransitioning:!1});mb.displayName="ViewTransition";var CT=L.createContext(new Map);CT.displayName="Fetchers";var DT=L.createContext(null);DT.displayName="Await";var ci=L.createContext(null);ci.displayName="Navigation";var Ko=L.createContext(null);Ko.displayName="Location";var ya=L.createContext({outlet:null,matches:[],isDataRoute:!1});ya.displayName="Route";var Qm=L.createContext(null);Qm.displayName="RouteError";function IT(a,{relative:e}={}){ht($o(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=L.useContext(ci),{hash:l,pathname:u,search:f}=Yo(a,{relative:e}),p=u;return i!=="/"&&(p=u==="/"?i:ua([i,u])),s.createHref({pathname:p,search:f,hash:l})}function $o(){return L.useContext(Ko)!=null}function va(){return ht($o(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ko).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(a){L.useContext(ci).static||L.useLayoutEffect(a)}function jT(){let{isDataRoute:a}=L.useContext(ya);return a?GT():kT()}function kT(){ht($o(),"useNavigate() may be used only in the context of a <Router> component.");let a=L.useContext(ul),{basename:e,navigator:i}=L.useContext(ci),{matches:s}=L.useContext(ya),{pathname:l}=va(),u=JSON.stringify(hb(s)),f=L.useRef(!1);return gb(()=>{f.current=!0}),L.useCallback((g,y={})=>{if(oi(f.current,pb),!f.current)return;if(typeof g=="number"){i.go(g);return}let b=fb(g,JSON.parse(u),l,y.relative==="path");a==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ua([e,b.pathname])),(y.replace?i.replace:i.push)(b,y.state,y)},[e,i,u,l,a])}L.createContext(null);function Yo(a,{relative:e}={}){let{matches:i}=L.useContext(ya),{pathname:s}=va(),l=JSON.stringify(hb(i));return L.useMemo(()=>fb(a,JSON.parse(l),s,e==="path"),[a,l,s,e])}function OT(a,e){return yb(a,e)}function yb(a,e,i,s,l){var ie;ht($o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(ci),{matches:f}=L.useContext(ya),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",b=p?p.pathnameBase:"/",E=p&&p.route;{let X=E&&E.path||"";vb(y,!E||X.endsWith("*")||X.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(y,'" (under <Route path="').concat(X,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(X,'"> to <Route path="').concat(X==="/"?"*":"".concat(X,"/*"),'">.'))}let A=va(),j;if(e){let X=typeof e=="string"?ol(e):e;ht(b==="/"||((ie=X.pathname)==null?void 0:ie.startsWith(b)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(b,'" but pathname "').concat(X.pathname,'" was given in the `location` prop.')),j=X}else j=A;let P=j.pathname||"/",G=P;if(b!=="/"){let X=b.replace(/^\//,"").split("/");G="/"+P.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=ob(a,{pathname:G});oi(E||U!=null,'No routes matched location "'.concat(j.pathname).concat(j.search).concat(j.hash,'" ')),oi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,'Matched leaf route at location "'.concat(j.pathname).concat(j.search).concat(j.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let Y=PT(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:ua([b,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?b:ua([b,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,i,s,l);return e&&Y?L.createElement(Ko.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},Y):Y}function MT(){let a=FT(),e=AT(a)?"".concat(a.status," ").concat(a.statusText):a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),i?L.createElement("pre",{style:l},i):null,f)}var VT=L.createElement(MT,null),LT=class extends L.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?L.createElement(ya.Provider,{value:this.props.routeContext},L.createElement(Qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UT({routeContext:a,match:e,children:i}){let s=L.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ya.Provider,{value:a},i)}function PT(a,e=[],i=null,s=null,l=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,f=i==null?void 0:i.errors;if(f!=null){let b=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);ht(b>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(f).join(","))),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,g=-1;if(i)for(let b=0;b<u.length;b++){let E=u[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=b),E.route.id){let{loaderData:A,errors:j}=i,P=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!j||j[E.route.id]===void 0);if(E.route.lazy||P){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=i&&s?(b,E)=>{var A,j,P;s(b,{location:i.location,params:(P=(j=(A=i.matches)==null?void 0:A[0])==null?void 0:j.params)!=null?P:{},unstable_pattern:NT(i.matches),errorInfo:E})}:void 0;return u.reduceRight((b,E,A)=>{let j,P=!1,G=null,U=null;i&&(j=f&&E.route.id?f[E.route.id]:void 0,G=E.route.errorElement||VT,p&&(g<0&&A===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,U=null):g===A&&(P=!0,U=E.route.hydrateFallbackElement||null)));let Y=e.concat(u.slice(0,A+1)),ie=()=>{let X;return j?X=G:P?X=U:E.route.Component?X=L.createElement(E.route.Component,null):E.route.element?X=E.route.element:X=b,L.createElement(UT,{match:E,routeContext:{outlet:b,matches:Y,isDataRoute:i!=null},children:X})};return i&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?L.createElement(LT,{location:i.location,revalidation:i.revalidation,component:G,error:j,children:ie(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:y}):ie()},null)}function Km(a){return"".concat(a," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function zT(a){let e=L.useContext(ul);return ht(e,Km(a)),e}function BT(a){let e=L.useContext(yh);return ht(e,Km(a)),e}function qT(a){let e=L.useContext(ya);return ht(e,Km(a)),e}function $m(a){let e=qT(a),i=e.matches[e.matches.length-1];return ht(i.route.id,"".concat(a,' can only be used on routes that contain a unique "id"')),i.route.id}function HT(){return $m("useRouteId")}function FT(){var s;let a=L.useContext(Qm),e=BT("useRouteError"),i=$m("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function GT(){let{router:a}=zT("useNavigate"),e=$m("useNavigate"),i=L.useRef(!1);return gb(()=>{i.current=!0}),L.useCallback(async(l,u={})=>{oi(i.current,pb),i.current&&(typeof l=="number"?await a.navigate(l):await a.navigate(l,{fromRouteId:e,...u}))},[a,e])}var Rv={};function vb(a,e,i){!e&&!Rv[a]&&(Rv[a]=!0,oi(!1,i))}L.memo(QT);function QT({routes:a,future:e,state:i,unstable_onError:s}){return yb(a,void 0,i,s,e)}function Bc(a){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KT({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){ht(!$o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=a.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:p,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[p,l,u,f]);typeof i=="string"&&(i=ol(i));let{pathname:y="/",search:b="",hash:E="",state:A=null,key:j="default"}=i,P=L.useMemo(()=>{let G=ha(y,p);return G==null?null:{location:{pathname:G,search:b,hash:E,state:A,key:j},navigationType:s}},[p,y,b,E,A,j,s]);return oi(P!=null,'<Router basename="'.concat(p,'"> is not able to match the URL "').concat(y).concat(b).concat(E,"\" because it does not start with the basename, so the <Router> won't render anything.")),P==null?null:L.createElement(ci.Provider,{value:g},L.createElement(Ko.Provider,{children:e,value:P}))}function $T({children:a,location:e}){return OT(gm(a),e)}function gm(a,e=[]){let i=[];return L.Children.forEach(a,(s,l)=>{if(!L.isValidElement(s))return;let u=[...e,l];if(s.type===L.Fragment){i.push.apply(i,gm(s.props.children,u));return}ht(s.type===Bc,"[".concat(typeof s.type=="string"?s.type:s.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=gm(s.props.children,u)),i.push(f)}),i}var qc="get",Hc="application/x-www-form-urlencoded";function vh(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function YT(a){return vh(a)&&a.tagName.toLowerCase()==="button"}function XT(a){return vh(a)&&a.tagName.toLowerCase()==="form"}function ZT(a){return vh(a)&&a.tagName.toLowerCase()==="input"}function JT(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function WT(a,e){return a.button===0&&(!e||e==="_self")&&!JT(a)}var kc=null;function e2(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch(a){kc=!0}return kc}var t2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(a){return a!=null&&!t2.has(a)?(oi(!1,'"'.concat(a,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Hc,'"')),null):a}function n2(a,e){let i,s,l,u,f;if(XT(a)){let p=a.getAttribute("action");s=p?ha(p,e):null,i=a.getAttribute("method")||qc,l=Xd(a.getAttribute("enctype"))||Hc,u=new FormData(a)}else if(YT(a)||ZT(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||p.getAttribute("action");if(s=g?ha(g,e):null,i=a.getAttribute("formmethod")||p.getAttribute("method")||qc,l=Xd(a.getAttribute("formenctype"))||Xd(p.getAttribute("enctype"))||Hc,u=new FormData(p,a),!e2()){let{name:y,type:b,value:E}=a;if(b==="image"){let A=y?"".concat(y,"."):"";u.append("".concat(A,"x"),"0"),u.append("".concat(A,"y"),"0")}else y&&u.append(y,E)}}else{if(vh(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=qc,s=null,l=Hc,f=a}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ym(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function i2(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname="_root.".concat(i):e&&ha(s.pathname,e)==="/"?s.pathname="".concat(e.replace(/\/$/,""),"/_root.").concat(i):s.pathname="".concat(s.pathname.replace(/\/$/,""),".").concat(i),s}async function a2(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error("Error loading route module `".concat(a.module,"`, reloading page...")),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s2(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function r2(a,e,i){let s=await Promise.all(a.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await a2(u,i);return f.links?f.links():[]}return[]}));return c2(s.flat(1).filter(s2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Cv(a,e,i,s,l,u){let f=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>{var b;return i[y].pathname!==g.pathname||((b=i[y].route.path)==null?void 0:b.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{var E;let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((E=i[0])==null?void 0:E.params)||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function l2(a,e,{includeHydrateFallback:i}={}){return o2(a.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function o2(a){return[...new Set(a)]}function u2(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function c2(a,e){let i=new Set;return new Set(e),a.reduce((s,l)=>{let u=JSON.stringify(u2(l));return i.has(u)||(i.add(u),s.push({key:u,link:l})),s},[])}function _b(){let a=L.useContext(ul);return Ym(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function h2(){let a=L.useContext(yh);return Ym(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Xm=L.createContext(void 0);Xm.displayName="FrameworkContext";function bb(){let a=L.useContext(Xm);return Ym(a,"You must render this element inside a <HydratedRouter> element"),a}function f2(a,e){let i=L.useContext(Xm),[s,l]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:E}=e,A=L.useRef(null);L.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let G=Y=>{Y.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(G,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[a]),L.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let j=()=>{l(!0)},P=()=>{l(!1),f(!1)};return i?a!=="intent"?[u,A,{}]:[u,A,{onFocus:bo(p,j),onBlur:bo(g,P),onMouseEnter:bo(y,j),onMouseLeave:bo(b,P),onTouchStart:bo(E,j)}]:[!1,A,{}]}function bo(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function d2({page:a,...e}){let{router:i}=_b(),s=L.useMemo(()=>ob(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?L.createElement(p2,{page:a,matches:s,...e}):null}function m2(a){let{manifest:e,routeModules:i}=bb(),[s,l]=L.useState([]);return L.useEffect(()=>{let u=!1;return r2(a,e,i).then(f=>{u||l(f)}),()=>{u=!0}},[a,e,i]),s}function p2({page:a,matches:e,...i}){let s=va(),{manifest:l,routeModules:u}=bb(),{basename:f}=_b(),{loaderData:p,matches:g}=h2(),y=L.useMemo(()=>Cv(a,e,g,l,s,"data"),[a,e,g,l,s]),b=L.useMemo(()=>Cv(a,e,g,l,s,"assets"),[a,e,g,l,s]),E=L.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let P=new Set,G=!1;if(e.forEach(Y=>{var X;let ie=l.routes[Y.route.id];!ie||!ie.hasLoader||(!y.some(oe=>oe.route.id===Y.route.id)&&Y.route.id in p&&((X=u[Y.route.id])!=null&&X.shouldRevalidate)||ie.hasClientLoader?G=!0:P.add(Y.route.id))}),P.size===0)return[];let U=i2(a,f,"data");return G&&P.size>0&&U.searchParams.set("_routes",e.filter(Y=>P.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[f,p,s,l,y,e,a,u]),A=L.useMemo(()=>l2(b,l),[b,l]),j=m2(b);return L.createElement(L.Fragment,null,E.map(P=>L.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...i})),A.map(P=>L.createElement("link",{key:P,rel:"modulepreload",href:P,...i})),j.map(({key:P,link:G})=>L.createElement("link",{key:P,nonce:i.nonce,...G})))}function g2(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xb&&(window.__reactRouterVersion="7.10.1")}catch(a){}function y2({basename:a,children:e,unstable_useTransitions:i,window:s}){let l=L.useRef();l.current==null&&(l.current=nT({window:s,v5Compat:!0}));let u=l.current,[f,p]=L.useState({action:u.action,location:u.location}),g=L.useCallback(y=>{i===!1?p(y):L.startTransition(()=>p(y))},[i]);return L.useLayoutEffect(()=>u.listen(g),[u,g]),L.createElement(KT,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i===!0})}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xs=L.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:b,viewTransition:E,...A},j){let{basename:P,unstable_useTransitions:G}=L.useContext(ci),U=typeof y=="string"&&wb.test(y),Y,ie=!1;if(typeof y=="string"&&U&&(Y=y,xb))try{let O=new URL(window.location.href),w=y.startsWith("//")?new URL(O.protocol+y):new URL(y),R=ha(w.pathname,P);w.origin===O.origin&&R!=null?y=R+w.search+w.hash:ie=!0}catch(O){oi(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let X=IT(y,{relative:l}),[oe,me,ye]=f2(s,A),I=x2(y,{replace:f,state:p,target:g,preventScrollReset:b,relative:l,viewTransition:E,unstable_useTransitions:G});function C(O){e&&e(O),O.defaultPrevented||I(O)}let D=L.createElement("a",{...A,...ye,href:Y||X,onClick:ie||u?e:C,ref:g2(j,me),target:g,"data-discover":!U&&i==="render"?"true":void 0});return oe&&!U?L.createElement(L.Fragment,null,D,L.createElement(d2,{page:X})):D});Xs.displayName="Link";var v2=L.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:p,children:g,...y},b){let E=Yo(f,{relative:y.relative}),A=va(),j=L.useContext(yh),{navigator:P,basename:G}=L.useContext(ci),U=j!=null&&A2(E)&&p===!0,Y=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,ie=A.pathname,X=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(ie=ie.toLowerCase(),X=X?X.toLowerCase():null,Y=Y.toLowerCase()),X&&G&&(X=ha(X,G)||X);const oe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let me=ie===Y||!l&&ie.startsWith(Y)&&ie.charAt(oe)==="/",ye=X!=null&&(X===Y||!l&&X.startsWith(Y)&&X.charAt(Y.length)==="/"),I={isActive:me,isPending:ye,isTransitioning:U},C=me?e:void 0,D;typeof s=="function"?D=s(I):D=[s,me?"active":null,ye?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return L.createElement(Xs,{...y,"aria-current":C,className:D,ref:b,style:O,to:f,viewTransition:p},typeof g=="function"?g(I):g)});v2.displayName="NavLink";var _2=L.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:l,state:u,method:f=qc,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:E,...A},j)=>{let{unstable_useTransitions:P}=L.useContext(ci),G=T2(),U=S2(p,{relative:y}),Y=f.toLowerCase()==="get"?"get":"post",ie=typeof p=="string"&&wb.test(p),X=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let me=oe.nativeEvent.submitter,ye=(me==null?void 0:me.getAttribute("formmethod"))||f,I=()=>G(me||oe.currentTarget,{fetcherKey:e,method:ye,navigate:i,replace:l,state:u,relative:y,preventScrollReset:b,viewTransition:E});P&&i!==!1?L.startTransition(()=>I()):I()};return L.createElement("form",{ref:j,method:Y,action:U,onSubmit:s?g:X,...A,"data-discover":!ie&&a==="render"?"true":void 0})});_2.displayName="Form";function b2(a){return"".concat(a," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Eb(a){let e=L.useContext(ul);return ht(e,b2(a)),e}function x2(a,{target:e,replace:i,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_useTransitions:p}={}){let g=jT(),y=va(),b=Yo(a,{relative:u});return L.useCallback(E=>{if(WT(E,e)){E.preventDefault();let A=i!==void 0?i:Vo(y)===Vo(b),j=()=>g(a,{replace:A,state:s,preventScrollReset:l,relative:u,viewTransition:f});p?L.startTransition(()=>j()):j()}},[y,g,b,i,s,e,a,l,u,f,p])}var w2=0,E2=()=>"__".concat(String(++w2),"__");function T2(){let{router:a}=Eb("useSubmit"),{basename:e}=L.useContext(ci),i=HT(),s=a.fetch,l=a.navigate;return L.useCallback(async(u,f={})=>{let{action:p,method:g,encType:y,formData:b,body:E}=n2(u,e);if(f.navigate===!1){let A=f.fetcherKey||E2();await s(A,i,f.action||p,{preventScrollReset:f.preventScrollReset,formData:b,body:E,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await l(f.action||p,{preventScrollReset:f.preventScrollReset,formData:b,body:E,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,l,e,i])}function S2(a,{relative:e}={}){let{basename:i}=L.useContext(ci),s=L.useContext(ya);ht(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Yo(a||".",{relative:e})},f=va();if(a==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let b=p.toString();u.search=b?"?".concat(b):""}}return(!a||a===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:ua([i,u.pathname])),Vo(u)}function A2(a,{relative:e}={}){let i=L.useContext(mb);ht(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Eb("useViewTransitionState"),l=Yo(a,{relative:e});if(!i.isTransitioning)return!1;let u=ha(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=ha(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Wc(l.pathname,f)!=null||Wc(l.pathname,u)!=null}const N2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Dv=a=>{const e=R2(a);return e.charAt(0).toUpperCase()+e.slice(1)},Tb=(...a)=>a.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),C2=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var D2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I2=L.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...p},g)=>L.createElement("svg",{ref:g,...D2,width:e,height:e,stroke:a,strokeWidth:s?Number(i)*24/Number(e):i,className:Tb("lucide",l),...!u&&!C2(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,b])=>L.createElement(y,b)),...Array.isArray(u)?u:[u]]));const Ye=(a,e)=>{const i=L.forwardRef(({className:s,...l},u)=>L.createElement(I2,{ref:u,iconNode:e,className:Tb("lucide-".concat(N2(Dv(a))),"lucide-".concat(a),s),...l}));return i.displayName=Dv(a),i};const j2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],k2=Ye("bell",j2);const O2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Iv=Ye("calendar",O2);const M2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V2=Ye("check",M2);const L2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U2=Ye("chevron-down",L2);const P2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sb=Ye("chevron-left",P2);const z2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],B2=Ye("chevron-right",z2);const q2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H2=Ye("circle-check-big",q2);const F2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],eh=Ye("circle-plus",F2);const G2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Q2=Ye("circle-x",G2);const K2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$2=Ye("copy",K2);const Y2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],X2=Ye("database",Y2);const Z2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_h=Ye("external-link",Z2);const J2=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],W2=Ye("ghost",J2);const eS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jv=Ye("info",eS);const tS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nS=Ye("loader-circle",tS);const iS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],aS=Ye("lock",iS);const sS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ab=Ye("map-pin",sS);const rS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fc=Ye("plus",rS);const lS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oS=Ye("save",lS);const uS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cS=Ye("search",uS);const hS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fS=Ye("settings",hS);const dS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],kv=Ye("share-2",dS);const mS=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],pS=Ye("share",mS);const gS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nb=Ye("shield",gS);const yS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ov=Ye("square-pen",yS);const vS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gc=Ye("trash-2",vS);const _S=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rb=Ye("upload",_S);const bS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xS=Ye("user",bS);const wS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ES=Ye("users",wS);const TS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],el=Ye("x",TS),SS=()=>{};var Mv={};const Cb=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},AS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[i++],f=a[i++],p=a[i++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=a[i++],f=a[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const u=a[l],f=l+1<a.length,p=f?a[l+1]:0,g=l+2<a.length,y=g?a[l+2]:0,b=u>>2,E=(u&3)<<4|p>>4;let A=(p&15)<<2|y>>6,j=y&63;g||(j=64,f||(A=64)),s.push(i[b],i[E],i[A],i[j])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Cb(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):AS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const u=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const E=l<a.length?i[a.charAt(l)]:64;if(++l,u==null||p==null||y==null||E==null)throw new NS;const A=u<<2|p>>4;if(s.push(A),y!==64){const j=p<<4&240|y>>2;if(s.push(j),E!==64){const P=y<<6&192|E;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(a){const e=Cb(a);return Db.encodeByteArray(e,!0)},th=function(a){return RS(a).replace(/\./g,"")},CS=function(a){try{return Db.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IS=()=>DS().__FIREBASE_DEFAULTS__,jS=()=>{if(typeof process>"u"||typeof Mv>"u")return;const a=Mv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},kS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const e=a&&CS(a[1]);return e&&JSON.parse(e)},Zm=()=>{try{return SS()||IS()||jS()||kS()}catch(a){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(a));return}},OS=a=>{var e,i;return(i=(e=Zm())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},Ib=a=>{const e=OS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},jb=()=>{var a;return(a=Zm())==null?void 0:a.config};class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Xo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch(e){return!1}}async function kb(a){return(await fetch(a,{credentials:"include"})).ok}function Ob(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:"https://securetoken.google.com/".concat(s),aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[th(JSON.stringify(i)),th(JSON.stringify(f)),""].join(".")}const Co={};function VS(){const a={prod:[],emulator:[]};for(const e of Object.keys(Co))Co[e]?a.emulator.push(e):a.prod.push(e);return a}function LS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Vv=!1;function Mb(a,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||Co[a]===e||Co[a]||Vv)return;Co[a]=e;function i(A){return"__firebase__banner__".concat(A)}const s="__firebase__banner",u=VS().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function p(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Vv=!0,f()},A}function b(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=LS(s),j=i("text"),P=document.getElementById(j)||document.createElement("span"),G=i("learnmore"),U=document.getElementById(G)||document.createElement("a"),Y=i("preprendIcon"),ie=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;p(X),b(U,G);const oe=y();g(ie,Y),X.append(ie,P,U,oe),document.body.appendChild(X)}u?(P.innerText="Preview backend disconnected.",ie.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(ie.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',P.innerText="Preview backend running in this workspace."),P.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function US(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){var e;const a=(e=Zm())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(i){return!1}}function zS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vb(){try{return typeof indexedDB=="object"}catch(a){return!1}}function Lb(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}function BS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const qS="FirebaseError";class ms extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=qS,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bh.prototype.create)}}class bh{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l="".concat(this.service,"/").concat(e),u=this.errors[e],f=u?HS(u,s):"Error",p="".concat(this.serviceName,": ").concat(f," (").concat(l,").");return new ms(l,p,s)}}function HS(a,e){return a.replace(FS,(i,s)=>{const l=e[s];return l!=null?String(l):"<".concat(s,"?>")})}const FS=/\{\$([^}]+)}/g;function nh(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=a[l],f=e[l];if(Lv(u)&&Lv(f)){if(!nh(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function Lv(a){return a!==null&&typeof a=="object"}function Zt(a){return a&&a._delegate?a._delegate:a}class zi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ks="[DEFAULT]";class GS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new MS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch(l){}}return this.instancesDeferred.get(i).promise}getImmediate(e){var l;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(l=e==null?void 0:e.optional)!=null?l:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(KS(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch(i){}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch(u){}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error("".concat(this.name,"(").concat(s,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(l)}return l}onInit(e,i){var f;const s=this.normalizeInstanceIdentifier(i),l=(f=this.onInitCallbacks.get(s))!=null?f:new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch(u){}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch(l){}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(a){return a===Ks?void 0:a}function KS(a){return a.instantiationMode==="EAGER"}class $S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new GS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qe||(qe={}));const YS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},XS=qe.INFO,ZS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},JS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),l=ZS[e];if(l)console[l]("[".concat(s,"]  ").concat(a.name,":"),...i);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class Ub{constructor(e){this.name=e,this._logLevel=XS,this._logHandler=JS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const WS=(a,e)=>e.some(i=>a instanceof i);let Uv,Pv;function eA(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,ym=new WeakMap,zb=new WeakMap,Zd=new WeakMap,Jm=new WeakMap;function nA(a){const e=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{i(ca(a.result)),l()},f=()=>{s(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Pb.set(i,a)}).catch(()=>{}),Jm.set(e,a),e}function iA(a){if(ym.has(a))return;const e=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});ym.set(a,e)}let vm={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ym.get(a);if(e==="objectStoreNames")return a.objectStoreNames||zb.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ca(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function aA(a){vm=a(vm)}function sA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Jd(this),e,...i);return zb.set(s,e.sort?e.sort():[e]),ca(s)}:tA().includes(a)?function(...e){return a.apply(Jd(this),e),ca(Pb.get(this))}:function(...e){return ca(a.apply(Jd(this),e))}}function rA(a){return typeof a=="function"?sA(a):(a instanceof IDBTransaction&&iA(a),WS(a,eA())?new Proxy(a,vm):a)}function ca(a){if(a instanceof IDBRequest)return nA(a);if(Zd.has(a))return Zd.get(a);const e=rA(a);return e!==a&&(Zd.set(a,e),Jm.set(e,a)),e}const Jd=a=>Jm.get(a);function xh(a,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(a,e),p=ca(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ca(f.result),g.oldVersion,g.newVersion,ca(f.transaction),g)}),i&&f.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}function Wd(a,{blocked:e}={}){const i=indexedDB.deleteDatabase(a);return e&&i.addEventListener("blocked",s=>e(s.oldVersion,s)),ca(i).then(()=>{})}const lA=["get","getKey","getAll","getAllKeys","count"],oA=["put","add","delete","clear"],em=new Map;function zv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=oA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||lA.includes(i)))return;const u=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return em.set(e,u),u}aA(a=>({...a,get:(e,i,s)=>zv(e,i)||a.get(e,i,s),has:(e,i)=>!!zv(e,i)||a.has(e,i)}));class uA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(cA(i)){const s=i.getImmediate();return"".concat(s.library,"/").concat(s.version)}else return null}).filter(i=>i).join(" ")}}function cA(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",Bv="0.14.6";const fa=new Ub("@firebase/app"),hA="@firebase/app-compat",fA="@firebase/analytics-compat",dA="@firebase/analytics",mA="@firebase/app-check-compat",pA="@firebase/app-check",gA="@firebase/auth",yA="@firebase/auth-compat",vA="@firebase/database",_A="@firebase/data-connect",bA="@firebase/database-compat",xA="@firebase/functions",wA="@firebase/functions-compat",EA="@firebase/installations",TA="@firebase/installations-compat",SA="@firebase/messaging",AA="@firebase/messaging-compat",NA="@firebase/performance",RA="@firebase/performance-compat",CA="@firebase/remote-config",DA="@firebase/remote-config-compat",IA="@firebase/storage",jA="@firebase/storage-compat",kA="@firebase/firestore",OA="@firebase/ai",MA="@firebase/firestore-compat",VA="firebase",LA="12.6.0";const bm="[DEFAULT]",UA={[_m]:"fire-core",[hA]:"fire-core-compat",[dA]:"fire-analytics",[fA]:"fire-analytics-compat",[pA]:"fire-app-check",[mA]:"fire-app-check-compat",[gA]:"fire-auth",[yA]:"fire-auth-compat",[vA]:"fire-rtdb",[_A]:"fire-data-connect",[bA]:"fire-rtdb-compat",[xA]:"fire-fn",[wA]:"fire-fn-compat",[EA]:"fire-iid",[TA]:"fire-iid-compat",[SA]:"fire-fcm",[AA]:"fire-fcm-compat",[NA]:"fire-perf",[RA]:"fire-perf-compat",[CA]:"fire-rc",[DA]:"fire-rc-compat",[IA]:"fire-gcs",[jA]:"fire-gcs-compat",[kA]:"fire-fst",[MA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[VA]:"fire-js-all"};const ih=new Map,PA=new Map,xm=new Map;function qv(a,e){try{a.container.addComponent(e)}catch(i){fa.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(a.name),i)}}function da(a){const e=a.name;if(xm.has(e))return fa.debug("There were multiple attempts to register component ".concat(e,".")),!1;xm.set(e,a);for(const i of ih.values())qv(i,a);for(const i of PA.values())qv(i,a);return!0}function Zo(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Bb(a){return a==null?!1:a.settings!==void 0}const zA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new bh("app","Firebase",zA);class BA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const qb=LA;function Hb(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:bm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw is.create("bad-app-name",{appName:String(l)});if(i||(i=jb()),!i)throw is.create("no-options");const u=ih.get(l);if(u){if(nh(i,u.options)&&nh(s,u.config))return u;throw is.create("duplicate-app",{appName:l})}const f=new $S(l);for(const g of xm.values())f.addComponent(g);const p=new BA(i,s,f);return ih.set(l,p),p}function Wm(a=bm){const e=ih.get(a);if(!e&&a===bm&&jb())return Hb();if(!e)throw is.create("no-app",{appName:a});return e}function Kn(a,e,i){var f;let s=(f=UA[a])!=null?f:a;i&&(s+="-".concat(i));const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const p=['Unable to register library "'.concat(s,'" with version "').concat(e,'":')];l&&p.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),l&&u&&p.push("and"),u&&p.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),fa.warn(p.join(" "));return}da(new zi("".concat(s,"-version"),()=>({library:s,version:e}),"VERSION"))}const qA="firebase-heartbeat-database",HA=1,Lo="firebase-heartbeat-store";let tm=null;function Fb(){return tm||(tm=xh(qA,HA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Lo)}catch(i){console.warn(i)}}}}).catch(a=>{throw is.create("idb-open",{originalErrorMessage:a.message})})),tm}async function FA(a){try{const i=(await Fb()).transaction(Lo),s=await i.objectStore(Lo).get(Gb(a));return await i.done,s}catch(e){if(e instanceof ms)fa.warn(e.message);else{const i=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fa.warn(i.message)}}}async function Hv(a,e){try{const s=(await Fb()).transaction(Lo,"readwrite");await s.objectStore(Lo).put(e,Gb(a)),await s.done}catch(i){if(i instanceof ms)fa.warn(i.message);else{const s=is.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});fa.warn(s.message)}}}function Gb(a){return"".concat(a.name,"!").concat(a.options.appId)}const GA=1024,QA=30;class KA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new YA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>QA){const f=XA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){fa.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fv(),{heartbeatsToSend:s,unsentEntries:l}=$A(this._heartbeatsCache.heartbeats),u=th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return fa.warn(i),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function $A(a,e=GA){const i=[];let s=a.slice();for(const l of a){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Gv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Gv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class YA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vb()?Lb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!=null?s:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!=null?s:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Gv(a){return th(JSON.stringify({version:2,heartbeats:a})).length}function XA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}function ZA(a){da(new zi("platform-logger",e=>new uA(e),"PRIVATE")),da(new zi("heartbeat",e=>new KA(e),"PRIVATE")),Kn(_m,Bv,a),Kn(_m,Bv,"esm2020"),Kn("fire-js","")}ZA("");var JA="firebase",WA="12.6.0";Kn(JA,WA,"app");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var as,Qb;(function(){var a;function e(I,C){function D(){}D.prototype=C.prototype,I.F=C.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(O,w,R){for(var S=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)S[pe-2]=arguments[pe];return C.prototype[w].apply(O,S)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,C,D){D||(D=0);const O=Array(16);if(typeof C=="string")for(var w=0;w<16;++w)O[w]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(w=0;w<16;++w)O[w]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=I.g[0],D=I.g[1],w=I.g[2];let R=I.g[3],S;S=C+(R^D&(w^R))+O[0]+3614090360&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(w^C&(D^w))+O[1]+3905402710&4294967295,R=C+(S<<12&4294967295|S>>>20),S=w+(D^R&(C^D))+O[2]+606105819&4294967295,w=R+(S<<17&4294967295|S>>>15),S=D+(C^w&(R^C))+O[3]+3250441966&4294967295,D=w+(S<<22&4294967295|S>>>10),S=C+(R^D&(w^R))+O[4]+4118548399&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(w^C&(D^w))+O[5]+1200080426&4294967295,R=C+(S<<12&4294967295|S>>>20),S=w+(D^R&(C^D))+O[6]+2821735955&4294967295,w=R+(S<<17&4294967295|S>>>15),S=D+(C^w&(R^C))+O[7]+4249261313&4294967295,D=w+(S<<22&4294967295|S>>>10),S=C+(R^D&(w^R))+O[8]+1770035416&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(w^C&(D^w))+O[9]+2336552879&4294967295,R=C+(S<<12&4294967295|S>>>20),S=w+(D^R&(C^D))+O[10]+4294925233&4294967295,w=R+(S<<17&4294967295|S>>>15),S=D+(C^w&(R^C))+O[11]+2304563134&4294967295,D=w+(S<<22&4294967295|S>>>10),S=C+(R^D&(w^R))+O[12]+1804603682&4294967295,C=D+(S<<7&4294967295|S>>>25),S=R+(w^C&(D^w))+O[13]+4254626195&4294967295,R=C+(S<<12&4294967295|S>>>20),S=w+(D^R&(C^D))+O[14]+2792965006&4294967295,w=R+(S<<17&4294967295|S>>>15),S=D+(C^w&(R^C))+O[15]+1236535329&4294967295,D=w+(S<<22&4294967295|S>>>10),S=C+(w^R&(D^w))+O[1]+4129170786&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^w&(C^D))+O[6]+3225465664&4294967295,R=C+(S<<9&4294967295|S>>>23),S=w+(C^D&(R^C))+O[11]+643717713&4294967295,w=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(w^R))+O[0]+3921069994&4294967295,D=w+(S<<20&4294967295|S>>>12),S=C+(w^R&(D^w))+O[5]+3593408605&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^w&(C^D))+O[10]+38016083&4294967295,R=C+(S<<9&4294967295|S>>>23),S=w+(C^D&(R^C))+O[15]+3634488961&4294967295,w=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(w^R))+O[4]+3889429448&4294967295,D=w+(S<<20&4294967295|S>>>12),S=C+(w^R&(D^w))+O[9]+568446438&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^w&(C^D))+O[14]+3275163606&4294967295,R=C+(S<<9&4294967295|S>>>23),S=w+(C^D&(R^C))+O[3]+4107603335&4294967295,w=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(w^R))+O[8]+1163531501&4294967295,D=w+(S<<20&4294967295|S>>>12),S=C+(w^R&(D^w))+O[13]+2850285829&4294967295,C=D+(S<<5&4294967295|S>>>27),S=R+(D^w&(C^D))+O[2]+4243563512&4294967295,R=C+(S<<9&4294967295|S>>>23),S=w+(C^D&(R^C))+O[7]+1735328473&4294967295,w=R+(S<<14&4294967295|S>>>18),S=D+(R^C&(w^R))+O[12]+2368359562&4294967295,D=w+(S<<20&4294967295|S>>>12),S=C+(D^w^R)+O[5]+4294588738&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^w)+O[8]+2272392833&4294967295,R=C+(S<<11&4294967295|S>>>21),S=w+(R^C^D)+O[11]+1839030562&4294967295,w=R+(S<<16&4294967295|S>>>16),S=D+(w^R^C)+O[14]+4259657740&4294967295,D=w+(S<<23&4294967295|S>>>9),S=C+(D^w^R)+O[1]+2763975236&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^w)+O[4]+1272893353&4294967295,R=C+(S<<11&4294967295|S>>>21),S=w+(R^C^D)+O[7]+4139469664&4294967295,w=R+(S<<16&4294967295|S>>>16),S=D+(w^R^C)+O[10]+3200236656&4294967295,D=w+(S<<23&4294967295|S>>>9),S=C+(D^w^R)+O[13]+681279174&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^w)+O[0]+3936430074&4294967295,R=C+(S<<11&4294967295|S>>>21),S=w+(R^C^D)+O[3]+3572445317&4294967295,w=R+(S<<16&4294967295|S>>>16),S=D+(w^R^C)+O[6]+76029189&4294967295,D=w+(S<<23&4294967295|S>>>9),S=C+(D^w^R)+O[9]+3654602809&4294967295,C=D+(S<<4&4294967295|S>>>28),S=R+(C^D^w)+O[12]+3873151461&4294967295,R=C+(S<<11&4294967295|S>>>21),S=w+(R^C^D)+O[15]+530742520&4294967295,w=R+(S<<16&4294967295|S>>>16),S=D+(w^R^C)+O[2]+3299628645&4294967295,D=w+(S<<23&4294967295|S>>>9),S=C+(w^(D|~R))+O[0]+4096336452&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~w))+O[7]+1126891415&4294967295,R=C+(S<<10&4294967295|S>>>22),S=w+(C^(R|~D))+O[14]+2878612391&4294967295,w=R+(S<<15&4294967295|S>>>17),S=D+(R^(w|~C))+O[5]+4237533241&4294967295,D=w+(S<<21&4294967295|S>>>11),S=C+(w^(D|~R))+O[12]+1700485571&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~w))+O[3]+2399980690&4294967295,R=C+(S<<10&4294967295|S>>>22),S=w+(C^(R|~D))+O[10]+4293915773&4294967295,w=R+(S<<15&4294967295|S>>>17),S=D+(R^(w|~C))+O[1]+2240044497&4294967295,D=w+(S<<21&4294967295|S>>>11),S=C+(w^(D|~R))+O[8]+1873313359&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~w))+O[15]+4264355552&4294967295,R=C+(S<<10&4294967295|S>>>22),S=w+(C^(R|~D))+O[6]+2734768916&4294967295,w=R+(S<<15&4294967295|S>>>17),S=D+(R^(w|~C))+O[13]+1309151649&4294967295,D=w+(S<<21&4294967295|S>>>11),S=C+(w^(D|~R))+O[4]+4149444226&4294967295,C=D+(S<<6&4294967295|S>>>26),S=R+(D^(C|~w))+O[11]+3174756917&4294967295,R=C+(S<<10&4294967295|S>>>22),S=w+(C^(R|~D))+O[2]+718787259&4294967295,w=R+(S<<15&4294967295|S>>>17),S=D+(R^(w|~C))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(w+(S<<21&4294967295|S>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+R&4294967295}s.prototype.v=function(I,C){C===void 0&&(C=I.length);const D=C-this.blockSize,O=this.C;let w=this.h,R=0;for(;R<C;){if(w==0)for(;R<=D;)l(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<C;)if(O[w++]=I.charCodeAt(R++),w==this.blockSize){l(this,O),w=0;break}}else for(;R<C;)if(O[w++]=I[R++],w==this.blockSize){l(this,O),w=0;break}}this.h=w,this.o+=C},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,D=0;D<4;++D)for(let O=0;O<32;O+=8)I[C++]=this.g[D]>>>O&255;return I};function u(I,C){var D=p;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=C(I)}function f(I,C){this.h=C;const D=[];let O=!0;for(let w=I.length-1;w>=0;w--){const R=I[w]|0;O&&R==C||(D[w]=R,O=!1)}this.g=D}var p={};function g(I){return-128<=I&&I<128?u(I,function(C){return new f([C|0],C<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return U(y(-I));const C=[];let D=1;for(let O=0;I>=D;O++)C[O]=I/D|0,D*=4294967296;return new f(C,0)}function b(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return U(b(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=y(Math.pow(C,8));let O=E;for(let R=0;R<I.length;R+=8){var w=Math.min(8,I.length-R);const S=parseInt(I.substring(R,R+w),C);w<8?(w=y(Math.pow(C,w)),O=O.j(w).add(y(S))):(O=O.j(D),O=O.add(y(S)))}return O}var E=g(0),A=g(1),j=g(16777216);a=f.prototype,a.m=function(){if(G(this))return-U(this).m();let I=0,C=1;for(let D=0;D<this.g.length;D++){const O=this.i(D);I+=(O>=0?O:4294967296+O)*C,C*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(G(this))return"-"+U(this).toString(I);const C=y(Math.pow(I,6));var D=this;let O="";for(;;){const w=oe(D,C).g;D=Y(D,w.j(C));let R=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=w,P(D))return R+O;for(;R.length<6;)R="0"+R;O=R+O}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function G(I){return I.h==-1}a.l=function(I){return I=Y(this,I),G(I)?-1:P(I)?0:1};function U(I){const C=I.g.length,D=[];for(let O=0;O<C;O++)D[O]=~I.g[O];return new f(D,~I.h).add(A)}a.abs=function(){return G(this)?U(this):this},a.add=function(I){const C=Math.max(this.g.length,I.g.length),D=[];let O=0;for(let w=0;w<=C;w++){let R=O+(this.i(w)&65535)+(I.i(w)&65535),S=(R>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);O=S>>>16,R&=65535,S&=65535,D[w]=S<<16|R}return new f(D,D[D.length-1]&-2147483648?-1:0)};function Y(I,C){return I.add(U(C))}a.j=function(I){if(P(this)||P(I))return E;if(G(this))return G(I)?U(this).j(U(I)):U(U(this).j(I));if(G(I))return U(this.j(U(I)));if(this.l(j)<0&&I.l(j)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,D=[];for(var O=0;O<2*C;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(let w=0;w<I.g.length;w++){const R=this.i(O)>>>16,S=this.i(O)&65535,pe=I.i(w)>>>16,Ee=I.i(w)&65535;D[2*O+2*w]+=S*Ee,ie(D,2*O+2*w),D[2*O+2*w+1]+=R*Ee,ie(D,2*O+2*w+1),D[2*O+2*w+1]+=S*pe,ie(D,2*O+2*w+1),D[2*O+2*w+2]+=R*pe,ie(D,2*O+2*w+2)}for(I=0;I<C;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=C;I<2*C;I++)D[I]=0;return new f(D,0)};function ie(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function X(I,C){this.g=I,this.h=C}function oe(I,C){if(P(C))throw Error("division by zero");if(P(I))return new X(E,E);if(G(I))return C=oe(U(I),C),new X(U(C.g),U(C.h));if(G(C))return C=oe(I,U(C)),new X(U(C.g),C.h);if(I.g.length>30){if(G(I)||G(C))throw Error("slowDivide_ only works with positive integers.");for(var D=A,O=C;O.l(I)<=0;)D=me(D),O=me(O);var w=ye(D,1),R=ye(O,1);for(O=ye(O,2),D=ye(D,2);!P(O);){var S=R.add(O);S.l(I)<=0&&(w=w.add(D),R=S),O=ye(O,1),D=ye(D,1)}return C=Y(I,w.j(C)),new X(w,C)}for(w=E;I.l(C)>=0;){for(D=Math.max(1,Math.floor(I.m()/C.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),R=y(D),S=R.j(C);G(S)||S.l(I)>0;)D-=O,R=y(D),S=R.j(C);P(R)&&(R=A),w=w.add(R),I=Y(I,S)}return new X(w,I)}a.B=function(I){return oe(this,I).h},a.and=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let O=0;O<C;O++)D[O]=this.i(O)&I.i(O);return new f(D,this.h&I.h)},a.or=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let O=0;O<C;O++)D[O]=this.i(O)|I.i(O);return new f(D,this.h|I.h)},a.xor=function(I){const C=Math.max(this.g.length,I.g.length),D=[];for(let O=0;O<C;O++)D[O]=this.i(O)^I.i(O);return new f(D,this.h^I.h)};function me(I){const C=I.g.length+1,D=[];for(let O=0;O<C;O++)D[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(D,I.h)}function ye(I,C){const D=C>>5;C%=32;const O=I.g.length-D,w=[];for(let R=0;R<O;R++)w[R]=C>0?I.i(R+D)>>>C|I.i(R+D+1)<<32-C:I.i(R+D);return new f(w,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Qb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,as=f}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kb,Eo,$b,Qc,wm,Yb,Xb,Zb;(function(){var a,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var v=0;v<c.length;++v){var x=c[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=i(this);function l(c,v){if(v)e:{var x=s;c=c.split(".");for(var N=0;N<c.length-1;N++){var B=c[N];if(!(B in x))break e;x=x[B]}c=c[c.length-1],N=x[c],v=v(N),v!=N&&v!=null&&e(x,c,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(v){var x=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&x.push([N,v[N]]);return x}});var u=u||{},f=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,x){return c.call.apply(c.bind,arguments)}function y(c,v,x){return y=g,y.apply(null,arguments)}function b(c,v){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function E(c,v){function x(){}x.prototype=v.prototype,c.Z=v.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(N,B,Q){for(var re=Array(arguments.length-2),De=2;De<arguments.length;De++)re[De-2]=arguments[De];return v.prototype[B].apply(N,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const v=c.length;if(v>0){const x=Array(v);for(let N=0;N<v;N++)x[N]=c[N];return x}return[]}function P(c,v){for(let N=1;N<arguments.length;N++){const B=arguments[N];var x=typeof B;if(x=x!="object"?x:B?Array.isArray(B)?"array":x:"null",x=="array"||x=="object"&&typeof B.length=="number"){x=c.length||0;const Q=B.length||0;c.length=x+Q;for(let re=0;re<Q;re++)c[x+re]=B[re]}else c.push(B)}}class G{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(c){f.setTimeout(()=>{throw c},0)}function Y(){var c=I;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class ie{constructor(){this.h=this.g=null}add(v,x){const N=X.get();N.set(v,x),this.h?this.h.next=N:this.g=N,this.h=N}}var X=new G(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ye=!1,I=new ie,C=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(D)}};function D(){for(var c;c=Y();){try{c.h.call(c.g)}catch(x){U(x)}var v=X;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}ye=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};f.addEventListener("test",x,v),f.removeEventListener("test",x,v)}catch(x){}return c})();function S(c){return/^[\s\xa0]*$/.test(c)}function pe(c,v){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}E(pe,w),pe.prototype.init=function(c,v){const x=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(x=="mouseover"?v=c.fromElement:x=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,v,x,N,B){this.listener=c,this.proxy=null,this.src=v,this.type=x,this.capture=!!N,this.ha=B,this.key=++$,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c,v,x){for(const N in c)v.call(x,c[N],N,c)}function ke(c,v){for(const x in c)v.call(void 0,c[x],x,c)}function M(c){const v={};for(const x in c)v[x]=c[x];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,v){let x,N;for(let B=1;B<arguments.length;B++){N=arguments[B];for(x in N)c[x]=N[x];for(let Q=0;Q<J.length;Q++)x=J[Q],Object.prototype.hasOwnProperty.call(N,x)&&(c[x]=N[x])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,v,x,N,B){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const re=xe(c,v,N,B);return re>-1?(v=c[re],x||(v.fa=!1)):(v=new se(v,this.src,Q,!!N,B),v.fa=x,c.push(v)),v};function ve(c,v){const x=v.type;if(x in c.g){var N=c.g[x],B=Array.prototype.indexOf.call(N,v,void 0),Q;(Q=B>=0)&&Array.prototype.splice.call(N,B,1),Q&&(de(v),c.g[x].length==0&&(delete c.g[x],c.h--))}}function xe(c,v,x,N){for(let B=0;B<c.length;++B){const Q=c[B];if(!Q.da&&Q.listener==v&&Q.capture==!!x&&Q.ha==N)return B}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),he={};function He(c,v,x,N,B){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)He(c,v[Q],x,N,B);return null}return x=pl(x),c&&c[Ee]?c.J(v,x,p(N)?!!N.capture:!1,B):In(c,v,x,!1,N,B)}function In(c,v,x,N,B,Q){if(!v)throw Error("Invalid event type");const re=p(B)?!!B.capture:!!B;let De=fi(c);if(De||(c[Re]=De=new ae(c)),x=De.add(v,x,N,re,Q),x.proxy)return x;if(N=hi(),x.proxy=N,N.src=c,N.listener=x,c.addEventListener)R||(B=re),B===void 0&&(B=!1),c.addEventListener(v.toString(),N,B);else if(c.attachEvent)c.attachEvent(Et(v.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function hi(){function c(x){return v.call(c.src,c.listener,x)}const v=jn;return c}function _a(c,v,x,N,B){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)_a(c,v[Q],x,N,B);else N=p(N)?!!N.capture:!!N,x=pl(x),c&&c[Ee]?(c=c.i,Q=String(v).toString(),Q in c.g&&(v=c.g[Q],x=xe(v,x,N,B),x>-1&&(de(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete c.g[Q],c.h--)))):c&&(c=fi(c))&&(v=c.g[v.toString()],c=-1,v&&(c=xe(v,x,N,B)),(x=c>-1?v[c]:null)&&ba(x))}function ba(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ee])ve(v.i,c);else{var x=c.type,N=c.proxy;v.removeEventListener?v.removeEventListener(x,N,c.capture):v.detachEvent?v.detachEvent(Et(x),N):v.addListener&&v.removeListener&&v.removeListener(N),(x=fi(v))?(ve(x,c),x.h==0&&(x.src=null,v[Re]=null)):de(c)}}}function Et(c){return c in he?he[c]:he[c]="on"+c}function jn(c,v){if(c.da)c=!0;else{v=new pe(v,this);const x=c.listener,N=c.ha||c.src;c.fa&&ba(c),c=x.call(N,v)}return c}function fi(c){return c=c[Re],c instanceof ae?c:null}var xa="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(c){return typeof c=="function"?c:(c[xa]||(c[xa]=function(v){return c.handleEvent(v)}),c[xa])}function Tt(){O.call(this),this.i=new ae(this),this.M=this,this.G=null}E(Tt,O),Tt.prototype[Ee]=!0,Tt.prototype.removeEventListener=function(c,v,x,N){_a(this,c,v,x,N)};function Vt(c,v){var x,N=c.G;if(N)for(x=[];N;N=N.G)x.push(N);if(c=c.M,N=v.type||v,typeof v=="string")v=new w(v,c);else if(v instanceof w)v.target=v.target||c;else{var B=v;v=new w(N,c),le(v,B)}B=!0;let Q,re;if(x)for(re=x.length-1;re>=0;re--)Q=v.g=x[re],B=wa(Q,N,!0,v)&&B;if(Q=v.g=c,B=wa(Q,N,!0,v)&&B,B=wa(Q,N,!1,v)&&B,x)for(re=0;re<x.length;re++)Q=v.g=x[re],B=wa(Q,N,!1,v)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const x=c.g[v];for(let N=0;N<x.length;N++)de(x[N]);delete c.g[v],c.h--}}this.G=null},Tt.prototype.J=function(c,v,x,N){return this.i.add(String(c),v,!1,x,N)},Tt.prototype.K=function(c,v,x,N){return this.i.add(String(c),v,!0,x,N)};function wa(c,v,x,N){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let Q=0;Q<v.length;++Q){const re=v[Q];if(re&&!re.da&&re.capture==x){const De=re.listener,_t=re.ha||re.src;re.fa&&ve(c.i,re),B=De.call(_t,N)!==!1&&B}}return B&&!N.defaultPrevented}function Fh(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:f.setTimeout(c,v||0)}function au(c){c.g=Fh(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class sn extends O{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){O.call(this),this.h=c,this.g={}}E(vs,O);var gl=[];function yl(c){Ce(c.g,function(v,x){this.g.hasOwnProperty(x)&&ba(v)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),yl(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=f.JSON.stringify,Gh=f.JSON.parse,su=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ru(){}function lu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){w.call(this,"d")}E(Ht,w);function kn(){w.call(this,"c")}E(kn,w);var vt={},ou=null;function lr(){return ou=ou||new Tt}vt.Ia="serverreachability";function uu(c){w.call(this,vt.Ia,c)}E(uu,w);function di(c){const v=lr();Vt(v,new uu(v))}vt.STAT_EVENT="statevent";function _s(c,v){w.call(this,vt.STAT_EVENT,c),this.stat=v}E(_s,w);function St(c){const v=lr();Vt(v,new _s(v,c))}vt.Ja="timingevent";function mi(c,v){w.call(this,vt.Ja,c),this.size=v}E(mi,w);function pi(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Qh(c,v,x,N,B,Q){c.info(function(){if(c.g)if(Q){var re="",De=Q.split("&");for(let Qe=0;Qe<De.length;Qe++){var _t=De[Qe].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const Ln=ut.split("_");re=Ln.length>=2&&Ln[1]=="type"?re+(ut+"="+_t+"&"):re+(ut+"=redacted&")}}}else re=null;else re=Q;return"XMLHTTP REQ ("+N+") [attempt "+B+"]: "+v+"\n"+x+"\n"+re})}function cu(c,v,x,N,B,Q,re){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+B+"]: "+v+"\n"+x+"\n"+Q+" "+re})}function gi(c,v,x,N){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Kh(c,x)+(N?" "+N:"")})}function bs(c,v){c.info(function(){return"TIMEOUT: "+v})}Zn.prototype.info=function(){};function Kh(c,v){if(!c.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var x=Q[c];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var B=N[0];if(B!="noop"&&B!="stop"&&B!="close")for(let re=1;re<N.length;re++)N[re]=""}}}}return Ea(Q)}catch(Q){return v}}var xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function ws(){}E(ws,ru),ws.prototype.g=function(){return new XMLHttpRequest},_l=new ws;function qi(c){return encodeURIComponent(String(c))}function hu(c){var v=1;c=c.split(":");const x=[];for(;v>0&&c.length;)x.push(c.shift()),v--;return c.length&&x.push(c.join(":")),x}function Jn(c,v,x,N){this.j=c,this.i=v,this.l=x,this.S=N||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var At={},Pt={};function yi(c,v,x){c.M=1,c.A=Es(Rt(v)),c.u=x,c.R=!0,or(c,null)}function or(c,v){c.F=Date.now(),vi(c),c.B=Rt(c.A);var x=c.B,N=c.S;Array.isArray(N)||(N=[String(N)]),fr(x.i,"t",N),c.C=0,x=c.j.L,c.h=new Wn,c.g=Au(c.j,x?v:null,!c.u),c.P>0&&(c.O=new sn(y(c.Y,c,c.g),c.P)),v=c.V,x=c.g,N=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(gl[0]=B.toString()),B=gl);for(let Q=0;Q<B.length;Q++){const re=He(x,B[Q],N||v.handleEvent,!1,v.h||v);if(!re)break;v.g[re.key]=re}v=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),di(),Qh(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const v=this.O;v&&ni(c)==3?v.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const De=ni(this.g),_t=this.g.ya(),Qe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||De!=4||_t==7||(_t==8||Qe<=0?di(3):di(2)),_i(this);var v=this.g.ca();this.X=v;var x=$h(this);if(this.o=v==200,cu(this.i,this.v,this.B,this.l,this.S,De,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,B=this.g;if((N=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(N)){var Q=N;break t}}Q=null}if(c=Q)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,c);else{this.o=!1,this.m=3,St(12),_n(this),On(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<x.length;)if(ut=du(this,x),ut==Pt){De==4&&(this.m=4,St(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==At){this.m=4,St(15),gi(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,ut,null),bi(this,ut);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||x.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,x,"[Invalid Chunked Response]"),_n(this),On(this);else if(x.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Ol(re),re.P=!0,St(11))}}else gi(this.i,this.l,x,null),bi(this,x);De==4&&_n(this),this.o&&!this.K&&(De==4?wu(this.j,this):(this.o=!1,vi(this)))}else Fi(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),_n(this),On(this)}}}catch(De){}finally{}};function $h(c){if(!fu(c))return c.g.la();const v=Ft(c.g);if(v==="")return"";let x="";const N=v.length,B=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),On(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<N;Q++)c.h.h=!0,x+=c.h.i.decode(v[Q],{stream:!(B&&Q==N-1)});return v.length=0,c.h.g+=x,c.C=0,c.h.g}function fu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function du(c,v){var x=c.C,N=v.indexOf("\n",x);return N==-1?Pt:(x=Number(v.substring(x,N)),isNaN(x)?At:(N+=1,N+x>v.length?Pt:(v=v.slice(N,N+x),c.C=N+x,v)))}Jn.prototype.cancel=function(){this.K=!0,_n(this)};function vi(c){c.T=Date.now()+c.H,ur(c,c.H)}function ur(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pi(y(c.aa,c),v)}function _i(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(di(),St(17)),_n(this),this.m=2,On(this)):ur(this,this.T-c)};function On(c){c.j.I==0||c.K||wu(c.j,c)}function _n(c){_i(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,yl(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function bi(c,v){try{var x=c.j;if(x.I!=0&&(x.g==c||wi(x.h,c))){if(!c.L&&wi(x.h,c)&&x.I==3){try{var N=x.Ba.g.parse(v)}catch(Qe){N=null}if(Array.isArray(N)&&N.length==3){var B=N;if(B[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)yr(x),Ia(x);else break e;Ds(x),St(18)}}else x.xa=B[1],0<x.xa-x.K&&B[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=pi(y(x.Va,x),6e3));xi(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ri(x,11)}else if((c.L||x.g==c)&&yr(x),!S(v))for(B=x.Ba.g.parse(v),v=0;v<B.length;v++){let Qe=B[v];const ut=Qe[0];if(!(ut<=x.K))if(x.K=ut,Qe=Qe[1],x.I==2)if(Qe[0]=="c"){x.M=Qe[1],x.ba=Qe[2];const Ln=Qe[3];Ln!=null&&(x.ka=Ln,x.j.info("VER="+x.ka));const Ci=Qe[4];Ci!=null&&(x.za=Ci,x.j.info("SVER="+x.za));const ii=Qe[5];ii!=null&&typeof ii=="number"&&ii>0&&(N=1.5*ii,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const ai=c.g;if(ai){const Is=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var Q=N.h;Q.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(wl(Q,Q.h),Q.h=null))}if(N.G){const vr=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;vr&&(N.wa=vr,Xe(N.J,N.G,vr))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var re=c;if(N.na=Su(N,N.L?N.ba:null,N.W),re.L){El(N.h,re);var De=re,_t=N.O;_t&&(De.H=_t),De.D&&(_i(De),vi(De)),N.g=re}else bu(N);x.i.length>0&&Ni(x)}else Qe[0]!="stop"&&Qe[0]!="close"||Ri(x,7);else x.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ri(x,7):jl(x):Qe[0]!="noop"&&x.l&&x.l.qa(Qe),x.A=0)}}di(4)}catch(Qe){}}var Nt=class{constructor(c,v){this.g=c,this.map=v}};function bl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xi(c){return c.h?1:c.g?c.g.size:0}function wi(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function wl(c,v){c.g?c.g.add(v):c.h=v}function El(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}bl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const x of c.g.values())v=v.concat(x.G);return v}return j(c.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(c,v){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const N=c[x].indexOf("=");let B,Q=null;N>=0?(B=c[x].substring(0,N),Q=c[x].substring(N+1)):B=c[x],v(B,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof bn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Ta(this,c.u),this.h=c.h,Sl(this,vu(c.i)),this.m=c.m):c&&(v=String(c).match(mu))?(this.l=!1,zt(this,v[1]||"",!0),this.o=Ei(v[2]||""),this.g=Ei(v[3]||"",!0),Ta(this,v[4]),this.h=Ei(v[5]||"",!0),Sl(this,v[6]||"",!0),this.m=Ei(v[7]||"")):(this.l=!1,this.i=new Aa(null,this.l))}bn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(Ts(v,hr,!0),":");var x=this.g;return(x||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Ts(v,hr,!0),"@"),c.push(qi(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Ts(x,x.charAt(0)=="/"?Al:pu,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Ts(x,gu)),c.join("")},bn.prototype.resolve=function(c){const v=Rt(this);let x=!!c.j;x?zt(v,c.j):x=!!c.o,x?v.o=c.o:x=!!c.g,x?v.g=c.g:x=c.u!=null;var N=c.h;if(x)Ta(v,c.u);else if(x=!!c.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var B=v.h.lastIndexOf("/");B!=-1&&(N=v.h.slice(0,B+1)+N)}if(B=N,B==".."||B==".")N="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){N=B.lastIndexOf("/",0)==0,B=B.split("/");const Q=[];for(let re=0;re<B.length;){const De=B[re++];De=="."?N&&re==B.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),N&&re==B.length&&Q.push("")):(Q.push(De),N=!0)}N=Q.join("/")}else N=B}return x?v.h=N:x=c.i.toString()!=="",x?Sl(v,vu(c.i)):x=!!c.m,x&&(v.m=c.m),v};function Rt(c){return new bn(c)}function zt(c,v,x){c.j=x?Ei(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ta(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Sl(c,v,x){v instanceof Aa?(c.i=v,dr(c.i,c.l)):(x||(v=Ts(v,Sa)),c.i=new Aa(v,c.l))}function Xe(c,v,x){c.i.set(v,x)}function Es(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,v,x){return typeof c=="string"?(c=encodeURI(c).replace(v,un),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hr=/[#\/\?@]/g,pu=/[#\?:]/g,Al=/[#\?]/g,Sa=/[#\?@]/g,gu=/#/g;function Aa(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&cr(c.i,function(v,x){c.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}a=Aa.prototype,a.add=function(c,v){cn(this),this.i=null,c=Na(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(v),this.h+=1,this};function yu(c,v){cn(c),v=Na(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Nl(c,v){return cn(c),v=Na(c,v),c.g.has(v)}a.forEach=function(c,v){cn(this),this.g.forEach(function(x,N){x.forEach(function(B){c.call(v,B,N,this)},this)},this)};function Rl(c,v){cn(c);let x=[];if(typeof v=="string")Nl(c,v)&&(x=x.concat(c.g.get(Na(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)x=x.concat(c[v]);return x}a.set=function(c,v){return cn(this),this.i=null,c=Na(this,c),Nl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},a.get=function(c,v){return c?(c=Rl(this,c),c.length>0?String(c[0]):v):v};function fr(c,v,x){yu(c,v),x.length>0&&(c.i=null,c.g.set(Na(c,v),j(x)),c.h+=x.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var x=v[N];const B=qi(x);x=Rl(this,x);for(let Q=0;Q<x.length;Q++){let re=B;x[Q]!==""&&(re+="="+qi(x[Q])),c.push(re)}}return this.i=c.join("&")};function vu(c){const v=new Aa;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Na(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function dr(c,v){v&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(x,N){const B=N.toLowerCase();N!=B&&(yu(this,N),fr(this,B,x))},c)),c.j=v}function ei(c,v){const x=new Zn;if(f.Image){const N=new Image;N.onload=b(Mn,x,"TestLoadImage: loaded",!0,v,N),N.onerror=b(Mn,x,"TestLoadImage: error",!1,v,N),N.onabort=b(Mn,x,"TestLoadImage: abort",!1,v,N),N.ontimeout=b(Mn,x,"TestLoadImage: timeout",!1,v,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else v(!1)}function Cl(c,v){const x=new Zn,N=new AbortController,B=setTimeout(()=>{N.abort(),Mn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:N.signal}).then(Q=>{clearTimeout(B),Q.ok?Mn(x,"TestPingServer: ok",!0,v):Mn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Mn(x,"TestPingServer: error",!1,v)})}function Mn(c,v,x,N,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),N(x)}catch(Q){}}function Ra(){this.g=new su}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}E(Ti,ru),Ti.prototype.g=function(){return new Ss(this.i,this.h)};function Ss(c,v){Tt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ss,Tt),a=Ss.prototype,a.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,ti(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||f).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Ca(this):ti(this),this.readyState==3&&mr(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,Ca(this))},a.Na=function(c){this.g&&(this.response=c,Ca(this))},a.ga=function(){this.g&&Ca(this)};function Ca(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}a.setRequestHeader=function(c,v){this.A.append(c,v)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=v.next();return c.join("\r\n")};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let v="";return Ce(c,function(x,N){v+=N,v+=":",v+=x,v+="\r\n"}),v}function As(c,v,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=Vn(x),typeof c=="string"?x!=null&&qi(x):Xe(c,v,x))}function We(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,Tt);var Si=/^https?$/i,Dl=["POST","PUT"];a=We.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,v,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Q){Ns(this,Q);return}if(c=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var B in N)x.set(B,N[B]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Q of N.keys())x.set(Q,N.get(Q));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Dl,v,void 0)>=0)||N||B||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,re]of x)this.g.setRequestHeader(Q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ns(this,Q)}};function Ns(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Il(c),Hi(c)}function Il(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Hi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),We.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},a.Xa=function(){Rs(this)};function Rs(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),ni(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var N;if(N=Q===0){let re=String(c.D).match(mu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),N=!Si.test(re?re.toLowerCase():"")}x=N}if(x)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var B=ni(c)>2?c.g.statusText:""}catch(re){B=""}c.l=B+" ["+c.ca()+"]",Il(c)}}finally{Hi(c)}}}}function Hi(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,v||Vt(c,"ready");try{x.onreadystatechange=null}catch(N){}}}a.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}a.ca=function(){try{return ni(this)>2?this.g.status:-1}catch(c){return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},a.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Gh(v)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch(v){return null}}function Fi(c){const v={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split("\r\n");for(let N=0;N<c.length;N++){if(S(c[N]))continue;var x=hu(c[N]);const B=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=v[B]||[];v[B]=Q,Q.push(x)}ke(v,function(N){return N.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||v}function Da(c){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(c&&c.concurrentRequestLimit),this.Ba=new Ra,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Da.prototype,a.ka=8,a.I=1,a.connect=function(c,v,x,N){St(0),this.W=c,this.H=v||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=Su(this,null,this.W),Ni(this)};function jl(c){if(pr(c),c.I==3){var v=c.V++,x=Rt(c.J);if(Xe(x,"SID",c.M),Xe(x,"RID",v),Xe(x,"TYPE","terminate"),Cs(c,x),v=new Jn(c,c.j,v),v.M=2,v.A=Es(Rt(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(v.A.toString(),"")}catch(N){}!x&&f.Image&&(new Image().src=v.A,x=!0),x||(v.g=Au(v.j,null),v.g.ea(v.A)),v.F=Date.now(),vi(v)}Tu(c)}function Ia(c){c.g&&(Ol(c),c.g.cancel(),c.g=null)}function pr(c){Ia(c),c.v&&(f.clearTimeout(c.v),c.v=null),yr(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ni(c){if(!xl(c.h)&&!c.m){c.m=!0;var v=c.Ea;me||C(),ye||(me(),ye=!0),I.add(v,c),c.D=0}}function gr(c,v){return xi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pi(y(c.Ea,c,v),Eu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Jn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=M(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(B.J=Q,Q=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=_u(this,B,v),x=Rt(this.J),Xe(x,"RID",c),Xe(x,"CVER",22),this.G&&Xe(x,"X-HTTP-Session-Id",this.G),Cs(this,x),Q&&(this.R?v="headers="+qi(Vn(Q))+"&"+v:this.u&&As(x,this.u,Q)),wl(this.h,B),this.Ra&&Xe(x,"TYPE","init"),this.S?(Xe(x,"$req",v),Xe(x,"SID","null"),B.U=!0,yi(B,x,null)):yi(B,x,v),this.I=2}}else this.I==3&&(c?kl(this,c):this.i.length==0||xl(this.h)||kl(this))};function kl(c,v){var x;v?x=v.l:x=c.V++;const N=Rt(c.J);Xe(N,"SID",c.M),Xe(N,"RID",x),Xe(N,"AID",c.K),Cs(c,N),c.u&&c.o&&As(N,c.u,c.o),x=new Jn(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),v&&(c.i=v.G.concat(c.i)),v=_u(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),wl(c.h,x),yi(x,N,v)}function Cs(c,v){c.H&&Ce(c.H,function(x,N){Xe(v,N,x)}),c.l&&Ce({},function(x,N){Xe(v,N,x)})}function _u(c,v,x){x=Math.min(c.i.length,x);const N=c.l?y(c.l.Ka,c.l,c):null;e:{var B=c.i;let De=-1;for(;;){const _t=["count="+x];De==-1?x>0?(De=B[0].g,_t.push("ofs="+De)):De=0:_t.push("ofs="+De);let Qe=!0;for(let ut=0;ut<x;ut++){var Q=B[ut].g;const Ln=B[ut].map;if(Q-=De,Q<0)De=Math.max(0,B[ut].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var re=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ci,ii]of re){let ai=ii;p(ii)&&(ai=Ea(ii)),_t.push(Q+Ci+"="+encodeURIComponent(ai))}}catch(Ci){throw _t.push(Q+"type="+encodeURIComponent("_badmap")),Ci}}catch(Ci){N&&N(Ln)}}if(Qe){re=_t.join("&");break e}}re=void 0}return c=c.i.splice(0,x),v.G=c,re}function bu(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;me||C(),ye||(me(),ye=!0),I.add(v,c),c.A=0}}function Ds(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pi(y(c.Da,c),Eu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pi(y(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ia(this),xu(this))};function Ol(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function xu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Rt(c.na);Xe(v,"RID","rpc"),Xe(v,"SID",c.M),Xe(v,"AID",c.K),Xe(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(v,"TO",c.ia),Xe(v,"TYPE","xmlhttp"),Cs(c,v),c.u&&c.o&&As(v,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=Es(Rt(v)),x.u=null,x.R=!0,or(x,c)}a.Va=function(){this.C!=null&&(this.C=null,Ia(this),Ds(this),St(19))};function yr(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function wu(c,v){var x=null;if(c.g==v){yr(c),Ol(c),c.g=null;var N=2}else if(wi(c.h,v))x=v.G,El(c.h,v),N=1;else return;if(c.I!=0){if(v.o)if(N==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var B=c.D;N=lr(),Vt(N,new mi(N,x)),Ni(c)}else bu(c);else if(B=v.m,B==3||B==0&&v.X>0||!(N==1&&gr(c,v)||N==2&&Ds(c)))switch(x&&x.length>0&&(v=c.h,v.i=v.i.concat(x)),B){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Eu(c,v){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*v}function Ri(c,v){if(c.j.info("Error code "+v),v==2){var x=y(c.bb,c),N=c.Ua;const B=!N;N=new bn(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zt(N,"https"),Es(N),B?ei(N.toString(),x):Cl(N.toString(),x)}else St(2);c.I=0,c.l&&c.l.pa(v),Tu(c),pr(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Tu(c){if(c.I=0,c.ja=[],c.l){const v=Tl(c.h);(v.length!=0||c.i.length!=0)&&(P(c.ja,v),P(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Su(c,v,x){var N=x instanceof bn?Rt(x):new bn(x);if(N.g!="")v&&(N.g=v+"."+N.g),Ta(N,N.u);else{var B=f.location;N=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const Q=new bn(null);N&&zt(Q,N),v&&(Q.g=v),B&&Ta(Q,B),x&&(Q.h=x),N=Q}return x=c.G,v=c.wa,x&&v&&Xe(N,x,v),Xe(N,"VER",c.ka),Cs(c,N),N}function Au(c,v,x){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new We(new Ti({ab:x})):new We(c.ma),v.Fa(c.L),v}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}a=Nu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ja(){}ja.prototype.g=function(c,v){return new rn(c,v)};function rn(c,v){Tt.call(this),this.g=new Da(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!S(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!S(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Gi(this)}E(rn,Tt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){jl(this.g)},rn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=Ea(c),c=x);v.i.push(new Nt(v.Ya++,c)),v.I==3&&Ni(v)},rn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,rn.Z.N.call(this)};function Ru(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const x in v){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}E(Ru,Ht);function Cu(){kn.call(this),this.status=1}E(Cu,kn);function Gi(c){this.g=c}E(Gi,Nu),Gi.prototype.ra=function(){Vt(this.g,"a")},Gi.prototype.qa=function(c){Vt(this.g,new Ru(c))},Gi.prototype.pa=function(c){Vt(this.g,new Cu)},Gi.prototype.oa=function(){Vt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Zb=function(){return new ja},Xb=function(){return lr()},Yb=vt,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,Qc=xs,vl.COMPLETE="complete",$b=vl,lu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Eo=lu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,Kb=We}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",$v="4.9.2";class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let cl="12.3.0";const Ws=new Ub("@firebase/firestore");function $r(){return Ws.logLevel}function ce(a,...e){if(Ws.logLevel<=qe.DEBUG){const i=e.map(ep);Ws.debug("Firestore (".concat(cl,"): ").concat(a),...i)}}function ma(a,...e){if(Ws.logLevel<=qe.ERROR){const i=e.map(ep);Ws.error("Firestore (".concat(cl,"): ").concat(a),...i)}}function tl(a,...e){if(Ws.logLevel<=qe.WARN){const i=e.map(ep);Ws.warn("Firestore (".concat(cl,"): ").concat(a),...i)}}function ep(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch(e){return a}}function Te(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Jb(a,s,i)}function Jb(a,e,i){let s="FIRESTORE (".concat(cl,") INTERNAL ASSERTION FAILED: ").concat(e," (ID: ").concat(a.toString(16),")");if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch(l){s+=" CONTEXT: "+i}throw ma(s),new Error(s)}function $e(a,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||Jb(e,l,s)}function Ne(a,e){return a}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ss{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Wb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class eN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class tN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nN{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let u=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ss,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ss)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new Wb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class iN{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aN{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new iN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sN{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(u.error.message));const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider","Received ".concat(f?"new":"existing"," token.")),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rN(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=rN(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<i&&(s+=e.charAt(l[u]%62))}return s}}function Ue(a,e){return a<e?-1:a>e?1:0}function Em(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const l=a.charAt(s),u=e.charAt(s);if(l!==u)return nm(l)===nm(u)?Ue(l,u):nm(l)?1:-1}return Ue(a.length,e.length)}const lN=55296,oN=57343;function nm(a){const e=a.charCodeAt(0);return e>=lN&&e<=oN}function nl(a,e,i){return a.length===e.length&&a.every(((s,l)=>i(s,e[l])))}const Xv="__name__";class Oi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Te(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const u=Oi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Ue(e.length,i.length)}static compareSegments(e,i){const s=Oi.isNumericId(e),l=Oi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Oi.extractNumericId(e).compare(Oi.extractNumericId(i)):Em(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class st extends Oi{construct(e,i,s){return new st(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));i.push(...s.split("/").filter((l=>l.length>0)))}return new st(i)}static emptyPath(){return new st([])}}const uN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Oi{construct(e,i,s){return new Xt(e,i,s)}static isValidIdentifier(e){return uN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new Xt([Xv])}static fromServerFormat(e){const i=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));i.push(s),s=""};let f=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(s+=p,l++):(u(),l++)}if(u(),f)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(i)}static emptyPath(){return new Xt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(st.fromString(e))}static fromName(e){return new be(st.fromString(e).popFirst(5))}static empty(){return new be(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return st.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new st(e.slice()))}}function ex(a,e,i){if(!i)throw new ue(ee.INVALID_ARGUMENT,"Function ".concat(a,"() cannot be called with an empty ").concat(e,"."))}function cN(a,e,i,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,"".concat(a," and ").concat(i," cannot be used together."))}function Zv(a){if(!be.isDocumentKey(a))throw new ue(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(a," has ").concat(a.length,"."))}function Jv(a){if(be.isDocumentKey(a))throw new ue(ee.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(a," has ").concat(a.length,"."))}function tx(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function wh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a="".concat(a.substring(0,20),"...")),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?"a custom ".concat(e," object"):"an object"}}return typeof a=="function"?"a function":Te(12329,{type:typeof a})}function $n(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wh(a);throw new ue(ee.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(i))}}return a}function Mt(a,e){const i={typeString:a};return e&&(i.value=e),i}function Jo(a,e){if(!tx(a))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i="JSON missing required field: '".concat(s,"'");break}const f=a[s];if(l&&typeof f!==l){i="JSON field '".concat(s,"' must be a ").concat(l,".");break}if(u!==void 0&&f!==u.value){i="Expected '".concat(s,"' field to equal '").concat(u.value,"'");break}}if(i)throw new ue(ee.INVALID_ARGUMENT,i);return!0}const Wv=-62135596800,e_=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*e_);return new ot(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Wv)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Mt("string",ot._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ot(0,0))}static max(){return new Se(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uo=-1;function hN(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(s===1e9?new ot(i+1,0):new ot(i,s));return new ls(l,be.empty(),e)}function fN(a){return new ls(a.readTime,a.key,Uo)}class ls{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ls(Se.min(),be.empty(),Uo)}static max(){return new ls(Se.max(),be.empty(),Uo)}}function dN(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(a.documentKey,e.documentKey),i!==0?i:Ue(a.largestBatchId,e.largestBatchId))}const mN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hl(a){if(a.code!==ee.FAILED_PRECONDITION||a.message!==mN)throw a;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ne(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ne?i:ne.resolve(i)}catch(i){return ne.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.reject(i)}static resolve(e){return new ne(((i,s)=>{i(e)}))}static reject(e){return new ne(((i,s)=>{s(e)}))}static waitFor(e){return new ne(((i,s)=>{let l=0,u=0,f=!1;e.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&i()}),(g=>s(g)))})),f=!0,u===l&&i()}))}static or(e){let i=ne.resolve(!1);for(const s of e)i=i.next((l=>l?ne.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,u)=>{s.push(i.call(this,l,u))})),this.waitFor(s)}static mapArray(e,i){return new ne(((s,l)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;i(e[y]).next((b=>{f[y]=b,++p,p===u&&s(f)}),(b=>l(b)))}}))}static doWhile(e,i){return new ne(((s,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):s()};u()}))}}function gN(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fl(a){return a.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const np=-1;function Th(a){return a==null}function ah(a){return a===0&&1/a==-1/0}function yN(a){return typeof a=="number"&&Number.isInteger(a)&&!ah(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const nx="";function vN(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=t_(e)),e=_N(a.get(i),e);return t_(e)}function _N(a,e){let i=e;const s=a.length;for(let l=0;l<s;l++){const u=a.charAt(l);switch(u){case"\0":i+="";break;case nx:i+="";break;default:i+=u}}return i}function t_(a){return a+nx+""}function n_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function ps(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function ix(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ft{constructor(e,i){this.comparator=e,this.root=i||Yt.EMPTY}insert(e,i){return new ft(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push("".concat(i,":").concat(s)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s!=null?s:Yt.RED,this.left=l!=null?l:Yt.EMPTY,this.right=u!=null?u:Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,u){return new Yt(e!=null?e:this.key,i!=null?i:this.value,s!=null?s:this.color,l!=null?l:this.left,u!=null?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,s,l,u){return this}insert(e,i,s){return new Yt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ut(this.comparator);return i.data=e,i}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Rn([])}unionWith(e){let i=new Ut(Xt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Rn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class ax extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ax("Invalid base64 string: "+u):u}})(e);return new Jt(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Jt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const bN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(a){if($e(!!a,39018),typeof a=="string"){let e=0;const i=bN.exec(a);if($e(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(a.seconds),nanos:wt(a.nanos)}}function wt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function us(a){return typeof a=="string"?Jt.fromBase64String(a):Jt.fromUint8Array(a)}const sx="server_timestamp",rx="__type__",lx="__previous_value__",ox="__local_write_time__";function ip(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[rx])==null?void 0:s.stringValue)===sx}function Sh(a){const e=a.mapValue.fields[lx];return ip(e)?Sh(e):e}function Po(a){const e=os(a.mapValue.fields[ox].timestampValue);return new ot(e.seconds,e.nanos)}class xN{constructor(e,i,s,l,u,f,p,g,y,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const sh="(default)";class zo{constructor(e,i){this.projectId=e,this.database=i||sh}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}const ux="__type__",wN="__max__",Vc={mapValue:{}},cx="__vector__",rh="value";function cs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ip(a)?4:TN(a)?9007199254740991:EN(a)?10:11:Te(28295,{value:a})}function Bi(a,e){if(a===e)return!0;const i=cs(a);if(i!==cs(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Po(a).isEqual(Po(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=os(l.timestampValue),p=os(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,u){return us(l.bytesValue).isEqual(us(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,u){return wt(l.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(l.geoPointValue.longitude)===wt(u.geoPointValue.longitude)})(a,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return wt(l.integerValue)===wt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=wt(l.doubleValue),p=wt(u.doubleValue);return f===p?ah(f)===ah(p):isNaN(f)&&isNaN(p)}return!1})(a,e);case 9:return nl(a.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(n_(f)!==n_(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Bi(f[g],p[g])))return!1;return!0})(a,e);default:return Te(52216,{left:a})}}function Bo(a,e){return(a.values||[]).find((i=>Bi(i,e)))!==void 0}function il(a,e){if(a===e)return 0;const i=cs(a),s=cs(e);if(i!==s)return Ue(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ue(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=wt(u.integerValue||u.doubleValue),g=wt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(a,e);case 3:return a_(a.timestampValue,e.timestampValue);case 4:return a_(Po(a),Po(e));case 5:return Em(a.stringValue,e.stringValue);case 6:return(function(u,f){const p=us(u),g=us(f);return p.compareTo(g)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=Ue(p[y],g[y]);if(b!==0)return b}return Ue(p.length,g.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Ue(wt(u.latitude),wt(f.latitude));return p!==0?p:Ue(wt(u.longitude),wt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return s_(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var A,j,P,G;const p=u.fields||{},g=f.fields||{},y=(A=p[rh])==null?void 0:A.arrayValue,b=(j=g[rh])==null?void 0:j.arrayValue,E=Ue(((P=y==null?void 0:y.values)==null?void 0:P.length)||0,((G=b==null?void 0:b.values)==null?void 0:G.length)||0);return E!==0?E:s_(y,b)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let E=0;E<g.length&&E<b.length;++E){const A=Em(g[E],b[E]);if(A!==0)return A;const j=il(p[g[E]],y[b[E]]);if(j!==0)return j}return Ue(g.length,b.length)})(a.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function a_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ue(a,e);const i=os(a),s=os(e),l=Ue(i.seconds,s.seconds);return l!==0?l:Ue(i.nanos,s.nanos)}function s_(a,e){const i=a.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const u=il(i[l],s[l]);if(u)return u}return Ue(i.length,s.length)}function al(a){return Tm(a)}function Tm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=os(i);return"time(".concat(s.seconds,",").concat(s.nanos,")")})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return us(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return be.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return"geo(".concat(i.latitude,",").concat(i.longitude,")")})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const u of i.values||[])l?l=!1:s+=",",s+=Tm(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+="".concat(f,":").concat(Tm(i.fields[f]));return l+"}"})(a.mapValue):Te(61005,{value:a})}function Kc(a){switch(cs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(a);return e?16+Kc(e):16;case 5:return 2*a.stringValue.length;case 6:return us(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Kc(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return ps(s.fields,((u,f)=>{l+=u.length+Kc(f)})),l})(a.mapValue);default:throw Te(13486,{value:a})}}function r_(a,e){return{referenceValue:"projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(e.path.canonicalString())}}function Sm(a){return!!a&&"integerValue"in a}function ap(a){return!!a&&"arrayValue"in a}function l_(a){return!!a&&"nullValue"in a}function o_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function $c(a){return!!a&&"mapValue"in a}function EN(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[ux])==null?void 0:s.stringValue)===cx}function Do(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return ps(a.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Do(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Do(a.arrayValue.values[i]);return e}return{...a}}function TN(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===wN}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!$c(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Do(i)}setAll(e){let i=Xt.emptyPath(),s={},l=[];e.forEach(((f,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,l),s={},l=[],i=p.popLast()}f?s[p.lastSegment()]=Do(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,l)}delete(e){const i=this.field(e.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){ps(i,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new vn(Do(this.value))}}function hx(a){const e=[];return ps(a.fields,((i,s)=>{const l=new Xt([i]);if($c(s)){const u=hx(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Rn(e)}class nn{constructor(e,i,s,l,u,f,p){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,i,s,l){return new nn(e,1,i,Se.min(),s,l,0)}static newNoDocument(e,i){return new nn(e,2,i,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,i){return new nn(e,3,i,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function u_(a,e,i){let s=0;for(let l=0;l<a.position.length;l++){const u=e[l],f=a.position[l];if(u.field.isKeyField()?s=be.comparator(be.fromName(f.referenceValue),i.key):s=il(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function c_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Bi(a.position[i],e.position[i]))return!1;return!0}class qo{constructor(e,i="asc"){this.field=e,this.dir=i}}function SN(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class fx{}class Ot extends fx{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new NN(e,i,s):i==="array-contains"?new DN(e,s):i==="in"?new IN(e,s):i==="not-in"?new jN(e,s):i==="array-contains-any"?new kN(e,s):new Ot(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new RN(e,s):new CN(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(il(i,this.value)):i!==null&&cs(this.value)===cs(i)&&this.matchesComparison(il(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends fx{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ui(e,i)}matches(e){return dx(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dx(a){return a.op==="and"}function mx(a){return AN(a)&&dx(a)}function AN(a){for(const e of a.filters)if(e instanceof ui)return!1;return!0}function Am(a){if(a instanceof Ot)return a.field.canonicalString()+a.op.toString()+al(a.value);if(mx(a))return a.filters.map((e=>Am(e))).join(",");{const e=a.filters.map((i=>Am(i))).join(",");return"".concat(a.op,"(").concat(e,")")}}function px(a,e){return a instanceof Ot?(function(s,l){return l instanceof Ot&&s.op===l.op&&s.field.isEqual(l.field)&&Bi(s.value,l.value)})(a,e):a instanceof ui?(function(s,l){return l instanceof ui&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,p)=>u&&px(f,l.filters[p])),!0):!1})(a,e):void Te(19439)}function gx(a){return a instanceof Ot?(function(i){return"".concat(i.field.canonicalString()," ").concat(i.op," ").concat(al(i.value))})(a):a instanceof ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(gx).join(" ,")+"}"})(a):"Filter"}class NN extends Ot{constructor(e,i,s){super(e,i,s),this.key=be.fromName(s.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class RN extends Ot{constructor(e,i){super(e,"in",i),this.keys=yx("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class CN extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=yx("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function yx(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>be.fromName(s.referenceValue)))}class DN extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ap(i)&&Bo(i.arrayValue,this.value)}}class IN extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bo(this.value.arrayValue,i)}}class jN extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bo(this.value.arrayValue,i)}}class kN extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ap(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Bo(this.value.arrayValue,s)))}}class ON{constructor(e,i=null,s=[],l=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function h_(a,e=null,i=[],s=[],l=null,u=null,f=null){return new ON(a,e,i,s,l,u,f)}function sp(a){const e=Ne(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Am(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>al(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>al(s))).join(",")),e.Te=i}return e.Te}function rp(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!SN(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!px(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!c_(a.startAt,e.startAt)&&c_(a.endAt,e.endAt)}function Nm(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class dl{constructor(e,i=null,s=[],l=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MN(a,e,i,s,l,u,f,p){return new dl(a,e,i,s,l,u,f,p)}function Ah(a){return new dl(a)}function f_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function vx(a){return a.collectionGroup!==null}function Io(a){const e=Ne(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ut(Xt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qo(u,s))})),i.has(Xt.keyField().canonicalString())||e.Ie.push(new qo(Xt.keyField(),s))}return e.Ie}function Vi(a){const e=Ne(a);return e.Ee||(e.Ee=VN(e,Io(a))),e.Ee}function VN(a,e){if(a.limitType==="F")return h_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new qo(l.field,u)}));const i=a.endAt?new lh(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new lh(a.startAt.position,a.startAt.inclusive):null;return h_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Rm(a,e){const i=a.filters.concat([e]);return new dl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function oh(a,e,i){return new dl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Nh(a,e){return rp(Vi(a),Vi(e))&&a.limitType===e.limitType}function _x(a){return"".concat(sp(Vi(a)),"|lt:").concat(a.limitType)}function Yr(a){return"Query(target=".concat((function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=", filters: [".concat(i.filters.map((l=>gx(l))).join(", "),"]")),Th(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=", orderBy: [".concat(i.orderBy.map((l=>(function(f){return"".concat(f.field.canonicalString()," (").concat(f.dir,")")})(l))).join(", "),"]")),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>al(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>al(l))).join(",")),"Target(".concat(s,")")})(Vi(a)),"; limitType=").concat(a.limitType,")")}function Rh(a,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,l){for(const u of Io(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(a,e)&&(function(s,l){return!(s.startAt&&!(function(f,p,g){const y=u_(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Io(s),l)||s.endAt&&!(function(f,p,g){const y=u_(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Io(s),l))})(a,e)}function LN(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function bx(a){return(e,i)=>{let s=!1;for(const l of Io(a)){const u=UN(l,e,i);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function UN(a,e,i){const s=a.field.isKeyField()?be.comparator(e.key,i.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?il(g,y):Te(42886)})(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:a.dir})}}class sr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((i,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return ix(this.inner)}size(){return this.innerSize}}const PN=new ft(be.comparator);function pa(){return PN}const xx=new ft(be.comparator);function To(...a){let e=xx;for(const i of a)e=e.insert(i.key,i);return e}function wx(a){let e=xx;return a.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function $s(){return jo()}function Ex(){return jo()}function jo(){return new sr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const zN=new ft(be.comparator),BN=new Ut(be.comparator);function Pe(...a){let e=BN;for(const i of a)e=e.add(i);return e}const qN=new Ut(Ue);function HN(){return qN}function lp(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function Tx(a){return{integerValue:""+a}}function FN(a,e){return yN(e)?Tx(e):lp(a,e)}class Ch{constructor(){this._=void 0}}function GN(a,e,i){return a instanceof uh?(function(l,u){const f={fields:{[rx]:{stringValue:sx},[ox]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&ip(u)&&(u=Sh(u)),u&&(f.fields[lx]=u),{mapValue:f}})(i,e):a instanceof Ho?Ax(a,e):a instanceof Fo?Nx(a,e):(function(l,u){const f=Sx(l,u),p=d_(f)+d_(l.Ae);return Sm(f)&&Sm(l.Ae)?Tx(p):lp(l.serializer,p)})(a,e)}function QN(a,e,i){return a instanceof Ho?Ax(a,e):a instanceof Fo?Nx(a,e):i}function Sx(a,e){return a instanceof ch?(function(s){return Sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class uh extends Ch{}class Ho extends Ch{constructor(e){super(),this.elements=e}}function Ax(a,e){const i=Rx(e);for(const s of a.elements)i.some((l=>Bi(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Fo extends Ch{constructor(e){super(),this.elements=e}}function Nx(a,e){let i=Rx(e);for(const s of a.elements)i=i.filter((l=>!Bi(l,s)));return{arrayValue:{values:i}}}class ch extends Ch{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function d_(a){return wt(a.integerValue||a.doubleValue)}function Rx(a){return ap(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function KN(a,e){return a.field.isEqual(e.field)&&(function(s,l){return s instanceof Ho&&l instanceof Ho||s instanceof Fo&&l instanceof Fo?nl(s.elements,l.elements,Bi):s instanceof ch&&l instanceof ch?Bi(s.Ae,l.Ae):s instanceof uh&&l instanceof uh})(a.transform,e.transform)}class $N{constructor(e,i){this.version=e,this.transformResults=i}}class Yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Dh{}function Cx(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new op(a.key,Yn.none()):new Wo(a.key,a.data,Yn.none());{const i=a.data,s=vn.empty();let l=new Ut(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new gs(a.key,s,new Rn(l.toArray()),Yn.none())}}function YN(a,e,i){a instanceof Wo?(function(l,u,f){const p=l.value.clone(),g=p_(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,i):a instanceof gs?(function(l,u,f){if(!Yc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=p_(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(Dx(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,i):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function ko(a,e,i,s){return a instanceof Wo?(function(u,f,p,g){if(!Yc(u.precondition,f))return p;const y=u.value.clone(),b=g_(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,i,s):a instanceof gs?(function(u,f,p,g){if(!Yc(u.precondition,f))return p;const y=g_(u.fieldTransforms,g,f),b=f.data;return b.setAll(Dx(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(a,e,i,s):(function(u,f,p){return Yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(a,e,i)}function XN(a,e){let i=null;for(const s of a.fieldTransforms){const l=e.data.field(s.field),u=Sx(s.transform,l||null);u!=null&&(i===null&&(i=vn.empty()),i.set(s.field,u))}return i||null}function m_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&nl(s,l,((u,f)=>KN(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Wo extends Dh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gs extends Dh{constructor(e,i,s,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Dx(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}})),e}function p_(a,e,i){const s=new Map;$e(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const u=a[l],f=u.transform,p=e.data.field(u.field);s.set(u.field,QN(f,p,i[l]))}return s}function g_(a,e,i){const s=new Map;for(const l of a){const u=l.transform,f=i.data.field(l.field);s.set(l.field,GN(u,f,e))}return s}class op extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZN extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JN{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&YN(u,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ko(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ko(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Ex();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=i.has(l.key)?null:p;const g=Cx(f,p);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((i,s)=>m_(i,s)))&&nl(this.baseMutations,e.baseMutations,((i,s)=>m_(i,s)))}}class up{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return zN})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new up(e,i,s,l)}}class WN{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class eR{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,Be;function tR(a){switch(a){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:a})}}function Ix(a){if(a===void 0)return ma("GRPC error has no .code"),ee.UNKNOWN;switch(a){case kt.OK:return ee.OK;case kt.CANCELLED:return ee.CANCELLED;case kt.UNKNOWN:return ee.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ee.INTERNAL;case kt.UNAVAILABLE:return ee.UNAVAILABLE;case kt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case kt.NOT_FOUND:return ee.NOT_FOUND;case kt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case kt.ABORTED:return ee.ABORTED;case kt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case kt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:a})}}(Be=kt||(kt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function nR(){return new TextEncoder}const iR=new as([4294967295,4294967295],0);function y_(a){const e=nR().encode(a),i=new Qb;return i.update(e),new Uint8Array(i.digest())}function v_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([i,s],0),new as([l,u],0)]}class cp{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new So("Invalid padding: ".concat(i));if(s<0)throw new So("Invalid hash count: ".concat(s));if(e.length>0&&this.hashCount===0)throw new So("Invalid hash count: ".concat(s));if(e.length===0&&i!==0)throw new So("Invalid padding when bitmap length is 0: ".concat(i));this.ge=8*e.length-i,this.pe=as.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(as.fromNumber(s)));return l.compare(iR)===1&&(l=new as([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=y_(e),[s,l]=v_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new cp(u,l,i);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const i=y_(e),[s,l]=v_(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(e,i,s,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ih(Se.min(),l,new ft(Ue),pa(),Pe())}}class eu{constructor(e,i,s,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new eu(s,i,Pe(),Pe(),Pe())}}class Xc{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class jx{constructor(e,i){this.targetId=e,this.Ce=i}}class kx{constructor(e,i,s=Jt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class __{constructor(){this.ve=0,this.Fe=b_(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),s=Pe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:Te(38017,{changeType:u})}})),new eu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=b_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aR{constructor(e){this.Ge=e,this.ze=new Map,this.je=pa(),this.Je=Lc(),this.He=Lc(),this.Ye=new ft(Ue)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Nm(u))if(s===0){const f=new be(u.path);this.et(i,f,nn.newNoDocument(f,Se.min()))}else $e(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let f,p;try{f=us(s).toUint8Array()}catch(g){if(g instanceof ax)return tl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new cp(f,l,u)}catch(g){return tl(g instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),p="projects/".concat(f.projectId,"/databases/").concat(f.database,"/documents/").concat(u.path.canonicalString());e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Nm(p.target)){const g=new be(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,nn.newNoDocument(g,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Ih(e,i,this.Ye,this.je,s);return this.je=pa(),this.Je=Lc(),this.He=Lc(),this.Ye=new ft(Ue),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new __,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ut(Ue),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ut(Ue),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new __),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lc(){return new ft(be.comparator)}function b_(){return new ft(be.comparator)}const sR={asc:"ASCENDING",desc:"DESCENDING"},rR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lR={and:"AND",or:"OR"};class oR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Cm(a,e){return a.useProto3Json||Th(e)?e:{value:e}}function hh(a,e){return a.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ox(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function uR(a,e){return hh(a,e.toTimestamp())}function Li(a){return $e(!!a,49232),Se.fromTimestamp((function(i){const s=os(i);return new ot(s.seconds,s.nanos)})(a))}function hp(a,e){return Dm(a,e).canonicalString()}function Dm(a,e){const i=(function(l){return new st(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?i:i.child(e)}function Mx(a){const e=st.fromString(a);return $e(zx(e),10190,{key:e.toString()}),e}function Im(a,e){return hp(a.databaseId,e.path)}function im(a,e){const i=Mx(e);if(i.get(1)!==a.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new be(Lx(i))}function Vx(a,e){return hp(a.databaseId,e)}function cR(a){const e=Mx(a);return e.length===4?st.emptyPath():Lx(e)}function jm(a){return new st(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Lx(a){return $e(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function x_(a,e,i){return{name:Im(a,e),fields:i.value.mapValue.fields}}function hR(a,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?($e(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):($e(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const b=y.code===void 0?ee.UNKNOWN:Ix(y.code);return new ue(b,y.message||"")})(f);i=new kx(s,l,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=im(a,s.document.name),u=Li(s.document.updateTime),f=s.document.createTime?Li(s.document.createTime):Se.min(),p=new vn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(l,u,f,p),y=s.targetIds||[],b=s.removedTargetIds||[];i=new Xc(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=im(a,s.document),u=s.readTime?Li(s.readTime):Se.min(),f=nn.newNoDocument(l,u),p=s.removedTargetIds||[];i=new Xc([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=im(a,s.document),u=s.removedTargetIds||[];i=new Xc([],u,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new eR(l,u),p=s.targetId;i=new jx(p,f)}}return i}function fR(a,e){let i;if(e instanceof Wo)i={update:x_(a,e.key,e.value)};else if(e instanceof op)i={delete:Im(a,e.key)};else if(e instanceof gs)i={update:x_(a,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof ZN))return Te(16599,{Vt:e.type});i={verify:Im(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ho)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:uR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(a,e.precondition)),i}function dR(a,e){return a&&a.length>0?($e(e!==void 0,14353),a.map((i=>(function(l,u){let f=l.updateTime?Li(l.updateTime):Li(u);return f.isEqual(Se.min())&&(f=Li(u)),new $N(f,l.transformResults||[])})(i,e)))):[]}function mR(a,e){return{documents:[Vx(a,e.path)]}}function pR(a,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Vx(a,l);const u=(function(y){if(y.length!==0)return Px(ui.create(y,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(A){return{field:Xr(A.field),direction:vR(A.dir)}})(b)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const p=Cm(a,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function gR(a){let e=cR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){$e(s===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];i.where&&(u=(function(E){const A=Ux(E);return A instanceof ui&&mx(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(E){return E.map((A=>(function(P){return new qo(Zr(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(A)))})(i.orderBy));let p=null;i.limit&&(p=(function(E){let A;return A=typeof E=="object"?E.value:E,Th(A)?null:A})(i.limit));let g=null;i.startAt&&(g=(function(E){const A=!!E.before,j=E.values||[];return new lh(j,A)})(i.startAt));let y=null;return i.endAt&&(y=(function(E){const A=!E.before,j=E.values||[];return new lh(j,A)})(i.endAt)),MN(e,l,f,u,p,"F",g,y)}function yR(a,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Ux(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Zr(i.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Zr(i.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Zr(i.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Zr(i.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ot.create(Zr(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ui.create(i.compositeFilter.filters.map((s=>Ux(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(a):Te(30097,{filter:a})}function vR(a){return sR[a]}function _R(a){return rR[a]}function bR(a){return lR[a]}function Xr(a){return{fieldPath:a.canonicalString()}}function Zr(a){return Xt.fromServerFormat(a.fieldPath)}function Px(a){return a instanceof Ot?(function(i){if(i.op==="=="){if(o_(i.value))return{unaryFilter:{field:Xr(i.field),op:"IS_NAN"}};if(l_(i.value))return{unaryFilter:{field:Xr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(o_(i.value))return{unaryFilter:{field:Xr(i.field),op:"IS_NOT_NAN"}};if(l_(i.value))return{unaryFilter:{field:Xr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xr(i.field),op:_R(i.op),value:i.value}}})(a):a instanceof ui?(function(i){const s=i.getFilters().map((l=>Px(l)));return s.length===1?s[0]:{compositeFilter:{op:bR(i.op),filters:s}}})(a):Te(54877,{filter:a})}function xR(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function zx(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class ns{constructor(e,i,s,l,u=Se.min(),f=Se.min(),p=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wR{constructor(e){this.yt=e}}function ER(a){const e=gR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?oh(e,e.limit,"L"):e}class TR{constructor(){this.Cn=new SR}addToCollectionParentIndex(e,i){return this.Cn.add(i),ne.resolve()}getCollectionParents(e,i){return ne.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ne.resolve()}deleteFieldIndex(e,i){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,i){return ne.resolve()}getDocumentsMatchingTarget(e,i){return ne.resolve(null)}getIndexType(e,i){return ne.resolve(0)}getFieldIndexes(e,i){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,i){return ne.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,i){return ne.resolve(ls.min())}updateCollectionGroup(e,i,s){return ne.resolve()}updateIndexEntries(e,i){return ne.resolve()}}class SR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Ut(st.comparator),u=!l.has(s);return this.index[i]=l.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ut(st.comparator)).toArray()}}const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bx=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Bx,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}const E_="LruGarbageCollector",AR=1048576;function T_([a,e],[i,s]){const l=Ue(a,i);return l===0?Ue(e,s):l}class NR{constructor(e){this.Ir=e,this.buffer=new Ut(T_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();T_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class RR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(E_,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fl(i)?ce(E_,"Ignoring IndexedDB error during garbage collection: ",i):await hl(i)}await this.Vr(3e5)}))}}class CR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return ne.resolve(Eh.ce);const s=new NR(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(w_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(s," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),w_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,u,f,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(E)),l=this.params.maximumSequenceNumbersToCollect):l=E,f=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,i)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),$r()<=qe.DEBUG&&ce("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in ".concat(f-b,"ms\n	Determined least recently used ").concat(l," in ")+(p-f)+"ms\n"+"	Removed ".concat(u," targets in ")+(g-p)+"ms\n"+"	Removed ".concat(E," documents in ")+(y-g)+"ms\n"+"Total Duration: ".concat(y-b,"ms")),ne.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function DR(a,e){return new CR(a,e)}class IR{constructor(){this.changes=new sr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?ne.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class kR{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&ko(s.mutation,l,Rn.empty(),ot.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Pe()){const l=$s();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((u=>{let f=To();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=$s();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Pe())))}populateOverlays(e,i,s){const l=[];return s.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,p)=>{i.set(f,p)}))}))}computeViews(e,i,s,l){let u=pa();const f=jo(),p=(function(){return jo()})();return i.forEach(((g,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof gs)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),ko(b.mutation,y,b.mutation.getFieldMask(),ot.now())):f.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),i.forEach(((y,b)=>{var E;return p.set(y,new jR(b,(E=f.get(y))!=null?E:null))})),p)))}recalculateAndSaveOverlays(e,i){const s=jo();let l=new ft(((f,p)=>f-p)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let b=s.get(g)||Rn.empty();b=p.applyToLocalView(y,b),s.set(g,b);const E=(l.get(p.batchId)||Pe()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,E=Ex();b.forEach((A=>{if(!u.has(A)){const j=Cx(i.get(A),s.get(A));j!==null&&E.set(A,j),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):vx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-u.size):ne.resolve($s());let p=Uo,g=u;return f.next((y=>ne.forEach(y,((b,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{g=g.insert(b,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Pe()))).next((b=>({batchId:p,changes:wx(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((s=>{let l=To();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const u=i.collectionGroup;let f=To();return this.indexManager.getCollectionParents(e,u).next((p=>ne.forEach(p,(g=>{const y=(function(E,A){return new dl(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((E,A)=>{f=f.insert(E,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,l)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,nn.newInvalidDocument(b)))}));let p=To();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&ko(b.mutation,y,Rn.empty(),ot.now()),Rh(i,y)&&(p=p.insert(g,y))})),p}))}}class OR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ne.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),ne.resolve()}getNamedQuery(e,i){return ne.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:ER(l.bundledQuery),readTime:Li(l.readTime)}})(i)),ne.resolve()}}class MR{constructor(){this.overlays=new ft(be.comparator),this.qr=new Map}getOverlay(e,i){return ne.resolve(this.overlays.get(i))}getOverlays(e,i){const s=$s();return ne.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,u)=>{this.St(e,i,u)})),ne.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,i,s){const l=$s(),u=i.length+1,f=new be(i.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return ne.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let u=new ft(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=$s(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=$s(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return ne.resolve(p)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new WN(i,s));let u=this.qr.get(i);u===void 0&&(u=Pe(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class VR{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ne.resolve()}}class fp{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new qt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new qt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new be(new st([])),s=new qt(i,e),l=new qt(i,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new st([])),s=new qt(i,e),l=new qt(i,e+1);let u=Pe();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new qt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||Ue(e.Yr,i.Yr)}static Kr(e,i){return Ue(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}class LR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new JN(u,i,s,l);this.mutationQueue.push(f);for(const p of l)this.Zr=this.Zr.add(new qt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,i){return ne.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),u=l<0?0:l;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?np:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new qt(i,0),l=new qt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const p=this.Xr(f.Yr);u.push(p)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ut(Ue);return i.forEach((l=>{const u=new qt(l,0),f=new qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const f=new qt(new be(u),0);let p=new Ut(Ue);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){$e(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(i.mutations,(l=>{const u=new qt(l.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new qt(i,0),l=this.Zr.firstAfterOrEqual(s);return ne.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class UR{constructor(e){this.ri=e,this.docs=(function(){return new ft(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return ne.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(e,i){let s=pa();return i.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():nn.newInvalidDocument(l))})),ne.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let u=pa();const f=i.path,p=new be(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||dN(fN(b),s)<=0||(l.has(b.key)||Rh(i,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,i,s,l){Te(9500)}ii(e,i){return ne.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new PR(this)}getSize(e){return ne.resolve(this.size)}}class PR extends IR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),ne.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class zR{constructor(e){this.persistence=e,this.si=new sr((i=>sp(i)),rp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new fp,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),ne.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new sl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ne.resolve()}updateTargetData(e,i){return this.Pr(i),ne.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,i,s){let l=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ne.waitFor(u).next((()=>l))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return ne.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),ne.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ne.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return ne.resolve(s)}containsKey(e,i){return ne.resolve(this._i.containsKey(i))}}class qx{constructor(e,i){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new VR,this.referenceDelegate=e(this),this.Pi=new zR(this),this.indexManager=new TR,this.remoteDocumentCache=(function(l){return new UR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wR(i),this.Ii=new OR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new MR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new LR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ce("MemoryPersistence","Starting transaction:",e);const l=new BR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class BR extends pN{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Ri=new fp,this.Vi=null}static mi(e){return new dp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ne.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const l=be.fromPath(s);return this.gi(e,l).next((u=>{u||i.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ne.or([()=>ne.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class fh{constructor(e,i){this.persistence=e,this.pi=new sr((s=>vN(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=DR(this,i)}static mi(e,i){return new fh(e,i)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return ne.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?ne.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,i).next((p=>{p||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}br(e,i,s){return ne.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ne.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mp{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=Pe(),l=Pe();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new mp(e,i.fromCache,s,l)}}class qR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class HR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zS()?8:gN(US())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new qR;return this.Ss(e,i,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,f,p.size)}))})).next((()=>u.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?($r()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Yr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):($r()<=qe.DEBUG&&ce("QueryEngine","Query:",Yr(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?($r()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Yr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(i))):ne.resolve())}ys(e,i){if(f_(i))return ne.resolve(null);let s=Vi(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=oh(i,null,"F"),s=Vi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,f,g.readTime)?this.ys(e,oh(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,s,l){return f_(i)||l.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,l)?ne.resolve(null):($r()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Yr(i)),this.vs(e,f,i,hN(l,Uo)).next((p=>p)))}))}Ds(e,i){let s=new Ut(bx(e));return i.forEach(((l,u)=>{Rh(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,s){return $r()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Yr(i)),this.ps.getDocumentsMatchingQuery(e,i,ls.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const pp="LocalStore",FR=3e8;class GR{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new ft(Ue),this.xs=new sr((u=>sp(u)),rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function QR(a,e,i,s){return new GR(a,e,i,s)}async function Hx(a,e){const i=Ne(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=Pe();for(const y of l){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return i.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function KR(a,e){const i=Ne(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,b){const E=y.batch,A=E.keys();let j=ne.resolve();return A.forEach((P=>{j=j.next((()=>b.getEntry(g,P))).next((G=>{const U=y.docVersions.get(P);$e(U!==null,48541),G.version.compareTo(U)<0&&(E.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Pe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function Fx(a){const e=Ne(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function $R(a,e){const i=Ne(a),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((b,E)=>{const A=l.get(E);if(!A)return;p.push(i.Pi.removeMatchingKeys(u,b.removedDocuments,E).next((()=>i.Pi.addMatchingKeys(u,b.addedDocuments,E))));let j=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,s)),l=l.insert(E,j),(function(G,U,Y){return G.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=FR?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,j,b)&&p.push(i.Pi.updateTargetData(u,j))}));let g=pa(),y=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(YR(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!s.isEqual(Se.min())){const b=i.Pi.getLastRemoteSnapshotVersion(u).next((E=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(b)}return ne.waitFor(p).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(i.Ms=l,u)))}function YR(a,e,i){let s=Pe(),l=Pe();return i.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=pa();return i.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ce(pp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function XR(a,e){const i=Ne(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=np),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ZR(a,e){const i=Ne(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((u=>u?(l=u,ne.resolve(l)):i.Pi.allocateTargetId(s).next((f=>(l=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function km(a,e,i){const s=Ne(a),l=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!fl(f))throw f;ce(pp,"Failed to update sequence numbers for target ".concat(e,": ").concat(f))}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function S_(a,e,i){const s=Ne(a);let l=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const E=Ne(g),A=E.xs.get(b);return A!==void 0?ne.resolve(E.Ms.get(A)):E.Pi.getTargetData(y,b)})(s,f,Vi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?l:Se.min(),i?u:Pe()))).next((p=>(JR(s,LN(e),p),{documents:p,Qs:u})))))}function JR(a,e,i){let s=a.Os.get(e)||Se.min();i.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class A_{constructor(){this.activeTargetIds=HN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WR{constructor(){this.Mo=new A_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class e4{Oo(e){}shutdown(){}}const N_="ConnectivityMonitor";class R_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(N_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(N_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function Om(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const am="RestConnection",t4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko="projects/".concat(s,"/databases/").concat(l),this.Wo=this.databaseId.database===sh?"project_id=".concat(s):"project_id=".concat(s,"&database_id=").concat(l)}Go(e,i,s,l,u){const f=Om(),p=this.zo(e,i.toUriEncodedString());ce(am,"Sending RPC '".concat(e,"' ").concat(f,":"),p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),b=Xo(y);return this.Jo(e,p,g,s,b).then((E=>(ce(am,"Received RPC '".concat(e,"' ").concat(f,": "),E),E)),(E=>{throw tl(am,"RPC '".concat(e,"' ").concat(f," failed with error: "),E,"url: ",p,"request:",s),E}))}Ho(e,i,s,l,u,f){return this.Go(e,i,s,l,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const s=t4[e];return"".concat(this.Uo,"/v1/").concat(i,":").concat(s)}terminate(){}}class i4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class a4 extends n4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,u){const f=Om();return new Promise(((p,g)=>{const y=new Kb;y.setWithCredentials(!0),y.listenOnce($b.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qc.NO_ERROR:const E=y.getResponseJson();ce(en,"XHR for RPC '".concat(e,"' ").concat(f," received:"),JSON.stringify(E)),p(E);break;case Qc.TIMEOUT:ce(en,"RPC '".concat(e,"' ").concat(f," timed out")),g(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const A=y.getStatus();if(ce(en,"RPC '".concat(e,"' ").concat(f," failed with status:"),A,"response text:",y.getResponseText()),A>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const P=j==null?void 0:j.error;if(P&&P.status&&P.message){const G=(function(Y){const ie=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN})(P.status);g(new ue(G,P.message))}else g(new ue(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(en,"RPC '".concat(e,"' ").concat(f," completed."))}}));const b=JSON.stringify(l);ce(en,"RPC '".concat(e,"' ").concat(f," sending request:"),l),y.send(i,"POST",b,s,15)}))}T_(e,i,s){const l=Om(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Zb(),p=Xb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const b=u.join("");ce(en,"Creating RPC '".concat(e,"' stream ").concat(l,": ").concat(b),g);const E=f.createWebChannel(b,g);this.I_(E);let A=!1,j=!1;const P=new i4({Yo:U=>{j?ce(en,"Not sending because RPC '".concat(e,"' stream ").concat(l," is closed:"),U):(A||(ce(en,"Opening RPC '".concat(e,"' stream ").concat(l," transport.")),E.open(),A=!0),ce(en,"RPC '".concat(e,"' stream ").concat(l," sending:"),U),E.send(U))},Zo:()=>E.close()}),G=(U,Y,ie)=>{U.listen(Y,(X=>{try{ie(X)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return G(E,Eo.EventType.OPEN,(()=>{j||(ce(en,"RPC '".concat(e,"' stream ").concat(l," transport opened.")),P.o_())})),G(E,Eo.EventType.CLOSE,(()=>{j||(j=!0,ce(en,"RPC '".concat(e,"' stream ").concat(l," transport closed")),P.a_(),this.E_(E))})),G(E,Eo.EventType.ERROR,(U=>{j||(j=!0,tl(en,"RPC '".concat(e,"' stream ").concat(l," transport errored. Name:"),U.name,"Message:",U.message),P.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),G(E,Eo.EventType.MESSAGE,(U=>{var Y;if(!j){const ie=U.data[0];$e(!!ie,16349);const X=ie,oe=(X==null?void 0:X.error)||((Y=X[0])==null?void 0:Y.error);if(oe){ce(en,"RPC '".concat(e,"' stream ").concat(l," received error:"),oe);const me=oe.status;let ye=(function(D){const O=kt[D];if(O!==void 0)return Ix(O)})(me),I=oe.message;ye===void 0&&(ye=ee.INTERNAL,I="Unknown error status: "+me+" with message "+oe.message),j=!0,P.a_(new ue(ye,I)),E.close()}else ce(en,"RPC '".concat(e,"' stream ").concat(l," received:"),ie),P.u_(ie)}})),G(p,Yb.STAT_EVENT,(U=>{U.stat===wm.PROXY?ce(en,"RPC '".concat(e,"' stream ").concat(l," detected buffering proxy")):U.stat===wm.NOPROXY&&ce(en,"RPC '".concat(e,"' stream ").concat(l," detected no buffering proxy"))})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function sm(){return typeof document<"u"?document:null}function jh(a){return new oR(a,!0)}class Gx{constructor(e,i,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ce("ExponentialBackoff","Backing off for ".concat(l," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(i," ms, last attempt: ").concat(s," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const C_="PersistentStream";class Qx{constructor(e,i,s,l,u,f,p,g){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gx(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(ma(i.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(C_,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s4 extends Qx{constructor(e,i,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=hR(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Li(f.readTime):Se.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=jm(this.serializer),i.addTarget=(function(u,f){let p;const g=f.target;if(p=Nm(g)?{documents:mR(u,g)}:{query:pR(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=Ox(u,f.resumeToken);const y=Cm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){p.readTime=hh(u,f.snapshotVersion.toTimestamp());const y=Cm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=yR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=jm(this.serializer),i.removeTarget=e,this.q_(i)}}class r4 extends Qx{constructor(e,i,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=dR(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=jm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>fR(this.serializer,s)))};this.q_(i)}}class l4{}class o4 extends l4{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Dm(i,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}Ho(e,i,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Dm(i,s),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class u4{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ma(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const er="RemoteStore";class c4{constructor(e,i,s,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{rr(this)&&(ce(er,"Restarting streams for network reachability change."),await(async function(g){const y=Ne(g);y.Ea.add(4),await tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kh(y)})(this))}))})),this.Ra=new u4(s,l)}}async function kh(a){if(rr(a))for(const e of a.da)await e(!0)}async function tu(a){for(const e of a.da)await e(!1)}function Kx(a,e){const i=Ne(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),_p(i)?vp(i):ml(i).O_()&&yp(i,e))}function gp(a,e){const i=Ne(a),s=ml(i);i.Ia.delete(e),s.O_()&&$x(i,e),i.Ia.size===0&&(s.O_()?s.L_():rr(i)&&i.Ra.set("Unknown"))}function yp(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ml(a).Y_(e)}function $x(a,e){a.Va.Ue(e),ml(a).Z_(e)}function vp(a){a.Va=new aR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),ml(a).start(),a.Ra.ua()}function _p(a){return rr(a)&&!ml(a).x_()&&a.Ia.size>0}function rr(a){return Ne(a).Ea.size===0}function Yx(a){a.Va=void 0}async function h4(a){a.Ra.set("Online")}async function f4(a){a.Ia.forEach(((e,i)=>{yp(a,e)}))}async function d4(a,e){Yx(a),_p(a)?(a.Ra.ha(e),vp(a)):a.Ra.set("Unknown")}async function m4(a,e,i){if(a.Ra.set("Online"),e instanceof kx&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.Va.removeTarget(p))})(a,e)}catch(s){ce(er,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dh(a,s)}else if(e instanceof Xc?a.Va.Ze(e):e instanceof jx?a.Va.st(e):a.Va.tt(e),!i.isEqual(Se.min()))try{const s=await Fx(a.localStore);i.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),$x(u,g);const E=new ns(b.target,g,y,b.sequenceNumber);yp(u,E)})),u.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){ce(er,"Failed to raise snapshot:",s),await dh(a,s)}}async function dh(a,e,i){if(!fl(e))throw e;a.Ea.add(1),await tu(a),a.Ra.set("Offline"),i||(i=()=>Fx(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ce(er,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await kh(a)}))}function Xx(a,e){return e().catch((i=>dh(a,i,e)))}async function Oh(a){const e=Ne(a),i=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:np;for(;p4(e);)try{const l=await XR(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,g4(e,l)}catch(l){await dh(e,l)}Zx(e)&&Jx(e)}function p4(a){return rr(a)&&a.Ta.length<10}function g4(a,e){a.Ta.push(e);const i=hs(a);i.O_()&&i.X_&&i.ea(e.mutations)}function Zx(a){return rr(a)&&!hs(a).x_()&&a.Ta.length>0}function Jx(a){hs(a).start()}async function y4(a){hs(a).ra()}async function v4(a){const e=hs(a);for(const i of a.Ta)e.ea(i.mutations)}async function _4(a,e,i){const s=a.Ta.shift(),l=up.from(s,e,i);await Xx(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Oh(a)}async function b4(a,e){e&&hs(a).X_&&await(async function(s,l){if((function(f){return tR(f)&&f!==ee.ABORTED})(l.code)){const u=s.Ta.shift();hs(s).B_(),await Xx(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Oh(s)}})(a,e),Zx(a)&&Jx(a)}async function D_(a,e){const i=Ne(a);i.asyncQueue.verifyOperationInProgress(),ce(er,"RemoteStore received new credentials");const s=rr(i);i.Ea.add(3),await tu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kh(i)}async function x4(a,e){const i=Ne(a);e?(i.Ea.delete(2),await kh(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function ml(a){return a.ma||(a.ma=(function(i,s,l){const u=Ne(i);return u.sa(),new s4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:h4.bind(null,a),t_:f4.bind(null,a),r_:d4.bind(null,a),H_:m4.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),_p(a)?vp(a):a.Ra.set("Unknown")):(await a.ma.stop(),Yx(a))}))),a.ma}function hs(a){return a.fa||(a.fa=(function(i,s,l){const u=Ne(i);return u.sa(),new r4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:y4.bind(null,a),r_:b4.bind(null,a),ta:v4.bind(null,a),na:_4.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Oh(a)):(await a.fa.stop(),a.Ta.length>0&&(ce(er,"Stopping write stream with ".concat(a.Ta.length," pending writes")),a.Ta=[]))}))),a.fa}class bp{constructor(e,i,s,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,u){const f=Date.now()+s,p=new bp(e,i,f,l,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(a,e){if(ma("AsyncQueue","".concat(e,": ").concat(a)),fl(a))return new ue(ee.UNAVAILABLE,"".concat(e,": ").concat(a));throw a}class Jr{static emptySet(e){return new Jr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||be.comparator(i.key,s.key):(i,s)=>be.comparator(i.key,s.key),this.keyedMap=To(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,i){const s=new Jr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class I_{constructor(){this.ga=new ft(be.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class rl{constructor(e,i,s,l,u,f,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,l,u){const f=[];return i.forEach((p=>{f.push({type:0,doc:p})})),new rl(e,i,Jr.emptySet(i),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class w4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E4{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ne(i),u=l.queries;l.queries=j_(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function j_(){return new sr((a=>_x(a)),Nh)}async function Wx(a,e){const i=Ne(a);let s=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new w4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const p=xp(f,"Initialization of query '".concat(Yr(e.query),"' failed"));return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&wp(i)}async function e1(a,e){const i=Ne(a),s=e.query;let l=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function T4(a,e){const i=Ne(a);let s=!1;for(const l of e){const u=l.query,f=i.queries.get(u);if(f){for(const p of f.Sa)p.Fa(l)&&(s=!0);f.wa=l}}s&&wp(i)}function S4(a,e,i){const s=Ne(a),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);s.queries.delete(e)}function wp(a){a.Ca.forEach((e=>{e.next()}))}var Mm,k_;(k_=Mm||(Mm={})).Ma="default",k_.Cache="cache";class t1{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}class n1{constructor(e){this.key=e}}class i1{constructor(e){this.key=e}}class A4{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=bx(e),this.tu=new Jr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new I_,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,E)=>{const A=l.get(b),j=Rh(this.query,E)?E:null,P=!!A&&this.mutatedKeys.has(A.key),G=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let U=!1;A&&j?A.data.isEqual(j.data)?P!==G&&(s.track({type:3,doc:j}),U=!0):this.su(A,j)||(s.track({type:2,doc:j}),U=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(p=!0)):!A&&j?(s.track({type:0,doc:j}),U=!0):A&&!j&&(s.track({type:1,doc:A}),U=!0,(g||y)&&(p=!0)),U&&(j?(f=f.add(j),u=G?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,E)=>(function(j,P){const G=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:U})}};return G(j)-G(P)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(s),l=l!=null?l:!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new rl(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new i1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new n1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ep="SyncEngine";class N4{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class R4{constructor(e){this.key=e,this.hu=!1}}class C4{constructor(e,i,s,l,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sr((p=>_x(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(be.comparator),this.Au=new Map,this.Ru=new fp,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D4(a,e,i=!0){const s=u1(a);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await a1(s,e,i,!0),l}async function I4(a,e){const i=u1(a);await a1(i,e,!0,!1)}async function a1(a,e,i,s){const l=await ZR(a.localStore,Vi(e)),u=l.targetId,f=a.sharedClientState.addLocalQueryTarget(u,i);let p;return s&&(p=await j4(a,e,u,f==="current",l.resumeToken)),a.isPrimaryClient&&i&&Kx(a.remoteStore,l),p}async function j4(a,e,i,s,l){a.pu=(E,A,j)=>(async function(G,U,Y,ie){let X=U.view.ru(Y);X.Cs&&(X=await S_(G.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,X))));const oe=ie&&ie.targetChanges.get(U.targetId),me=ie&&ie.targetMismatches.get(U.targetId)!=null,ye=U.view.applyChanges(X,G.isPrimaryClient,oe,me);return M_(G,U.targetId,ye.au),ye.snapshot})(a,E,A,j);const u=await S_(a.localStore,e,!0),f=new A4(e,u.Qs),p=f.ru(u.documents),g=eu.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),y=f.applyChanges(p,a.isPrimaryClient,g);M_(a,i,y.au);const b=new N4(e,i,f);return a.Tu.set(e,b),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function k4(a,e,i){const s=Ne(a),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!Nh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await km(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&gp(s.remoteStore,l.targetId),Vm(s,l.targetId)})).catch(hl)):(Vm(s,l.targetId),await km(s.localStore,l.targetId,!0))}async function O4(a,e){const i=Ne(a),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),gp(i.remoteStore,s.targetId))}async function M4(a,e,i){const s=q4(a);try{const l=await(function(f,p){const g=Ne(f),y=ot.now(),b=p.reduce(((j,P)=>j.add(P.key)),Pe());let E,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let P=pa(),G=Pe();return g.Ns.getEntries(j,b).next((U=>{P=U,P.forEach(((Y,ie)=>{ie.isValidDocument()||(G=G.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,P))).next((U=>{E=U;const Y=[];for(const ie of p){const X=XN(ie,E.get(ie.key).overlayedDocument);X!=null&&Y.push(new gs(ie.key,X,hx(X.value.mapValue),Yn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,Y,p)})).next((U=>{A=U;const Y=U.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(j,U.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:wx(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ft(Ue)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,i),await nu(s,l.changes),await Oh(s.remoteStore)}catch(l){const u=xp(l,"Failed to persist write");i.reject(u)}}async function s1(a,e){const i=Ne(a);try{const s=await $R(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=i.Au.get(u);f&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?$e(f.hu,14607):l.removedDocuments.size>0&&($e(f.hu,42227),f.hu=!1))})),await nu(i,s,e)}catch(s){await hl(s)}}function O_(a,e,i){const s=Ne(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=Ne(f);g.onlineState=p;let y=!1;g.queries.forEach(((b,E)=>{for(const A of E.Sa)A.va(p)&&(y=!0)})),y&&wp(g)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function V4(a,e,i){const s=Ne(a);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new ft(be.comparator);f=f.insert(u,nn.newNoDocument(u,Se.min()));const p=Pe().add(u),g=new Ih(Se.min(),new Map,new ft(Ue),f,p);await s1(s,g),s.du=s.du.remove(u),s.Au.delete(e),Tp(s)}else await km(s.localStore,e,!1).then((()=>Vm(s,e,i))).catch(hl)}async function L4(a,e){const i=Ne(a),s=e.batch.batchId;try{const l=await KR(i.localStore,e);l1(i,s,null),r1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await nu(i,l)}catch(l){await hl(l)}}async function U4(a,e,i){const s=Ne(a);try{const l=await(function(f,p){const g=Ne(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>($e(E!==null,37113),b=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);l1(s,e,i),r1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await nu(s,l)}catch(l){await hl(l)}}function r1(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function l1(a,e,i){const s=Ne(a);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Vm(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||o1(a,s)}))}function o1(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(gp(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Tp(a))}function M_(a,e,i){for(const s of i)s instanceof n1?(a.Ru.addReference(s.key,e),P4(a,s)):s instanceof i1?(ce(Ep,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||o1(a,s.key)):Te(19791,{wu:s})}function P4(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(ce(Ep,"New document in limbo: "+i),a.Eu.add(s),Tp(a))}function Tp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new be(st.fromString(e)),s=a.fu.next();a.Au.set(s,new R4(i)),a.du=a.du.insert(i,s),Kx(a.remoteStore,new ns(Vi(Ah(i.path)),s,"TargetPurposeLimboResolution",Eh.ce))}}async function nu(a,e,i){const s=Ne(a),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,i).then((y=>{var b;if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:(b=i==null?void 0:i.targetChanges.get(g.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=mp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(g,y){const b=Ne(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(y,(A=>ne.forEach(A.Es,(j=>b.persistence.referenceDelegate.addReference(E,A.targetId,j))).next((()=>ne.forEach(A.ds,(j=>b.persistence.referenceDelegate.removeReference(E,A.targetId,j)))))))))}catch(E){if(!fl(E))throw E;ce(pp,"Failed to update sequence numbers: "+E)}for(const E of y){const A=E.targetId;if(!E.fromCache){const j=b.Ms.get(A),P=j.snapshotVersion,G=j.withLastLimboFreeSnapshotVersion(P);b.Ms=b.Ms.insert(A,G)}}})(s.localStore,u))}async function z4(a,e){const i=Ne(a);if(!i.currentUser.isEqual(e)){ce(Ep,"User change. New user:",e.toKey());const s=await Hx(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue(ee.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nu(i,s.Ls)}}function B4(a,e){const i=Ne(a),s=i.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let l=Pe();const u=i.Iu.get(e);if(!u)return l;for(const f of u){const p=i.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function u1(a){const e=Ne(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V4.bind(null,e),e.Pu.H_=T4.bind(null,e.eventManager),e.Pu.yu=S4.bind(null,e.eventManager),e}function q4(a){const e=Ne(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U4.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return QR(this.persistence,new HR,e.initialUser,this.serializer)}Cu(e){return new qx(dp.mi,this.serializer)}Du(e){return new WR}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class H4 extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new qx((s=>fh.mi(s,i)),this.serializer)}}class Lm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z4.bind(null,this.syncEngine),await x4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E4})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),s=(function(u){return new a4(u)})(e.databaseInfo);return(function(u,f,p,g){return new o4(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,u,f,p){return new c4(s,l,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>O_(this.syncEngine,i,0)),(function(){return R_.v()?new R_:new e4})())}createSyncEngine(e,i){return(function(l,u,f,p,g,y,b){const E=new C4(l,u,f,p,g,y);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const u=Ne(l);ce(er,"RemoteStore shutting down."),u.Ea.add(5),await tu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Lm.provider={build:()=>new Lm};class c1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ma("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const fs="FirestoreClient";class F4{constructor(e,i,s,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=xp(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function rm(a,e){a.asyncQueue.verifyOperationInProgress(),ce(fs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Hx(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function V_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await G4(a);ce(fs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((s=>D_(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>D_(e.remoteStore,l))),a._onlineComponents=e}async function G4(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ce(fs,"Using user provided OfflineComponentProvider");try{await rm(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;tl("Error using user provided cache. Falling back to memory cache: "+i),await rm(a,new mh)}}else ce(fs,"Using default OfflineComponentProvider"),await rm(a,new H4(void 0));return a._offlineComponents}async function h1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ce(fs,"Using user provided OnlineComponentProvider"),await V_(a,a._uninitializedComponentsProvider._online)):(ce(fs,"Using default OnlineComponentProvider"),await V_(a,new Lm))),a._onlineComponents}function Q4(a){return h1(a).then((e=>e.syncEngine))}async function Um(a){const e=await h1(a),i=e.eventManager;return i.onListen=D4.bind(null,e.syncEngine),i.onUnlisten=k4.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=I4.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=O4.bind(null,e.syncEngine),i}function K4(a,e,i={}){const s=new ss;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const b=new c1({next:A=>{b.Nu(),f.enqueueAndForget((()=>e1(u,E)));const j=A.docs.has(p);!j&&A.fromCache?y.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&A.fromCache&&g&&g.source==="server"?y.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),E=new t1(Ah(p.path),b,{includeMetadataChanges:!0,qa:!0});return Wx(u,E)})(await Um(a),a.asyncQueue,e,i,s))),s.promise}function f1(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const L_=new Map;const d1="firestore.googleapis.com",U_=!0;class P_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d1,this.ssl=U_}else this.host=e.host,this.ssl=(i=e.ssl)!=null?i:U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AR)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1((s=e.experimentalLongPollingOptions)!=null?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (must not be NaN)"));if(u.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (minimum allowed value is 5)"));if(u.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(u.timeoutSeconds," (maximum allowed value is 30)"))}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eN;switch(s.type){case"firstParty":return new aN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=L_.get(i);s&&(ce("ComponentProvider","Removing Datastore"),L_.delete(i),s.terminate())})(this),Promise.resolve()}}function $4(a,e,i,s={}){var y;a=$n(a,Mh);const l=Xo(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},p="".concat(e,":").concat(i);l&&(kb("https://".concat(p)),Mb("Firestore",!0)),u.host!==d1&&u.host!==p&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:s};if(!nh(g,f)&&(a._setSettings(g),s.mockUserToken)){let b,E;if(typeof s.mockUserToken=="string")b=s.mockUserToken,E=tn.MOCK_USER;else{b=Ob(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(A)}a._authCredentials=new tN(new Wb(b,E))}}class ys{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class pt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Jo(i,pt._jsonSchema))return new pt(e,s||null,new be(st.fromString(i.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Mt("string",pt._jsonSchemaVersion),referencePath:Mt("string")};class rs extends ys{constructor(e,i,s){super(e,i,Ah(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new be(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Cn(a,e,...i){if(a=Zt(a),ex("collection","path",e),a instanceof Mh){const s=st.fromString(e,...i);return Jv(s),new rs(a,null,s)}{if(!(a instanceof pt||a instanceof rs))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(st.fromString(e,...i));return Jv(s),new rs(a.firestore,null,s)}}function yn(a,e,...i){if(a=Zt(a),arguments.length===1&&(e=tp.newId()),ex("doc","path",e),a instanceof Mh){const s=st.fromString(e,...i);return Zv(s),new pt(a,null,new be(s))}{if(!(a instanceof pt||a instanceof rs))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(st.fromString(e,...i));return Zv(s),new pt(a.firestore,a instanceof rs?a.converter:null,new be(s))}}const z_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gx(this,"async_queue_retry"),this._c=()=>{const s=sm();s&&ce(z_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;ce(z_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ma("INTERNAL UNHANDLED ERROR: ",q_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=bp.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function q_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),e}function H_(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(a,["next","error","complete"])}class ds extends Mh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new B_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function Y4(a,e){const i=typeof a=="object"?a:Wm(),s=typeof a=="string"?a:sh,l=Zo(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=Ib("firestore");u&&$4(l,...u)}return l}function Sp(a){if(a._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||X4(a),a._firestoreClient}function X4(a){var s,l,u;const e=a._freezeSettings(),i=(function(p,g,y,b){return new xN(p,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,f1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new F4(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(a._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Jt.fromBase64String(e))}catch(i){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Qn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Mt("string",Qn._jsonSchemaVersion),bytes:Mt("string")};class Vh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ap{constructor(e){this._methodName=e}}class Ui{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Mt("string",Ui._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Pi(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Mt("string",Pi._jsonSchemaVersion),vectorValues:Mt("object")};const Z4=/^__.*__$/;class J4{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wo(e,this.data,i,this.fieldTransforms)}}class m1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new gs(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function p1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:a})}}class Np{constructor(e,i,s,l,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Np({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p1(this.Ac)&&Z4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W4{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||jh(e)}Cc(e,i,s,l=!1){return new Np({Ac:e,methodName:i,Dc:s,path:Xt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(a){const e=a._freezeSettings(),i=jh(a._databaseId);return new W4(a._databaseId,!!e.ignoreUndefinedProperties,i)}function g1(a,e,i,s,l,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,i,l);Rp("Data must be an object, but it was:",f,s);const p=y1(s,f);let g,y;if(u.merge)g=new Rn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const E of u.mergeFields){const A=Pm(e,E,i);if(!f.contains(A))throw new ue(ee.INVALID_ARGUMENT,"Field '".concat(A,"' is specified in your field mask but missing from your input data."));_1(b,A)||b.push(A)}g=new Rn(b),y=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=f.fieldTransforms;return new J4(new vn(p),g,y)}class Uh extends Ap{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function eC(a,e,i,s){const l=a.Cc(1,e,i);Rp("Data must be an object, but it was:",l,s);const u=[],f=vn.empty();ps(s,((g,y)=>{const b=Cp(e,g,i);y=Zt(y);const E=l.yc(b);if(y instanceof Uh)u.push(b);else{const A=iu(y,E);A!=null&&(u.push(b),f.set(b,A))}}));const p=new Rn(u);return new m1(f,p,l.fieldTransforms)}function tC(a,e,i,s,l,u){const f=a.Cc(1,e,i),p=[Pm(e,s,i)],g=[l];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let A=0;A<u.length;A+=2)p.push(Pm(e,u[A])),g.push(u[A+1]);const y=[],b=vn.empty();for(let A=p.length-1;A>=0;--A)if(!_1(y,p[A])){const j=p[A];let P=g[A];P=Zt(P);const G=f.yc(j);if(P instanceof Uh)y.push(j);else{const U=iu(P,G);U!=null&&(y.push(j),b.set(j,U))}}const E=new Rn(y);return new m1(b,E,f.fieldTransforms)}function nC(a,e,i,s=!1){return iu(i,a.Cc(s?4:3,e))}function iu(a,e){if(v1(a=Zt(a)))return Rp("Unsupported field value:",e,a),y1(a,e);if(a instanceof Ap)return(function(s,l){if(!p1(l.Ac))throw l.Sc("".concat(s._methodName,"() can only be used with update() and set()"));if(!l.path)throw l.Sc("".concat(s._methodName,"() is not currently supported inside arrays"));const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const p of s){let g=iu(p,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,l){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FN(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:hh(l.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(l.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:Ox(l.serializer,s._byteString)};if(s instanceof pt){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc("Document reference is for database ".concat(f.projectId,"/").concat(f.database," but should be for database ").concat(u.projectId,"/").concat(u.database));return{referenceValue:hp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pi)return(function(f,p){return{mapValue:{fields:{[ux]:{stringValue:cx},[rh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return lp(p.serializer,y)}))}}}}}})(s,l);throw l.Sc("Unsupported field value: ".concat(wh(s)))})(a,e)}function y1(a,e){const i={};return ix(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(a,((s,l)=>{const u=iu(l,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function v1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ot||a instanceof Ui||a instanceof Qn||a instanceof pt||a instanceof Ap||a instanceof Pi)}function Rp(a,e,i){if(!v1(i)||!tx(i)){const s=wh(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Pm(a,e,i){if((e=Zt(e))instanceof Vh)return e._internalPath;if(typeof e=="string")return Cp(a,e);throw ph("Field path arguments must be of type string or ",a,!1,void 0,i)}const iC=new RegExp("[~\\*/\\[\\]]");function Cp(a,e,i){if(e.search(iC)>=0)throw ph("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),a,!1,void 0,i);try{return new Vh(...e.split("."))._internalPath}catch(s){throw ph("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),a,!1,void 0,i)}}function ph(a,e,i,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let p="Function ".concat(e,"() called with invalid data");i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=" in field ".concat(s)),f&&(g+=" in document ".concat(l)),g+=")"),new ue(ee.INVALID_ARGUMENT,p+a+g)}function _1(a,e){return a.some((i=>i.isEqual(e)))}class b1{constructor(e,i,s,l,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ph("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aC extends b1{data(){return super.data()}}function Ph(a,e){return typeof e=="string"?Cp(a,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}function sC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}class Ip extends Dp{}function tr(a,e,...i){let s=[];e instanceof Dp&&s.push(e),s=s.concat(i),(function(u){const f=u.filter((g=>g instanceof jp)).length,p=u.filter((g=>g instanceof zh)).length;if(f>1||f>0&&p>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)a=l._apply(a);return a}class zh extends Ip{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new zh(e,i,s)}_apply(e){const i=this._parse(e);return x1(e._query,i),new ys(e.firestore,e.converter,Rm(e._query,i))}_parse(e){const i=Lh(e.firestore);return(function(u,f,p,g,y,b,E){let A;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(b,"' queries on documentId()."));if(b==="in"||b==="not-in"){G_(E,b);const P=[];for(const G of E)P.push(F_(g,u,G));A={arrayValue:{values:P}}}else A=F_(g,u,E)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||G_(E,b),A=nC(p,f,E,b==="in"||b==="not-in");return Ot.create(y,b,A)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function lm(a,e,i){const s=e,l=Ph("where",a);return zh._create(l,s,i)}class jp extends Dp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new jp(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ui.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)x1(f,g),f=Rm(f,g)})(e._query,i),new ys(e.firestore,e.converter,Rm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kp extends Ip{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new kp(e,i)}_apply(e){const i=(function(l,u,f){if(l.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qo(u,f)})(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new dl(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function zm(a,e="asc"){const i=e,s=Ph("orderBy",a);return kp._create(s,i)}class Op extends Ip{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Op(e,i,s)}_apply(e){return new ys(e.firestore,e.converter,oh(e._query,this._limit,this._limitType))}}function rC(a){return Op._create("limit",a,"F")}function F_(a,e,i){if(typeof(i=Zt(i))=="string"){if(i==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vx(e)&&i.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(i,"' contains a '/' character."));const s=e.path.child(st.fromString(i));if(!be.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(s,"' is not because it has an odd number of segments (").concat(s.length,")."));return r_(a,new be(s))}if(i instanceof pt)return r_(a,i._key);throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(wh(i),"."))}function G_(a,e){if(!Array.isArray(a)||a.length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function x1(a,e){const i=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(ee.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new ue(ee.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}class lC{convertValue(e,i="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ps(e,((l,u)=>{s[l]=this.convertValue(u,i)})),s}convertVectorValue(e){var s,l,u;const i=(u=(l=(s=e.fields)==null?void 0:s[rh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>wt(f.doubleValue)));return new Pi(i)}convertGeoPoint(e){return new Ui(wt(e.latitude),wt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Sh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const i=os(e);return new ot(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=st.fromString(e);$e(zx(s),9688,{name:e});const l=new zo(s.get(1),s.get(3)),u=new be(s.popFirst(5));return l.isEqual(i)||ma("Document ".concat(u," contains a document reference within a different database (").concat(l.projectId,"/").concat(l.database,") which is not supported. It will be treated as a reference in the current database (").concat(i.projectId,"/").concat(i.database,") instead.")),u}}function w1(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class Ao{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends b1{constructor(e,i,s,l,u,f){super(e,i,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Ph("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Zs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Mt("string",Zs._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Zc extends Zs{data(e={}){return super.data(e)}}class Wr{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ao(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zc(this._firestore,this._userDataWriter,s.key,s,new Ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ao(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ao(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),b=f.indexOf(p.doc.key)),{type:oC(p.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:a})}}function uC(a){a=$n(a,pt);const e=$n(a.firestore,ds);return K4(Sp(e),a._key).then((i=>T1(e,a,i)))}Wr._jsonSchemaVersion="firestore/querySnapshot/1.0",Wr._jsonSchema={type:Mt("string",Wr._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class E1 extends lC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,i)}}function Oo(a,e,i){a=$n(a,pt);const s=$n(a.firestore,ds),l=w1(a.converter,e,i);return Bh(s,[g1(Lh(s),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Yn.none())])}function Bm(a,e,i,...s){a=$n(a,pt);const l=$n(a.firestore,ds),u=Lh(l);let f;return f=typeof(e=Zt(e))=="string"||e instanceof Vh?tC(u,"updateDoc",a._key,e,i,s):eC(u,"updateDoc",a._key,e),Bh(l,[f.toMutation(a._key,Yn.exists(!0))])}function qm(a){return Bh($n(a.firestore,ds),[new op(a._key,Yn.none())])}function ll(a,e){const i=$n(a.firestore,ds),s=yn(a),l=w1(a.converter,e);return Bh(i,[g1(Lh(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then((()=>s))}function oa(a,...e){var g,y,b;a=Zt(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||H_(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(H_(e[s])){const E=e[s];e[s]=(g=E.next)==null?void 0:g.bind(E),e[s+1]=(y=E.error)==null?void 0:y.bind(E),e[s+2]=(b=E.complete)==null?void 0:b.bind(E)}let u,f,p;if(a instanceof pt)f=$n(a.firestore,ds),p=Ah(a._key.path),u={next:E=>{e[s]&&e[s](T1(f,a,E))},error:e[s+1],complete:e[s+2]};else{const E=$n(a,ys);f=$n(E.firestore,ds),p=E._query;const A=new E1(f);u={next:j=>{e[s]&&e[s](new Wr(f,A,E,j))},error:e[s+1],complete:e[s+2]},sC(a._query)}return(function(A,j,P,G){const U=new c1(G),Y=new t1(j,U,P);return A.asyncQueue.enqueueAndForget((async()=>Wx(await Um(A),Y))),()=>{U.Nu(),A.asyncQueue.enqueueAndForget((async()=>e1(await Um(A),Y)))}})(Sp(f),p,l,u)}function Bh(a,e){return(function(s,l){const u=new ss;return s.asyncQueue.enqueueAndForget((async()=>M4(await Q4(s),l,u))),u.promise})(Sp(a),e)}function T1(a,e,i){const s=i.docs.get(e._key),l=new E1(a);return new Zs(a,l,e._key,s,new Ao(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){cl=l})(qb),da(new zi("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ds(new nN(s.getProvider("auth-internal")),new sN(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(y.options.projectId,b)})(f,l),f);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Kn(Kv,$v,e),Kn(Kv,$v,"esm2020")})();const S1="@firebase/installations",Mp="0.6.19";const A1=1e4,N1="w:".concat(Mp),R1="FIS_v2",cC="https://firebaseinstallations.googleapis.com/v1",hC=3600*1e3,fC="installations",dC="Installations";const mC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nr=new bh(fC,dC,mC);function C1(a){return a instanceof ms&&a.code.includes("request-failed")}function D1({projectId:a}){return"".concat(cC,"/projects/").concat(a,"/installations")}function I1(a){return{token:a.token,requestStatus:2,expiresIn:gC(a.expiresIn),creationTime:Date.now()}}async function j1(a,e){const s=(await e.json()).error;return nr.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function k1({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function pC(a,{refreshToken:e}){const i=k1(a);return i.append("Authorization",yC(e)),i}async function O1(a){const e=await a();return e.status>=500&&e.status<600?a():e}function gC(a){return Number(a.replace("s","000"))}function yC(a){return"".concat(R1," ").concat(a)}async function vC({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=D1(a),l=k1(a),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={fid:i,authVersion:R1,appId:a.appId,sdkVersion:N1},p={method:"POST",headers:l,body:JSON.stringify(f)},g=await O1(()=>fetch(s,p));if(g.ok){const y=await g.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:I1(y.authToken)}}else throw await j1("Create Installation",g)}function M1(a){return new Promise(e=>{setTimeout(e,a)})}function _C(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}const bC=/^[cdef][\w-]{21}$/,Hm="";function xC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=wC(a);return bC.test(i)?i:Hm}catch(a){return Hm}}function wC(a){return _C(a).substr(0,22)}function qh(a){return"".concat(a.appName,"!").concat(a.appId)}const V1=new Map;function L1(a,e){const i=qh(a);U1(i,e),EC(i,e)}function U1(a,e){const i=V1.get(a);if(i)for(const s of i)s(e)}function EC(a,e){const i=TC();i&&i.postMessage({key:a,fid:e}),SC()}let Ys=null;function TC(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=a=>{U1(a.data.key,a.data.fid)}),Ys}function SC(){V1.size===0&&Ys&&(Ys.close(),Ys=null)}const AC="firebase-installations-database",NC=1,ir="firebase-installations-store";let om=null;function Vp(){return om||(om=xh(AC,NC,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(ir)}}})),om}async function gh(a,e){const i=qh(a),l=(await Vp()).transaction(ir,"readwrite"),u=l.objectStore(ir),f=await u.get(i);return await u.put(e,i),await l.done,(!f||f.fid!==e.fid)&&L1(a,e.fid),e}async function P1(a){const e=qh(a),s=(await Vp()).transaction(ir,"readwrite");await s.objectStore(ir).delete(e),await s.done}async function Hh(a,e){const i=qh(a),l=(await Vp()).transaction(ir,"readwrite"),u=l.objectStore(ir),f=await u.get(i),p=e(f);return p===void 0?await u.delete(i):await u.put(p,i),await l.done,p&&(!f||f.fid!==p.fid)&&L1(a,p.fid),p}async function Lp(a){let e;const i=await Hh(a.appConfig,s=>{const l=RC(s),u=CC(a,l);return e=u.registrationPromise,u.installationEntry});return i.fid===Hm?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function RC(a){const e=a||{fid:xC(),registrationStatus:0};return z1(e)}function CC(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(nr.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=DC(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:IC(a)}:{installationEntry:e}}async function DC(a,e){try{const i=await vC(a,e);return gh(a.appConfig,i)}catch(i){throw C1(i)&&i.customData.serverCode===409?await P1(a.appConfig):await gh(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function IC(a){let e=await Q_(a.appConfig);for(;e.registrationStatus===1;)await M1(100),e=await Q_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Lp(a);return s||i}return e}function Q_(a){return Hh(a,e=>{if(!e)throw nr.create("installation-not-found");return z1(e)})}function z1(a){return jC(a)?{fid:a.fid,registrationStatus:0}:a}function jC(a){return a.registrationStatus===1&&a.registrationTime+A1<Date.now()}async function kC({appConfig:a,heartbeatServiceProvider:e},i){const s=OC(a,i),l=pC(a,i),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&l.append("x-firebase-client",y)}const f={installation:{sdkVersion:N1,appId:a.appId}},p={method:"POST",headers:l,body:JSON.stringify(f)},g=await O1(()=>fetch(s,p));if(g.ok){const y=await g.json();return I1(y)}else throw await j1("Generate Auth Token",g)}function OC(a,{fid:e}){return"".concat(D1(a),"/").concat(e,"/authTokens:generate")}async function Up(a,e=!1){let i;const s=await Hh(a.appConfig,u=>{if(!B1(u))throw nr.create("not-registered");const f=u.authToken;if(!e&&LC(f))return u;if(f.requestStatus===1)return i=MC(a,e),u;{if(!navigator.onLine)throw nr.create("app-offline");const p=PC(u);return i=VC(a,p),p}});return i?await i:s.authToken}async function MC(a,e){let i=await K_(a.appConfig);for(;i.authToken.requestStatus===1;)await M1(100),i=await K_(a.appConfig);const s=i.authToken;return s.requestStatus===0?Up(a,e):s}function K_(a){return Hh(a,e=>{if(!B1(e))throw nr.create("not-registered");const i=e.authToken;return zC(i)?{...e,authToken:{requestStatus:0}}:e})}async function VC(a,e){try{const i=await kC(a,e),s={...e,authToken:i};return await gh(a.appConfig,s),i}catch(i){if(C1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await P1(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await gh(a.appConfig,s)}throw i}}function B1(a){return a!==void 0&&a.registrationStatus===2}function LC(a){return a.requestStatus===2&&!UC(a)}function UC(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+hC}function PC(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function zC(a){return a.requestStatus===1&&a.requestTime+A1<Date.now()}async function BC(a){const e=a,{installationEntry:i,registrationPromise:s}=await Lp(e);return s?s.catch(console.error):Up(e).catch(console.error),i.fid}async function qC(a,e=!1){const i=a;return await HC(i),(await Up(i,e)).token}async function HC(a){const{registrationPromise:e}=await Lp(a);e&&await e}function FC(a){if(!a||!a.options)throw um("App Configuration");if(!a.name)throw um("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw um(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function um(a){return nr.create("missing-app-config-values",{valueName:a})}const q1="installations",GC="installations-internal",QC=a=>{const e=a.getProvider("app").getImmediate(),i=FC(e),s=Zo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},KC=a=>{const e=a.getProvider("app").getImmediate(),i=Zo(e,q1).getImmediate();return{getId:()=>BC(i),getToken:l=>qC(i,l)}};function $C(){da(new zi(q1,QC,"PUBLIC")),da(new zi(GC,KC,"PRIVATE"))}$C();Kn(S1,Mp);Kn(S1,Mp,"esm2020");const YC="/firebase-messaging-sw.js",XC="/firebase-cloud-messaging-push-scope",H1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ZC="https://fcmregistrations.googleapis.com/v1",F1="google.c.a.c_id",JC="google.c.a.c_l",WC="google.c.a.ts",eD="google.c.a.e",$_=1e4;var Y_;(function(a){a[a.DATA_MESSAGE=1]="DATA_MESSAGE",a[a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Y_||(Y_={}));var Go;(function(a){a.PUSH_RECEIVED="push-received",a.NOTIFICATION_CLICKED="notification-clicked"})(Go||(Go={}));function la(a){const e=new Uint8Array(a);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tD(a){const e="=".repeat((4-a.length%4)%4),i=(a+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(i),l=new Uint8Array(s.length);for(let u=0;u<s.length;++u)l[u]=s.charCodeAt(u);return l}const cm="fcm_token_details_db",nD=5,X_="fcm_token_object_Store";async function iD(a){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(cm))return null;let e=null;return(await xh(cm,nD,{upgrade:async(s,l,u,f)=>{var y;if(l<2||!s.objectStoreNames.contains(X_))return;const p=f.objectStore(X_),g=await p.index("fcmSenderId").get(a);if(await p.clear(),!!g){if(l===2){const b=g;if(!b.auth||!b.p256dh||!b.endpoint)return;e={token:b.fcmToken,createTime:(y=b.createTime)!=null?y:Date.now(),subscriptionOptions:{auth:b.auth,p256dh:b.p256dh,endpoint:b.endpoint,swScope:b.swScope,vapidKey:typeof b.vapidKey=="string"?b.vapidKey:la(b.vapidKey)}}}else if(l===3){const b=g;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:la(b.auth),p256dh:la(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:la(b.vapidKey)}}}else if(l===4){const b=g;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:la(b.auth),p256dh:la(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:la(b.vapidKey)}}}}}})).close(),await Wd(cm),await Wd("fcm_vapid_details_db"),await Wd("undefined"),aD(e)?e:null}function aD(a){if(!a||!a.subscriptionOptions)return!1;const{subscriptionOptions:e}=a;return typeof a.createTime=="number"&&a.createTime>0&&typeof a.token=="string"&&a.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const sD="firebase-messaging-database",rD=1,Qo="firebase-messaging-store";let hm=null;function G1(){return hm||(hm=xh(sD,rD,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Qo)}}})),hm}async function lD(a){const e=Q1(a),s=await(await G1()).transaction(Qo).objectStore(Qo).get(e);if(s)return s;{const l=await iD(a.appConfig.senderId);if(l)return await Pp(a,l),l}}async function Pp(a,e){const i=Q1(a),l=(await G1()).transaction(Qo,"readwrite");return await l.objectStore(Qo).put(e,i),await l.done,e}function Q1({appConfig:a}){return a.appId}const oD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},an=new bh("messaging","Messaging",oD);async function uD(a,e){const i=await Bp(a),s=K1(e),l={method:"POST",headers:i,body:JSON.stringify(s)};let u;try{u=await(await fetch(zp(a.appConfig),l)).json()}catch(f){throw an.create("token-subscribe-failed",{errorInfo:f==null?void 0:f.toString()})}if(u.error){const f=u.error.message;throw an.create("token-subscribe-failed",{errorInfo:f})}if(!u.token)throw an.create("token-subscribe-no-token");return u.token}async function cD(a,e){const i=await Bp(a),s=K1(e.subscriptionOptions),l={method:"PATCH",headers:i,body:JSON.stringify(s)};let u;try{u=await(await fetch("".concat(zp(a.appConfig),"/").concat(e.token),l)).json()}catch(f){throw an.create("token-update-failed",{errorInfo:f==null?void 0:f.toString()})}if(u.error){const f=u.error.message;throw an.create("token-update-failed",{errorInfo:f})}if(!u.token)throw an.create("token-update-no-token");return u.token}async function hD(a,e){const s={method:"DELETE",headers:await Bp(a)};try{const u=await(await fetch("".concat(zp(a.appConfig),"/").concat(e),s)).json();if(u.error){const f=u.error.message;throw an.create("token-unsubscribe-failed",{errorInfo:f})}}catch(l){throw an.create("token-unsubscribe-failed",{errorInfo:l==null?void 0:l.toString()})}}function zp({projectId:a}){return"".concat(ZC,"/projects/").concat(a,"/registrations")}async function Bp({appConfig:a,installations:e}){const i=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)})}function K1({p256dh:a,auth:e,endpoint:i,vapidKey:s}){const l={web:{endpoint:i,auth:e,p256dh:a}};return s!==H1&&(l.web.applicationPubKey=s),l}const fD=10080*60*1e3;async function dD(a){const e=await pD(a.swRegistration,a.vapidKey),i={vapidKey:a.vapidKey,swScope:a.swRegistration.scope,endpoint:e.endpoint,auth:la(e.getKey("auth")),p256dh:la(e.getKey("p256dh"))},s=await lD(a.firebaseDependencies);if(s){if(gD(s.subscriptionOptions,i))return Date.now()>=s.createTime+fD?mD(a,{token:s.token,createTime:Date.now(),subscriptionOptions:i}):s.token;try{await hD(a.firebaseDependencies,s.token)}catch(l){console.warn(l)}return Z_(a.firebaseDependencies,i)}else return Z_(a.firebaseDependencies,i)}async function mD(a,e){try{const i=await cD(a.firebaseDependencies,e),s={...e,token:i,createTime:Date.now()};return await Pp(a.firebaseDependencies,s),i}catch(i){throw i}}async function Z_(a,e){const s={token:await uD(a,e),createTime:Date.now(),subscriptionOptions:e};return await Pp(a,s),s.token}async function pD(a,e){const i=await a.pushManager.getSubscription();return i||a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tD(e)})}function gD(a,e){const i=e.vapidKey===a.vapidKey,s=e.endpoint===a.endpoint,l=e.auth===a.auth,u=e.p256dh===a.p256dh;return i&&s&&l&&u}function J_(a){const e={from:a.from,collapseKey:a.collapse_key,messageId:a.fcmMessageId};return yD(e,a),vD(e,a),_D(e,a),e}function yD(a,e){if(!e.notification)return;a.notification={};const i=e.notification.title;i&&(a.notification.title=i);const s=e.notification.body;s&&(a.notification.body=s);const l=e.notification.image;l&&(a.notification.image=l);const u=e.notification.icon;u&&(a.notification.icon=u)}function vD(a,e){e.data&&(a.data=e.data)}function _D(a,e){var l,u,f,p,g;if(!e.fcmOptions&&!((l=e.notification)!=null&&l.click_action))return;a.fcmOptions={};const i=(p=(u=e.fcmOptions)==null?void 0:u.link)!=null?p:(f=e.notification)==null?void 0:f.click_action;i&&(a.fcmOptions.link=i);const s=(g=e.fcmOptions)==null?void 0:g.analytics_label;s&&(a.fcmOptions.analyticsLabel=s)}function bD(a){return typeof a=="object"&&!!a&&F1 in a}function xD(a){if(!a||!a.options)throw fm("App Configuration Object");if(!a.name)throw fm("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=a;for(const s of e)if(!i[s])throw fm(s);return{appName:a.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function fm(a){return an.create("missing-app-config-values",{valueName:a})}class wD{constructor(e,i,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const l=xD(e);this.firebaseDependencies={app:e,appConfig:l,installations:i,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function ED(a){try{a.swRegistration=await navigator.serviceWorker.register(YC,{scope:XC}),a.swRegistration.update().catch(()=>{}),await TD(a.swRegistration)}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function TD(a){return new Promise((e,i)=>{const s=setTimeout(()=>i(new Error("Service worker not registered after ".concat($_," ms"))),$_),l=a.installing||a.waiting;a.active?(clearTimeout(s),e()):l?l.onstatechange=u=>{var f;((f=u.target)==null?void 0:f.state)==="activated"&&(l.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),i(new Error("No incoming service worker found.")))})}async function SD(a,e){if(!e&&!a.swRegistration&&await ED(a),!(!e&&a.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");a.swRegistration=e}}async function AD(a,e){e?a.vapidKey=e:a.vapidKey||(a.vapidKey=H1)}async function $1(a,e){if(!navigator)throw an.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw an.create("permission-blocked");return await AD(a,e==null?void 0:e.vapidKey),await SD(a,e==null?void 0:e.serviceWorkerRegistration),dD(a)}async function ND(a,e,i){const s=RD(e);(await a.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[F1],message_name:i[JC],message_time:i[WC],message_device_time:Math.floor(Date.now()/1e3)})}function RD(a){switch(a){case Go.NOTIFICATION_CLICKED:return"notification_open";case Go.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function CD(a,e){const i=e.data;if(!i.isFirebaseMessaging)return;a.onMessageHandler&&i.messageType===Go.PUSH_RECEIVED&&(typeof a.onMessageHandler=="function"?a.onMessageHandler(J_(i)):a.onMessageHandler.next(J_(i)));const s=i.data;bD(s)&&s[eD]==="1"&&await ND(a,i.messageType,s)}const W_="@firebase/messaging",eb="0.12.23";const DD=a=>{const e=new wD(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),a.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>CD(e,i)),e},ID=a=>{const e=a.getProvider("messaging").getImmediate();return{getToken:s=>$1(e,s)}};function jD(){da(new zi("messaging",DD,"PUBLIC")),da(new zi("messaging-internal",ID,"PRIVATE")),Kn(W_,eb),Kn(W_,eb,"esm2020")}async function kD(){try{await Lb()}catch(a){return!1}return typeof window<"u"&&Vb()&&BS()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function OD(a,e){if(!navigator)throw an.create("only-available-in-window");return a.onMessageHandler=e,()=>{a.onMessageHandler=null}}function MD(a=Wm()){return kD().then(e=>{if(!e)throw an.create("unsupported-browser")},e=>{throw an.create("indexed-db-unsupported")}),Zo(Zt(a),"messaging").getImmediate()}async function VD(a,e){return a=Zt(a),$1(a,e)}function LD(a,e){return a=Zt(a),OD(a,e)}jD();const Y1="firebasestorage.googleapis.com",X1="storageBucket",UD=120*1e3,PD=600*1e3;class yt extends ms{constructor(e,i,s=0){super(dm(e),"Firebase Storage: ".concat(i," (").concat(dm(e),")")),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var gt;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function dm(a){return"storage/"+a}function qp(){const a="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,a)}function zD(a){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}function BD(a){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qD(){const a="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,a)}function HD(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function FD(a){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}function GD(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QD(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function KD(a){return new yt(gt.INVALID_URL,"Invalid URL '"+a+"'.")}function $D(a){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function YD(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+X1+"' property when initializing the app?")}function XD(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZD(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function JD(a){return new yt(gt.UNSUPPORTED_ENVIRONMENT,"".concat(a," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."))}function Fm(a){return new yt(gt.INVALID_ARGUMENT,a)}function Z1(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function WD(a){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mo(a,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function xo(a){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+a)}class Dn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=Dn.makeFromUrl(e,i)}catch(l){return new Dn(e,"")}if(s.path==="")return s;throw $D(e)}static makeFromUrl(e,i){let s=null;const l="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+l+f,"i"),g={bucket:1,path:3};function y(oe){oe.path_=decodeURIComponent(oe.path)}const b="v[A-Za-z0-9_]+",E=i.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",j=new RegExp("^https?://".concat(E,"/").concat(b,"/b/").concat(l,"/o").concat(A),"i"),P={bucket:1,path:3},G=i===Y1?"(?:storage.googleapis.com|storage.cloud.google.com)":i,U="([^?#]*)",Y=new RegExp("^https?://".concat(G,"/").concat(l,"/").concat(U),"i"),X=[{regex:p,indices:g,postModify:u},{regex:j,indices:P,postModify:y},{regex:Y,indices:{bucket:1,path:2},postModify:y}];for(let oe=0;oe<X.length;oe++){const me=X[oe],ye=me.regex.exec(e);if(ye){const I=ye[me.indices.bucket];let C=ye[me.indices.path];C||(C=""),s=new Dn(I,C),me.postModify(s);break}}if(s==null)throw KD(e);return s}}class eI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tI(a,e,i){let s=1,l=null,u=null,f=!1,p=0;function g(){return p===2}let y=!1;function b(...U){y||(y=!0,e.apply(null,U))}function E(U){l=setTimeout(()=>{l=null,a(j,g())},U)}function A(){u&&clearTimeout(u)}function j(U,...Y){if(y){A();return}if(U){A(),b.call(null,U,...Y);return}if(g()||f){A(),b.call(null,U,...Y);return}s<64&&(s*=2);let X;p===1?(p=2,X=0):X=(s+Math.random())*1e3,E(X)}let P=!1;function G(U){P||(P=!0,A(),!y&&(l!==null?(U||(p=2),clearTimeout(l),E(0)):U||(p=1)))}return E(0),u=setTimeout(()=>{f=!0,G(!0)},i),G}function nI(a){a(!1)}function iI(a){return a!==void 0}function aI(a){return typeof a=="object"&&!Array.isArray(a)}function Hp(a){return typeof a=="string"||a instanceof String}function tb(a){return Fp()&&a instanceof Blob}function Fp(){return typeof Blob<"u"}function nb(a,e,i,s){if(s<e)throw Fm("Invalid value for '".concat(a,"'. Expected ").concat(e," or greater."));if(s>i)throw Fm("Invalid value for '".concat(a,"'. Expected ").concat(i," or less."))}function Gp(a,e,i){let s=e;return i==null&&(s="https://".concat(e)),"".concat(i,"://").concat(s,"/v0").concat(a)}function J1(a){const e=encodeURIComponent;let i="?";for(const s in a)if(a.hasOwnProperty(s)){const l=e(s)+"="+e(a[s]);i=i+l+"&"}return i=i.slice(0,-1),i}var Js;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Js||(Js={}));function sI(a,e){const i=a>=500&&a<600,l=[408,429].indexOf(a)!==-1,u=e.indexOf(a)!==-1;return i||l||u}class rI{constructor(e,i,s,l,u,f,p,g,y,b,E,A=!0,j=!1){this.url_=e,this.method_=i,this.headers_=s,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,G)=>{this.resolve_=P,this.reject_=G,this.start_()})}start_(){const e=(s,l)=>{if(l){s(!1,new Pc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const p=u.getErrorCode()===Js.NO_ERROR,g=u.getStatus();if(!p||sI(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===Js.ABORT;s(!1,new Pc(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Pc(y,u))})},i=(s,l)=>{const u=this.resolve_,f=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());iI(g)?u(g):u()}catch(g){f(g)}else if(p!==null){const g=qp();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(l.canceled){const g=this.appDelete_?Z1():QD();f(g)}else{const g=GD();f(g)}};this.canceled_?i(!1,new Pc(!1,null,!0)):this.backoffId_=tI(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pc{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function lI(a,e){e!==null&&e.length>0&&(a.Authorization="Firebase "+e)}function oI(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function uI(a,e){e&&(a["X-Firebase-GMPID"]=e)}function cI(a,e){e!==null&&(a["X-Firebase-AppCheck"]=e)}function hI(a,e,i,s,l,u,f=!0,p=!1){const g=J1(a.urlParams),y=a.url+g,b=Object.assign({},a.headers);return uI(b,e),lI(b,i),oI(b,u),cI(b,s),new rI(y,a.method,b,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,l,f,p)}function fI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dI(...a){const e=fI();if(e!==void 0){const i=new e;for(let s=0;s<a.length;s++)i.append(a[s]);return i.getBlob()}else{if(Fp())return new Blob(a);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mI(a,e,i){return a.webkitSlice?a.webkitSlice(e,i):a.mozSlice?a.mozSlice(e,i):a.slice?a.slice(e,i):null}function pI(a){if(typeof atob>"u")throw JD("base-64");return atob(a)}const Mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mm{constructor(e,i){this.data=e,this.contentType=i||null}}function gI(a,e){switch(a){case Mi.RAW:return new mm(W1(e));case Mi.BASE64:case Mi.BASE64URL:return new mm(ew(a,e));case Mi.DATA_URL:return new mm(vI(e),_I(e))}throw qp()}function W1(a){const e=[];for(let i=0;i<a.length;i++){let s=a.charCodeAt(i);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(i<a.length-1&&(a.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=a.charCodeAt(++i);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function yI(a){let e;try{e=decodeURIComponent(a)}catch(i){throw Mo(Mi.DATA_URL,"Malformed data URL.")}return W1(e)}function ew(a,e){switch(a){case Mi.BASE64:{const l=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(l||u)throw Mo(a,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Mi.BASE64URL:{const l=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(l||u)throw Mo(a,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=pI(e)}catch(l){throw l.message.includes("polyfill")?l:Mo(a,"Invalid character found")}const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}class tw{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw Mo(Mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=i[1]||null;s!=null&&(this.base64=bI(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function vI(a){const e=new tw(a);return e.base64?ew(Mi.BASE64,e.rest):yI(e.rest)}function _I(a){return new tw(a).contentType}function bI(a,e){return a.length>=e.length?a.substring(a.length-e.length)===e:!1}class ts{constructor(e,i){let s=0,l="";tb(e)?(this.data_=e,s=e.size,l=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,i){if(tb(this.data_)){const s=this.data_,l=mI(s,e,i);return l===null?null:new ts(l)}else{const s=new Uint8Array(this.data_.buffer,e,i-e);return new ts(s,!0)}}static getBlob(...e){if(Fp()){const i=e.map(s=>s instanceof ts?s.data_:s);return new ts(dI.apply(null,i))}else{const i=e.map(f=>Hp(f)?gI(Mi.RAW,f).data:f.data_);let s=0;i.forEach(f=>{s+=f.byteLength});const l=new Uint8Array(s);let u=0;return i.forEach(f=>{for(let p=0;p<f.length;p++)l[u++]=f[p]}),new ts(l,!0)}}uploadData(){return this.data_}}function nw(a){let e;try{e=JSON.parse(a)}catch(i){return null}return aI(e)?e:null}function xI(a){if(a.length===0)return null;const e=a.lastIndexOf("/");return e===-1?"":a.slice(0,e)}function wI(a,e){const i=e.split("/").filter(s=>s.length>0).join("/");return a.length===0?i:a+"/"+i}function iw(a){const e=a.lastIndexOf("/",a.length-2);return e===-1?a:a.slice(e+1)}function EI(a,e){return e}class on{constructor(e,i,s,l){this.server=e,this.local=i||e,this.writable=!!s,this.xform=l||EI}}let zc=null;function TI(a){return!Hp(a)||a.length<2?a:iw(a)}function aw(){if(zc)return zc;const a=[];a.push(new on("bucket")),a.push(new on("generation")),a.push(new on("metageneration")),a.push(new on("name","fullPath",!0));function e(u,f){return TI(f)}const i=new on("name");i.xform=e,a.push(i);function s(u,f){return f!==void 0?Number(f):f}const l=new on("size");return l.xform=s,a.push(l),a.push(new on("timeCreated")),a.push(new on("updated")),a.push(new on("md5Hash",null,!0)),a.push(new on("cacheControl",null,!0)),a.push(new on("contentDisposition",null,!0)),a.push(new on("contentEncoding",null,!0)),a.push(new on("contentLanguage",null,!0)),a.push(new on("contentType",null,!0)),a.push(new on("metadata","customMetadata",!0)),zc=a,zc}function SI(a,e){function i(){const s=a.bucket,l=a.fullPath,u=new Dn(s,l);return e._makeStorageReference(u)}Object.defineProperty(a,"ref",{get:i})}function AI(a,e,i){const s={};s.type="file";const l=i.length;for(let u=0;u<l;u++){const f=i[u];s[f.local]=f.xform(s,e[f.server])}return SI(s,a),s}function sw(a,e,i){const s=nw(e);return s===null?null:AI(a,s,i)}function NI(a,e,i,s){const l=nw(e);if(l===null||!Hp(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const b=a.bucket,E=a.fullPath,A="/b/"+f(b)+"/o/"+f(E),j=Gp(A,i,s),P=J1({alt:"media",token:y});return j+P})[0]}function RI(a,e){const i={},s=e.length;for(let l=0;l<s;l++){const u=e[l];u.writable&&(i[u.server]=a[u.local])}return JSON.stringify(i)}class rw{constructor(e,i,s,l){this.url=e,this.method=i,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lw(a){if(!a)throw qp()}function CI(a,e){function i(s,l){const u=sw(a,l,e);return lw(u!==null),u}return i}function DI(a,e){function i(s,l){const u=sw(a,l,e);return lw(u!==null),NI(u,l,a.host,a._protocol)}return i}function ow(a){function e(i,s){let l;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?l=HD():l=qD():i.getStatus()===402?l=BD(a.bucket):i.getStatus()===403?l=FD(a.path):l=s,l.status=i.getStatus(),l.serverResponse=s.serverResponse,l}return e}function II(a){const e=ow(a);function i(s,l){let u=e(s,l);return s.getStatus()===404&&(u=zD(a.path)),u.serverResponse=l.serverResponse,u}return i}function jI(a,e,i){const s=e.fullServerUrl(),l=Gp(s,a.host,a._protocol),u="GET",f=a.maxOperationRetryTime,p=new rw(l,u,DI(a,i),f);return p.errorHandler=II(e),p}function kI(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}function OI(a,e,i){const s=Object.assign({},i);return s.fullPath=a.path,s.size=e.size(),s.contentType||(s.contentType=kI(null,e)),s}function MI(a,e,i,s,l){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function p(){let X="";for(let oe=0;oe<2;oe++)X=X+Math.random().toString().slice(2);return X}const g=p();f["Content-Type"]="multipart/related; boundary="+g;const y=OI(e,s,l),b=RI(y,i),E="--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+g+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",A="\r\n--"+g+"--",j=ts.getBlob(E,s,A);if(j===null)throw XD();const P={name:y.fullPath},G=Gp(u,a.host,a._protocol),U="POST",Y=a.maxUploadRetryTime,ie=new rw(G,U,CI(a,i),Y);return ie.urlParams=P,ie.headers=f,ie.body=j.uploadData(),ie.errorHandler=ow(e),ie}class VI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,s,l,u){if(this.sent_)throw xo("cannot .send() more than once");if(Xo(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xo("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw xo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class LI extends VI{initXhr(){this.xhr_.responseType="text"}}function uw(){return new LI}class ar{constructor(e,i){this._service=e,i instanceof Dn?this._location=i:this._location=Dn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new ar(e,i)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iw(this._location.path)}get storage(){return this._service}get parent(){const e=xI(this._location.path);if(e===null)return null;const i=new Dn(this._location.bucket,e);return new ar(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw WD(e)}}function UI(a,e,i){a._throwIfRoot("uploadBytes");const s=MI(a.storage,a._location,aw(),new ts(e,!0),i);return a.storage.makeRequestWithTokens(s,uw).then(l=>({metadata:l,ref:a}))}function PI(a){a._throwIfRoot("getDownloadURL");const e=jI(a.storage,a._location,aw());return a.storage.makeRequestWithTokens(e,uw).then(i=>{if(i===null)throw ZD();return i})}function zI(a,e){const i=wI(a._location.path,e),s=new Dn(a._location.bucket,i);return new ar(a.storage,s)}function BI(a){return/^[A-Za-z]+:\/\//.test(a)}function qI(a,e){return new ar(a,e)}function cw(a,e){if(a instanceof Qp){const i=a;if(i._bucket==null)throw YD();const s=new ar(i,i._bucket);return e!=null?cw(s,e):s}else return e!==void 0?zI(a,e):a}function HI(a,e){if(e&&BI(e)){if(a instanceof Qp)return qI(a,e);throw Fm("To use ref(service, url), the first argument must be a Storage instance.")}else return cw(a,e)}function ib(a,e){const i=e==null?void 0:e[X1];return i==null?null:Dn.makeFromBucketSpec(i,a)}function FI(a,e,i,s={}){a.host="".concat(e,":").concat(i);const l=Xo(e);l&&(kb("https://".concat(a.host,"/b")),Mb("Storage",!0)),a._isUsingEmulator=!0,a._protocol=l?"https":"http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken=typeof u=="string"?u:Ob(u,a.app.options.projectId))}class Qp{constructor(e,i,s,l,u,f=!1){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=Y1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UD,this._maxUploadRetryTime=PD,this._requests=new Set,l!=null?this._bucket=Dn.makeFromBucketSpec(l,this._host):this._bucket=ib(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=ib(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Bb(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ar(this,e)}_makeRequest(e,i,s,l,u=!0){if(this._deleted)return new eI(Z1());{const f=hI(e,this._appId,s,l,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,i){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,l).getPromise()}}const ab="@firebase/storage",sb="0.14.0";const hw="storage";function GI(a,e,i){return a=Zt(a),UI(a,e,i)}function QI(a){return a=Zt(a),PI(a)}function KI(a,e){return a=Zt(a),HI(a,e)}function $I(a=Wm(),e){a=Zt(a);const s=Zo(a,hw).getImmediate({identifier:e}),l=Ib("storage");return l&&YI(s,...l),s}function YI(a,e,i,s={}){FI(a,e,i,s)}function XI(a,{instanceIdentifier:e}){const i=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),l=a.getProvider("app-check-internal");return new Qp(i,s,l,e,qb)}function ZI(){da(new zi(hw,XI,"PUBLIC").setMultipleInstances(!0)),Kn(ab,sb,""),Kn(ab,sb,"esm2020")}ZI();const JI={apiKey:"AIzaSyCmuNrhWE8Aw24_qUK23Qo4u_W5M6cAFN4",authDomain:"liga-multisport.firebaseapp.com",projectId:"liga-multisport",storageBucket:"liga-multisport.firebasestorage.app",messagingSenderId:"983340811794",appId:"1:983340811794:web:a86d9e3dbb620accebbacb",measurementId:"G-TPNXY1LNX9"},Kp=Hb(JI),at=Y4(Kp),WI=$I(Kp);let No=null;const ej=()=>"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window;if(ej())try{No=MD(Kp)}catch(a){console.warn("Firebase Messaging could not be initialized:",a)}else console.warn("Firebase Messaging not supported in this browser/environment.");const ga=({isOpen:a,onClose:e,children:i,size:s="md"})=>{if(!a)return null;const l={sm:"max-w-sm",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"},u=l[s]||l.md;return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto",onClick:e,children:m.jsxs("div",{className:"bg-[#13131f] border border-white/10 rounded-2xl w-full ".concat(u," my-8 max-h-[90vh] overflow-y-auto relative shadow-2xl"),onClick:f=>f.stopPropagation(),children:[m.jsx("button",{onClick:e,"aria-label":"Cerrar",className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10 p-2 bg-black/20 rounded-full hover:bg-black/50 transition-colors",children:m.jsx(el,{className:"w-5 h-5"})}),i]})})},tj=[{date:"2025-01-01",name:"Ao Nuevo"},{date:"2025-01-06",name:"Reyes"},{date:"2025-04-18",name:"Viernes Santo"},{date:"2025-05-01",name:"Da del Trabajo"},{date:"2025-08-15",name:"Asuncin"},{date:"2025-10-12",name:"Fiesta Nacional"},{date:"2025-11-01",name:"Todos los Santos"},{date:"2025-12-06",name:"Constitucin"},{date:"2025-12-08",name:"Inmaculada"},{date:"2025-12-25",name:"Navidad"}],nj=({events:a,currentMonth:e,setCurrentMonth:i,currentYear:s,setCurrentYear:l,onSelectDay:u})=>{const f=L.useMemo(()=>{const y=new Date(s,e,1),b=new Date(s,e+1,0).getDate(),E=y.getDay()===0?6:y.getDay()-1;return{days:Array(E).fill(null).concat([...Array(b).keys()].map(A=>A+1)),name:y.toLocaleString("es-ES",{month:"long"}).toUpperCase()}},[e,s]),p=()=>{e===0?(i(11),l(s-1)):i(e-1)},g=()=>{e===11?(i(0),l(s+1)):i(e+1)};return m.jsxs("div",{className:"glass-panel p-8 rounded-[2.5rem] w-full max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h2",{className:"text-3xl font-bold uppercase tracking-widest text-celestial",children:[f.name," ",m.jsx("span",{className:"text-white/30",children:s})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:p,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:m.jsx(Sb,{className:"w-6 h-6"})}),m.jsx("button",{onClick:g,className:"p-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:m.jsx(B2,{className:"w-6 h-6"})})]})]}),m.jsxs("div",{className:"grid grid-cols-7 gap-2 md:gap-4 text-center",children:[["L","M","X","J","V","S","D"].map(y=>m.jsx("div",{className:"font-bold text-gray-500 py-2",children:y},y)),f.days.map((y,b)=>{if(!y)return m.jsx("div",{},b);const E="".concat(s,"-").concat(String(e+1).padStart(2,"0"),"-").concat(String(y).padStart(2,"0")),A=a.filter(U=>U.date===E),j=tj.find(U=>U.date===E),P=[0,6].includes(new Date(s,e,y).getDay()),G=[...new Set(A.map(U=>U.typeIcon))].slice(0,3);return m.jsxs("div",{onClick:()=>u({date:E,events:A,holiday:j}),className:"aspect-square flex flex-col items-center justify-start pt-2 rounded-xl text-lg font-bold relative group transition-all cursor-pointer border border-transparent \n                                ".concat(j?"bg-red-500/10 text-red-400 border-red-500/20":P?"bg-blue-500/10 text-blue-300":"hover:bg-white/5 text-gray-300"," \n                                ").concat(A.length>0?"ring-1 ring-celestial/50 bg-celestial/5":""),children:[y,m.jsx("div",{className:"absolute top-1 right-1 flex gap-0.5",children:G.map((U,Y)=>m.jsx("span",{className:"text-[10px] leading-none",children:U},Y))}),m.jsx("div",{className:"flex flex-col gap-1 w-full px-1 mt-auto pb-1",children:A.slice(0,3).map((U,Y)=>m.jsx("div",{className:"h-1.5 md:h-5 md:px-2 md:py-0.5 rounded-full text-[10px] uppercase tracking-wider font-bold truncate w-full text-left flex items-center",style:{backgroundColor:U.typeColor,color:"#000"},title:U.title,children:m.jsx("span",{className:"hidden md:inline",children:U.title})},Y))})]},b)})]})]})},ij=({sections:a,onOpenSection:e,onOpenForm:i})=>{const s=a.filter(l=>{if(!l.active)return!1;const u=new Date;return u.setHours(0,0,0,0),!(l.startDate&&new Date(l.startDate)>u||l.endDate&&new Date(l.endDate)<u)});return s.length===0?null:m.jsx(m.Fragment,{children:s.map(l=>{const u=new Date;u.setHours(0,0,0,0);const f=l.endDate?new Date(l.endDate):null,p=f&&l.warningDays&&(f-u)/(1e3*60*60*24)<=l.warningDays&&f-u>=0;return m.jsx("section",{className:"py-12 px-4 md:px-8 max-w-7xl mx-auto w-full",children:m.jsxs("div",{className:"glass-panel p-8 md:p-12 rounded-3xl border-l-4 border-sky-400 relative overflow-hidden group cursor-pointer",onClick:()=>e(l),children:[p&&m.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-4 py-1 rounded-full text-sm font-bold animate-pulse z-20 shadow-lg border border-red-400",children:" ltimos Das"}),l.imageUrl&&m.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-full md:w-1/3 opacity-20",children:m.jsx("img",{src:l.imageUrl,className:"w-full h-full object-cover",alt:""})}),m.jsxs("div",{className:"relative z-10 max-w-3xl",children:[m.jsx("h2",{className:"text-4xl font-bold mb-4",children:l.title}),m.jsx("p",{className:"text-lg text-gray-300 mb-6 whitespace-pre-line line-clamp-3",children:l.description}),m.jsx("div",{className:"flex flex-wrap gap-4",children:m.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 rounded-full font-bold bg-sky-400 text-black hover:bg-sky-500 transition-colors",children:["Ver Completo ",m.jsx(_h,{className:"w-5 h-5"})]})})]})]})},l.id)})})},aj=()=>{const{pathname:a}=va();return m.jsx("nav",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[60] animate-fade-in-up",children:m.jsxs("div",{className:"bg-black/80 backdrop-blur-xl border border-white/10 px-6 py-4 rounded-3xl flex items-center gap-6 shadow-2xl",children:[m.jsx(Xs,{to:"/",className:"text-sm font-black tracking-widest uppercase transition-colors ".concat(a==="/"?"text-primary":"text-gray-500 hover:text-white"),children:"Inicio"}),m.jsx(Xs,{to:"/liga",className:"text-sm font-black tracking-widest uppercase transition-colors ".concat(a==="/liga"?"text-primary":"text-gray-500 hover:text-white"),children:"Liga"}),m.jsx("div",{className:"w-px h-4 bg-white/10"}),m.jsx(Xs,{to:"/fichajes",className:"text-sm font-black tracking-widest uppercase transition-colors ".concat(a==="/fichajes"?"text-primary":"text-gray-500 hover:text-white"),children:"Fichajes"})]})})},fw=()=>{const{pathname:a}=va();return L.useEffect(()=>{window.scrollTo(0,0)},[a]),null},Ro=a=>{if(!a)return new Date;if(a instanceof Date)return a;if(typeof a=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(a)){const[e,i,s]=a.split("-").map(Number);return new Date(e,i-1,s)}if(typeof a=="string"&&a.includes("-")){const e=new Date(a);if(!isNaN(e.getTime()))return e;const i=a.replace(/-/g,"/"),s=new Date(i);if(!isNaN(s.getTime()))return s}return new Date(a)},dw=({event:a,onOpenForm:e})=>{if(a.actionType==="none")return null;const i="w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all hover:scale-[1.02] ";return a.actionType==="link"&&a.actionLink?m.jsxs("a",{href:a.actionLink,target:"_blank",rel:"noopener noreferrer",className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:[a.actionLabel||"Ms Informacin"," ",m.jsx(_h,{className:"w-5 h-5"})]}):a.actionType==="form"?m.jsx("button",{onClick:()=>e(a),className:i+"bg-sky-400 text-black shadow-lg shadow-sky-400/20",children:a.actionLabel||"Inscribirse"}):null},sj=({event:a,onClose:e,onOpenForm:i})=>{const s=()=>{const l=encodeURIComponent(a.title),u=encodeURIComponent(a.description||""),f=encodeURIComponent(a.location||""),p=a.date.replace(/-/g,""),g=a.time?a.time.replace(/:/g,"")+"00":"000000",y="https://calendar.google.com/calendar/render?action=TEMPLATE&text=".concat(l,"&dates=").concat(p,"T").concat(g,"/").concat(p,"T235959&details=").concat(u,"&location=").concat(f);window.open(y,"_blank")};return m.jsx(ga,{isOpen:!0,onClose:e,size:"lg",children:m.jsxs("div",{className:"relative animate-fade-in",children:[a.imageUrl&&m.jsx("div",{className:"w-full h-64 md:h-80 overflow-hidden",children:m.jsx("img",{src:a.imageUrl,className:"w-full h-full object-cover",alt:a.title})}),m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"inline-block px-3 py-1 mb-4 rounded-full text-xs font-bold uppercase border",style:{color:a.typeColor,borderColor:a.typeColor,backgroundColor:"".concat(a.typeColor,"20")},children:[a.typeIcon," ",a.typeName]}),m.jsx("h2",{className:"text-4xl font-black mb-2 text-white leading-tight",children:a.title}),m.jsxs("div",{className:"flex items-center gap-2 text-sky-400 font-bold mb-4",children:[m.jsx(Iv,{className:"w-5 h-5"}),Ro(a.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),a.time&&m.jsxs("span",{className:"ml-1",children:["| ",a.time]})]}),a.location&&m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-6 font-medium",children:[m.jsx(Ab,{className:"w-5 h-5"})," ",a.location]}),m.jsx("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/10 mb-6",children:m.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:a.description})}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx(dw,{event:a,onOpenForm:i}),m.jsxs("button",{onClick:s,className:"w-full py-3 rounded-xl border border-white/20 hover:bg-white/10 flex items-center justify-center gap-2 text-gray-300 transition-all font-bold",children:[m.jsx(Iv,{className:"w-5 h-5"})," Aadir a Google Calendar"]})]})]})]})})},rj=({event:a,onClose:e})=>{var p;const[i,s]=L.useState({}),[l,u]=L.useState(!1),f=async g=>{g.preventDefault(),u(!0);try{await ll(Cn(at,"event_registrations"),{eventId:a.id,eventTitle:a.title,submittedAt:new Date().toISOString(),...i}),alert("Inscripcin Enviada con xito!"),e()}catch(y){console.error(y),alert("Error al enviar la inscripcin. Por favor, intntalo de nuevo.")}finally{u(!1)}};return m.jsx(ga,{isOpen:!0,onClose:e,children:m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Inscripcin"}),m.jsx("h3",{className:"text-xl text-sky-400 mb-6",children:a.title}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[(p=a.customFields)==null?void 0:p.map(g=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:g.label}),g.type==="select"?m.jsxs("select",{required:!0,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",onChange:y=>s({...i,[g.label]:y.target.value}),children:[m.jsx("option",{value:"",children:"Selecciona..."}),g.options.split(",").map(y=>m.jsx("option",{value:y.trim(),children:y.trim()},y))]}):m.jsx("input",{required:!0,type:g.type,className:"w-full bg-black/40 p-3 rounded border border-white/10 text-white focus:border-sky-400 outline-none",placeholder:g.label,onChange:y=>s({...i,[g.label]:y.target.value})})]},g.id)),m.jsx("button",{disabled:l,className:"w-full bg-sky-400 text-black font-bold py-3 rounded-xl mt-4 hover:bg-sky-500 transition-all disabled:opacity-50",children:l?"Enviando...":"Confirmar Inscripcin"}),m.jsx("p",{className:"text-[10px] text-gray-500 text-center mt-2",children:"Al inscribirte, aceptas que tus datos sean compartidos con la organizacin."})]})]})})},lj=({onClick:a,hasUnread:e})=>m.jsxs("button",{onClick:a,className:"p-3 bg-white/5 text-gray-400 rounded-full shadow-lg hover:text-white transition-all relative border border-white/5 active:scale-95",children:[m.jsx(k2,{className:"w-5 h-5"}),e&&m.jsx("span",{className:"absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full border-2 border-[#0a0a0f] animate-pulse"})]}),oj=({isOpen:a,onClose:e,announcements:i,permission:s,onRequestPermission:l})=>m.jsx(ga,{isOpen:a,onClose:e,size:"lg",children:m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:""})," Buzn de Avisos"]})}),s!=="granted"&&m.jsxs("div",{className:"bg-sky-400/10 border border-sky-400/20 p-4 rounded-2xl mb-6 flex flex-col md:flex-row items-center gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-bold text-sky-400 text-sm",children:"Quieres recibir avisos al mvil?"}),m.jsx("p",{className:"text-xs text-gray-400",children:"Activa las notificaciones para no perderte ningn cambio de ltima hora."})]}),m.jsx("button",{onClick:l,className:"bg-sky-400 text-black px-4 py-2 rounded-lg font-bold text-xs whitespace-nowrap hover:scale-105 transition-transform",children:"Activar Notificaciones"})]}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[i.map((u,f)=>m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 group hover:bg-white/10 transition-all border-l-4 border-l-sky-400",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h3",{className:"font-bold text-lg text-white",children:u.title}),m.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:new Date(u.date).toLocaleDateString()})]}),m.jsx("p",{className:"text-gray-400 text-sm leading-relaxed whitespace-pre-wrap",children:u.body})]},u.id||f)),i.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"text-4xl mb-4 opacity-20",children:""}),m.jsx("p",{className:"text-gray-500 italic",children:"No hay avisos nuevos por ahora."})]})]})]})}),uj=({isOpen:a,onClose:e,onInstall:i,isIOS:s})=>a?s?m.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:m.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-400/5 blur-3xl -mr-16 -mt-16 group-hover:bg-sky-400/10 transition-all"}),m.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-500 hover:text-white transition-colors",children:m.jsx(el,{className:"w-5 h-5"})}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"w-20 h-20 bg-sky-400/10 rounded-3xl flex items-center justify-center text-4xl mb-6 mx-auto border border-sky-400/20 shadow-inner",children:""}),m.jsx("h4",{className:"font-black text-white text-2xl mb-2",children:"Descarga la App"}),m.jsx("p",{className:"text-gray-400 text-sm max-w-[250px] mx-auto leading-relaxed",children:"Instala la aplicacin en tu iPhone para un acceso ms rpido."})]}),m.jsxs("div",{className:"space-y-6 max-w-[280px] mx-auto",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-xl flex items-center justify-center shrink-0 border border-white/5 text-sky-400 font-bold",children:"1"}),m.jsxs("div",{className:"text-left",children:[m.jsxs("p",{className:"text-white font-bold text-sm flex items-center gap-2",children:['Pulsa el botn "Compartir" ',m.jsx(pS,{className:"w-4 h-4 text-sky-400"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ubicado en la barra inferior de Safari."})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-xl flex items-center justify-center shrink-0 border border-white/5 text-sky-400 font-bold",children:"2"}),m.jsxs("div",{className:"text-left",children:[m.jsxs("p",{className:"text-white font-bold text-sm flex items-center gap-2",children:['"Aadir a pantalla de inicio" ',m.jsx(eh,{className:"w-4 h-4 text-sky-400"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Busca esta opcin en el men que aparece."})]})]})]}),m.jsx("button",{onClick:e,className:"w-full mt-10 bg-white/5 hover:bg-white/10 text-white font-bold py-4 rounded-2xl transition-all border border-white/5 text-xs uppercase tracking-widest",children:"Entendido"})]})}):m.jsx("div",{className:"fixed bottom-6 left-6 right-6 z-[100] animate-fade-in-up",children:m.jsxs("div",{className:"bg-[#13131f] border border-sky-400/30 p-6 rounded-[2.5rem] shadow-2xl flex items-center gap-6 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-sky-400/5 blur-3xl -mr-16 -mt-16 group-hover:bg-sky-400/10 transition-all"}),m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:m.jsx(el,{className:"w-5 h-5"})}),m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-400 to-blue-600 rounded-2xl flex items-center justify-center text-3xl shadow-lg shrink-0",children:""}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"font-extrabold text-white text-lg leading-tight mb-1",children:"Instalar Aplicacin"}),m.jsx("p",{className:"text-[10px] text-gray-400 leading-tight pr-4",children:"Accede ms rpido y disfruta de una mejor experiencia desde tu pantalla de inicio."})]}),m.jsx("button",{onClick:i,className:"bg-sky-400 hover:bg-sky-300 text-black px-6 py-4 rounded-2xl font-black text-xs transition-all hover:scale-105 active:scale-95 shadow-lg shadow-sky-400/20 uppercase tracking-widest shrink-0",children:"Instalar"})]})}):null,rb=({value:a,onChange:e})=>{const i=l=>new Promise((u,f)=>{const p=new FileReader;p.readAsDataURL(l),p.onload=g=>{const y=new Image;y.src=g.target.result,y.onload=()=>{const b=document.createElement("canvas"),E=800,A=E/y.width;b.width=E,b.height=y.height*A,b.getContext("2d").drawImage(y,0,0,b.width,b.height);const P=b.toDataURL("image/jpeg",.7);u(P)}},p.onerror=g=>f(g)}),s=async l=>{const u=l[0];if(u)try{const f=await i(u);e(f)}catch(f){alert("Error al procesar la imagen")}};return m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex gap-2",onDragOver:l=>l.preventDefault(),onDrop:l=>{l.preventDefault(),s(l.dataTransfer.files)},children:[m.jsx("input",{type:"text",value:a||"",onChange:l=>e(l.target.value),onPaste:l=>{l.clipboardData.files.length&&s(l.clipboardData.files)},placeholder:"Imagen (URL, Pegar o Arrastrar)",className:"flex-1 bg-black/40 p-3 rounded border border-white/10 text-white"}),m.jsxs("label",{className:"cursor-pointer bg-white/10 hover:bg-white/20 p-3 rounded border border-white/10 flex items-center justify-center",children:[m.jsx(Rb,{className:"w-5 h-5"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:l=>s(l.target.files)})]})]}),a&&m.jsx("img",{src:a,className:"h-24 rounded object-contain border border-white/10 bg-black/40 w-full",alt:"Preview"})]})},mw=({fields:a,onChange:e})=>{const i=()=>e([...a,{id:Date.now(),label:"",type:"text",options:""}]),s=()=>e([...a,{id:Date.now(),label:"Nombre Completo",type:"text",options:""},{id:Date.now()+1,label:"Email",type:"text",options:""},{id:Date.now()+2,label:"Comentarios",type:"text",options:""}]),l=(u,f,p)=>e(a.map(g=>g.id===u?{...g,[f]:p}:g));return m.jsxs("div",{className:"space-y-4 border border-white/10 p-4 rounded bg-black/20",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-sm uppercase text-gray-400",children:"Campos del Formulario"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:s,className:"text-xs bg-white/10 px-2 py-1 rounded hover:bg-white/20",children:"+ Presets"}),m.jsxs("button",{type:"button",onClick:i,className:"text-sky-400 text-sm font-bold flex items-center gap-1",children:[m.jsx(Fc,{className:"w-4 h-4"})," Aadir Campo"]})]})]}),a.map(u=>m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center bg-white/5 p-2 rounded",children:[m.jsx("input",{value:u.label,onChange:f=>l(u.id,"label",f.target.value),placeholder:"Etiqueta",className:"col-span-4 bg-black/40 p-2 rounded text-sm"}),m.jsxs("select",{value:u.type,onChange:f=>l(u.id,"type",f.target.value),className:"col-span-3 bg-black/40 p-2 rounded text-sm text-gray-300",children:[m.jsx("option",{value:"text",children:"Texto"}),m.jsx("option",{value:"number",children:"Nmero"}),m.jsx("option",{value:"select",children:"Desplegable"})]}),m.jsx("input",{value:u.options,onChange:f=>l(u.id,"options",f.target.value),placeholder:"Opciones (sep. por coma)",className:"col-span-4 bg-black/40 p-2 rounded text-sm",disabled:u.type!=="select"}),m.jsx("button",{type:"button",onClick:()=>e(a.filter(f=>f.id!==u.id)),className:"col-span-1 text-red-400 flex justify-center",children:m.jsx(el,{className:"w-4 h-4"})})]},u.id)),a.length===0&&m.jsx("p",{className:"text-xs text-center text-gray-500",children:"Aade campos para el formulario."})]})},cj=({buttons:a,onChange:e})=>{const i=()=>e([...a||[],{id:Date.now(),label:"",type:"link",link:"",style:"primary",customFields:[]}]),s=(u,f,p)=>e(a.map(g=>g.id===u?{...g,[f]:p}:g)),l=u=>e(a.filter(f=>f.id!==u));return m.jsxs("div",{className:"space-y-3 bg-black/20 p-3 rounded border border-white/10",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("label",{className:"text-sm font-bold text-gray-400",children:"Botones de Accin"}),m.jsx("button",{type:"button",onClick:i,className:"text-xs bg-sky-400 text-black px-2 py-1 rounded font-bold",children:"+ Aadir"})]}),(a||[]).map(u=>m.jsxs("div",{className:"bg-white/5 p-2 rounded relative",children:[m.jsx("button",{type:"button",onClick:()=>l(u.id),"aria-label":"Eliminar botn",className:"absolute top-2 right-2 text-red-500",children:m.jsx(el,{className:"w-4 h-4"})}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 pr-6",children:[m.jsx("input",{value:u.label,onChange:f=>s(u.id,"label",f.target.value),placeholder:"Texto del Botn",className:"bg-black/40 p-2 rounded text-sm w-full"}),m.jsxs("select",{value:u.type||"link",onChange:f=>s(u.id,"type",f.target.value),className:"bg-black/40 p-2 rounded text-sm w-full",children:[m.jsx("option",{value:"link",children:"Enlace"}),m.jsx("option",{value:"form",children:"Formulario"})]})]}),m.jsx("div",{className:"mb-2",children:m.jsxs("select",{value:u.style,onChange:f=>s(u.id,"style",f.target.value),className:"w-full bg-black/40 p-2 rounded text-sm",children:[m.jsx("option",{value:"primary",children:"Azul (Principal)"}),m.jsx("option",{value:"secondary",children:"Blanco (Secundario)"}),m.jsx("option",{value:"outline",children:"Borde (Discreto)"}),m.jsx("option",{value:"gradient",children:"Gradiente (Destacado)"})]})}),u.type==="link"&&m.jsx("input",{value:u.link,onChange:f=>s(u.id,"link",f.target.value),placeholder:"https://...",className:"w-full bg-black/40 p-2 rounded text-sm"}),u.type==="form"&&m.jsx("div",{className:"mt-2 pl-2 border-l-2 border-sky-400/30",children:m.jsx(mw,{fields:u.customFields||[],onChange:f=>s(u.id,"customFields",f)})})]},u.id)),(!a||a.length===0)&&m.jsx("p",{className:"text-xs text-center text-gray-600",children:"Sin botones."})]})},hj=({isOpen:a,onClose:e,events:i,eventTypes:s,announcements:l,specialSections:u,onOpenDB:f,onOpenStats:p,fcmToken:g})=>{const[y,b]=L.useState("events"),E={title:"",date:"",time:"",location:"",typeId:"tournament",description:"",imageUrl:"",actionType:"none",actionLabel:"",actionLink:"",customFields:[],pollOptions:[]},[A,j]=L.useState(E),[P,G]=L.useState(null),[U,Y]=L.useState({name:"",color:"#6366f1",icon:""}),[ie,X]=L.useState(u||[]);Jc.useEffect(()=>{X(u||[])},[u]);const oe=async w=>{w.preventDefault();try{const R=s.find(pe=>pe.id===A.typeId),S={...A,typeColor:(R==null?void 0:R.color)||"#6366f1",typeIcon:(R==null?void 0:R.icon)||"",typeName:(R==null?void 0:R.name)||"Evento"};P?await Bm(yn(at,"events",P),S):await ll(Cn(at,"events"),{...S,surveyCount:0}),alert("Evento guardado con xito"),j(E),G(null)}catch(R){console.error(R),alert("Error al guardar evento")}},me=async w=>{confirm("Ests seguro de que quieres eliminar este evento?")&&await qm(yn(at,"events",w))},ye=async()=>{if(!U.name)return;const w=[...s,{...U,id:Date.now().toString()}];await Oo(yn(at,"config","eventTypes"),{types:w}),Y({name:"",color:"#6366f1",icon:""})},I=async w=>{if(["party","tournament","tickets","special"].includes(w)){alert("Este tipo base no se puede eliminar.");return}const R=s.filter(S=>S.id!==w);await Oo(yn(at,"config","eventTypes"),{types:R})},C=w=>{X(w.map(R=>({...R,buttons:R.buttons||[]})))},D=async()=>{try{await Oo(yn(at,"config","specialSections"),{sections:ie}),alert("Secciones especiales guardadas con xito")}catch(w){alert("Error al guardar las secciones")}},O=async w=>{w.preventDefault();const R=w.target.title.value,S=w.target.body.value;if(confirm("Deseas publicar este aviso? Todos los usuarios vern una notificacin."))try{await ll(Cn(at,"announcements"),{title:R,body:S,date:new Date().toISOString()}),alert("Anuncio publicado"),w.target.reset()}catch(pe){alert("Error al publicar anuncio")}};return m.jsx(ga,{isOpen:a,onClose:e,size:"xl",children:m.jsxs("div",{className:"p-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Panel de Administracin"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-green-500 transition-colors flex items-center gap-2",children:[m.jsx(X2,{className:"w-4 h-4"})," Base de Datos"]}),m.jsx("div",{className:"flex bg-black/40 p-1 rounded-xl",children:[{id:"events",l:"Eventos"},{id:"types",l:"Categoras"},{id:"special",l:"Landing"},{id:"inbox",l:"Buzn"}].map(w=>m.jsx("button",{onClick:()=>b(w.id),className:"px-4 py-2 rounded-lg font-bold text-sm transition-all ".concat(y===w.id?"bg-primary text-black shadow-lg shadow-primary/20":"text-gray-400 hover:text-white"),children:w.l},w.id))})]})]}),m.jsxs("div",{className:"custom-scrollbar overflow-y-auto max-h-[70vh] pr-2",children:[y==="events"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in",children:[m.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[m.jsxs("h3",{className:"font-bold text-primary flex items-center gap-2",children:[P?m.jsx(Ov,{className:"w-4 h-4"}):m.jsx(eh,{className:"w-4 h-4"}),P?"Editando Evento":"Nuevo Evento"]}),m.jsx("input",{value:A.title,onChange:w=>j({...A,title:w.target.value}),placeholder:"Ttulo del Evento",required:!0,className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 focus:border-primary outline-none"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsx("input",{value:A.date,onChange:w=>j({...A,date:w.target.value}),type:"date",required:!0,className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),m.jsx("input",{value:A.time,onChange:w=>j({...A,time:w.target.value}),type:"time",className:"bg-black/40 p-3 rounded-xl border border-white/5 text-white"}),m.jsx("select",{value:A.typeId,onChange:w=>j({...A,typeId:w.target.value}),className:"bg-black/40 p-3 rounded-xl border border-white/5",children:s.map(w=>m.jsxs("option",{value:w.id,children:[w.icon," ",w.name]},w.id))})]}),m.jsx("input",{value:A.location,onChange:w=>j({...A,location:w.target.value}),placeholder:"Ubicacin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),m.jsx("textarea",{value:A.description,onChange:w=>j({...A,description:w.target.value}),placeholder:"Descripcin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5",rows:"3"}),m.jsx(rb,{value:A.imageUrl,onChange:w=>j({...A,imageUrl:w})}),m.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5",children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-3 tracking-widest",children:"Accin Interactiva"}),m.jsxs("select",{value:A.actionType,onChange:w=>j({...A,actionType:w.target.value}),className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3",children:[m.jsx("option",{value:"none",children:"Sin botn adicional"}),m.jsx("option",{value:"form",children:"Formulario de registro personalizado"}),m.jsx("option",{value:"link",children:"Enlace externo"})]}),["link","form"].includes(A.actionType)&&m.jsx("input",{value:A.actionLabel,onChange:w=>j({...A,actionLabel:w.target.value}),placeholder:"Texto del botn",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 mb-3"}),A.actionType==="link"&&m.jsx("input",{value:A.actionLink,onChange:w=>j({...A,actionLink:w.target.value}),placeholder:"URL del enlace (https://...)",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"}),A.actionType==="form"&&m.jsx(mw,{fields:A.customFields||[],onChange:w=>j({...A,customFields:w})})]}),m.jsx("button",{className:"w-full bg-primary text-black py-4 rounded-xl font-bold hover:bg-sky-500 transition-all shadow-lg shadow-primary/20",children:P?"Actualizar Evento":"Crear Evento"}),P&&m.jsx("button",{type:"button",onClick:()=>{G(null),j(E)},className:"w-full text-gray-500 text-xs mt-2 uppercase font-bold tracking-widest hover:text-white transition-colors",children:"Cancelar Edicin"})]}),m.jsxs("div",{className:"space-y-2 max-h-[600px] overflow-y-auto custom-scrollbar",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Eventos Existentes"}),i.map(w=>m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl group hover:bg-white/10 border border-white/5 transition-all",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-xl",children:w.typeIcon}),m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm",children:w.title}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono uppercase",children:new Date(w.date).toLocaleDateString()})]})]}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[m.jsx("button",{onClick:()=>p(w),className:"bg-green-500/20 text-green-400 p-2 text-[10px] font-bold rounded-lg border border-green-500/30 hover:bg-green-500/40",children:"DATA"}),m.jsx("button",{onClick:()=>{j({...w}),G(w.id)},className:"text-primary p-2 hover:bg-primary/10 rounded-lg",children:m.jsx(Ov,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>me(w.id),className:"text-red-500 p-2 hover:bg-red-500/10 rounded-lg",children:m.jsx(Gc,{className:"w-4 h-4"})})]})]},w.id)),i.length===0&&m.jsx("p",{className:"text-center py-8 text-gray-600 italic",children:"No hay eventos creados."})]})]}),y==="types"&&m.jsxs("div",{className:"animate-fade-in space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-4 gap-4 bg-white/5 p-6 rounded-2xl border border-white/5",children:[m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Nombre Categora"}),m.jsx("input",{value:U.name,onChange:w=>Y({...U,name:w.target.value}),placeholder:"Ej: Cena",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Color"}),m.jsx("input",{value:U.color,onChange:w=>Y({...U,color:w.target.value}),type:"color",className:"bg-black/40 p-2 h-12 w-full rounded-xl cursor-pointer"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-2 block",children:"Icono/Emoji"}),m.jsx("input",{value:U.icon,onChange:w=>Y({...U,icon:w.target.value}),placeholder:"",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 text-center text-xl"})]}),m.jsx("button",{onClick:ye,className:"col-span-4 bg-primary text-black py-3 rounded-xl font-bold hover:bg-sky-500 transition-all",children:"Aadir Nueva Categora"})]}),m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(w=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/5 border border-white/10",style:{borderLeft:"6px solid ".concat(w.color)},children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:w.icon}),m.jsx("span",{className:"font-bold",children:w.name})]}),!["party","tournament","tickets","special"].includes(w.id)&&m.jsx("button",{onClick:()=>I(w.id),className:"text-red-500 hover:bg-red-500/10 p-2 rounded-lg transition-colors",children:m.jsx(Gc,{className:"w-4 h-4"})})]},w.id))})]}),y==="special"&&m.jsxs("div",{className:"animate-fade-in space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5",children:[m.jsx("h3",{className:"font-bold text-gray-400 uppercase text-xs tracking-widest",children:"Secciones Especiales (Polls & Landing)"}),m.jsx("button",{onClick:()=>C([...ie,{id:Date.now(),title:"",description:"",imageUrl:"",active:!0,buttons:[],startDate:"",endDate:"",warningDays:"",link:"",linkText:"",pollOptions:[],pollCounts:{}}]),className:"bg-white/10 px-4 py-2 rounded-lg font-bold hover:bg-white/20 transition-all text-xs",children:"+ Aadir Seccin"})]}),m.jsx("div",{className:"space-y-6",children:ie.map(w=>m.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 space-y-4 relative group",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-4",children:[m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-lg border-white/10 bg-black/40 text-primary",checked:w.active,onChange:R=>C(ie.map(S=>S.id===w.id?{...S,active:R.target.checked}:S))}),m.jsx("span",{className:"font-bold text-sm ".concat(w.active?"text-green-400":"text-gray-500"),children:w.active?"Visible en Landing":"Oculta"})]}),m.jsx("button",{onClick:()=>C(ie.filter(R=>R.id!==w.id)),className:"text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-500/10 px-3 py-1 rounded-lg",children:"Eliminar"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{value:w.title,onChange:R=>C(ie.map(S=>S.id===w.id?{...S,title:R.target.value}:S)),placeholder:"Ttulo de la Seccin",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary"}),m.jsx("textarea",{value:w.description,onChange:R=>C(ie.map(S=>S.id===w.id?{...S,description:R.target.value}:S)),placeholder:"Breve descripcin para la landing...",className:"w-full bg-black/40 p-3 rounded-xl border border-white/5 outline-none focus:border-primary",rows:"3"})]}),m.jsx("div",{className:"space-y-4",children:m.jsx(rb,{value:w.imageUrl,onChange:R=>C(ie.map(S=>S.id===w.id?{...S,imageUrl:R}:S))})})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-black/20 p-4 rounded-2xl",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Inicio"}),m.jsx("input",{type:"date",value:w.startDate||"",onChange:R=>C(ie.map(S=>S.id===w.id?{...S,startDate:R.target.value}:S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:"Fecha Fin"}),m.jsx("input",{type:"date",value:w.endDate||"",onChange:R=>C(ie.map(S=>S.id===w.id?{...S,endDate:R.target.value}:S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-widest pl-1",children:'Aviso "Cierre"'}),m.jsx("input",{type:"number",placeholder:"Das restantes",value:w.warningDays||"",onChange:R=>C(ie.map(S=>S.id===w.id?{...S,warningDays:R.target.value}:S)),className:"w-full bg-black/40 p-2 rounded-lg text-xs border border-white/5"})]})]}),m.jsx(cj,{buttons:w.buttons||[],onChange:R=>C(ie.map(S=>S.id===w.id?{...S,buttons:R}:S))})]},w.id))}),m.jsx("button",{onClick:D,className:"w-full bg-primary text-black py-4 rounded-2xl font-black text-lg hover:bg-sky-500 transition-all shadow-xl shadow-primary/20",children:"GUARDAR CAMBIOS EN LA WEB"})]}),y==="inbox"&&m.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[m.jsxs("form",{onSubmit:O,className:"bg-white/5 p-8 rounded-3xl border border-white/5 space-y-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-primary flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-xl",children:""}),"Enviar Notificacin / Aviso"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Asunto"}),m.jsx("input",{name:"title",required:!0,placeholder:"Ej: Nueva fiesta confirmada",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-2 block",children:"Mensaje Completo"}),m.jsx("textarea",{name:"body",required:!0,rows:"4",placeholder:"Describe los detalles aqu...",className:"w-full bg-black/40 border border-white/10 p-4 rounded-xl focus:border-primary outline-none transition-all"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-sky-400 to-blue-500 text-black font-black py-4 rounded-2xl hover:scale-[1.01] transition-all shadow-lg shadow-primary/20 uppercase tracking-widest",children:"Publicar Aviso Global"})]}),m.jsxs("div",{className:"bg-yellow-500/5 border border-yellow-500/20 p-6 rounded-2xl",children:[m.jsx("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:" Notificaciones Push"}),m.jsx("p",{className:"text-xs text-gray-400 leading-relaxed mb-4",children:"Este panel aade mensajes al Buzn interno de la App. Para enviar notificaciones que hagan vibrar el mvil (Push), utiliza el panel de Firebase Messaging."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",className:"text-[10px] bg-yellow-500/20 text-yellow-200 px-4 py-2 rounded-lg hover:bg-yellow-500/30 font-bold transition-all uppercase tracking-tighter",children:"Ir a Consola Firebase"}),m.jsx("button",{type:"button",onClick:()=>{const w=document.querySelector('input[name="title"]').value,R=document.querySelector('textarea[name="body"]').value;if(!w||!R){alert("Escribe algo primero.");return}navigator.clipboard.writeText("Ttulo: ".concat(w,"\nTexto: ").concat(R)),alert("Copiado al portapapeles. Ahora ve a Firebase y pgalo!"),window.open("https://console.firebase.google.com/u/0/project/liga-multisport/notification/compose","_blank")},className:"text-[10px] bg-white/10 text-white px-4 py-2 rounded-lg hover:bg-white/20 font-bold transition-all uppercase tracking-tighter",children:"COPIAR DATOS"})]})]}),m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 mt-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"font-bold text-xs text-gray-500 uppercase tracking-widest",children:"Estado Notificaciones"}),m.jsx("span",{className:"text-[10px] px-2 py-1 rounded border ".concat(g?"bg-green-500/10 border-green-500 text-green-500":"bg-red-500/10 border-red-500 text-red-500"),children:g?"ACTIVO":"SIN TOKEN"})]}),g?m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsx("p",{className:"font-mono text-[10px] text-gray-400 truncate flex-1 bg-black/30 p-2 rounded",children:g}),m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(g),alert("Token copiado")},className:"bg-white/10 text-white px-3 py-2 rounded-lg text-xs font-bold hover:bg-white/20 transition-all shrink-0",children:"COPIAR"})]}):m.jsxs("div",{className:"text-[10px] text-gray-500",children:[m.jsx("p",{children:"No se ha generado token. Posibles causas:"}),m.jsxs("ul",{className:"list-disc ml-4 mt-1 space-y-1",children:[m.jsx("li",{children:"No has aceptado permisos (Icono candado )."}),m.jsx("li",{children:"Ests en modo incgnito."}),m.jsx("li",{children:"Problema de conexin con Firebase."})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Historial Reciente"}),l.map(w=>m.jsxs("div",{className:"flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5 hover:bg-white/10 transition-all",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-sm",children:w.title}),m.jsx("div",{className:"text-[10px] text-gray-500 font-mono italic",children:new Date(w.date).toLocaleString()})]}),m.jsx("button",{onClick:()=>confirm("Borrar aviso?")&&qm(yn(at,"announcements",w.id)),className:"text-red-500 hover:bg-red-500/10 p-3 rounded-full transition-all",children:m.jsx(Gc,{className:"w-4 h-4"})})]},w.id)),l.length===0&&m.jsx("p",{className:"text-center text-gray-600 italic py-8 text-sm",children:"No hay avisos anteriores."})]})]})]})]})})},fj=({onClose:a,onSuccess:e})=>{const[i,s]=L.useState(""),[l,u]=L.useState(!1),f=async p=>{p.preventDefault(),u(!0);try{const g=yn(at,"config","settings"),y=await uC(g);let b="PasoWeb2526";y.exists()?b=y.data().adminPassword||"PasoWeb2526":await Oo(g,{adminPassword:"PasoWeb2526"}),i===b?e():alert("Contrasea incorrecta")}catch(g){console.error(g),alert("Error de verificacin con el servidor")}finally{u(!1)}};return m.jsx(ga,{isOpen:!0,onClose:a,children:m.jsxs("div",{className:"p-8 text-center animate-fade-in",children:[m.jsx("div",{className:"w-16 h-16 bg-sky-400/20 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("span",{className:"text-3xl",children:""})}),m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acceso Admin"}),m.jsxs("form",{onSubmit:f,children:[m.jsx("input",{type:"password",autoFocus:!0,autoComplete:"current-password",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-center text-white text-xl tracking-widest mb-4 placeholder-gray-600 focus:border-sky-400 outline-none transition-all",placeholder:"",value:i,onChange:p=>s(p.target.value)}),m.jsxs("div",{className:"flex gap-2 justify-center",children:[m.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"}),m.jsx("button",{disabled:l||!i,className:"px-8 py-2 bg-sky-400 text-black font-bold rounded-lg hover:bg-sky-500 transition-all disabled:opacity-50",children:l?"Verificando...":"Entrar"})]})]})]})})},dj=({onBack:a,events:e,specialSections:i})=>{const[s,l]=L.useState(null),[u,f]=L.useState([]),p=L.useMemo(()=>{const b=(e||[]).map(A=>({...A,type:"event",label:"Evento"})),E=(i||[]).filter(A=>(A.buttons||[]).some(j=>j.type==="form")||(A.pollOptions||[]).length>0).map(A=>({...A,type:"section",label:"Seccin"}));return[...b,...E]},[e,i]),g=p.find(b=>b.id===s);L.useEffect(()=>{if(!s||!g)return;let b;return g.type==="event"?b=oa(tr(Cn(at,"event_registrations"),lm("eventId","==",s)),E=>f(E.docs.map(A=>A.data()))):b=oa(tr(Cn(at,"event_registrations"),lm("eventId",">=","section_".concat(s)),lm("eventId","<=","section_".concat(s,""))),E=>f(E.docs.map(A=>A.data()))),()=>b&&b()},[s,g]);const y=()=>{if(!g||u.length===0)return;const b=["ID Origen","Nombre","Email",...Object.keys(u[0]||{}).filter(U=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(U)),"Fecha"],E=u.map(U=>[U.eventTitle||"-",U.nombre||"-",U.email||"-",...Object.keys(U).filter(Y=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(Y)).map(Y=>U[Y]),U.submittedAt].join("	")),A=[b.join("	"),...E].join("\n"),j=new Blob([A],{type:"text/tab-separated-values"}),P=URL.createObjectURL(j),G=document.createElement("a");G.href=P,G.download="".concat(g.title,"_data.xls"),G.click()};return m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white p-8 flex flex-col animate-fade-in",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[m.jsx("h1",{className:"text-3xl font-black text-sky-400",children:"BASE DE DATOS"}),m.jsx("button",{onClick:a,className:"px-6 py-2 bg-white/10 hover:bg-white/20 rounded-lg font-bold transition-colors",children:"Volver"})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-8 flex-1 overflow-hidden",children:[m.jsxs("div",{className:"w-full md:w-1/4 h-64 md:h-full overflow-y-auto pr-4 border-b md:border-b-0 md:border-r border-white/10 space-y-2 custom-scrollbar",children:[m.jsx("h3",{className:"font-bold text-gray-400 mb-4 sticky top-0 bg-[#0a0a0f] py-2",children:"tems"}),p.map(b=>m.jsxs("button",{onClick:()=>l(b.id),className:"w-full text-left p-3 rounded transition-all flex justify-between items-center ".concat(s===b.id?"bg-sky-400 text-black font-bold":"hover:bg-white/5 text-gray-300"),children:[m.jsx("span",{className:"truncate",children:b.title}),m.jsx("span",{className:"text-[10px] opacity-70 border px-1 rounded uppercase font-mono",children:b.label})]},b.id))]}),m.jsxs("div",{className:"flex-1 overflow-y-auto bg-black/20 rounded-2xl p-6 border border-white/5 custom-scrollbar",children:[!s&&m.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 italic",children:"Selecciona un tem de la izquierda para ver los registros."}),g&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-end mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-4xl font-bold mb-2",children:g.title}),m.jsxs("div",{className:"text-gray-400 text-sm font-mono",children:["ID: ",g.id]})]}),m.jsxs("button",{onClick:y,className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded font-bold text-sm flex items-center gap-2 transition-all",children:[m.jsx(Rb,{className:"w-4 h-4 rotate-180"})," Exportar Excel"]})]}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[m.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Tipo"}),m.jsx("div",{className:"text-2xl font-bold text-sky-400 uppercase",children:g.type})]}),m.jsxs("div",{className:"bg-white/5 p-4 rounded border border-white/10",children:[m.jsx("div",{className:"text-sm text-gray-400",children:"Registros"}),m.jsx("div",{className:"text-2xl font-bold text-purple-400",children:u.length})]})]}),m.jsx("h3",{className:"font-bold mb-4 text-sky-400",children:"Registros Recibidos"}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[m.jsx("thead",{className:"text-xs uppercase bg-white/5 text-gray-200",children:m.jsx("tr",{children:["Origen","Fecha","Nombre","Email",...Object.keys(u[0]||{}).filter(b=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(b))].map(b=>m.jsx("th",{className:"px-4 py-3",children:b},b))})}),m.jsx("tbody",{children:u.map((b,E)=>{var A;return m.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[m.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:((A=b.eventTitle)==null?void 0:A.split("-")[1])||"General"}),m.jsx("td",{className:"px-4 py-2",children:new Date(b.submittedAt).toLocaleDateString()}),m.jsx("td",{className:"px-4 py-2 font-bold text-white",children:b.nombre||"-"}),m.jsx("td",{className:"px-4 py-2",children:b.email||"-"}),Object.keys(b).filter(j=>!["eventId","eventTitle","submittedAt","nombre","email"].includes(j)).map(j=>m.jsx("td",{className:"px-4 py-2",children:typeof b[j]=="object"?JSON.stringify(b[j]):b[j]},j))]},E)})})]}),u.length===0&&m.jsx("p",{className:"text-center py-8 italic text-gray-600",children:"No hay registros an para este tem."})]})]})]})]})]})},mj=()=>{const[a,e]=L.useState(null),[i,s]=L.useState(!1),[l,u]=L.useState(!1),[f,p]=L.useState(!1);return L.useEffect(()=>{const b=/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream;u(b);const A=(()=>{const P=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;return p(P),P})();b&&!A&&(localStorage.getItem("pwa_prompt_dismissed")||s(!0));const j=P=>{console.log("PWA: beforeinstallprompt event fired"),P.preventDefault(),e(P);const G=localStorage.getItem("pwa_prompt_dismissed");console.log("PWA: dismissed from storage:",G),!A&&!G&&s(!0)};return window.addEventListener("beforeinstallprompt",j),()=>window.removeEventListener("beforeinstallprompt",j)},[]),{showInstall:i,setShowInstall:s,install:()=>{l||a&&(a.prompt(),a.userChoice.then(b=>{b.outcome==="accepted"&&(s(!1),localStorage.setItem("pwa_installed","true")),e(null)}))},dismiss:()=>{s(!1),localStorage.setItem("pwa_prompt_dismissed",Date.now().toString())},isIOS:l,isStandalone:f}},pj=()=>{const[a,e]=L.useState(Notification.permission),[i,s]=L.useState(null),l=async()=>{if(!No){console.warn("Messaging not supported or failed to initialize.");return}try{const u=await Notification.requestPermission();if(e(u),u==="granted"){console.log("Permission granted. retrieving token...");let f;try{f=await navigator.serviceWorker.ready,console.log("Service Worker ready:",f)}catch(g){console.error("Error waiting for SW ready:",g)}const p=await VD(No,{vapidKey:"BJZr34oV68SKsSBbxY-rB7xzbcKQ4DjIIsgtW-y8SW5I-4dGHIpeHsmIo7mQEMMXNK8ov5RqMRKw7-IWD1_Oa4M",serviceWorkerRegistration:f});if(p){console.log("Token retrieved:",p),s(p);try{await Oo(yn(at,"fcm_tokens",p),{token:p,lastSeen:new Date,userAgent:navigator.userAgent},{merge:!0}),console.log("Token saved to Firestore")}catch(g){console.error("Error saving to DB:",g),alert("Error guardando token: "+g.message)}}else console.log("No registration token available. Request permission to generate one.")}}catch(u){console.error("An error occurred while retrieving token. ",u),alert("Error token: "+u.message)}};return L.useEffect(()=>{if(a==="granted"&&No)try{const u=LD(No,f=>{console.log("Message received. ",f),Notification.permission==="granted"&&new Notification(f.notification.title,{body:f.notification.body,icon:"/logo.png"})});return()=>u()}catch(u){console.warn("Error setting up onMessage listener:",u)}},[a]),{permission:a,requestPermission:l,fcmToken:i}},gj=()=>{const[a,e]=L.useState([]),[i,s]=L.useState([]),[l,u]=L.useState([]),[f,p]=L.useState([]),[g,y]=L.useState("app"),[b,E]=L.useState(null),[A,j]=L.useState(null),[P,G]=L.useState(null),[U,Y]=L.useState(null),[ie,X]=L.useState(null),[oe,me]=L.useState(!1),[ye,I]=L.useState(!1),[C,D]=L.useState(!1),[O,w]=L.useState(!1),[R,S]=L.useState(!1),[pe,Ee]=L.useState(new Date().getMonth()),[$,se]=L.useState(new Date().getFullYear()),{showInstall:de,isIOS:Ce,install:ke,dismiss:M}=mj(),{permission:J,requestPermission:le,fcmToken:ae}=pj();L.useEffect(()=>{const he=tr(Cn(at,"events"),zm("date","asc")),He=oa(he,Et=>{e(Et.docs.map(jn=>({id:jn.id,...jn.data()})))}),In=oa(yn(at,"config","eventTypes"),Et=>{Et.exists()&&s(Et.data().types||[])}),hi=tr(Cn(at,"announcements"),zm("date","desc"),rC(20)),_a=oa(hi,Et=>{const jn=Et.docs.map(xa=>({id:xa.id,...xa.data()}));u(jn);const fi=localStorage.getItem("last_inbox_view");jn.length>0&&(!fi||Ro(jn[0].date)>new Date(fi))&&S(!0)}),ba=oa(yn(at,"config","specialSections"),Et=>{Et.exists()&&p(Et.data().sections||[])});return()=>{He(),In(),_a(),ba()}},[]),L.useEffect(()=>{if(J==="default"){const he=setTimeout(()=>{const He=localStorage.getItem("last_notification_prompt"),In=Date.now(),hi=1440*60*1e3;(!He||In-parseInt(He)>hi)&&(w(!0),localStorage.setItem("last_notification_prompt",In.toString()),console.log("Smart Onboarding: Triggering notification prompt"))},1e4);return()=>clearTimeout(he)}},[J]);const ve=()=>{w(!0),S(!1),localStorage.setItem("last_inbox_view",new Date().toISOString())},xe=he=>{X(he)},Re=a.filter(he=>Ro(he.date)>=new Date().setHours(0,0,0,0));return g==="database"?m.jsx(dj,{events:a,specialSections:f,onBack:()=>y("app")}):m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white font-sans selection:bg-sky-500/30",children:[m.jsx(fw,{}),m.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[m.jsx(lj,{onClick:ve,hasUnread:R}),ye&&m.jsx("button",{onClick:()=>D(!0),className:"p-3 bg-primary text-white rounded-full shadow-lg hover:bg-primary/80 transition-all border border-primary/30",children:m.jsx(fS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>ye?I(!1):me(!0),className:"p-3 rounded-full shadow-lg transition-all ".concat(ye?"bg-red-500 text-white":"bg-white/5 text-gray-400 hover:text-white border border-white/10"),children:m.jsx(aS,{className:"w-5 h-5"})})]}),m.jsxs("section",{className:"min-h-[90vh] flex flex-col items-center justify-center p-6 relative overflow-hidden bg-celestial",children:[m.jsx("div",{className:"absolute inset-0 bg-sky-400/5 blur-[120px] pointer-events-none"}),m.jsx("div",{className:"relative w-64 h-64 md:w-80 md:h-80 mb-8 animate-float",children:m.jsx("img",{src:"./logo.png",className:"w-full h-full object-contain drop-shadow-[0_0_40px_rgba(56,189,248,0.5)]",alt:"Logo"})}),m.jsxs("h1",{className:"text-6xl md:text-9xl font-black text-center tracking-tighter mb-4",children:[m.jsx("span",{className:"text-white",children:"PASO DE "}),m.jsx("span",{className:"text-sky-400 text-glow",children:"ECUADOR"})]}),m.jsx("p",{className:"text-xl md:text-2xl text-gray-400 font-light tracking-[0.2em] mb-12 uppercase",children:"INEF 25/26"}),m.jsx("a",{href:"#events",className:"px-10 py-4 rounded-full bg-sky-400 text-black font-black text-lg hover:shadow-[0_0_30px_rgba(56,189,248,0.5)] transition-all transform hover:scale-105",children:"PRXIMOS EVENTOS"})]}),m.jsx(ij,{sections:f,onOpenSection:G,onOpenForm:he=>Y(he)}),m.jsx("section",{id:"events",className:"py-24 px-4 md:px-8 bg-celestial-gradient border-y border-white/5",children:m.jsxs("div",{className:"max-w-7xl mx-auto w-full",children:[m.jsxs("h2",{className:"text-4xl font-bold mb-16 flex items-center gap-4",children:[m.jsx("span",{className:"w-2 h-12 bg-sky-400 rounded-full shadow-[0_0_15px_rgba(56,189,248,0.5)]"}),"Prximamente"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Re.map(he=>m.jsxs("div",{onClick:()=>j(he),className:"bg-white/5 backdrop-blur-md p-6 rounded-[2.5rem] border border-white/5 hover:bg-white/10 transition-all group relative overflow-hidden flex flex-col cursor-pointer transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-sky-400/5",children:[m.jsxs("div",{className:"absolute top-6 right-6 px-3 py-1 rounded-full text-[10px] font-black uppercase border bg-black/50 backdrop-blur-md z-10 tracking-widest",style:{color:he.typeColor,borderColor:he.typeColor},children:[he.typeIcon," ",he.typeName]}),he.imageUrl&&m.jsxs("div",{className:"w-full h-56 mb-6 rounded-3xl overflow-hidden relative",children:[m.jsx("img",{src:he.imageUrl,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000",alt:he.title}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-6",children:m.jsx("span",{className:"text-white font-bold text-sm",children:"Ver Detalles"})})]}),m.jsxs("div",{className:"text-sky-400 font-black tracking-widest text-xs mb-3 uppercase",children:[Ro(he.date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"}),he.time&&m.jsxs("span",{className:"ml-2",children:[" ",he.time]})]}),m.jsx("h3",{className:"text-3xl font-black text-white mb-3 leading-tight group-hover:text-sky-400 transition-colors",children:he.title}),he.location&&m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-4",children:[m.jsx(Ab,{className:"w-4 h-4 text-sky-400"})," ",he.location]}),m.jsx("div",{className:"mt-auto",onClick:He=>He.stopPropagation(),children:m.jsx(dw,{event:he,onOpenForm:Y})})]},he.id))})]})}),m.jsxs("section",{className:"relative py-40 overflow-hidden bg-deep",children:[m.jsx("div",{className:"absolute inset-0 bg-transparent"}),m.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-16 items-center",children:[m.jsxs("div",{className:"animate-fade-in-left",children:[m.jsxs("h2",{className:"text-6xl md:text-8xl font-black mb-8 tracking-tighter leading-none",children:[m.jsx("span",{className:"bg-gradient-to-r from-white to-gray-500 bg-clip-text text-transparent",children:"LIGA"}),m.jsx("br",{}),m.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),m.jsx("p",{className:"text-gray-400 text-xl mb-12 leading-relaxed max-w-md font-medium",children:"Compite en torneos exclusivos, acumula puntos para el ranking anual y convirtete en la leyenda de INEF."}),m.jsxs(Xs,{to:"/liga",className:"inline-flex items-center gap-4 px-10 py-5 rounded-full bg-gradient-to-r from-primary to-secondary text-white font-black text-xl hover:scale-105 transition-all shadow-[0_10px_40px_rgba(79,70,229,0.3)] active:scale-95",children:["VER CLASIFICACIN ",m.jsx(_h,{className:"w-6 h-6"})]})]}),m.jsxs("div",{className:"relative group animate-fade-in-right",children:[m.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-indigo-500 to-purple-600 blur-[80px] opacity-10 group-hover:opacity-30 transition-opacity duration-1000"}),m.jsxs("div",{className:"glass-panel p-8 rounded-[3rem] border border-white/10 transform rotate-[-3deg] group-hover:rotate-1 transition-all duration-700 shadow-2xl bg-black/40 backdrop-blur-xl",children:[m.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-white/10 pb-6",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-600 flex items-center justify-center font-black text-black text-2xl border-2 border-yellow-200 outline outline-4 outline-yellow-400/20",children:"#1"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-black tracking-widest mb-1",children:"Top Ranking"}),m.jsx("div",{className:"font-black text-2xl text-white",children:"LDER"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-full overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-3/4"})}),m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-5/6 overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-purple-500/50 w-1/2"})}),m.jsx("div",{className:"h-4 bg-white/5 rounded-full w-2/3 overflow-hidden relative",children:m.jsx("div",{className:"absolute inset-y-0 left-0 bg-indigo-500/50 w-2/3"})})]})]})]})]})]}),m.jsx("section",{className:"py-24 px-4 md:px-8 bg-celestial-gradient",children:m.jsx("div",{className:"max-w-6xl mx-auto w-full",children:m.jsx(nj,{events:a,currentMonth:pe,setCurrentMonth:Ee,currentYear:$,setCurrentYear:se,onSelectDay:E})})}),m.jsx("footer",{className:"py-20 border-t border-white/5 bg-deep",children:m.jsxs("div",{className:"flex flex-col items-center gap-8",children:[m.jsxs("div",{className:"flex gap-8",children:[m.jsx("a",{href:"https://www.instagram.com/pasoecuadorinef26/",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-gradient-to-br hover:from-purple-600 hover:to-orange-500 transition-all hover:scale-110 border border-white/5",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5"}),m.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),m.jsx("line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5"})]})}),m.jsx("a",{href:"https://www.tiktok.com/@pasoecuadorinef26",target:"_blank",className:"p-5 bg-white/5 rounded-full hover:bg-black hover:border hover:border-sky-400 hover:text-sky-400 transition-all hover:scale-110 border border-white/5",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"})})})]}),m.jsx("p",{className:"text-gray-600 text-xs font-bold tracking-widest uppercase",children:" 2025 Paso de Ecuador INEF 25/26"})]})}),m.jsx(ga,{isOpen:!!b,onClose:()=>E(null),children:b&&m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsx("h2",{className:"text-3xl font-black capitalize",children:Ro(b.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})}),m.jsxs("div",{className:"space-y-4",children:[b.events.map(he=>m.jsx("div",{onClick:()=>{j(he),E(null)},className:"bg-white/5 p-6 rounded-3xl border-l-4 cursor-pointer hover:bg-white/10 transition-all group",style:{borderColor:he.typeColor},children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-xl group-hover:text-sky-400 transition-colors",children:he.title}),m.jsxs("div",{className:"text-xs opacity-50 flex items-center gap-2 mt-1 uppercase tracking-widest",children:[he.typeIcon," ",he.typeName]})]}),m.jsx("div",{className:"text-xs text-sky-400 font-bold uppercase border border-sky-400/30 px-3 py-1 rounded-full group-hover:bg-sky-400 group-hover:text-black transition-all",children:"Ver Ms"})]})},he.id)),b.events.length===0&&m.jsx("p",{className:"text-center text-gray-500 py-12 italic",children:"No hay eventos programados para este da."})]})]})}),A&&m.jsx(sj,{event:A,onClose:()=>j(null),onOpenForm:he=>{j(null),Y(he)}}),m.jsx(ga,{isOpen:!!P,onClose:()=>G(null),children:P&&m.jsxs("div",{className:"relative",children:[P.imageUrl&&m.jsx("div",{className:"w-full h-80",children:m.jsx("img",{src:P.imageUrl,className:"w-full h-full object-cover",alt:""})}),m.jsxs("div",{className:"p-8",children:[m.jsx("h2",{className:"text-4xl font-black mb-4 text-white",children:P.title}),m.jsx("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 mb-8",children:m.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap text-lg",children:P.description})}),m.jsx("div",{className:"flex flex-wrap gap-4",children:(P.buttons||[]).map(he=>m.jsx("button",{className:"px-8 py-3 rounded-xl font-bold bg-sky-400 text-black hover:bg-sky-500 transition-all shadow-lg",onClick:()=>{he.type==="form"?(Y({id:"section_".concat(P.id,"_").concat(he.id),title:"".concat(P.title," - ").concat(he.label),customFields:he.customFields||[]}),G(null)):he.link&&window.open(he.link,"_blank")},children:he.label},he.id))})]})]})}),U&&m.jsx(rj,{event:U,onClose:()=>Y(null)}),m.jsx(oj,{isOpen:O,onClose:()=>w(!1),announcements:l,permission:J,onRequestPermission:le}),oe&&m.jsx(fj,{onClose:()=>me(!1),onSuccess:()=>{I(!0),me(!1),D(!0)}}),m.jsx(hj,{isOpen:C,onClose:()=>D(!1),events:a,eventTypes:i,announcements:l,specialSections:f,onOpenDB:()=>{D(!1),y("database")},onOpenStats:xe,fcmToken:ae}),m.jsx(uj,{isOpen:de,onClose:M,onInstall:ke,isIOS:Ce})]})},wo=a=>a?a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():"",yj=(a,e=!1)=>a?new Date(a).toLocaleDateString("es-ES",{day:"numeric",month:"short",...e&&{hour:"2-digit",minute:"2-digit"}}):"",vj="Se trata de una liga individual en la que daremos 100 a la persona ganadora al final del curso.\nLos puntos se obtienen participando en torneos y ganndolos, siendo los puntos obtenidos:\n\n **+1 punto** por participar\n **+3 puntos** por quedar segundo/a\n **+5 puntos** por quedar primero/a",lb=({isOpen:a,onClose:e,children:i})=>a?m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[m.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),m.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-[#0f0f16] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up flex flex-col max-h-[90vh]",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-20",children:m.jsx(el,{className:"w-6 h-6"})}),i]})]}):null,_j=({player:a,rank:e,onClick:i})=>{const s=e===1?"rank-1":e===2?"rank-2":e===3?"rank-3":"text-gray-500",l=e===1?"bg-yellow-500/10 border-yellow-500/20":"bg-[#1c1c2e]/50 hover:bg-[#1c1c2e] border-white/5";return m.jsxs("div",{onClick:i,className:"group relative flex items-center p-4 rounded-xl border transition-all duration-300 cursor-pointer ".concat(l),children:[m.jsx("div",{className:"w-12 h-12 flex items-center justify-center text-2xl font-black mr-4 ".concat(s),children:e<=3?"#"+e:e}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-lg ".concat(e===1?"text-white":"text-gray-200"," group-hover:text-primary transition-colors"),children:a.name}),e===1&&m.jsx("span",{className:"text-xs text-yellow-500 font-medium tracking-wider",children:"LDER ACTUAL"})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"text-2xl font-bold text-white tracking-tight",children:a.displayPoints!==void 0?a.displayPoints:a.points}),m.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"PUNTOS"})]}),m.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary/0 to-secondary/0 opacity-0 group-hover:opacity-5 transition-opacity pointer-events-none"})]})},bj=({players:a,processTournament:e,goBack:i,manualDelete:s,manualUpdatePoints:l,password:u,setPassword:f,description:p,setDescription:g})=>{const[y,b]=L.useState(""),[E,A]=L.useState(new Date().toISOString().split("T")[0]),[j,P]=L.useState(""),[G,U]=L.useState(""),[Y,ie]=L.useState(""),[X,oe]=L.useState(!1),[me,ye]=L.useState(""),[I,C]=L.useState(""),[D,O]=L.useState(p),w=S=>{if(S.preventDefault(),!y)return alert("Ponle nombre al torneo");e(y,E,j,G,Y),P(""),U(""),ie(""),b("")},R=()=>{if(me!==u){alert("La contrasea actual no es correcta.");return}if(!I){alert("Escribe una nueva contrasea");return}f(I),alert("Contrasea cambiada exitosamente"),C(""),ye("")};return m.jsx("div",{className:"min-h-screen p-4 md:p-8 pb-32 bg-liga",children:m.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"flex flex-col gap-8",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>oe(!X),className:"flex-1 glass-panel p-4 rounded-2xl flex items-center justify-center gap-2 font-bold hover:bg-white/5 transition-colors text-gray-300",children:[m.jsx(Nb,{className:"w-5 h-5"})," ",X?"Volver a Torneos":"Configuracin"]}),m.jsx("button",{onClick:i,className:"glass-panel px-6 rounded-2xl text-red-400 hover:bg-white/5 transition-colors font-bold",children:"Salir"})]}),X?m.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit space-y-8 animate-fade-in-up",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Configuracin"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Descripcin de la Liga"}),m.jsx("textarea",{className:"w-full h-40 bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-primary focus:outline-none",value:D,onChange:S=>O(S.target.value)}),m.jsxs("button",{onClick:()=>{g(D),alert("Descripcin actualizada")},className:"px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg text-sm font-bold flex items-center gap-2",children:[m.jsx(oS,{className:"w-4 h-4"})," Guardar Texto"]})]}),m.jsxs("div",{className:"space-y-4 border-t border-white/10 pt-4",children:[m.jsx("h3",{className:"text-gray-400 uppercase text-xs font-bold",children:"Seguridad"}),m.jsx("input",{type:"password",placeholder:"Contrasea Actual",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none mb-2",value:me,onChange:S=>ye(S.target.value)}),m.jsx("input",{type:"password",placeholder:"Nueva Contrasea",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm focus:border-secondary focus:outline-none",value:I,onChange:S=>C(S.target.value)}),m.jsx("button",{onClick:R,className:"px-4 py-2 bg-secondary/20 hover:bg-secondary/30 text-secondary rounded-lg text-sm font-bold",children:"Actualizar Contrasea"})]})]}):m.jsxs("div",{className:"glass-panel p-6 md:p-8 rounded-3xl h-fit animate-fade-in-up",children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[m.jsx(eh,{className:"text-secondary w-6 h-6"})," Nuevo Torneo"]})}),m.jsxs("form",{onSubmit:w,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Nombre Torneo"}),m.jsx("input",{type:"text",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",placeholder:"Ej: Torneo FIFA",value:y,onChange:S=>b(S.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-500 mb-2 block",children:"Fecha"}),m.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 focus:border-secondary focus:outline-none text-white",value:E,onChange:S=>A(S.target.value)})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"flex justify-between text-xs uppercase font-bold text-yellow-500 mb-2",children:m.jsx("span",{children:" 1 Puesto (+5 pts)"})}),m.jsx("textarea",{className:"w-full h-24 bg-yellow-900/10 border border-yellow-500/20 rounded-xl p-3 text-sm text-white focus:border-yellow-500 focus:outline-none transition-colors",placeholder:"Nombres...",value:j,onChange:S=>P(S.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-gray-300 mb-2 block",children:" 2 Puesto (+3 pts)"}),m.jsx("textarea",{className:"w-full h-24 bg-white/5 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-gray-500 focus:outline-none",placeholder:"Nombres...",value:G,onChange:S=>U(S.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs uppercase font-bold text-primary mb-2 block",children:"Participantes (+1 pt)"}),m.jsx("textarea",{className:"w-full h-32 bg-primary/5 border border-primary/20 rounded-xl p-3 text-sm text-white focus:border-primary focus:outline-none",placeholder:"Lista de nombres...",value:Y,onChange:S=>ie(S.target.value)}),m.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"* El sistema evitar duplicar puntos si alguien ya est en 1 o 2 puesto."})]})]}),m.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-primary to-secondary rounded-xl font-bold text-white shadow-lg hover:shadow-primary/25 transition-all transform hover:scale-[1.02]",children:"Guardar Resultados"})]})]})]}),m.jsxs("div",{className:"glass-panel p-6 rounded-3xl h-[800px] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-white mb-6",children:["Base de Datos (",a.length,")"]}),m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-2",children:a.map(S=>m.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5 group",children:[m.jsx("span",{className:"font-medium text-gray-300",children:S.name}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-white",children:[S.points," pts"]}),m.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>l(S.id,1),className:"text-green-400 hover:bg-green-500/20 p-2 rounded",title:"+1",children:m.jsx(eh,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>l(S.id,-1),className:"text-yellow-400 hover:bg-yellow-500/20 p-2 rounded",title:"-1",children:m.jsx("div",{className:"w-4 h-4 flex items-center justify-center font-bold text-xs",children:"-"})}),m.jsx("button",{onClick:()=>s(S.id),className:"text-red-500 hover:bg-red-500/20 p-2 rounded",title:"Eliminar",children:m.jsx(Gc,{className:"w-4 h-4"})})]})]})]},S.id))})]})]})})},xj=()=>{const[a,e]=L.useState("public"),[i,s]=L.useState([]),[l,u]=L.useState([]),[f,p]=L.useState(()=>localStorage.getItem("liga_description")||vj),[g,y]=L.useState(()=>localStorage.getItem("liga_password")||"4321"),[b,E]=L.useState(""),[A,j]=L.useState(null),[P,G]=L.useState("ALL"),[U,Y]=L.useState(!1),[ie,X]=L.useState(!1),[oe,me]=L.useState("");L.useEffect(()=>{const w=oa(tr(Cn(at,"players")),S=>{s(S.docs.map(pe=>({id:pe.id,...pe.data()})))}),R=oa(tr(Cn(at,"tournaments")),S=>{const pe=S.docs.map(Ee=>({id:Ee.id,...Ee.data()}));pe.sort((Ee,$)=>new Date($.date)-new Date(Ee.date)),u(pe)});return()=>{w(),R()}},[]),L.useEffect(()=>{localStorage.setItem("liga_description",f)},[f]),L.useEffect(()=>{localStorage.setItem("liga_password",g)},[g]);const ye=async(w,R,S,pe,Ee)=>{const $=ae=>ae.split(/[\n,]+/).map(ve=>ve.trim()).filter(Boolean),se=$(S),de=$(pe),Ce=$(Ee),ke=new Set,M=[],J=(ae,ve,xe)=>{const Re=wo(ae);ke.has(Re)||(ke.add(Re),M.push({name:ae,points:ve,type:xe}))};se.forEach(ae=>J(ae,5,"1 Puesto")),de.forEach(ae=>J(ae,3,"2 Puesto")),Ce.forEach(ae=>J(ae,1,"Participacin"));for(const ae of M){let ve=i.find(xe=>wo(xe.name)===wo(ae.name));if(ve){const xe=[...ve.history||[],{tournament:w,points:ae.points,date:R,type:ae.type}],Re=ve.points+ae.points,he=[...ve.wins||[]];ae.type==="1 Puesto"&&he.push(new Date(R).getTime());try{await Bm(yn(at,"players",ve.id),{history:xe,points:Re,wins:he})}catch(He){console.error("Error updating player",ae.name,He)}}else{const xe={name:ae.name,points:ae.points,wins:ae.type==="1 Puesto"?[new Date(R).getTime()]:[],history:[{tournament:w,points:ae.points,date:R,type:ae.type}]};try{await ll(Cn(at,"players"),xe)}catch(Re){console.error("Error creating player",ae.name,Re)}}}const le={name:w,date:R,winners:se};try{await ll(Cn(at,"tournaments"),le),alert("Torneo guardado y sincronizado.")}catch(ae){alert("Error guardando torneo: "+ae.message)}},I=async w=>{if(confirm("Seguro que quieres borrar a este jugador?"))try{await qm(yn(at,"players",w))}catch(R){alert("Error eliminando: "+R.message)}},C=async(w,R)=>{const S=i.find(pe=>pe.id===w);if(S)try{await Bm(yn(at,"players",w),{points:Math.max(0,S.points+R)})}catch(pe){console.error(pe)}},D=L.useMemo(()=>{let w=[...i];if(P!=="ALL"){const R=l.find(S=>S.id===P);R&&(w=w.map(S=>{const pe=S.history?S.history.filter(Ee=>Ee.tournament===R.name).reduce((Ee,$)=>Ee+$.points,0):0;return{...S,displayPoints:pe}}).filter(S=>S.displayPoints>0))}else w=w.map(R=>({...R,displayPoints:R.points}));w.sort((R,S)=>{const pe=R.displayPoints,Ee=S.displayPoints;if(Ee!==pe)return Ee-pe;const $=R.wins&&R.wins.length>0?Math.max(...R.wins):0;return(S.wins&&S.wins.length>0?Math.max(...S.wins):0)-$});for(let R=0;R<w.length;R++)R>0?w[R].displayPoints===w[R-1].displayPoints?w[R].realRank=w[R-1].realRank:w[R].realRank=R+1:w[R].realRank=1;return b&&(w=w.filter(R=>wo(R.name).includes(wo(b)))),w},[i,b,P,l]),O=D.length>0?D[0]:null;return a==="public"?m.jsxs("div",{className:"min-h-screen bg-liga text-white p-4 selection:bg-primary selection:text-white",children:[m.jsxs("div",{className:"relative py-12 px-4 overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-primary/20 blur-[100px] rounded-full pointer-events-none"}),m.jsx("div",{className:"absolute top-6 right-6 z-20 flex gap-2",children:m.jsx("button",{onClick:()=>Y(!0),className:"p-3 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 transition-colors group",children:m.jsx(jv,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})})}),m.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[m.jsxs("h1",{className:"text-4xl md:text-7xl font-black mb-2 tracking-tighter",children:[m.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-gray-400 bg-clip-text text-transparent",children:"LIGA"}),m.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent text-glow ml-2 md:ml-4 tracking-[0.05em] drop-shadow-[0_0_20px_rgba(99,102,241,0.3)]",children:"MULTISPORT"})]}),m.jsx("p",{className:"text-blue-200/60 uppercase tracking-[0.3em] font-bold text-sm mb-12",children:"Paso de Ecuador 25/26"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-12",children:[m.jsxs("div",{className:"glass p-4 rounded-2xl",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:P==="ALL"?"Lder Actual":"Ganador Torneo"}),m.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-yellow-200 to-yellow-600 bg-clip-text text-transparent text-center truncate",children:O?O.name:"-"})]}),m.jsxs("div",{className:"glass p-4 rounded-2xl",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Jugadores"}),m.jsx("div",{className:"text-2xl font-bold text-white text-center",children:i.length})]}),m.jsxs("div",{className:"glass p-4 rounded-2xl hidden md:block",children:[m.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold text-center",children:"Torneos"}),m.jsx("div",{className:"text-2xl font-bold text-white text-center",children:l.length})]})]}),m.jsxs("div",{className:"max-w-2xl mx-auto flex flex-col md:flex-row gap-4 mb-8",children:[m.jsxs("div",{className:"relative flex-1 group",children:[m.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:m.jsx(cS,{className:"text-gray-500 w-5 h-5 group-focus-within:text-primary transition-colors"})}),m.jsx("input",{type:"text",placeholder:"Buscar jugador...",className:"w-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-12 pr-6 text-white focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-all shadow-xl",value:b,onChange:w=>E(w.target.value)})]}),m.jsxs("div",{className:"relative md:w-64",children:[m.jsxs("select",{className:"w-full h-full bg-[#13131f] border border-white/10 rounded-xl py-4 pl-4 pr-10 text-white focus:outline-none focus:border-primary/50 appearance-none cursor-pointer",value:P,onChange:w=>G(w.target.value),children:[m.jsx("option",{value:"ALL",children:"Clasificacin Global"}),l.map(w=>m.jsx("option",{value:w.id,children:w.name},w.id))]}),m.jsx("div",{className:"absolute inset-y-0 right-4 flex items-center pointer-events-none",children:m.jsx(U2,{className:"text-gray-500 w-4 h-4"})})]})]})]})]}),m.jsxs("div",{className:"max-w-3xl mx-auto px-4 pb-20 space-y-3",children:[D.map(w=>m.jsx(_j,{player:w,rank:w.realRank,onClick:()=>j(w)},w.id)),D.length===0&&m.jsxs("div",{className:"text-center py-20 text-gray-600",children:[m.jsx(W2,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),m.jsx("p",{children:"No se encontraron jugadores"})]})]}),m.jsxs("div",{className:"fixed bottom-6 right-6 z-30 flex flex-col gap-3",children:[m.jsx("button",{onClick:async()=>{const w=window.location.href,R="Liga Multisport - Clasificacin";if(navigator.share)try{await navigator.share({title:R,text:"Mira la clasificacin en directo!",url:w})}catch(S){}else navigator.clipboard.writeText(w),alert("Enlace copiado al portapapeles")},className:"w-12 h-12 rounded-full bg-primary hover:bg-primary/80 text-white flex items-center justify-center transition-all shadow-lg shadow-primary/30 transform hover:scale-110",title:"Compartir Web",children:m.jsx(kv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>e("login"),className:"w-12 h-12 rounded-full bg-gray-800 hover:bg-gray-700 border border-white/10 text-white flex items-center justify-center transition-all shadow-lg transform hover:scale-110",children:m.jsx(Nb,{className:"w-5 h-5"})})]}),U&&m.jsx(lb,{isOpen:U,onClose:()=>Y(!1),children:m.jsxs("div",{className:"p-8",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[m.jsx(jv,{className:"w-6 h-6 text-primary"})," Qu es Liga Multisport?"]}),m.jsx("div",{className:"prose prose-invert text-gray-300 whitespace-pre-line leading-relaxed",children:f})]})}),A&&m.jsx(lb,{isOpen:!!A,onClose:()=>j(null),children:m.jsxs("div",{className:"p-8 flex-1 overflow-auto custom-scrollbar",children:[m.jsx("div",{className:"flex justify-between items-start mb-6",children:m.jsxs("div",{children:[m.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[A.name,m.jsx("button",{onClick:()=>{const w="Voy #".concat(A.realRank," en la Liga Multisport con ").concat(A.points," puntos! Me superas?");navigator.share?navigator.share({text:w,url:window.location.href}):(navigator.clipboard.writeText(w+" "+window.location.href),alert("Texto copiado"))},className:"p-2 bg-primary/20 text-primary hover:text-white hover:bg-primary rounded-full transition-all",title:"Compartir mi puesto",children:m.jsx(kv,{className:"w-4 h-4"})})]}),m.jsxs("p",{className:"text-primary font-bold text-xl",children:[A.points," Puntos Totales"]})]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-xs uppercase font-bold text-gray-500 tracking-wider",children:"Historial de Torneos"}),A.history&&A.history.slice().reverse().map((w,R)=>m.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/5",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-white",children:w.tournament||"Torneo Desconocido"}),m.jsx("div",{className:"text-xs text-gray-500",children:yj(w.date)})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"font-bold ".concat(["1 Puesto","2 Puesto"].includes(w.type)?"text-yellow-500":"text-gray-300"),children:w.type}),m.jsxs("div",{className:"text-sm font-mono text-primary",children:["+",w.points," pts"]})]})]},R)),(!A.history||A.history.length===0)&&m.jsx("p",{className:"text-gray-600 text-center py-8",children:"Sin historial detallado"})]})]})})]}):a==="login"?m.jsxs("div",{className:"min-h-screen transition-all duration-700 bg-liga flex items-center justify-center px-4 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-primary/5"}),m.jsxs("div",{className:"glass-panel p-10 rounded-3xl w-full max-w-md relative z-10 text-center space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acceso Administrador"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Introduce la clave de seguridad"})]}),m.jsx("input",{type:"password",autoFocus:!0,className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-center text-3xl tracking-[1em] text-white focus:outline-none focus:border-secondary transition-colors",value:oe,onChange:w=>{me(w.target.value),w.target.value===g&&(e("admin"),X(!0))}}),m.jsx("button",{onClick:()=>{e("public"),me("")},className:"text-gray-500 hover:text-white text-sm",children:"Cancelar"})]})]}):m.jsx(bj,{players:i,processTournament:ye,goBack:()=>{e("public"),me("")},manualDelete:I,manualUpdatePoints:C,password:g,setPassword:y,description:f,setDescription:p})},wj=({player:a,onClick:e})=>{const i=Jc.useMemo(()=>(typeof a.id=="string"?a.id.length:a.id||0)%6-3,[a.id]);return m.jsxs("div",{className:"group relative cursor-pointer transform transition-all duration-300 hover:z-10 hover:scale-105 hover:rotate-0 w-64 h-80",style:{transform:"rotate(".concat(i,"deg)")},onClick:e,children:[a.isGroup&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute inset-0 bg-white shadow-xl rounded-sm transform rotate-[-5deg] translate-x-[-4px] translate-y-[2px] z-0"}),m.jsx("div",{className:"absolute inset-0 bg-white shadow-xl rounded-sm transform rotate-[3deg] translate-x-[3px] translate-y-[-2px] z-0"})]}),m.jsxs("div",{className:"relative bg-white p-3 pb-6 shadow-xl rounded-sm z-10 w-full h-full flex flex-col transition-transform duration-300 ".concat(a.isGroup?"rotate-0":""),children:[m.jsxs("div",{className:"w-full aspect-video bg-gray-200 mb-4 overflow-hidden relative border border-gray-100 filter sepia-[0.2]",children:[a.image?m.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:a.isGroup?m.jsx(ES,{size:32}):m.jsx(xS,{size:32})}),m.jsx("div",{className:"absolute top-2 right-2 px-3 py-1 transform rotate-12 font-black text-[10px] uppercase tracking-widest border-2 border-black shadow-[2px_2px_0px_rgba(0,0,0,1)] ".concat(Ej(a.level)," text-black whitespace-nowrap"),children:a.level})]}),m.jsxs("div",{className:"text-center font-['Patrick_Hand'] flex-1 flex flex-col justify-center",children:[m.jsx("h3",{className:"text-2xl text-gray-800 leading-none mb-1",children:a.name}),m.jsx("p",{className:"text-gray-500 text-lg leading-tight",children:a.course})]}),m.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-red-500 shadow-md border border-red-700 z-20"}),m.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-1 h-1 rounded-full bg-white/50 z-30 ml-[1px] mt-[1px]"}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/20 transition-all rounded-sm opacity-0 group-hover:opacity-100",children:m.jsx("button",{className:"bg-primary text-black font-black text-xl px-6 py-3 rounded-full transform scale-0 group-hover:scale-110 transition-transform duration-200 shadow-[4px_4px_0px_black] border-2 border-black rotate-[-12deg] uppercase",children:a.isGroup?"UNIRSE!":"FCHAME!"})})]})]})},Ej=a=>{switch(a==null?void 0:a.toLowerCase()){case"competitivo":return"bg-yellow-400";case"pachanga":return"bg-purple-400";case"amateur":return"bg-green-400";default:return"bg-gray-300"}},Tj=({message:a,type:e="info",onClose:i})=>{L.useEffect(()=>{if(e!=="loading"){const u=setTimeout(()=>{i()},3e3);return()=>clearTimeout(u)}},[e,i]);const s={success:m.jsx(H2,{className:"text-green-500",size:24}),error:m.jsx(Q2,{className:"text-red-500",size:24}),loading:m.jsx(nS,{className:"text-blue-500 animate-spin",size:24}),info:m.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500"})},l={success:"bg-white border-green-500",error:"bg-white border-red-500",loading:"bg-white border-blue-500",info:"bg-white border-gray-500"};return m.jsxs("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-3 px-6 py-4 rounded-xl shadow-[0_10px_40px_-10px_rgba(0,0,0,0.5)] border-2 ".concat(l[e]," animate-in slide-in-from-bottom-5 fade-in duration-300"),children:[s[e],m.jsx("span",{className:"font-black text-black uppercase tracking-wide",children:a})]})},Sj=(a,e=800,i=.8)=>new Promise((s,l)=>{const u=new FileReader;u.readAsDataURL(a),u.onload=f=>{const p=new Image;p.src=f.target.result,p.onload=()=>{const g=document.createElement("canvas");let y=p.width,b=p.height;y>e&&(b=Math.round(b*e/y),y=e),g.width=y,g.height=b,g.getContext("2d").drawImage(p,0,0,y,b),g.toBlob(A=>{if(A){const j=new File([A],a.name.replace(/\.[^/.]+$/,"")+".webp",{type:"image/webp",lastModified:Date.now()});s(j)}else l(new Error("Canvas is empty"))},"image/webp",i)},p.onerror=g=>l(g)},u.onerror=f=>l(f)}),Aj=()=>{const[a,e]=L.useState([]),[i,s]=L.useState(!0),[l,u]=L.useState(!1),[f,p]=L.useState(null),[g,y]=L.useState(null),[b,E]=L.useState(!1),[A,j]=L.useState("choice"),[P,G]=L.useState(null),[U,Y]=L.useState(""),[ie,X]=L.useState([{id:"init-1",name:"",level:"Amateur",photo:null}]),[oe,me]=L.useState("");Jc.useEffect(()=>{console.log("Initializing TransferMarket listener...");let w=()=>{};try{const R=tr(Cn(at,"free_agents"),zm("createdAt","desc"));w=oa(R,S=>{console.log("Snapshot received! Docs count:",S.docs.length);const pe=S.docs.map(Ee=>({id:Ee.id,...Ee.data()}));e(pe),s(!1)},S=>{console.error("Critical Firestore Error in listener:",S),s(!1),p({message:"Error de Firebase: "+S.message,type:"error"})})}catch(R){console.error("Sync error setting up onSnapshot:",R),s(!1)}return()=>{console.log("Unsubscribing from listener"),w()}},[]),Jc.useEffect(()=>{if(i){const w=setTimeout(()=>{i&&(console.warn("Loading timeout reached. Stopping spinner."),s(!1),p({message:"La conexin est tardando mucho. Revisa tu conexin o bloqueadores.",type:"info"}))},8e3);return()=>clearTimeout(w)}},[i]);const ye=()=>{X([...ie,{id:Date.now(),name:"",level:"Amateur",photoFile:null,photoPreview:null}])},I=(w,R,S)=>{X(ie.map(pe=>pe.id===w?{...pe,[R]:S}:pe))},C=async(w,R)=>{if(R)try{p({message:"Optimizando imagen...",type:"loading"});const S=await Sj(R),pe=new FileReader;pe.onloadend=()=>{X(ie.map(Ee=>Ee.id===w?{...Ee,photoFile:S,photoPreview:pe.result}:Ee)),p({message:"Imagen lista!",type:"success"})},pe.readAsDataURL(S)}catch(S){console.error("Error optimizing image:",S),p({message:"Error al procesar imagen",type:"error"})}},D=w=>{ie.length>1&&X(ie.filter(R=>R.id!==w))},O=async w=>{var R,S,pe;w.preventDefault(),console.log("Starting save process..."),u(!0);try{p({message:"Subiendo imgenes y perfil...",type:"loading"}),console.log("Processing members images...");const Ee=await Promise.all(ie.map(async(de,Ce)=>{let ke=null;if(de.photoFile)try{console.log("Uploading photo for member ".concat(Ce,"..."));const M=KI(WI,"fichajes-photos/".concat(Date.now(),"_").concat(de.photoFile.name)),J=await GI(M,de.photoFile);console.log("Upload successful for member ".concat(Ce),J),ke=await QI(M)}catch(M){console.error("Error uploading photo ".concat(Ce,":"),M),p({message:"Aviso: No se pudo subir la foto ".concat(Ce+1),type:"error"})}return{name:de.name,level:de.level,image:ke}}));console.log("Preparing Firestore document..."),p({message:"Guardando en base de datos...",type:"loading"});const $={type:P,contact:oe,createdAt:new Date,name:P==="team"?U:((R=Ee[0])==null?void 0:R.name)||"Sin nombre",level:P==="team"?"Varios":((S=Ee[0])==null?void 0:S.level)||"Amateur",image:((pe=Ee[0])==null?void 0:pe.image)||null,isGroup:P==="team",course:"N/A",members:Ee},se=await ll(Cn(at,"free_agents"),$);console.log("Document saved successfully with ID:",se.id),p({message:"Fichaje publicado con xito!",type:"success"}),E(!1),X([{id:"init-1",name:"",level:"Amateur",photoFile:null,photoPreview:null}]),Y(""),me("")}catch(Ee){console.error("CRITICAL ERROR in handleSave:",Ee),p({message:"Error crtico: "+Ee.message,type:"error"})}finally{console.log("Finishing save process (submitting = false)"),u(!1)}};return m.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white relative overflow-x-hidden font-sans",children:[m.jsx("div",{className:"absolute inset-0 bg-sky-400/5 blur-[120px] pointer-events-none"}),m.jsxs("div",{className:"relative z-10 p-6 flex items-center justify-between",children:[m.jsx(Xs,{to:"/",className:"bg-white/5 text-white p-3 rounded-full shadow-lg border border-white/10 hover:bg-white/10 transition-all",children:m.jsx(Sb,{size:24})}),m.jsx("div",{className:"bg-primary px-6 py-2 transform rotate-1 shadow-[4px_4px_0px_black] border-2 border-black",children:m.jsx("h1",{className:"text-3xl font-black uppercase text-black",children:"Mercado de Fichajes"})}),m.jsx("button",{onClick:()=>{E(!0),j("choice"),X([{id:"init-1",name:"",level:"Amateur",photoFile:null,photoPreview:null}]),Y(""),me("")},className:"bg-sky-400 text-black p-3 rounded-full shadow-lg transform hover:rotate-6 transition-all border-2 border-black",children:m.jsx(Fc,{size:24})})]}),m.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto my-12 p-2 md:p-12 rounded-[2.5rem] border-[12px] border-[#5d4037]/60 shadow-[0_30px_60px_-12px_rgba(0,0,0,0.7)] overflow-hidden bg-[#d8b08c]",children:[m.jsx("div",{className:"absolute inset-0 opacity-100 pointer-events-none",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/cork-board.png")'}}),m.jsxs("div",{className:"relative z-20 pt-8 pb-16",children:[m.jsxs("div",{className:"max-w-md mx-auto mb-16 bg-yellow-100 p-6 shadow-xl transform -rotate-2 border border-yellow-200/50 relative font-['Patrick_Hand'] text-black",children:[m.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-4 h-4 rounded-full bg-red-600 shadow-lg z-20 border border-red-800"}),m.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Busca tu equipo ideal!"}),m.jsx("p",{className:"text-center text-lg leading-tight uppercase opacity-90",children:"Aqu encontrars jugadores buscando equipo y equipos buscando jugadores. Contacta y completa tu team!"})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-16 px-4",children:i?m.jsx("div",{className:"col-span-full text-center py-20",children:m.jsx("p",{className:"text-xl font-['Patrick_Hand'] animate-pulse text-black",children:"Cargando fichajes..."})}):a.length===0?m.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-12 opacity-90 text-black",children:[m.jsx("div",{className:"text-7xl mb-6 animate-bounce",children:""}),m.jsx("h3",{className:"text-3xl font-black uppercase mb-2 text-center transform -rotate-2",children:"El mercado est vaco!"}),m.jsxs("p",{className:"text-xl font-['Patrick_Hand'] text-center max-w-md leading-relaxed mb-8",children:["No hay nadie por aqu...",m.jsx("br",{}),m.jsx("span",{className:"font-bold text-red-700 bg-yellow-200 px-2 transform rotate-1 inline-block",children:"S el primer fichaje disponible!"})]}),m.jsx("div",{className:"text-5xl animate-pulse",children:""})]}):a.map(w=>m.jsx("div",{className:"flex justify-center",children:m.jsx(wj,{player:w,onClick:()=>y(w)})},w.id))})]})]}),m.jsx(ga,{isOpen:!!g,onClose:()=>y(null),children:g&&m.jsxs("div",{className:"text-center p-8 text-black font-sans",children:[m.jsx("h2",{className:"text-4xl font-black mb-4 uppercase italic transform -skew-x-6 leading-none",children:g.name}),m.jsxs("p",{className:"text-xl mb-8",children:["Quieres contactar con ",g.isGroup?"este equipo":"este jugador","?"]}),m.jsxs("p",{className:"text-xl mb-8",children:["Quieres contactar con ",g.isGroup?"este equipo":"este jugador","?"]}),m.jsx("a",{href:"mailto:braisrd11@gmail.com?subject=Inters en Fichaje: ".concat(g.name," (ID: ").concat(g.id,")&body=Hola, estoy interesado en contactar con ").concat(g.name,". Mi contacto es..."),className:"bg-green-500 text-black font-black text-2xl py-4 px-8 rounded-xl shadow-[4px_4px_0px_black] border-2 border-black hover:translate-y-1 hover:shadow-[2px_2px_0px_black] transition-all inline-block",children:" CONTACTAR (va Admin)"})]})}),m.jsx(ga,{isOpen:b,onClose:()=>E(!1),children:m.jsx("div",{className:"p-8 text-black font-sans",children:A==="choice"?m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-4xl font-black mb-8 uppercase italic transform -skew-x-6 leading-none",children:"Qu quieres publicar?"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("button",{onClick:()=>{G("player"),j("form")},className:"p-8 border-4 border-black shadow-[8px_8px_0px_black] hover:translate-x-1 hover:translate-y-1 hover:shadow-[4px_4px_0px_black] transition-all bg-sky-400 group",children:[m.jsx("div",{className:"text-5xl mb-4 group-hover:scale-110 transition-transform",children:""}),m.jsx("span",{className:"text-2xl font-black uppercase",children:"Soy Jugador"})]}),m.jsxs("button",{onClick:()=>{G("team"),j("form")},className:"p-8 border-4 border-black shadow-[8px_8px_0px_black] hover:translate-x-1 hover:translate-y-1 hover:shadow-[4px_4px_0px_black] transition-all bg-purple-400 group",children:[m.jsx("div",{className:"text-5xl mb-4 group-hover:scale-110 transition-transform",children:""}),m.jsx("span",{className:"text-2xl font-black uppercase",children:"Somos un Equipo"})]})]})]}):m.jsxs("form",{className:"space-y-6",onSubmit:O,children:[l&&m.jsx("div",{className:"absolute inset-0 bg-white/80 z-50 flex items-center justify-center backdrop-blur-sm",children:m.jsx("p",{className:"text-2xl font-black animate-bounce",children:"Subiendo ficha..."})}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:P==="player"?"REGISTRO JUGADOR":"REGISTRO EQUIPO"}),m.jsx("button",{type:"button",onClick:()=>j("choice"),className:"text-xs font-bold underline opacity-50 hover:opacity-100",children:"VOLVER"})]}),m.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:[P==="team"&&m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block font-black text-xs uppercase mb-1",children:"Nombre del Equipo"}),m.jsx("input",{required:!0,value:U,onChange:w=>Y(w.target.value),className:"w-full border-2 border-black p-3 outline-none focus:bg-sky-50 shadow-[4px_4px_0px_black]",placeholder:"Ej: Los Galcticos de INEF"})]}),m.jsx("div",{className:"space-y-8",children:ie.map((w,R)=>m.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-300 relative bg-gray-50/50",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("span",{className:"font-black text-[10px] bg-black text-white px-2 py-0.5 uppercase tracking-widest",children:P==="team"?"MIEMBRO #".concat(R+1):"TUS DATOS"}),P==="team"&&ie.length>1&&m.jsx("button",{type:"button",onClick:()=>D(w.id),className:"text-red-500 font-bold text-xs uppercase hover:underline",children:"Eliminar"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block font-black text-[10px] uppercase mb-1",children:"Nombre / Nickname"}),m.jsx("input",{required:!0,value:w.name,onChange:S=>I(w.id,"name",S.target.value),className:"w-full border-2 border-black p-2 text-sm outline-none focus:bg-white",placeholder:"Ej: SuperKiller7"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block font-black text-[10px] uppercase mb-1",children:"Nivel Subjetivo"}),m.jsxs("select",{value:w.level,onChange:S=>I(w.id,"level",S.target.value),className:"w-full border-2 border-black p-2 text-sm outline-none bg-white",children:[m.jsx("option",{children:"Amateur"}),m.jsx("option",{children:"Pachanga"}),m.jsx("option",{children:"Competitivo"})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block font-black text-[10px] uppercase mb-1",children:"Foto (Opcional)"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 border-2 border-black bg-gray-200 flex items-center justify-center overflow-hidden",children:w.photoPreview?m.jsx("img",{src:w.photoPreview,className:"w-full h-full object-cover"}):m.jsx(Fc,{size:16,className:"text-gray-400"})}),m.jsx("input",{type:"file",accept:"image/*",onChange:S=>{const pe=S.target.files[0];C(w.id,pe)},className:"text-xs file:hidden text-gray-500 cursor-pointer"})]})]})]})]},w.id))}),P==="team"&&m.jsxs("button",{type:"button",onClick:ye,className:"w-full border-2 border-black border-dashed py-3 text-xs font-black uppercase hover:bg-black hover:text-white transition-all flex items-center justify-center gap-2",children:[m.jsx(Fc,{size:14})," Aadir Miembro"]}),m.jsxs("div",{className:"pt-4",children:[m.jsx("label",{className:"block font-black text-xs uppercase mb-1",children:"Contacto General (IG / WhatsApp)"}),m.jsx("input",{required:!0,value:oe,onChange:w=>me(w.target.value),className:"w-full border-2 border-black p-3 outline-none focus:bg-sky-50 shadow-[4px_4px_0px_black]",placeholder:"@tuusuario o telfono"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-black text-white font-black py-4 uppercase tracking-[0.2em] shadow-[4px_4px_0px_#38bdf8] hover:scale-[1.02] transition-all",children:P==="team"?"PUBLICAR EQUIPO":"PUBLICAR PERFIL"})]})})}),f&&m.jsx(Tj,{message:f.message,type:f.type,onClose:()=>p(null)})]})},Nj=()=>(navigator.userAgent||navigator.vendor||window.opera).indexOf("Instagram")>-1,Rj=()=>{const[a,e]=L.useState(!1),i=()=>{navigator.clipboard.writeText(window.location.href),e(!0),setTimeout(()=>e(!1),2e3)};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/95 backdrop-blur-sm",children:m.jsx("div",{className:"w-full max-w-md p-6 border rounded-2xl bg-gray-900/90 border-white/10 shadow-2xl",children:m.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[m.jsx("div",{className:"p-4 rounded-full bg-pink-500/10 text-pink-500",children:m.jsx(_h,{size:48})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Ests navegando desde Instagram"}),m.jsx("p",{className:"text-gray-300",children:"Para asegurar que todas las funciones de la web funcionen correctamente, por favor abre la pgina en tu navegador predeterminado."})]}),m.jsxs("div",{className:"w-full space-y-4",children:[m.jsxs("div",{className:"p-4 text-sm text-left rounded-lg bg-white/5 border border-white/10",children:[m.jsx("p",{className:"font-semibold text-white mb-2",children:"Cmo hacerlo:"}),m.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-gray-300",children:[m.jsxs("li",{children:["Toca los tres puntos ",m.jsx("span",{className:"inline-block px-1.5 py-0.5 mx-1 font-mono text-xs bg-gray-700 rounded",children:"..."})," arriba a la derecha"]}),m.jsxs("li",{children:["Selecciona ",m.jsx("span",{className:"font-medium text-white",children:'"Abrir en el navegador"'})]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t border-white/10"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"px-2 text-gray-500 bg-gray-900/90",children:"O copia el enlace"})})]}),m.jsx("button",{onClick:i,className:"flex items-center justify-center w-full px-4 py-3 space-x-2 font-medium transition-colors rounded-lg bg-pink-600 hover:bg-pink-700 text-white active:bg-pink-800",children:a?m.jsxs(m.Fragment,{children:[m.jsx(V2,{size:20}),m.jsx("span",{children:"Enlace copiado!"})]}):m.jsxs(m.Fragment,{children:[m.jsx($2,{size:20}),m.jsx("span",{children:"Copiar enlace de la web"})]})})]})]})})})};function Cj(){if(Nj())return m.jsx(Rj,{});const a=()=>window.location.host.includes("github.io")?"/Paso-Ecuador-INEF/":"/";return m.jsxs(y2,{basename:a(),children:[m.jsx(fw,{}),m.jsxs("div",{className:"min-h-[100dvh] w-full",children:[m.jsxs($T,{children:[m.jsx(Bc,{path:"/",element:m.jsx(gj,{})}),m.jsx(Bc,{path:"/liga",element:m.jsx(xj,{})}),m.jsx(Bc,{path:"/fichajes",element:m.jsx(Aj,{})})]}),m.jsx(aj,{})]})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./firebase-messaging-sw.js",{scope:"./"}).then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});tT.createRoot(document.getElementById("root")).render(m.jsx(L.StrictMode,{children:m.jsx(Cj,{})}));export{Dj as __vite_legacy_guard};
